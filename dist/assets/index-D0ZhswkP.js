function Zb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var XR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p_={exports:{}},wp={},m_={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),tA=Symbol.for("react.portal"),nA=Symbol.for("react.fragment"),rA=Symbol.for("react.strict_mode"),iA=Symbol.for("react.profiler"),sA=Symbol.for("react.provider"),oA=Symbol.for("react.context"),aA=Symbol.for("react.forward_ref"),lA=Symbol.for("react.suspense"),uA=Symbol.for("react.memo"),cA=Symbol.for("react.lazy"),vv=Symbol.iterator;function hA(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v_=Object.assign,y_={};function tc(t,e,n){this.props=t,this.context=e,this.refs=y_,this.updater=n||g_}tc.prototype.isReactComponent={};tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function __(){}__.prototype=tc.prototype;function t0(t,e,n){this.props=t,this.context=e,this.refs=y_,this.updater=n||g_}var n0=t0.prototype=new __;n0.constructor=t0;v_(n0,tc.prototype);n0.isPureReactComponent=!0;var yv=Array.isArray,w_=Object.prototype.hasOwnProperty,r0={current:null},E_={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)w_.call(e,r)&&!E_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zh,type:t,key:s,ref:o,props:i,_owner:r0.current}}function fA(t,e){return{$$typeof:zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function i0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh}function dA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function Pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dA(""+t.key):e.toString(36)}function rd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zh:case tA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pm(o,0):r,yv(i)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),rd(i,e,n,"",function(h){return h})):i!=null&&(i0(i)&&(i=fA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_v,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pm(s,a);o+=rd(s,e,n,l,i)}else if(l=hA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pm(s,a++),o+=rd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kf(t,e,n){if(t==null)return t;var r=[],i=0;return rd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},id={transition:null},mA={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:id,ReactCurrentOwner:r0};function A_(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:kf,forEach:function(t,e,n){kf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kf(t,function(){e++}),e},toArray:function(t){return kf(t,function(e){return e})||[]},only:function(t){if(!i0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=tc;bt.Fragment=nA;bt.Profiler=iA;bt.PureComponent=t0;bt.StrictMode=rA;bt.Suspense=lA;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA;bt.act=A_;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=r0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w_.call(e,l)&&!E_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:zh,type:t.type,key:i,ref:s,props:r,_owner:o}};bt.createContext=function(t){return t={$$typeof:oA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sA,_context:t},t.Consumer=t};bt.createElement=b_;bt.createFactory=function(t){var e=b_.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:aA,render:t}};bt.isValidElement=i0;bt.lazy=function(t){return{$$typeof:cA,_payload:{_status:-1,_result:t},_init:pA}};bt.memo=function(t,e){return{$$typeof:uA,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=id.transition;id.transition={};try{t()}finally{id.transition=e}};bt.unstable_act=A_;bt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};bt.useContext=function(t){return Cr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};bt.useId=function(){return Cr.current.useId()};bt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};bt.useRef=function(t){return Cr.current.useRef(t)};bt.useState=function(t){return Cr.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Cr.current.useTransition()};bt.version="18.3.1";m_.exports=bt;var ke=m_.exports;const S_=eA(ke),gA=Zb({__proto__:null,default:S_},[ke]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=ke,yA=Symbol.for("react.element"),_A=Symbol.for("react.fragment"),wA=Object.prototype.hasOwnProperty,EA=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bA={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wA.call(e,r)&&!bA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yA,type:t,key:s,ref:o,props:i,_owner:EA.current}}wp.Fragment=_A;wp.jsx=I_;wp.jsxs=I_;p_.exports=wp;var Te=p_.exports,wg={},T_={exports:{}},ci={},P_={exports:{}},N_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,le){var ce=Y.length;Y.push(le);e:for(;0<ce;){var Re=ce-1>>>1,R=Y[Re];if(0<i(R,le))Y[Re]=le,Y[ce]=R,ce=Re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],ce=Y.pop();if(ce!==le){Y[0]=ce;e:for(var Re=0,R=Y.length,q=R>>>1;Re<q;){var G=2*(Re+1)-1,X=Y[G],ne=G+1,ue=Y[ne];if(0>i(X,ce))ne<R&&0>i(ue,X)?(Y[Re]=ue,Y[ne]=ce,Re=ne):(Y[Re]=X,Y[G]=ce,Re=G);else if(ne<R&&0>i(ue,ce))Y[Re]=ue,Y[ne]=ce,Re=ne;else break e}}return le}function i(Y,le){var ce=Y.sortIndex-le.sortIndex;return ce!==0?ce:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,m=null,_=3,g=!1,P=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=Y)r(h),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(h)}}function W(Y){if(T=!1,C(Y),!P)if(n(l)!==null)P=!0,me(J);else{var le=n(h);le!==null&&ye(W,le.startTime-Y)}}function J(Y,le){P=!1,T&&(T=!1,b(S),S=-1),g=!0;var ce=_;try{for(C(le),m=n(l);m!==null&&(!(m.expirationTime>le)||Y&&!I());){var Re=m.callback;if(typeof Re=="function"){m.callback=null,_=m.priorityLevel;var R=Re(m.expirationTime<=le);le=t.unstable_now(),typeof R=="function"?m.callback=R:m===n(l)&&r(l),C(le)}else r(l);m=n(l)}if(m!==null)var q=!0;else{var G=n(h);G!==null&&ye(W,G.startTime-le),q=!1}return q}finally{m=null,_=ce,g=!1}}var oe=!1,D=null,S=-1,F=5,U=-1;function I(){return!(t.unstable_now()-U<F)}function N(){if(D!==null){var Y=t.unstable_now();U=Y;var le=!0;try{le=D(!0,Y)}finally{le?x():(oe=!1,D=null)}}else oe=!1}var x;if(typeof E=="function")x=function(){E(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ve=Q.port2;Q.port1.onmessage=N,x=function(){ve.postMessage(null)}}else x=function(){O(N,0)};function me(Y){D=Y,oe||(oe=!0,x())}function ye(Y,le){S=O(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){P||g||(P=!0,me(J))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ce=_;_=le;try{return Y()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=_;_=Y;try{return le()}finally{_=ce}},t.unstable_scheduleCallback=function(Y,le,ce){var Re=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Re+ce:Re):ce=Re,Y){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ce+R,Y={id:d++,callback:le,priorityLevel:Y,startTime:ce,expirationTime:R,sortIndex:-1},ce>Re?(Y.sortIndex=ce,e(h,Y),n(l)===null&&Y===n(h)&&(T?(b(S),S=-1):T=!0,ye(W,ce-Re))):(Y.sortIndex=R,e(l,Y),P||g||(P=!0,me(J))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var le=_;return function(){var ce=_;_=le;try{return Y.apply(this,arguments)}finally{_=ce}}}})(N_);P_.exports=N_;var AA=P_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=ke,ui=AA;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x_=new Set,dh={};function Tl(t,e){ju(t,e),ju(t+"Capture",e)}function ju(t,e){for(dh[t]=e,t=0;t<e.length;t++)x_.add(e[t])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,IA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wv={},Ev={};function TA(t){return Eg.call(Ev,t)?!0:Eg.call(wv,t)?!1:IA.test(t)?Ev[t]=!0:(wv[t]=!0,!1)}function PA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NA(t,e,n,r){if(e===null||typeof e>"u"||PA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function o0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s0,o0);ir[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s0,o0);ir[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s0,o0);ir[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function a0(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NA(e,n,i,r)&&(n=null),r||i===null?TA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ho=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=Symbol.for("react.element"),cu=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Sg=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),bv=Symbol.iterator;function Lc(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,Nm;function zc(t){if(Nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nm=e&&e[1]||""}return`
`+Nm+t}var xm=!1;function km(t,e){if(!t||xm)return"";xm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zc(t):""}function xA(t){switch(t.tag){case 5:return zc(t.type);case 16:return zc("Lazy");case 13:return zc("Suspense");case 19:return zc("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function Ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hu:return"Fragment";case cu:return"Portal";case bg:return"Profiler";case l0:return"StrictMode";case Ag:return"Suspense";case Sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L_:return(t.displayName||"Context")+".Consumer";case k_:return(t._context.displayName||"Context")+".Provider";case u0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c0:return e=t.displayName||null,e!==null?e:Ig(t.type)||"Memo";case Qo:e=t._payload,t=t._init;try{return Ig(t(e))}catch{}}return null}function kA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(e);case 8:return e===l0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LA(t){var e=R_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cf(t){t._valueTracker||(t._valueTracker=LA(t))}function O_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Aa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D_(t,e){e=e.checked,e!=null&&a0(t,"checked",e,!1)}function Pg(t,e){D_(t,e);var n=Aa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qc=Array.isArray;function Su(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Aa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(qc(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Aa(n)}}function F_(t,e){var n=Aa(e.value),r=Aa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rf,j_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rf=Rf||document.createElement("div"),Rf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CA=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){CA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function V_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function B_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var RA=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(t,e){if(e){if(RA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function Cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function h0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Og=null,Iu=null,Tu=null;function Pv(t){if(t=Wh(t)){if(typeof Og!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Ip(e),Og(t.stateNode,t.type,e))}}function U_(t){Iu?Tu?Tu.push(t):Tu=[t]:Iu=t}function z_(){if(Iu){var t=Iu,e=Tu;if(Tu=Iu=null,Pv(t),e)for(t=0;t<e.length;t++)Pv(e[t])}}function q_(t,e){return t(e)}function $_(){}var Lm=!1;function W_(t,e,n){if(Lm)return t(e,n);Lm=!0;try{return q_(t,e,n)}finally{Lm=!1,(Iu!==null||Tu!==null)&&($_(),z_())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=Ip(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var Dg=!1;if(ro)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Dg=!1}function OA(t,e,n,r,i,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Zc=!1,xd=null,kd=!1,Fg=null,DA={onError:function(t){Zc=!0,xd=t}};function FA(t,e,n,r,i,s,o,a,l){Zc=!1,xd=null,OA.apply(DA,arguments)}function MA(t,e,n,r,i,s,o,a,l){if(FA.apply(this,arguments),Zc){if(Zc){var h=xd;Zc=!1,xd=null}else throw Error(De(198));kd||(kd=!0,Fg=h)}}function Pl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(Pl(t)!==t)throw Error(De(188))}function jA(t){var e=t.alternate;if(!e){if(e=Pl(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nv(i),t;if(s===r)return Nv(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function G_(t){return t=jA(t),t!==null?K_(t):null}function K_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K_(t);if(e!==null)return e;t=t.sibling}return null}var Q_=ui.unstable_scheduleCallback,xv=ui.unstable_cancelCallback,VA=ui.unstable_shouldYield,BA=ui.unstable_requestPaint,In=ui.unstable_now,UA=ui.unstable_getCurrentPriorityLevel,f0=ui.unstable_ImmediatePriority,Y_=ui.unstable_UserBlockingPriority,Ld=ui.unstable_NormalPriority,zA=ui.unstable_LowPriority,J_=ui.unstable_IdlePriority,Ep=null,_s=null;function qA(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var Gi=Math.clz32?Math.clz32:HA,$A=Math.log,WA=Math.LN2;function HA(t){return t>>>=0,t===0?32:31-($A(t)/WA|0)|0}var Of=64,Df=4194304;function $c(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$c(a):(s&=o,s!==0&&(r=$c(s)))}else o=n&~i,o!==0?r=$c(o):s!==0&&(r=$c(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gi(e),i=1<<n,r|=t[n],e&=~i;return r}function GA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=GA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X_(){var t=Of;return Of<<=1,!(Of&4194240)&&(Of=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gi(e),t[e]=n}function QA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function d0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qt=0;function Z_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,p0,tw,nw,rw,jg=!1,Ff=[],la=null,ua=null,ca=null,gh=new Map,vh=new Map,Jo=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kv(t,e){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function Rc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wh(e),e!==null&&p0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JA(t,e,n,r,i){switch(e){case"focusin":return la=Rc(la,t,e,n,r,i),!0;case"dragenter":return ua=Rc(ua,t,e,n,r,i),!0;case"mouseover":return ca=Rc(ca,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,Rc(gh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vh.set(s,Rc(vh.get(s)||null,t,e,n,r,i)),!0}return!1}function iw(t){var e=al(t.target);if(e!==null){var n=Pl(e);if(n!==null){if(e=n.tag,e===13){if(e=H_(n),e!==null){t.blockedOn=e,rw(t.priority,function(){tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rg=r,n.target.dispatchEvent(r),Rg=null}else return e=Wh(n),e!==null&&p0(e),t.blockedOn=n,!1;e.shift()}return!0}function Lv(t,e,n){sd(t)&&n.delete(e)}function XA(){jg=!1,la!==null&&sd(la)&&(la=null),ua!==null&&sd(ua)&&(ua=null),ca!==null&&sd(ca)&&(ca=null),gh.forEach(Lv),vh.forEach(Lv)}function Oc(t,e){t.blockedOn===e&&(t.blockedOn=null,jg||(jg=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,XA)))}function yh(t){function e(i){return Oc(i,t)}if(0<Ff.length){Oc(Ff[0],t);for(var n=1;n<Ff.length;n++){var r=Ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for(la!==null&&Oc(la,t),ua!==null&&Oc(ua,t),ca!==null&&Oc(ca,t),gh.forEach(e),vh.forEach(e),n=0;n<Jo.length;n++)r=Jo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jo.length&&(n=Jo[0],n.blockedOn===null);)iw(n),n.blockedOn===null&&Jo.shift()}var Pu=ho.ReactCurrentBatchConfig,Rd=!0;function ZA(t,e,n,r){var i=qt,s=Pu.transition;Pu.transition=null;try{qt=1,m0(t,e,n,r)}finally{qt=i,Pu.transition=s}}function eS(t,e,n,r){var i=qt,s=Pu.transition;Pu.transition=null;try{qt=4,m0(t,e,n,r)}finally{qt=i,Pu.transition=s}}function m0(t,e,n,r){if(Rd){var i=Vg(t,e,n,r);if(i===null)zm(t,e,r,Od,n),kv(t,r);else if(JA(i,t,e,n,r))r.stopPropagation();else if(kv(t,r),e&4&&-1<YA.indexOf(t)){for(;i!==null;){var s=Wh(i);if(s!==null&&ew(s),s=Vg(t,e,n,r),s===null&&zm(t,e,r,Od,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zm(t,e,r,null,n)}}var Od=null;function Vg(t,e,n,r){if(Od=null,t=h0(r),t=al(t),t!==null)if(e=Pl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UA()){case f0:return 1;case Y_:return 4;case Ld:case zA:return 16;case J_:return 536870912;default:return 16}default:return 16}}var ra=null,g0=null,od=null;function ow(){if(od)return od;var t,e=g0,n=e.length,r,i="value"in ra?ra.value:ra.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return od=i.slice(t,1<r?1-r:void 0)}function ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mf(){return!0}function Cv(){return!1}function hi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mf:Cv,this.isPropagationStopped=Cv,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mf)},persist:function(){},isPersistent:Mf}),e}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=hi(nc),$h=fn({},nc,{view:0,detail:0}),tS=hi($h),Rm,Om,Dc,bp=fn({},$h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dc&&(Dc&&t.type==="mousemove"?(Rm=t.screenX-Dc.screenX,Om=t.screenY-Dc.screenY):Om=Rm=0,Dc=t),Rm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),Rv=hi(bp),nS=fn({},bp,{dataTransfer:0}),rS=hi(nS),iS=fn({},$h,{relatedTarget:0}),Dm=hi(iS),sS=fn({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=hi(sS),aS=fn({},nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=hi(aS),uS=fn({},nc,{data:0}),Ov=hi(uS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fS[t])?!!e[t]:!1}function y0(){return dS}var pS=fn({},$h,{key:function(t){if(t.key){var e=cS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(t){return t.type==="keypress"?ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mS=hi(pS),gS=fn({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=hi(gS),vS=fn({},$h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),yS=hi(vS),_S=fn({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=hi(_S),ES=fn({},bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=hi(ES),AS=[9,13,27,32],_0=ro&&"CompositionEvent"in window,eh=null;ro&&"documentMode"in document&&(eh=document.documentMode);var SS=ro&&"TextEvent"in window&&!eh,aw=ro&&(!_0||eh&&8<eh&&11>=eh),Fv=" ",Mv=!1;function lw(t,e){switch(t){case"keyup":return AS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fu=!1;function IS(t,e){switch(t){case"compositionend":return uw(e);case"keypress":return e.which!==32?null:(Mv=!0,Fv);case"textInput":return t=e.data,t===Fv&&Mv?null:t;default:return null}}function TS(t,e){if(fu)return t==="compositionend"||!_0&&lw(t,e)?(t=ow(),od=g0=ra=null,fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PS[t.type]:e==="textarea"}function cw(t,e,n,r){U_(r),e=Dd(e,"onChange"),0<e.length&&(n=new v0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var th=null,_h=null;function NS(t){Ew(t,0)}function Ap(t){var e=mu(t);if(O_(e))return t}function xS(t,e){if(t==="change")return e}var hw=!1;if(ro){var Fm;if(ro){var Mm="oninput"in document;if(!Mm){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Mm=typeof Vv.oninput=="function"}Fm=Mm}else Fm=!1;hw=Fm&&(!document.documentMode||9<document.documentMode)}function Bv(){th&&(th.detachEvent("onpropertychange",fw),_h=th=null)}function fw(t){if(t.propertyName==="value"&&Ap(_h)){var e=[];cw(e,_h,t,h0(t)),W_(NS,e)}}function kS(t,e,n){t==="focusin"?(Bv(),th=e,_h=n,th.attachEvent("onpropertychange",fw)):t==="focusout"&&Bv()}function LS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ap(_h)}function CS(t,e){if(t==="click")return Ap(e)}function RS(t,e){if(t==="input"||t==="change")return Ap(e)}function OS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yi=typeof Object.is=="function"?Object.is:OS;function wh(t,e){if(Yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eg.call(e,i)||!Yi(t[i],e[i]))return!1}return!0}function Uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Uv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uv(n)}}function dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function w0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DS(t){var e=pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dw(n.ownerDocument.documentElement,n)){if(r!==null&&w0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zv(n,s);var o=zv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FS=ro&&"documentMode"in document&&11>=document.documentMode,du=null,Bg=null,nh=null,Ug=!1;function qv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||du==null||du!==Nd(r)||(r=du,"selectionStart"in r&&w0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nh&&wh(nh,r)||(nh=r,r=Dd(Bg,"onSelect"),0<r.length&&(e=new v0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=du)))}function jf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pu={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},jm={},mw={};ro&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Sp(t){if(jm[t])return jm[t];if(!pu[t])return t;var e=pu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mw)return jm[t]=e[n];return t}var gw=Sp("animationend"),vw=Sp("animationiteration"),yw=Sp("animationstart"),_w=Sp("transitionend"),ww=new Map,$v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(t,e){ww.set(t,e),Tl(e,[t])}for(var Vm=0;Vm<$v.length;Vm++){var Bm=$v[Vm],MS=Bm.toLowerCase(),jS=Bm[0].toUpperCase()+Bm.slice(1);ka(MS,"on"+jS)}ka(gw,"onAnimationEnd");ka(vw,"onAnimationIteration");ka(yw,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(_w,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function Wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MA(r,e,void 0,t),t.currentTarget=null}function Ew(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wv(i,a,h),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wv(i,a,h),s=l}}}if(kd)throw t=Fg,kd=!1,Fg=null,t}function rn(t,e){var n=e[Hg];n===void 0&&(n=e[Hg]=new Set);var r=t+"__bubble";n.has(r)||(bw(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),bw(n,t,r,e)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[Vf]){t[Vf]=!0,x_.forEach(function(n){n!=="selectionchange"&&(VS.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vf]||(e[Vf]=!0,Um("selectionchange",!1,e))}}function bw(t,e,n,r){switch(sw(e)){case 1:var i=ZA;break;case 4:i=eS;break;default:i=m0}n=i.bind(null,e,n,t),i=void 0,!Dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=al(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}W_(function(){var h=s,d=h0(n),m=[];e:{var _=ww.get(t);if(_!==void 0){var g=v0,P=t;switch(t){case"keypress":if(ad(n)===0)break e;case"keydown":case"keyup":g=mS;break;case"focusin":P="focus",g=Dm;break;case"focusout":P="blur",g=Dm;break;case"beforeblur":case"afterblur":g=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yS;break;case gw:case vw:case yw:g=oS;break;case _w:g=wS;break;case"scroll":g=tS;break;case"wheel":g=bS;break;case"copy":case"cut":case"paste":g=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Dv}var T=(e&4)!==0,O=!T&&t==="scroll",b=T?_!==null?_+"Capture":null:_;T=[];for(var E=h,C;E!==null;){C=E;var W=C.stateNode;if(C.tag===5&&W!==null&&(C=W,b!==null&&(W=mh(E,b),W!=null&&T.push(bh(E,W,C)))),O)break;E=E.return}0<T.length&&(_=new g(_,P,null,n,d),m.push({event:_,listeners:T}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",_&&n!==Rg&&(P=n.relatedTarget||n.fromElement)&&(al(P)||P[io]))break e;if((g||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,g?(P=n.relatedTarget||n.toElement,g=h,P=P?al(P):null,P!==null&&(O=Pl(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(g=null,P=h),g!==P)){if(T=Rv,W="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=Dv,W="onPointerLeave",b="onPointerEnter",E="pointer"),O=g==null?_:mu(g),C=P==null?_:mu(P),_=new T(W,E+"leave",g,n,d),_.target=O,_.relatedTarget=C,W=null,al(d)===h&&(T=new T(b,E+"enter",P,n,d),T.target=C,T.relatedTarget=O,W=T),O=W,g&&P)t:{for(T=g,b=P,E=0,C=T;C;C=nu(C))E++;for(C=0,W=b;W;W=nu(W))C++;for(;0<E-C;)T=nu(T),E--;for(;0<C-E;)b=nu(b),C--;for(;E--;){if(T===b||b!==null&&T===b.alternate)break t;T=nu(T),b=nu(b)}T=null}else T=null;g!==null&&Hv(m,_,g,T,!1),P!==null&&O!==null&&Hv(m,O,P,T,!0)}}e:{if(_=h?mu(h):window,g=_.nodeName&&_.nodeName.toLowerCase(),g==="select"||g==="input"&&_.type==="file")var J=xS;else if(jv(_))if(hw)J=RS;else{J=LS;var oe=kS}else(g=_.nodeName)&&g.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(J=CS);if(J&&(J=J(t,h))){cw(m,J,n,d);break e}oe&&oe(t,_,h),t==="focusout"&&(oe=_._wrapperState)&&oe.controlled&&_.type==="number"&&Ng(_,"number",_.value)}switch(oe=h?mu(h):window,t){case"focusin":(jv(oe)||oe.contentEditable==="true")&&(du=oe,Bg=h,nh=null);break;case"focusout":nh=Bg=du=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,qv(m,n,d);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":qv(m,n,d)}var D;if(_0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else fu?lw(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(aw&&n.locale!=="ko"&&(fu||S!=="onCompositionStart"?S==="onCompositionEnd"&&fu&&(D=ow()):(ra=d,g0="value"in ra?ra.value:ra.textContent,fu=!0)),oe=Dd(h,S),0<oe.length&&(S=new Ov(S,t,null,n,d),m.push({event:S,listeners:oe}),D?S.data=D:(D=uw(n),D!==null&&(S.data=D)))),(D=SS?IS(t,n):TS(t,n))&&(h=Dd(h,"onBeforeInput"),0<h.length&&(d=new Ov("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=D))}Ew(m,e)})}function bh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mh(t,n),s!=null&&r.unshift(bh(t,s,i)),s=mh(t,e),s!=null&&r.push(bh(t,s,i))),t=t.return}return r}function nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=mh(n,s),l!=null&&o.unshift(bh(n,l,a))):i||(l=mh(n,s),l!=null&&o.push(bh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BS=/\r\n?/g,US=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(BS,`
`).replace(US,"")}function Bf(t,e,n){if(e=Gv(e),Gv(t)!==e&&n)throw Error(De(425))}function Fd(){}var zg=null,qg=null;function $g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch($S)}:Wg;function $S(t){setTimeout(function(){throw t})}function qm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yh(e)}function ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rc=Math.random().toString(36).slice(2),vs="__reactFiber$"+rc,Ah="__reactProps$"+rc,io="__reactContainer$"+rc,Hg="__reactEvents$"+rc,WS="__reactListeners$"+rc,HS="__reactHandles$"+rc;function al(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[io]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qv(t);t!==null;){if(n=t[vs])return n;t=Qv(t)}return e}t=n,n=t.parentNode}return null}function Wh(t){return t=t[vs]||t[io],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Ip(t){return t[Ah]||null}var Gg=[],gu=-1;function La(t){return{current:t}}function on(t){0>gu||(t.current=Gg[gu],Gg[gu]=null,gu--)}function Zt(t,e){gu++,Gg[gu]=t.current,t.current=e}var Sa={},br=La(Sa),Wr=La(!1),ml=Sa;function Vu(t,e){var n=t.type.contextTypes;if(!n)return Sa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function Md(){on(Wr),on(br)}function Yv(t,e,n){if(br.current!==Sa)throw Error(De(168));Zt(br,e),Zt(Wr,n)}function Aw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,kA(t)||"Unknown",i));return fn({},n,r)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sa,ml=br.current,Zt(br,t),Zt(Wr,Wr.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=Aw(t,e,ml),r.__reactInternalMemoizedMergedChildContext=t,on(Wr),on(br),Zt(br,t)):on(Wr),Zt(Wr,n)}var Qs=null,Tp=!1,$m=!1;function Sw(t){Qs===null?Qs=[t]:Qs.push(t)}function GS(t){Tp=!0,Sw(t)}function Ca(){if(!$m&&Qs!==null){$m=!0;var t=0,e=qt;try{var n=Qs;for(qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,Tp=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),Q_(f0,Ca),i}finally{qt=e,$m=!1}}return null}var vu=[],yu=0,Vd=null,Bd=0,bi=[],Ai=0,gl=null,Ys=1,Js="";function tl(t,e){vu[yu++]=Bd,vu[yu++]=Vd,Vd=t,Bd=e}function Iw(t,e,n){bi[Ai++]=Ys,bi[Ai++]=Js,bi[Ai++]=gl,gl=t;var r=Ys;t=Js;var i=32-Gi(r)-1;r&=~(1<<i),n+=1;var s=32-Gi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ys=1<<32-Gi(e)+i|n<<i|r,Js=s+t}else Ys=1<<s|n<<i|r,Js=t}function E0(t){t.return!==null&&(tl(t,1),Iw(t,1,0))}function b0(t){for(;t===Vd;)Vd=vu[--yu],vu[yu]=null,Bd=vu[--yu],vu[yu]=null;for(;t===gl;)gl=bi[--Ai],bi[Ai]=null,Js=bi[--Ai],bi[Ai]=null,Ys=bi[--Ai],bi[Ai]=null}var li=null,si=null,an=!1,Hi=null;function Tw(t,e){var n=Si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,li=t,si=ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,li=t,si=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gl!==null?{id:Ys,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,li=t,si=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qg(t){if(an){var e=si;if(e){var n=e;if(!Xv(t,e)){if(Kg(t))throw Error(De(418));e=ha(n.nextSibling);var r=li;e&&Xv(t,e)?Tw(r,n):(t.flags=t.flags&-4097|2,an=!1,li=t)}}else{if(Kg(t))throw Error(De(418));t.flags=t.flags&-4097|2,an=!1,li=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;li=t}function Uf(t){if(t!==li)return!1;if(!an)return Zv(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$g(t.type,t.memoizedProps)),e&&(e=si)){if(Kg(t))throw Pw(),Error(De(418));for(;e;)Tw(t,e),e=ha(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){si=ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}si=null}}else si=li?ha(t.stateNode.nextSibling):null;return!0}function Pw(){for(var t=si;t;)t=ha(t.nextSibling)}function Bu(){si=li=null,an=!1}function A0(t){Hi===null?Hi=[t]:Hi.push(t)}var KS=ho.ReactCurrentBatchConfig;function Fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function zf(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e5(t){var e=t._init;return e(t._payload)}function Nw(t){function e(b,E){if(t){var C=b.deletions;C===null?(b.deletions=[E],b.flags|=16):C.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=ma(b,E),b.index=0,b.sibling=null,b}function s(b,E,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<E?(b.flags|=2,E):C):(b.flags|=2,E)):(b.flags|=1048576,E)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,E,C,W){return E===null||E.tag!==6?(E=Jm(C,b.mode,W),E.return=b,E):(E=i(E,C),E.return=b,E)}function l(b,E,C,W){var J=C.type;return J===hu?d(b,E,C.props.children,W,C.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Qo&&e5(J)===E.type)?(W=i(E,C.props),W.ref=Fc(b,E,C),W.return=b,W):(W=pd(C.type,C.key,C.props,null,b.mode,W),W.ref=Fc(b,E,C),W.return=b,W)}function h(b,E,C,W){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Xm(C,b.mode,W),E.return=b,E):(E=i(E,C.children||[]),E.return=b,E)}function d(b,E,C,W,J){return E===null||E.tag!==7?(E=fl(C,b.mode,W,J),E.return=b,E):(E=i(E,C),E.return=b,E)}function m(b,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Jm(""+E,b.mode,C),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lf:return C=pd(E.type,E.key,E.props,null,b.mode,C),C.ref=Fc(b,null,E),C.return=b,C;case cu:return E=Xm(E,b.mode,C),E.return=b,E;case Qo:var W=E._init;return m(b,W(E._payload),C)}if(qc(E)||Lc(E))return E=fl(E,b.mode,C,null),E.return=b,E;zf(b,E)}return null}function _(b,E,C,W){var J=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:a(b,E,""+C,W);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lf:return C.key===J?l(b,E,C,W):null;case cu:return C.key===J?h(b,E,C,W):null;case Qo:return J=C._init,_(b,E,J(C._payload),W)}if(qc(C)||Lc(C))return J!==null?null:d(b,E,C,W,null);zf(b,C)}return null}function g(b,E,C,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return b=b.get(C)||null,a(E,b,""+W,J);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Lf:return b=b.get(W.key===null?C:W.key)||null,l(E,b,W,J);case cu:return b=b.get(W.key===null?C:W.key)||null,h(E,b,W,J);case Qo:var oe=W._init;return g(b,E,C,oe(W._payload),J)}if(qc(W)||Lc(W))return b=b.get(C)||null,d(E,b,W,J,null);zf(E,W)}return null}function P(b,E,C,W){for(var J=null,oe=null,D=E,S=E=0,F=null;D!==null&&S<C.length;S++){D.index>S?(F=D,D=null):F=D.sibling;var U=_(b,D,C[S],W);if(U===null){D===null&&(D=F);break}t&&D&&U.alternate===null&&e(b,D),E=s(U,E,S),oe===null?J=U:oe.sibling=U,oe=U,D=F}if(S===C.length)return n(b,D),an&&tl(b,S),J;if(D===null){for(;S<C.length;S++)D=m(b,C[S],W),D!==null&&(E=s(D,E,S),oe===null?J=D:oe.sibling=D,oe=D);return an&&tl(b,S),J}for(D=r(b,D);S<C.length;S++)F=g(D,b,S,C[S],W),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?S:F.key),E=s(F,E,S),oe===null?J=F:oe.sibling=F,oe=F);return t&&D.forEach(function(I){return e(b,I)}),an&&tl(b,S),J}function T(b,E,C,W){var J=Lc(C);if(typeof J!="function")throw Error(De(150));if(C=J.call(C),C==null)throw Error(De(151));for(var oe=J=null,D=E,S=E=0,F=null,U=C.next();D!==null&&!U.done;S++,U=C.next()){D.index>S?(F=D,D=null):F=D.sibling;var I=_(b,D,U.value,W);if(I===null){D===null&&(D=F);break}t&&D&&I.alternate===null&&e(b,D),E=s(I,E,S),oe===null?J=I:oe.sibling=I,oe=I,D=F}if(U.done)return n(b,D),an&&tl(b,S),J;if(D===null){for(;!U.done;S++,U=C.next())U=m(b,U.value,W),U!==null&&(E=s(U,E,S),oe===null?J=U:oe.sibling=U,oe=U);return an&&tl(b,S),J}for(D=r(b,D);!U.done;S++,U=C.next())U=g(D,b,S,U.value,W),U!==null&&(t&&U.alternate!==null&&D.delete(U.key===null?S:U.key),E=s(U,E,S),oe===null?J=U:oe.sibling=U,oe=U);return t&&D.forEach(function(N){return e(b,N)}),an&&tl(b,S),J}function O(b,E,C,W){if(typeof C=="object"&&C!==null&&C.type===hu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Lf:e:{for(var J=C.key,oe=E;oe!==null;){if(oe.key===J){if(J=C.type,J===hu){if(oe.tag===7){n(b,oe.sibling),E=i(oe,C.props.children),E.return=b,b=E;break e}}else if(oe.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Qo&&e5(J)===oe.type){n(b,oe.sibling),E=i(oe,C.props),E.ref=Fc(b,oe,C),E.return=b,b=E;break e}n(b,oe);break}else e(b,oe);oe=oe.sibling}C.type===hu?(E=fl(C.props.children,b.mode,W,C.key),E.return=b,b=E):(W=pd(C.type,C.key,C.props,null,b.mode,W),W.ref=Fc(b,E,C),W.return=b,b=W)}return o(b);case cu:e:{for(oe=C.key;E!==null;){if(E.key===oe)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(b,E.sibling),E=i(E,C.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=Xm(C,b.mode,W),E.return=b,b=E}return o(b);case Qo:return oe=C._init,O(b,E,oe(C._payload),W)}if(qc(C))return P(b,E,C,W);if(Lc(C))return T(b,E,C,W);zf(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(b,E.sibling),E=i(E,C),E.return=b,b=E):(n(b,E),E=Jm(C,b.mode,W),E.return=b,b=E),o(b)):n(b,E)}return O}var Uu=Nw(!0),xw=Nw(!1),Ud=La(null),zd=null,_u=null,S0=null;function I0(){S0=_u=zd=null}function T0(t){var e=Ud.current;on(Ud),t._currentValue=e}function Yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nu(t,e){zd=t,S0=_u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($r=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},_u===null){if(zd===null)throw Error(De(308));_u=t,zd.dependencies={lanes:0,firstContext:t}}else _u=_u.next=t;return e}var ll=null;function P0(t){ll===null?ll=[t]:ll.push(t)}function kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,P0(e)):(n.next=i.next,i.next=n),e.interleaved=n,so(t,r)}function so(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yo=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function no(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,so(t,n)}return i=r.interleaved,i===null?(e.next=e,P0(r)):(e.next=i.next,i.next=e),r.interleaved=e,so(t,n)}function ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}function t5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var i=t.updateQueue;Yo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,d=h=l=null,a=s;do{var _=a.lane,g=a.eventTime;if((r&_)===_){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var P=t,T=a;switch(_=e,g=n,T.tag){case 1:if(P=T.payload,typeof P=="function"){m=P.call(g,m,_);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=T.payload,_=typeof P=="function"?P.call(g,m,_):P,_==null)break e;m=fn({},m,_);break e;case 2:Yo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[a]:_.push(a))}else g={eventTime:g,lane:_,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=g,l=m):d=d.next=g,o|=_;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;_=a,a=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yl|=o,t.lanes=o,t.memoizedState=m}}function n5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var Hh={},ws=La(Hh),Sh=La(Hh),Ih=La(Hh);function ul(t){if(t===Hh)throw Error(De(174));return t}function x0(t,e){switch(Zt(Ih,e),Zt(Sh,t),Zt(ws,Hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kg(e,t)}on(ws),Zt(ws,e)}function zu(){on(ws),on(Sh),on(Ih)}function Cw(t){ul(Ih.current);var e=ul(ws.current),n=kg(e,t.type);e!==n&&(Zt(Sh,t),Zt(ws,n))}function k0(t){Sh.current===t&&(on(ws),on(Sh))}var un=La(0);function $d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wm=[];function L0(){for(var t=0;t<Wm.length;t++)Wm[t]._workInProgressVersionPrimary=null;Wm.length=0}var ud=ho.ReactCurrentDispatcher,Hm=ho.ReactCurrentBatchConfig,vl=0,cn=null,jn=null,Wn=null,Wd=!1,rh=!1,Th=0,QS=0;function hr(){throw Error(De(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yi(t[n],e[n]))return!1;return!0}function R0(t,e,n,r,i,s){if(vl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ud.current=t===null||t.memoizedState===null?ZS:eI,t=n(r,i),rh){s=0;do{if(rh=!1,Th=0,25<=s)throw Error(De(301));s+=1,Wn=jn=null,e.updateQueue=null,ud.current=tI,t=n(r,i)}while(rh)}if(ud.current=Hd,e=jn!==null&&jn.next!==null,vl=0,Wn=jn=cn=null,Wd=!1,e)throw Error(De(300));return t}function O0(){var t=Th!==0;return Th=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Ni(){if(jn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=Wn===null?cn.memoizedState:Wn.next;if(e!==null)Wn=e,jn=t;else{if(t===null)throw Error(De(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Wn===null?cn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Ph(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=Ni(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,h=s;do{var d=h.lane;if((vl&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,cn.lanes|=d,yl|=d}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=a,Yi(r,e.memoizedState)||($r=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,yl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Km(t){var e=Ni(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yi(s,e.memoizedState)||($r=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rw(){}function Ow(t,e){var n=cn,r=Ni(),i=e(),s=!Yi(r.memoizedState,i);if(s&&(r.memoizedState=i,$r=!0),r=r.queue,D0(Mw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,Nh(9,Fw.bind(null,n,r,i,e),void 0,null),Gn===null)throw Error(De(349));vl&30||Dw(n,e,i)}return i}function Dw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fw(t,e,n,r){e.value=n,e.getSnapshot=r,jw(e)&&Vw(t)}function Mw(t,e,n){return n(function(){jw(e)&&Vw(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yi(t,n)}catch{return!0}}function Vw(t){var e=so(t,1);e!==null&&Ki(e,t,1,-1)}function r5(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:t},e.queue=t,t=t.dispatch=XS.bind(null,cn,t),[e.memoizedState,t]}function Nh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bw(){return Ni().memoizedState}function cd(t,e,n,r){var i=gs();cn.flags|=t,i.memoizedState=Nh(1|e,n,void 0,r===void 0?null:r)}function Pp(t,e,n,r){var i=Ni();r=r===void 0?null:r;var s=void 0;if(jn!==null){var o=jn.memoizedState;if(s=o.destroy,r!==null&&C0(r,o.deps)){i.memoizedState=Nh(e,n,s,r);return}}cn.flags|=t,i.memoizedState=Nh(1|e,n,s,r)}function i5(t,e){return cd(8390656,8,t,e)}function D0(t,e){return Pp(2048,8,t,e)}function Uw(t,e){return Pp(4,2,t,e)}function zw(t,e){return Pp(4,4,t,e)}function qw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $w(t,e,n){return n=n!=null?n.concat([t]):null,Pp(4,4,qw.bind(null,e,t),n)}function F0(){}function Ww(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hw(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gw(t,e,n){return vl&21?(Yi(n,e)||(n=X_(),cn.lanes|=n,yl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$r=!0),t.memoizedState=n)}function YS(t,e){var n=qt;qt=n!==0&&4>n?n:4,t(!0);var r=Hm.transition;Hm.transition={};try{t(!1),e()}finally{qt=n,Hm.transition=r}}function Kw(){return Ni().memoizedState}function JS(t,e,n){var r=pa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qw(t))Yw(e,n);else if(n=kw(t,e,n,r),n!==null){var i=Lr();Ki(n,t,r,i),Jw(n,e,r)}}function XS(t,e,n){var r=pa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qw(t))Yw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yi(a,o)){var l=e.interleaved;l===null?(i.next=i,P0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kw(t,e,i,r),n!==null&&(i=Lr(),Ki(n,t,r,i),Jw(n,e,r))}}function Qw(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function Yw(t,e){rh=Wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}var Hd={readContext:Pi,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},ZS={readContext:Pi,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:i5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,qw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JS.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:r5,useDebugValue:F0,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=r5(!1),e=t[0];return t=YS.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=gs();if(an){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),Gn===null)throw Error(De(349));vl&30||Dw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,i5(Mw.bind(null,r,s,t),[t]),r.flags|=2048,Nh(9,Fw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gs(),e=Gn.identifierPrefix;if(an){var n=Js,r=Ys;n=(r&~(1<<32-Gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eI={readContext:Pi,useCallback:Ww,useContext:Pi,useEffect:D0,useImperativeHandle:$w,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Hw,useReducer:Gm,useRef:Bw,useState:function(){return Gm(Ph)},useDebugValue:F0,useDeferredValue:function(t){var e=Ni();return Gw(e,jn.memoizedState,t)},useTransition:function(){var t=Gm(Ph)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1},tI={readContext:Pi,useCallback:Ww,useContext:Pi,useEffect:D0,useImperativeHandle:$w,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Hw,useReducer:Km,useRef:Bw,useState:function(){return Km(Ph)},useDebugValue:F0,useDeferredValue:function(t){var e=Ni();return jn===null?e.memoizedState=t:Gw(e,jn.memoizedState,t)},useTransition:function(){var t=Km(Ph)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1};function qi(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Np={isMounted:function(t){return(t=t._reactInternals)?Pl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=pa(t),s=no(r,i);s.payload=e,n!=null&&(s.callback=n),e=fa(t,s,i),e!==null&&(Ki(e,t,i,r),ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=pa(t),s=no(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fa(t,s,i),e!==null&&(Ki(e,t,i,r),ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=pa(t),i=no(n,r);i.tag=2,e!=null&&(i.callback=e),e=fa(t,i,r),e!==null&&(Ki(e,t,r,n),ld(e,t,r))}};function s5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,s):!0}function Xw(t,e,n){var r=!1,i=Sa,s=e.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Hr(e)?ml:br.current,r=e.contextTypes,s=(r=r!=null)?Vu(t,i):Sa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Np,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function o5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Np.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},N0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Hr(e)?ml:br.current,i.context=Vu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Np.enqueueReplaceState(i,i.state,null),qd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qu(t,e){try{var n="",r=e;do n+=xA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nI=typeof WeakMap=="function"?WeakMap:Map;function Zw(t,e,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kd||(Kd=!0,u1=r),Zg(t,e)},n}function e4(t,e,n){n=no(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zg(t,e),typeof r!="function"&&(da===null?da=new Set([this]):da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gI.bind(null,t,e,n),e.then(t,t))}function l5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=no(-1,1),e.tag=2,fa(n,e,1))),n.lanes|=1),t)}var rI=ho.ReactCurrentOwner,$r=!1;function kr(t,e,n,r){e.child=t===null?xw(e,null,n,r):Uu(e,t.child,n,r)}function c5(t,e,n,r,i){n=n.render;var s=e.ref;return Nu(e,i),r=R0(t,e,n,r,s,i),n=O0(),t!==null&&!$r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oo(t,e,i)):(an&&n&&E0(e),e.flags|=1,kr(t,e,r,i),e.child)}function h5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,t4(t,e,s,r,i)):(t=pd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,r)&&t.ref===e.ref)return oo(t,e,i)}return e.flags|=1,t=ma(s,r),t.ref=e.ref,t.return=e,e.child=t}function t4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wh(s,r)&&t.ref===e.ref)if($r=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($r=!0);else return e.lanes=t.lanes,oo(t,e,i)}return e1(t,e,n,r,i)}function n4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Eu,ii),ii|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(Eu,ii),ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zt(Eu,ii),ii|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Zt(Eu,ii),ii|=r;return kr(t,e,i,n),e.child}function r4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e1(t,e,n,r,i){var s=Hr(n)?ml:br.current;return s=Vu(e,s),Nu(e,i),n=R0(t,e,n,r,s,i),r=O0(),t!==null&&!$r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oo(t,e,i)):(an&&r&&E0(e),e.flags|=1,kr(t,e,n,i),e.child)}function f5(t,e,n,r,i){if(Hr(n)){var s=!0;jd(e)}else s=!1;if(Nu(e,i),e.stateNode===null)hd(t,e),Xw(e,n,r),Xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Pi(h):(h=Hr(n)?ml:br.current,h=Vu(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&o5(e,o,r,h),Yo=!1;var _=e.memoizedState;o.state=_,qd(e,r,o,i),l=e.memoizedState,a!==r||_!==l||Wr.current||Yo?(typeof d=="function"&&(Jg(e,n,d,r),l=e.memoizedState),(a=Yo||s5(e,n,a,r,_,l,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lw(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:qi(e.type,a),o.props=h,m=e.pendingProps,_=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Hr(n)?ml:br.current,l=Vu(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||_!==l)&&o5(e,o,r,l),Yo=!1,_=e.memoizedState,o.state=_,qd(e,r,o,i);var P=e.memoizedState;a!==m||_!==P||Wr.current||Yo?(typeof g=="function"&&(Jg(e,n,g,r),P=e.memoizedState),(h=Yo||s5(e,n,h,r,_,P,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return t1(t,e,n,r,s,i)}function t1(t,e,n,r,i,s){r4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jv(e,n,!1),oo(t,e,s);r=e.stateNode,rI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uu(e,t.child,null,s),e.child=Uu(e,null,a,s)):kr(t,e,a,s),e.memoizedState=r.state,i&&Jv(e,n,!0),e.child}function i4(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),x0(t,e.containerInfo)}function d5(t,e,n,r,i){return Bu(),A0(i),e.flags|=256,kr(t,e,n,r),e.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function r1(t){return{baseLanes:t,cachePool:null,transitions:null}}function s4(t,e,n){var r=e.pendingProps,i=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(un,i&1),t===null)return Qg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lp(o,r,0,null),t=fl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r1(n),e.memoizedState=n1,t):M0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ma(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ma(a,s):(s=fl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n1,r}return s=t.child,t=s.sibling,r=ma(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M0(t,e){return e=Lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qf(t,e,n,r){return r!==null&&A0(r),Uu(e,t.child,null,n),t=M0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qm(Error(De(422))),qf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lp({mode:"visible",children:r.children},i,0,null),s=fl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uu(e,t.child,null,o),e.child.memoizedState=r1(o),e.memoizedState=n1,s);if(!(e.mode&1))return qf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=Qm(s,r,void 0),qf(t,e,o,r)}if(a=(o&t.childLanes)!==0,$r||a){if(r=Gn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,so(t,i),Ki(r,t,i,-1))}return q0(),r=Qm(Error(De(421))),qf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,si=ha(i.nextSibling),li=e,an=!0,Hi=null,t!==null&&(bi[Ai++]=Ys,bi[Ai++]=Js,bi[Ai++]=gl,Ys=t.id,Js=t.overflow,gl=e),e=M0(e,r.children),e.flags|=4096,e)}function p5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yg(t.return,e,n)}function Ym(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function o4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kr(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p5(t,n,e);else if(t.tag===19)p5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(un,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$d(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ym(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$d(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ym(e,!0,n,null,s);break;case"together":Ym(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sI(t,e,n){switch(e.tag){case 3:i4(e),Bu();break;case 5:Cw(e);break;case 1:Hr(e.type)&&jd(e);break;case 4:x0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?s4(t,e,n):(Zt(un,un.current&1),t=oo(t,e,n),t!==null?t.sibling:null);Zt(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,n4(t,e,n)}return oo(t,e,n)}var a4,i1,l4,u4;a4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i1=function(){};l4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ul(ws.current);var s=null;switch(n){case"input":i=Tg(t,i),r=Tg(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=xg(t,i),r=xg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fd)}Lg(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(dh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(dh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&rn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};u4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oI(t,e,n){var r=e.pendingProps;switch(b0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Hr(e.type)&&Md(),fr(e),null;case 3:return r=e.stateNode,zu(),on(Wr),on(br),L0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&(f1(Hi),Hi=null))),i1(t,e),fr(e),null;case 5:k0(e);var i=ul(Ih.current);if(n=e.type,t!==null&&e.stateNode!=null)l4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return fr(e),null}if(t=ul(ws.current),Uf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vs]=e,r[Ah]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<Wc.length;i++)rn(Wc[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":Av(r,s),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rn("invalid",r);break;case"textarea":Iv(r,s),rn("invalid",r)}Lg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bf(r.textContent,a,t),i=["children",""+a]):dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rn("scroll",r)}switch(n){case"input":Cf(r),Sv(r,s,!0);break;case"textarea":Cf(r),Tv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vs]=e,t[Ah]=r,a4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cg(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wc.length;i++)rn(Wc[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":Av(t,r),i=Tg(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":Iv(t,r),i=xg(t,r),rn("invalid",t);break;default:i=r}Lg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?B_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ph(t,l):typeof l=="number"&&ph(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&a0(t,s,l,o))}switch(n){case"input":Cf(t),Sv(t,r,!1);break;case"textarea":Cf(t),Tv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Aa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Su(t,!!r.multiple,s,!1):r.defaultValue!=null&&Su(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)u4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=ul(Ih.current),ul(ws.current),Uf(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(s=r.nodeValue!==n)&&(t=li,t!==null))switch(t.tag){case 3:Bf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return fr(e),null;case 13:if(on(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&si!==null&&e.mode&1&&!(e.flags&128))Pw(),Bu(),e.flags|=98560,s=!1;else if(s=Uf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[vs]=e}else Bu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else Hi!==null&&(f1(Hi),Hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Bn===0&&(Bn=3):q0())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return zu(),i1(t,e),t===null&&Eh(e.stateNode.containerInfo),fr(e),null;case 10:return T0(e.type._context),fr(e),null;case 17:return Hr(e.type)&&Md(),fr(e),null;case 19:if(on(un),s=e.memoizedState,s===null)return fr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mc(s,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$d(t),o!==null){for(e.flags|=128,Mc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(un,un.current&1|2),e.child}t=t.sibling}s.tail!==null&&In()>$u&&(e.flags|=128,r=!0,Mc(s,!1),e.lanes=4194304)}else{if(!r)if(t=$d(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return fr(e),null}else 2*In()-s.renderingStartTime>$u&&n!==1073741824&&(e.flags|=128,r=!0,Mc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=In(),e.sibling=null,n=un.current,Zt(un,r?n&1|2:n&1),e):(fr(e),null);case 22:case 23:return z0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ii&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function aI(t,e){switch(b0(e),e.tag){case 1:return Hr(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zu(),on(Wr),on(br),L0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k0(e),null;case 13:if(on(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Bu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(un),null;case 4:return zu(),null;case 10:return T0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var $f=!1,_r=!1,lI=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(t,e,r)}else n.current=null}function s1(t,e,n){try{n()}catch(r){_n(t,e,r)}}var m5=!1;function uI(t,e){if(zg=Rd,t=pw(),w0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,d=0,m=t,_=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)_=m,m=g;for(;;){if(m===t)break t;if(_===n&&++h===i&&(a=o),_===s&&++d===r&&(l=o),(g=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qg={focusedElem:t,selectionRange:n},Rd=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var T=P.memoizedProps,O=P.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?T:qi(e.type,T),O);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(W){_n(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return P=m5,m5=!1,P}function ih(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s1(e,n,s)}i=i.next}while(i!==r)}}function xp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c4(t){var e=t.alternate;e!==null&&(t.alternate=null,c4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[Ah],delete e[Hg],delete e[WS],delete e[HS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h4(t){return t.tag===5||t.tag===3||t.tag===4}function g5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fd));else if(r!==4&&(t=t.child,t!==null))for(a1(t,e,n),t=t.sibling;t!==null;)a1(t,e,n),t=t.sibling}function l1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l1(t,e,n),t=t.sibling;t!==null;)l1(t,e,n),t=t.sibling}var Zn=null,Wi=!1;function Wo(t,e,n){for(n=n.child;n!==null;)f4(t,e,n),n=n.sibling}function f4(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Ep,n)}catch{}switch(n.tag){case 5:_r||wu(n,e);case 6:var r=Zn,i=Wi;Zn=null,Wo(t,e,n),Zn=r,Wi=i,Zn!==null&&(Wi?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(Wi?(t=Zn,n=n.stateNode,t.nodeType===8?qm(t.parentNode,n):t.nodeType===1&&qm(t,n),yh(t)):qm(Zn,n.stateNode));break;case 4:r=Zn,i=Wi,Zn=n.stateNode.containerInfo,Wi=!0,Wo(t,e,n),Zn=r,Wi=i;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s1(n,e,o),i=i.next}while(i!==r)}Wo(t,e,n);break;case 1:if(!_r&&(wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_n(n,e,a)}Wo(t,e,n);break;case 21:Wo(t,e,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,Wo(t,e,n),_r=r):Wo(t,e,n);break;default:Wo(t,e,n)}}function v5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lI),e.forEach(function(r){var i=yI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,Wi=!1;break e;case 3:Zn=a.stateNode.containerInfo,Wi=!0;break e;case 4:Zn=a.stateNode.containerInfo,Wi=!0;break e}a=a.return}if(Zn===null)throw Error(De(160));f4(s,o,i),Zn=null,Wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){_n(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d4(e,t),e=e.sibling}function d4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bi(e,t),ps(t),r&4){try{ih(3,t,t.return),xp(3,t)}catch(T){_n(t,t.return,T)}try{ih(5,t,t.return)}catch(T){_n(t,t.return,T)}}break;case 1:Bi(e,t),ps(t),r&512&&n!==null&&wu(n,n.return);break;case 5:if(Bi(e,t),ps(t),r&512&&n!==null&&wu(n,n.return),t.flags&32){var i=t.stateNode;try{ph(i,"")}catch(T){_n(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D_(i,s),Cg(a,o);var h=Cg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?B_(i,m):d==="dangerouslySetInnerHTML"?j_(i,m):d==="children"?ph(i,m):a0(i,d,m,h)}switch(a){case"input":Pg(i,s);break;case"textarea":F_(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Su(i,!!s.multiple,g,!1):_!==!!s.multiple&&(s.defaultValue!=null?Su(i,!!s.multiple,s.defaultValue,!0):Su(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ah]=s}catch(T){_n(t,t.return,T)}}break;case 6:if(Bi(e,t),ps(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){_n(t,t.return,T)}}break;case 3:if(Bi(e,t),ps(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yh(e.containerInfo)}catch(T){_n(t,t.return,T)}break;case 4:Bi(e,t),ps(t);break;case 13:Bi(e,t),ps(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=In())),r&4&&v5(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_r=(h=_r)||d,Bi(e,t),_r=h):Bi(e,t),ps(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Ke=t,d=t.child;d!==null;){for(m=Ke=d;Ke!==null;){switch(_=Ke,g=_.child,_.tag){case 0:case 11:case 14:case 15:ih(4,_,_.return);break;case 1:wu(_,_.return);var P=_.stateNode;if(typeof P.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(T){_n(r,n,T)}}break;case 5:wu(_,_.return);break;case 22:if(_.memoizedState!==null){_5(m);continue}}g!==null?(g.return=_,Ke=g):_5(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V_("display",o))}catch(T){_n(t,t.return,T)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(T){_n(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Bi(e,t),ps(t),r&4&&v5(t);break;case 21:break;default:Bi(e,t),ps(t)}}function ps(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h4(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var s=g5(t);l1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g5(t);a1(t,a,o);break;default:throw Error(De(161))}}catch(l){_n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cI(t,e,n){Ke=t,p4(t)}function p4(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$f;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_r;a=$f;var h=_r;if($f=o,(_r=l)&&!h)for(Ke=i;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?w5(i):l!==null?(l.return=o,Ke=l):w5(i);for(;s!==null;)Ke=s,p4(s),s=s.sibling;Ke=i,$f=a,_r=h}y5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):y5(t)}}function y5(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_r||xp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_r)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&n5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}n5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&yh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}_r||e.flags&512&&o1(e)}catch(_){_n(e,e.return,_)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function _5(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function w5(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xp(4,e)}catch(l){_n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_n(e,i,l)}}var s=e.return;try{o1(e)}catch(l){_n(e,s,l)}break;case 5:var o=e.return;try{o1(e)}catch(l){_n(e,o,l)}}}catch(l){_n(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var hI=Math.ceil,Gd=ho.ReactCurrentDispatcher,j0=ho.ReactCurrentOwner,Ii=ho.ReactCurrentBatchConfig,Rt=0,Gn=null,Dn=null,nr=0,ii=0,Eu=La(0),Bn=0,xh=null,yl=0,kp=0,V0=0,sh=null,zr=null,B0=0,$u=1/0,Ks=null,Kd=!1,u1=null,da=null,Wf=!1,ia=null,Qd=0,oh=0,c1=null,fd=-1,dd=0;function Lr(){return Rt&6?In():fd!==-1?fd:fd=In()}function pa(t){return t.mode&1?Rt&2&&nr!==0?nr&-nr:KS.transition!==null?(dd===0&&(dd=X_()),dd):(t=qt,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function Ki(t,e,n,r){if(50<oh)throw oh=0,c1=null,Error(De(185));qh(t,n,r),(!(Rt&2)||t!==Gn)&&(t===Gn&&(!(Rt&2)&&(kp|=n),Bn===4&&Xo(t,nr)),Gr(t,r),n===1&&Rt===0&&!(e.mode&1)&&($u=In()+500,Tp&&Ca()))}function Gr(t,e){var n=t.callbackNode;KA(t,e);var r=Cd(t,t===Gn?nr:0);if(r===0)n!==null&&xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xv(n),e===1)t.tag===0?GS(E5.bind(null,t)):Sw(E5.bind(null,t)),qS(function(){!(Rt&6)&&Ca()}),n=null;else{switch(Z_(r)){case 1:n=f0;break;case 4:n=Y_;break;case 16:n=Ld;break;case 536870912:n=J_;break;default:n=Ld}n=b4(n,m4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m4(t,e){if(fd=-1,dd=0,Rt&6)throw Error(De(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=Cd(t,t===Gn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yd(t,r);else{e=r;var i=Rt;Rt|=2;var s=v4();(Gn!==t||nr!==e)&&(Ks=null,$u=In()+500,hl(t,e));do try{pI();break}catch(a){g4(t,a)}while(!0);I0(),Gd.current=s,Rt=i,Dn!==null?e=0:(Gn=null,nr=0,e=Bn)}if(e!==0){if(e===2&&(i=Mg(t),i!==0&&(r=i,e=h1(t,i))),e===1)throw n=xh,hl(t,0),Xo(t,r),Gr(t,In()),n;if(e===6)Xo(t,r);else{if(i=t.current.alternate,!(r&30)&&!fI(i)&&(e=Yd(t,r),e===2&&(s=Mg(t),s!==0&&(r=s,e=h1(t,s))),e===1))throw n=xh,hl(t,0),Xo(t,r),Gr(t,In()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:nl(t,zr,Ks);break;case 3:if(Xo(t,r),(r&130023424)===r&&(e=B0+500-In(),10<e)){if(Cd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wg(nl.bind(null,t,zr,Ks),e);break}nl(t,zr,Ks);break;case 4:if(Xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hI(r/1960))-r,10<r){t.timeoutHandle=Wg(nl.bind(null,t,zr,Ks),r);break}nl(t,zr,Ks);break;case 5:nl(t,zr,Ks);break;default:throw Error(De(329))}}}return Gr(t,In()),t.callbackNode===n?m4.bind(null,t):null}function h1(t,e){var n=sh;return t.current.memoizedState.isDehydrated&&(hl(t,e).flags|=256),t=Yd(t,e),t!==2&&(e=zr,zr=n,e!==null&&f1(e)),t}function f1(t){zr===null?zr=t:zr.push.apply(zr,t)}function fI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xo(t,e){for(e&=~V0,e&=~kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gi(e),r=1<<n;t[n]=-1,e&=~r}}function E5(t){if(Rt&6)throw Error(De(327));xu();var e=Cd(t,0);if(!(e&1))return Gr(t,In()),null;var n=Yd(t,e);if(t.tag!==0&&n===2){var r=Mg(t);r!==0&&(e=r,n=h1(t,r))}if(n===1)throw n=xh,hl(t,0),Xo(t,e),Gr(t,In()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nl(t,zr,Ks),Gr(t,In()),null}function U0(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&($u=In()+500,Tp&&Ca())}}function _l(t){ia!==null&&ia.tag===0&&!(Rt&6)&&xu();var e=Rt;Rt|=1;var n=Ii.transition,r=qt;try{if(Ii.transition=null,qt=1,t)return t()}finally{qt=r,Ii.transition=n,Rt=e,!(Rt&6)&&Ca()}}function z0(){ii=Eu.current,on(Eu)}function hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zS(n)),Dn!==null)for(n=Dn.return;n!==null;){var r=n;switch(b0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:zu(),on(Wr),on(br),L0();break;case 5:k0(r);break;case 4:zu();break;case 13:on(un);break;case 19:on(un);break;case 10:T0(r.type._context);break;case 22:case 23:z0()}n=n.return}if(Gn=t,Dn=t=ma(t.current,null),nr=ii=e,Bn=0,xh=null,V0=kp=yl=0,zr=sh=null,ll!==null){for(e=0;e<ll.length;e++)if(n=ll[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ll=null}return t}function g4(t,e){do{var n=Dn;try{if(I0(),ud.current=Hd,Wd){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wd=!1}if(vl=0,Wn=jn=cn=null,rh=!1,Th=0,j0.current=null,n===null||n.return===null){Bn=1,xh=e,Dn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=l5(o);if(g!==null){g.flags&=-257,u5(g,o,a,s,e),g.mode&1&&a5(s,h,e),e=g,l=h;var P=e.updateQueue;if(P===null){var T=new Set;T.add(l),e.updateQueue=T}else P.add(l);break e}else{if(!(e&1)){a5(s,h,e),q0();break e}l=Error(De(426))}}else if(an&&a.mode&1){var O=l5(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),u5(O,o,a,s,e),A0(qu(l,a));break e}}s=l=qu(l,a),Bn!==4&&(Bn=2),sh===null?sh=[s]:sh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Zw(s,l,e);t5(s,b);break e;case 1:a=l;var E=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(da===null||!da.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var W=e4(s,a,e);t5(s,W);break e}}s=s.return}while(s!==null)}_4(n)}catch(J){e=J,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(!0)}function v4(){var t=Gd.current;return Gd.current=Hd,t===null?Hd:t}function q0(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Gn===null||!(yl&268435455)&&!(kp&268435455)||Xo(Gn,nr)}function Yd(t,e){var n=Rt;Rt|=2;var r=v4();(Gn!==t||nr!==e)&&(Ks=null,hl(t,e));do try{dI();break}catch(i){g4(t,i)}while(!0);if(I0(),Rt=n,Gd.current=r,Dn!==null)throw Error(De(261));return Gn=null,nr=0,Bn}function dI(){for(;Dn!==null;)y4(Dn)}function pI(){for(;Dn!==null&&!VA();)y4(Dn)}function y4(t){var e=E4(t.alternate,t,ii);t.memoizedProps=t.pendingProps,e===null?_4(t):Dn=e,j0.current=null}function _4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aI(n,e),n!==null){n.flags&=32767,Dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,Dn=null;return}}else if(n=oI(n,e,ii),n!==null){Dn=n;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=t}while(e!==null);Bn===0&&(Bn=5)}function nl(t,e,n){var r=qt,i=Ii.transition;try{Ii.transition=null,qt=1,mI(t,e,n,r)}finally{Ii.transition=i,qt=r}return null}function mI(t,e,n,r){do xu();while(ia!==null);if(Rt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QA(t,s),t===Gn&&(Dn=Gn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wf||(Wf=!0,b4(Ld,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=qt;qt=1;var a=Rt;Rt|=4,j0.current=null,uI(t,n),d4(n,t),DS(qg),Rd=!!zg,qg=zg=null,t.current=n,cI(n),BA(),Rt=a,qt=o,Ii.transition=s}else t.current=n;if(Wf&&(Wf=!1,ia=t,Qd=i),s=t.pendingLanes,s===0&&(da=null),qA(n.stateNode),Gr(t,In()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kd)throw Kd=!1,t=u1,u1=null,t;return Qd&1&&t.tag!==0&&xu(),s=t.pendingLanes,s&1?t===c1?oh++:(oh=0,c1=t):oh=0,Ca(),null}function xu(){if(ia!==null){var t=Z_(Qd),e=Ii.transition,n=qt;try{if(Ii.transition=null,qt=16>t?16:t,ia===null)var r=!1;else{if(t=ia,ia=null,Qd=0,Rt&6)throw Error(De(331));var i=Rt;for(Rt|=4,Ke=t.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Ke=h;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:ih(8,d,s)}var m=d.child;if(m!==null)m.return=d,Ke=m;else for(;Ke!==null;){d=Ke;var _=d.sibling,g=d.return;if(c4(d),d===h){Ke=null;break}if(_!==null){_.return=g,Ke=_;break}Ke=g}}}var P=s.alternate;if(P!==null){var T=P.child;if(T!==null){P.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ih(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ke=b;break e}Ke=s.return}}var E=t.current;for(Ke=E;Ke!==null;){o=Ke;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Ke=C;else e:for(o=E;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xp(9,a)}}catch(J){_n(a,a.return,J)}if(a===o){Ke=null;break e}var W=a.sibling;if(W!==null){W.return=a.return,Ke=W;break e}Ke=a.return}}if(Rt=i,Ca(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Ep,t)}catch{}r=!0}return r}finally{qt=n,Ii.transition=e}}return!1}function b5(t,e,n){e=qu(n,e),e=Zw(t,e,1),t=fa(t,e,1),e=Lr(),t!==null&&(qh(t,1,e),Gr(t,e))}function _n(t,e,n){if(t.tag===3)b5(t,t,n);else for(;e!==null;){if(e.tag===3){b5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))){t=qu(n,t),t=e4(e,t,1),e=fa(e,t,1),t=Lr(),e!==null&&(qh(e,1,t),Gr(e,t));break}}e=e.return}}function gI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&n,Gn===t&&(nr&n)===n&&(Bn===4||Bn===3&&(nr&130023424)===nr&&500>In()-B0?hl(t,0):V0|=n),Gr(t,e)}function w4(t,e){e===0&&(t.mode&1?(e=Df,Df<<=1,!(Df&130023424)&&(Df=4194304)):e=1);var n=Lr();t=so(t,e),t!==null&&(qh(t,e,n),Gr(t,n))}function vI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w4(t,n)}function yI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),w4(t,n)}var E4;E4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)$r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $r=!1,sI(t,e,n);$r=!!(t.flags&131072)}else $r=!1,an&&e.flags&1048576&&Iw(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hd(t,e),t=e.pendingProps;var i=Vu(e,br.current);Nu(e,n),i=R0(null,e,r,t,i,n);var s=O0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(r)?(s=!0,jd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,N0(e),i.updater=Np,e.stateNode=i,i._reactInternals=e,Xg(e,r,t,n),e=t1(null,e,r,!0,s,n)):(e.tag=0,an&&s&&E0(e),kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wI(r),t=qi(r,t),i){case 0:e=e1(null,e,r,t,n);break e;case 1:e=f5(null,e,r,t,n);break e;case 11:e=c5(null,e,r,t,n);break e;case 14:e=h5(null,e,r,qi(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),e1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),f5(t,e,r,i,n);case 3:e:{if(i4(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lw(t,e),qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qu(Error(De(423)),e),e=d5(t,e,r,n,i);break e}else if(r!==i){i=qu(Error(De(424)),e),e=d5(t,e,r,n,i);break e}else for(si=ha(e.stateNode.containerInfo.firstChild),li=e,an=!0,Hi=null,n=xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bu(),r===i){e=oo(t,e,n);break e}kr(t,e,r,n)}e=e.child}return e;case 5:return Cw(e),t===null&&Qg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$g(r,i)?o=null:s!==null&&$g(r,s)&&(e.flags|=32),r4(t,e),kr(t,e,o,n),e.child;case 6:return t===null&&Qg(e),null;case 13:return s4(t,e,n);case 4:return x0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uu(e,null,r,n):kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),c5(t,e,r,i,n);case 7:return kr(t,e,e.pendingProps,n),e.child;case 8:return kr(t,e,e.pendingProps.children,n),e.child;case 12:return kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(Ud,r._currentValue),r._currentValue=o,s!==null)if(Yi(s.value,o)){if(s.children===i.children&&!Wr.current){e=oo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=no(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nu(e,n),i=Pi(i),r=r(i),e.flags|=1,kr(t,e,r,n),e.child;case 14:return r=e.type,i=qi(r,e.pendingProps),i=qi(r.type,i),h5(t,e,r,i,n);case 15:return t4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),hd(t,e),e.tag=1,Hr(r)?(t=!0,jd(e)):t=!1,Nu(e,n),Xw(e,r,i),Xg(e,r,i,n),t1(null,e,r,!0,t,n);case 19:return o4(t,e,n);case 22:return n4(t,e,n)}throw Error(De(156,e.tag))};function b4(t,e){return Q_(t,e)}function _I(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(t,e,n,r){return new _I(t,e,n,r)}function $0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wI(t){if(typeof t=="function")return $0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===u0)return 11;if(t===c0)return 14}return 2}function ma(t,e){var n=t.alternate;return n===null?(n=Si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hu:return fl(n.children,i,s,e);case l0:o=8,i|=8;break;case bg:return t=Si(12,n,e,i|2),t.elementType=bg,t.lanes=s,t;case Ag:return t=Si(13,n,e,i),t.elementType=Ag,t.lanes=s,t;case Sg:return t=Si(19,n,e,i),t.elementType=Sg,t.lanes=s,t;case C_:return Lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k_:o=10;break e;case L_:o=9;break e;case u0:o=11;break e;case c0:o=14;break e;case Qo:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=Si(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fl(t,e,n,r){return t=Si(7,t,r,e),t.lanes=n,t}function Lp(t,e,n,r){return t=Si(22,t,r,e),t.elementType=C_,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=Si(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=Si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W0(t,e,n,r,i,s,o,a,l){return t=new EI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Si(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(s),t}function bI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A4(t){if(!t)return Sa;t=t._reactInternals;e:{if(Pl(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(Hr(n))return Aw(t,n,e)}return e}function S4(t,e,n,r,i,s,o,a,l){return t=W0(n,r,!0,t,i,s,o,a,l),t.context=A4(null),n=t.current,r=Lr(),i=pa(n),s=no(r,i),s.callback=e??null,fa(n,s,i),t.current.lanes=i,qh(t,i,r),Gr(t,r),t}function Cp(t,e,n,r){var i=e.current,s=Lr(),o=pa(i);return n=A4(n),e.context===null?e.context=n:e.pendingContext=n,e=no(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fa(i,e,o),t!==null&&(Ki(t,i,o,s),ld(t,i,o)),o}function Jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function H0(t,e){A5(t,e),(t=t.alternate)&&A5(t,e)}function AI(){return null}var I4=typeof reportError=="function"?reportError:function(t){console.error(t)};function G0(t){this._internalRoot=t}Rp.prototype.render=G0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));Cp(t,e,null,null)};Rp.prototype.unmount=G0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_l(function(){Cp(null,t,null,null)}),e[io]=null}};function Rp(t){this._internalRoot=t}Rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jo.length&&e!==0&&e<Jo[n].priority;n++);Jo.splice(n,0,t),n===0&&iw(t)}};function K0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S5(){}function SI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Jd(o);s.call(h)}}var o=S4(e,r,t,0,null,!1,!1,"",S5);return t._reactRootContainer=o,t[io]=o.current,Eh(t.nodeType===8?t.parentNode:t),_l(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Jd(l);a.call(h)}}var l=W0(t,0,!1,null,null,!1,!1,"",S5);return t._reactRootContainer=l,t[io]=l.current,Eh(t.nodeType===8?t.parentNode:t),_l(function(){Cp(e,l,n,r)}),l}function Dp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jd(o);a.call(l)}}Cp(e,o,t,i)}else o=SI(n,e,t,i,r);return Jd(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$c(e.pendingLanes);n!==0&&(d0(e,n|1),Gr(e,In()),!(Rt&6)&&($u=In()+500,Ca()))}break;case 13:_l(function(){var r=so(t,1);if(r!==null){var i=Lr();Ki(r,t,1,i)}}),H0(t,1)}};p0=function(t){if(t.tag===13){var e=so(t,134217728);if(e!==null){var n=Lr();Ki(e,t,134217728,n)}H0(t,134217728)}};tw=function(t){if(t.tag===13){var e=pa(t),n=so(t,e);if(n!==null){var r=Lr();Ki(n,t,e,r)}H0(t,e)}};nw=function(){return qt};rw=function(t,e){var n=qt;try{return qt=t,e()}finally{qt=n}};Og=function(t,e,n){switch(e){case"input":if(Pg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ip(r);if(!i)throw Error(De(90));O_(r),Pg(r,i)}}}break;case"textarea":F_(t,n);break;case"select":e=n.value,e!=null&&Su(t,!!n.multiple,e,!1)}};q_=U0;$_=_l;var II={usingClientEntryPoint:!1,Events:[Wh,mu,Ip,U_,z_,U0]},jc={findFiberByHostInstance:al,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G_(t),t===null?null:t.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{Ep=Hf.inject(TI),_s=Hf}catch{}}ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II;ci.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K0(e))throw Error(De(200));return bI(t,e,null,n)};ci.createRoot=function(t,e){if(!K0(t))throw Error(De(299));var n=!1,r="",i=I4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W0(t,1,!1,null,null,n,!1,r,i),t[io]=e.current,Eh(t.nodeType===8?t.parentNode:t),new G0(e)};ci.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=G_(e),t=t===null?null:t.stateNode,t};ci.flushSync=function(t){return _l(t)};ci.hydrate=function(t,e,n){if(!Op(e))throw Error(De(200));return Dp(null,t,e,!0,n)};ci.hydrateRoot=function(t,e,n){if(!K0(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=S4(e,null,t,1,n??null,i,!1,s,o),t[io]=e.current,Eh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rp(e)};ci.render=function(t,e,n){if(!Op(e))throw Error(De(200));return Dp(null,t,e,!1,n)};ci.unmountComponentAtNode=function(t){if(!Op(t))throw Error(De(40));return t._reactRootContainer?(_l(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[io]=null})}),!0):!1};ci.unstable_batchedUpdates=U0;ci.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Op(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Dp(t,e,n,!1,r)};ci.version="18.3.1-next-f1338f8080-20240426";function T4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T4)}catch(t){console.error(t)}}T4(),T_.exports=ci;var PI=T_.exports,I5=PI;wg.createRoot=I5.createRoot,wg.hydrateRoot=I5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}var sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sa||(sa={}));const T5="popstate";function NI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return d1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xd(i)}return kI(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xI(){return Math.random().toString(36).substr(2,8)}function P5(t,e){return{usr:t.state,key:t.key,idx:e}}function d1(t,e,n,r){return n===void 0&&(n=null),kh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ic(e):e,{state:n,key:e&&e.key||r||xI()})}function Xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=sa.Pop,l=null,h=d();h==null&&(h=0,o.replaceState(kh({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function m(){a=sa.Pop;let O=d(),b=O==null?null:O-h;h=O,l&&l({action:a,location:T.location,delta:b})}function _(O,b){a=sa.Push;let E=d1(T.location,O,b);h=d()+1;let C=P5(E,h),W=T.createHref(E);try{o.pushState(C,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(W)}s&&l&&l({action:a,location:T.location,delta:1})}function g(O,b){a=sa.Replace;let E=d1(T.location,O,b);h=d();let C=P5(E,h),W=T.createHref(E);o.replaceState(C,"",W),s&&l&&l({action:a,location:T.location,delta:0})}function P(O){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof O=="string"?O:Xd(O);return E=E.replace(/ $/,"%20"),hn(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let T={get action(){return a},get location(){return t(i,o)},listen(O){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(T5,m),l=O,()=>{i.removeEventListener(T5,m),l=null}},createHref(O){return e(i,O)},createURL:P,encodeLocation(O){let b=P(O);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:g,go(O){return o.go(O)}};return T}var N5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N5||(N5={}));function LI(t,e,n){return n===void 0&&(n="/"),CI(t,e,n)}function CI(t,e,n,r){let i=typeof e=="string"?ic(e):e,s=Wu(i.pathname||"/",n);if(s==null)return null;let o=N4(t);RI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let h=$I(s);a=zI(o[l],h)}return a}function N4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=ga([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),N4(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:BI(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of x4(s.path))i(s,o,l)}),e}function x4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=x4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OI=/^:[\w-]+$/,DI=3,FI=2,MI=1,jI=10,VI=-2,x5=t=>t==="*";function BI(t,e){let n=t.split("/"),r=n.length;return n.some(x5)&&(r+=VI),e&&(r+=FI),n.filter(i=>!x5(i)).reduce((i,s)=>i+(OI.test(s)?DI:s===""?MI:jI),r)}function UI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],h=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},d),_=l.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ga([s,m.pathname]),pathnameBase:KI(ga([s,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(s=ga([s,m.pathnameBase]))}return o}function p1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,d,m)=>{let{paramName:_,isOptional:g}=d;if(_==="*"){let T=a[m]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const P=a[m];return g&&!P?h[_]=void 0:h[_]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function qI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $I(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ic(t):t;return{pathname:n?n.startsWith("/")?n:HI(n,e):e,search:QI(r),hash:YI(i)}}function HI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q0(t,e){let n=GI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ic(t):(i=kh({},t),hn(!i.pathname||!i.pathname.includes("?"),Zm("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),Zm("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),Zm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),m-=1;i.pathname=_.join("/")}a=m>=0?e[m]:"/"}let l=WI(i,a),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}const ga=t=>t.join("/").replace(/\/\/+/g,"/"),KI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k4=["post","put","patch","delete"];new Set(k4);const XI=["get",...k4];new Set(XI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}const Fp=ke.createContext(null),L4=ke.createContext(null),fo=ke.createContext(null),Mp=ke.createContext(null),po=ke.createContext({outlet:null,matches:[],isDataRoute:!1}),C4=ke.createContext(null);function ZI(t,e){let{relative:n}=e===void 0?{}:e;sc()||hn(!1);let{basename:r,navigator:i}=ke.useContext(fo),{hash:s,pathname:o,search:a}=Vp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ga([r,o])),i.createHref({pathname:l,search:a,hash:s})}function sc(){return ke.useContext(Mp)!=null}function oc(){return sc()||hn(!1),ke.useContext(Mp).location}function R4(t){ke.useContext(fo).static||ke.useLayoutEffect(t)}function jp(){let{isDataRoute:t}=ke.useContext(po);return t?pT():eT()}function eT(){sc()||hn(!1);let t=ke.useContext(Fp),{basename:e,future:n,navigator:r}=ke.useContext(fo),{matches:i}=ke.useContext(po),{pathname:s}=oc(),o=JSON.stringify(Q0(i,n.v7_relativeSplatPath)),a=ke.useRef(!1);return R4(()=>{a.current=!0}),ke.useCallback(function(h,d){if(d===void 0&&(d={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let m=Y0(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ga([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,s,t])}const tT=ke.createContext(null);function nT(t){let e=ke.useContext(po).outlet;return e&&ke.createElement(tT.Provider,{value:t},e)}function Vp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ke.useContext(fo),{matches:i}=ke.useContext(po),{pathname:s}=oc(),o=JSON.stringify(Q0(i,r.v7_relativeSplatPath));return ke.useMemo(()=>Y0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rT(t,e){return iT(t,e)}function iT(t,e,n,r){sc()||hn(!1);let{navigator:i}=ke.useContext(fo),{matches:s}=ke.useContext(po),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=oc(),d;if(e){var m;let O=typeof e=="string"?ic(e):e;l==="/"||(m=O.pathname)!=null&&m.startsWith(l)||hn(!1),d=O}else d=h;let _=d.pathname||"/",g=_;if(l!=="/"){let O=l.replace(/^\//,"").split("/");g="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=LI(t,{pathname:g}),T=uT(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},a,O.params),pathname:ga([l,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?l:ga([l,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&T?ke.createElement(Mp.Provider,{value:{location:Lh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sa.Pop}},T):T}function sT(){let t=dT(),e=JI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ke.createElement(ke.Fragment,null,ke.createElement("h2",null,"Unexpected Application Error!"),ke.createElement("h3",{style:{fontStyle:"italic"}},e),n?ke.createElement("pre",{style:i},n):null,null)}const oT=ke.createElement(sT,null);class aT extends ke.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ke.createElement(po.Provider,{value:this.props.routeContext},ke.createElement(C4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lT(t){let{routeContext:e,match:n,children:r}=t,i=ke.useContext(Fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ke.createElement(po.Provider,{value:e},r)}function uT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);d>=0||hn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:g}=n,P=m.route.loader&&_[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||P){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,_)=>{let g,P=!1,T=null,O=null;n&&(g=a&&m.route.id?a[m.route.id]:void 0,T=m.route.errorElement||oT,l&&(h<0&&_===0?(mT("route-fallback"),P=!0,O=null):h===_&&(P=!0,O=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,_+1)),E=()=>{let C;return g?C=T:P?C=O:m.route.Component?C=ke.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,ke.createElement(lT,{match:m,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?ke.createElement(aT,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var O4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O4||{}),D4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D4||{});function cT(t){let e=ke.useContext(Fp);return e||hn(!1),e}function hT(t){let e=ke.useContext(L4);return e||hn(!1),e}function fT(t){let e=ke.useContext(po);return e||hn(!1),e}function F4(t){let e=fT(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function dT(){var t;let e=ke.useContext(C4),n=hT(),r=F4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pT(){let{router:t}=cT(O4.UseNavigateStable),e=F4(D4.UseNavigateStable),n=ke.useRef(!1);return R4(()=>{n.current=!0}),ke.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lh({fromRouteId:e},s)))},[t,e])}const k5={};function mT(t,e,n){k5[t]||(k5[t]=!0)}function gT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function m1(t){let{to:e,replace:n,state:r,relative:i}=t;sc()||hn(!1);let{future:s,static:o}=ke.useContext(fo),{matches:a}=ke.useContext(po),{pathname:l}=oc(),h=jp(),d=Y0(e,Q0(a,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(d);return ke.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function vT(t){return nT(t.context)}function rl(t){hn(!1)}function yT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=sa.Pop,navigator:s,static:o=!1,future:a}=t;sc()&&hn(!1);let l=e.replace(/^\/*/,"/"),h=ke.useMemo(()=>({basename:l,navigator:s,static:o,future:Lh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ic(r));let{pathname:d="/",search:m="",hash:_="",state:g=null,key:P="default"}=r,T=ke.useMemo(()=>{let O=Wu(d,l);return O==null?null:{location:{pathname:O,search:m,hash:_,state:g,key:P},navigationType:i}},[l,d,m,_,g,P,i]);return T==null?null:ke.createElement(fo.Provider,{value:h},ke.createElement(Mp.Provider,{children:n,value:T}))}function _T(t){let{children:e,location:n}=t;return rT(g1(e),n)}new Promise(()=>{});function g1(t,e){e===void 0&&(e=[]);let n=[];return ke.Children.forEach(t,(r,i)=>{if(!ke.isValidElement(r))return;let s=[...e,i];if(r.type===ke.Fragment){n.push.apply(n,g1(r.props.children,s));return}r.type!==rl&&hn(!1),!r.props.index||!r.props.children||hn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=g1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ET(t,e){return t.button===0&&(!e||e==="_self")&&!wT(t)}const bT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ST="6";try{window.__reactRouterVersion=ST}catch{}const IT=ke.createContext({isTransitioning:!1}),TT="startTransition",L5=gA[TT];function PT(t){let{basename:e,children:n,future:r,window:i}=t,s=ke.useRef();s.current==null&&(s.current=NI({window:i,v5Compat:!0}));let o=s.current,[a,l]=ke.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},d=ke.useCallback(m=>{h&&L5?L5(()=>l(m)):l(m)},[l,h]);return ke.useLayoutEffect(()=>o.listen(d),[o,d]),ke.useEffect(()=>gT(r),[r]),ke.createElement(yT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kT=ke.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:d,viewTransition:m}=e,_=M4(e,bT),{basename:g}=ke.useContext(fo),P,T=!1;if(typeof h=="string"&&xT.test(h)&&(P=h,NT))try{let C=new URL(window.location.href),W=h.startsWith("//")?new URL(C.protocol+h):new URL(h),J=Wu(W.pathname,g);W.origin===C.origin&&J!=null?h=J+W.search+W.hash:T=!0}catch{}let O=ZI(h,{relative:i}),b=CT(h,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:m});function E(C){r&&r(C),C.defaultPrevented||b(C)}return ke.createElement("a",Zd({},_,{href:P||O,onClick:T||s?r:E,ref:n,target:l}))}),C5=ke.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:h,children:d}=e,m=M4(e,AT),_=Vp(l,{relative:m.relative}),g=oc(),P=ke.useContext(L4),{navigator:T,basename:O}=ke.useContext(fo),b=P!=null&&RT(_)&&h===!0,E=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,C=g.pathname,W=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(C=C.toLowerCase(),W=W?W.toLowerCase():null,E=E.toLowerCase()),W&&O&&(W=Wu(W,O)||W);const J=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let oe=C===E||!o&&C.startsWith(E)&&C.charAt(J)==="/",D=W!=null&&(W===E||!o&&W.startsWith(E)&&W.charAt(E.length)==="/"),S={isActive:oe,isPending:D,isTransitioning:b},F=oe?r:void 0,U;typeof s=="function"?U=s(S):U=[s,oe?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(S):a;return ke.createElement(kT,Zd({},m,{"aria-current":F,className:U,ref:n,style:I,to:l,viewTransition:h}),typeof d=="function"?d(S):d)});var v1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v1||(v1={}));var R5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(R5||(R5={}));function LT(t){let e=ke.useContext(Fp);return e||hn(!1),e}function CT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=jp(),h=oc(),d=Vp(t,{relative:o});return ke.useCallback(m=>{if(ET(m,n)){m.preventDefault();let _=r!==void 0?r:Xd(h)===Xd(d);l(t,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[h,l,d,r,i,n,t,s,o,a])}function RT(t,e){e===void 0&&(e={});let n=ke.useContext(IT);n==null&&hn(!1);let{basename:r}=LT(v1.useViewTransitionState),i=Vp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Wu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return p1(i.pathname,o)!=null||p1(i.pathname,s)!=null}var O5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|a>>4;let _=(a&15)<<2|h>>6,g=h&63;l||(g=64,o||(_=64)),r.push(n[d],n[m],n[_],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||m==null)throw new DT;const _=s<<2|a>>4;if(r.push(_),h!==64){const g=a<<4&240|h>>2;if(r.push(g),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FT=function(t){const e=j4(t);return V4.encodeByteArray(e,!0)},ep=function(t){return FT(t).replace(/\./g,"")},B4=function(t){try{return V4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=()=>MT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof O5>"u")return;const t=O5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B4(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return jT()||VT()||BT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U4=t=>{var e,n;return(n=(e=Bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UT=t=>{const e=U4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},z4=()=>{var t;return(t=Bp())===null||t===void 0?void 0:t.config},q4=t=>{var e;return(e=Bp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ep(JSON.stringify(n)),ep(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function WT(){var t;const e=(t=Bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QT(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YT(){return!WT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZT,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gh.prototype.create)}}class Gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?e6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mo(i,a,r)}}function e6(t,e){return t.replace(t6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t6=/\{\$([^}]+)}/g;function n6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D5(s)&&D5(o)){if(!tp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function r6(t,e){const n=new i6(t,e);return n.subscribe.bind(n)}class i6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eg),i.error===void 0&&(i.error=eg),i.complete===void 0&&(i.complete=eg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l6(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a6(t){return t===il?void 0:t}function l6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const c6={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},h6=Pt.INFO,f6={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},d6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J0{constructor(e){this.name=e,this._logLevel=h6,this._logHandler=d6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const p6=(t,e)=>e.some(n=>t instanceof n);let F5,M5;function m6(){return F5||(F5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g6(){return M5||(M5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $4=new WeakMap,y1=new WeakMap,W4=new WeakMap,tg=new WeakMap,X0=new WeakMap;function v6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(va(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$4.set(n,t)}).catch(()=>{}),X0.set(e,t),e}function y6(t){if(y1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});y1.set(t,e)}let _1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _6(t){_1=t(_1)}function w6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return W4.set(r,e.sort?e.sort():[e]),va(r)}:g6().includes(t)?function(...e){return t.apply(ng(this),e),va($4.get(this))}:function(...e){return va(t.apply(ng(this),e))}}function E6(t){return typeof t=="function"?w6(t):(t instanceof IDBTransaction&&y6(t),p6(t,m6())?new Proxy(t,_1):t)}function va(t){if(t instanceof IDBRequest)return v6(t);if(tg.has(t))return tg.get(t);const e=E6(t);return e!==t&&(tg.set(t,e),X0.set(e,t)),e}const ng=t=>X0.get(t);function b6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=va(o);return r&&o.addEventListener("upgradeneeded",l=>{r(va(o.result),l.oldVersion,l.newVersion,va(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const A6=["get","getKey","getAll","getAllKeys","count"],S6=["put","add","delete","clear"],rg=new Map;function j5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return rg.set(e,s),s}_6(t=>({...t,get:(e,n,r)=>j5(e,n)||t.get(e,n,r),has:(e,n)=>!!j5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function T6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const w1="@firebase/app",V5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new J0("@firebase/app"),P6="@firebase/app-compat",N6="@firebase/analytics-compat",x6="@firebase/analytics",k6="@firebase/app-check-compat",L6="@firebase/app-check",C6="@firebase/auth",R6="@firebase/auth-compat",O6="@firebase/database",D6="@firebase/data-connect",F6="@firebase/database-compat",M6="@firebase/functions",j6="@firebase/functions-compat",V6="@firebase/installations",B6="@firebase/installations-compat",U6="@firebase/messaging",z6="@firebase/messaging-compat",q6="@firebase/performance",$6="@firebase/performance-compat",W6="@firebase/remote-config",H6="@firebase/remote-config-compat",G6="@firebase/storage",K6="@firebase/storage-compat",Q6="@firebase/firestore",Y6="@firebase/vertexai-preview",J6="@firebase/firestore-compat",X6="firebase",Z6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="[DEFAULT]",eP={[w1]:"fire-core",[P6]:"fire-core-compat",[x6]:"fire-analytics",[N6]:"fire-analytics-compat",[L6]:"fire-app-check",[k6]:"fire-app-check-compat",[C6]:"fire-auth",[R6]:"fire-auth-compat",[O6]:"fire-rtdb",[D6]:"fire-data-connect",[F6]:"fire-rtdb-compat",[M6]:"fire-fn",[j6]:"fire-fn-compat",[V6]:"fire-iid",[B6]:"fire-iid-compat",[U6]:"fire-fcm",[z6]:"fire-fcm-compat",[q6]:"fire-perf",[$6]:"fire-perf-compat",[W6]:"fire-rc",[H6]:"fire-rc-compat",[G6]:"fire-gcs",[K6]:"fire-gcs-compat",[Q6]:"fire-fst",[J6]:"fire-fst-compat",[Y6]:"fire-vertex","fire-js":"fire-js",[X6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Map,tP=new Map,b1=new Map;function B5(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hu(t){const e=t.name;if(b1.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;b1.set(e,t);for(const n of np.values())B5(n,t);for(const n of tP.values())B5(n,t);return!0}function Z0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Gh("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=Z6;function H4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:E1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ya.create("bad-app-name",{appName:String(i)});if(n||(n=z4()),!n)throw ya.create("no-options");const s=np.get(i);if(s){if(tp(n,s.options)&&tp(r,s.config))return s;throw ya.create("duplicate-app",{appName:i})}const o=new u6(i);for(const l of b1.values())o.addComponent(l);const a=new rP(n,r,o);return np.set(i,a),a}function G4(t=E1){const e=np.get(t);if(!e&&t===E1&&z4())return H4();if(!e)throw ya.create("no-app",{appName:t});return e}function _a(t,e,n){var r;let i=(r=eP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(a.join(" "));return}Hu(new wl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",sP=1,Ch="firebase-heartbeat-store";let ig=null;function K4(){return ig||(ig=b6(iP,sP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw ya.create("idb-open",{originalErrorMessage:t.message})})),ig}async function oP(t){try{const n=(await K4()).transaction(Ch),r=await n.objectStore(Ch).get(Q4(t));return await n.done,r}catch(e){if(e instanceof mo)ao.warn(e.message);else{const n=ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(n.message)}}}async function U5(t,e){try{const r=(await K4()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,Q4(t)),await r.done}catch(n){if(n instanceof mo)ao.warn(n.message);else{const r=ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ao.warn(r.message)}}}function Q4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1024,lP=30*24*60*60*1e3;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ao.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z5(),{heartbeatsToSend:r,unsentEntries:i}=cP(this._heartbeatsCache.heartbeats),s=ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ao.warn(n),""}}}function z5(){return new Date().toISOString().substring(0,10)}function cP(t,e=aP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q5(t){return ep(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){Hu(new wl("platform-logger",e=>new I6(e),"PRIVATE")),Hu(new wl("heartbeat",e=>new uP(e),"PRIVATE")),_a(w1,V5,t),_a(w1,V5,"esm2017"),_a("fire-js","")}fP("");function e2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dP=Y4,J4=new Gh("auth","Firebase",Y4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new J0("@firebase/auth");function pP(t,...e){rp.logLevel<=Pt.WARN&&rp.warn(`Auth (${ac}): ${t}`,...e)}function md(t,...e){rp.logLevel<=Pt.ERROR&&rp.error(`Auth (${ac}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,...e){throw t2(t,...e)}function Es(t,...e){return t2(t,...e)}function X4(t,e,n){const r=Object.assign(Object.assign({},dP()),{[e]:n});return new Gh("auth","Firebase",r).create(e,{appName:t.name})}function wa(t){return X4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J4.create(t,...e)}function ht(t,e,...n){if(!t)throw t2(e,...n)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function lo(t,e){t||Zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mP(){return $5()==="http:"||$5()==="https:"}function $5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mP()||GT()||"connection"in navigator)?navigator.onLine:!0}function vP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,lo(n>e,"Short delay should be less than long delay!"),this.isMobile=$T()||KT()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Qh(3e4,6e4);function Nl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ra(t,e,n,r,i={}){return e3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Kh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},s);return HT()||(h.referrerPolicy="no-referrer"),Z4.fetch()(t3(t,t.config.apiHost,n,a),h)})}async function e3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yP),e);try{const i=new EP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw X4(t,d,h);Ji(t,d)}}catch(i){if(i instanceof mo)throw i;Ji(t,"network-request-failed",{message:String(i)})}}async function Up(t,e,n,r,i={}){const s=await Ra(t,e,n,r,i);return"mfaPendingCredential"in s&&Ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}function t3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?n2(t.config,i):`${t.config.apiScheme}://${i}`}function wP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Es(this.auth,"network-request-failed")),_P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Es(t,e,r);return i.customData._tokenResponse=n,i}function W5(t){return t!==void 0&&t.enterprise!==void 0}class bP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function AP(t,e){return Ra(t,"GET","/v2/recaptchaConfig",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){return Ra(t,"POST","/v1/accounts:delete",e)}async function n3(t,e){return Ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IP(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=r2(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ah(sg(i.auth_time)),issuedAtTime:ah(sg(i.iat)),expirationTime:ah(sg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function r2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const i=B4(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function H5(t){const e=r2(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mo&&TP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rh(t,n3(n,{idToken:r}));ht(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r3(s.providerUserInfo):[],a=xP(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S1(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function NP(t){const e=sr(t);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r3(t){return t.map(e=>{var{providerId:n}=e,r=e2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t,e){const n=await e3(t,{},async()=>{const r=Kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=t3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Z4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LP(t,e){return Ra(t,"POST","/v2/accounts:revokeToken",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=H5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ku;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=e2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rh(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IP(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xs(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Rh(this,SP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,O=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:W,isAnonymous:J,providerData:oe,stsTokenManager:D}=n;ht(C&&D,e,"internal-error");const S=ku.fromJSON(this.name,D);ht(typeof C=="string",e,"internal-error"),Ho(m,e.name),Ho(_,e.name),ht(typeof W=="boolean",e,"internal-error"),ht(typeof J=="boolean",e,"internal-error"),Ho(g,e.name),Ho(P,e.name),Ho(T,e.name),Ho(O,e.name),Ho(b,e.name),Ho(E,e.name);const F=new eo({uid:C,auth:e,email:_,emailVerified:W,displayName:m,isAnonymous:J,photoURL:P,phoneNumber:g,tenantId:T,stsTokenManager:S,createdAt:b,lastLoginAt:E});return oe&&Array.isArray(oe)&&(F.providerData=oe.map(U=>Object.assign({},U))),O&&(F._redirectEventId=O),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new ku;i.updateFromServerResponse(n);const s=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ip(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?r3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ku;a.updateFromIdToken(r);const l=new eo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Map;function to(t){lo(t instanceof Function,"Expected a class definition");let e=G5.get(t);return e?(lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i3.type="NONE";const K5=i3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gd(this.userKey,i.apiKey,s),this.fullPersistenceKey=gd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lu(to(K5),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||to(K5);const o=gd(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const d=await h._get(o);if(d){const m=eo._fromJSON(e,d);h!==s&&(a=m),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Lu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Lu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c3(e))return"Blackberry";if(h3(e))return"Webos";if(o3(e))return"Safari";if((e.includes("chrome/")||a3(e))&&!e.includes("edge/"))return"Chrome";if(u3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function s3(t=Ar()){return/firefox\//i.test(t)}function o3(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a3(t=Ar()){return/crios\//i.test(t)}function l3(t=Ar()){return/iemobile/i.test(t)}function u3(t=Ar()){return/android/i.test(t)}function c3(t=Ar()){return/blackberry/i.test(t)}function h3(t=Ar()){return/webos/i.test(t)}function i2(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CP(t=Ar()){var e;return i2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RP(){return QT()&&document.documentMode===10}function f3(t=Ar()){return i2(t)||u3(t)||h3(t)||c3(t)||/windows phone/i.test(t)||l3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e=[]){let n;switch(t){case"Browser":n=Q5(Ar());break;case"Worker":n=`${Q5(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e={}){return Ra(t,"GET","/v2/passwordPolicy",Nl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=6;class MP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y5(this),this.idTokenSubscription=new Y5(this),this.beforeStateQueue=new OP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=to(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n3(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xs(this.app))return Promise.reject(wa(this));const n=e?sr(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xs(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xs(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DP(this),n=new MP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&to(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[to(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lc(t){return sr(t)}class Y5{constructor(e){this.auth=e,this.observer=null,this.addObserver=r6(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VP(t){zp=t}function p3(t){return zp.loadJS(t)}function BP(){return zp.recaptchaEnterpriseScript}function UP(){return zp.gapiScript}function zP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qP="recaptcha-enterprise",$P="NO_RECAPTCHA";class WP{constructor(e){this.type=qP,this.auth=lc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new bP(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;W5(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o($P)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&W5(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BP();l.length!==0&&(l+=a),p3(l).then(()=>{i(a,s,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function J5(t,e,n,r=!1){const i=new WP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function X5(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await J5(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await J5(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){const n=Z0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tp(s,e??{}))return i;Ji(i,"already-initialized")}return n.initialize({options:e})}function GP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(to);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KP(t,e,n){const r=lc(t);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=m3(e),{host:o,port:a}=QP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),YP()}function m3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QP(t){const e=m3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Z5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Z5(o)}}}function Z5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,n){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function JP(t,e){return Ra(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){return Up(t,"POST","/v1/accounts:signInWithPassword",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){return Up(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,e))}async function eN(t,e){return Up(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends s2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X5(e,n,"signInWithPassword",XP);case"emailLink":return ZP(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X5(e,r,"signUpPassword",JP);case"emailLink":return eN(e,{idToken:n,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t,e){return Up(t,"POST","/v1/accounts:signInWithIdp",Nl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class El extends s2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=e2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new El(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cu(e,n)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(t){const e=Hc(Gc(t)).link,n=e?Hc(Gc(e)).deep_link_id:null,r=Hc(Gc(t)).deep_link_id;return(r?Hc(Gc(r)).link:null)||r||n||e||t}class o2{constructor(e){var n,r,i,s,o,a;const l=Hc(Gc(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,m=nN((i=l.mode)!==null&&i!==void 0?i:null);ht(h&&d&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rN(e);try{return new o2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.providerId=uc.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=o2.parseLink(n);return ht(r,"argument-error"),Oh._fromEmailAndCode(e,r.code,r.tenantId)}}uc.PROVIDER_ID="password";uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends g3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Yh{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ea.credential(n,r)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Yh{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Yh{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return na.credential(n,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await eo._fromIdTokenResponse(e,r,i),o=ey(r);return new Gu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ey(r);return new Gu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ey(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends mo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sp(e,n,r,i)}}function v3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(t,s,e,r):s})}async function iN(t,e,n=!1){const r=await Rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e,n=!1){const{auth:r}=t;if(Xs(r.app))return Promise.reject(wa(r));const i="reauthenticate";try{const s=await Rh(t,v3(r,i,e,t),n);ht(s.idToken,r,"internal-error");const o=r2(s.idToken);ht(o,r,"internal-error");const{sub:a}=o;return ht(t.uid===a,r,"user-mismatch"),Gu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ji(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e,n=!1){if(Xs(t.app))return Promise.reject(wa(t));const r="signIn",i=await v3(t,r,e),s=await Gu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oN(t,e){return y3(lc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t){const e=lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lN(t,e,n){return Xs(t.app)?Promise.reject(wa(t)):oN(sr(t),uc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aN(t),r})}function uN(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function hN(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function fN(t){return sr(t).signOut()}const op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1e3,pN=10;class w3 extends _3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w3.type="LOCAL";const mN=w3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3 extends _3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E3.type="SESSION";const b3=E3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await gN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=a2("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function yN(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function _N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EN(){return A3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebaseLocalStorageDb",bN=1,ap="firebaseLocalStorage",I3="fbase_key";class Jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $p(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function AN(){const t=indexedDB.deleteDatabase(S3);return new Jh(t).toPromise()}function I1(){const t=indexedDB.open(S3,bN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ap,{keyPath:I3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),await AN(),e(await I1()))})})}async function ty(t,e,n){const r=$p(t,!0).put({[I3]:e,value:n});return new Jh(r).toPromise()}async function SN(t,e){const n=$p(t,!1).get(e),r=await new Jh(n).toPromise();return r===void 0?null:r.value}function ny(t,e){const n=$p(t,!0).delete(e);return new Jh(n).toPromise()}const IN=800,TN=3;class T3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qp._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I1();return await ty(e,op,"1"),await ny(e,op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ty(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ny(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$p(i,!1).getAll();return new Jh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T3.type="LOCAL";const PN=T3;new Qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){return e?to(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends s2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xN(t){return y3(t.auth,new l2(t),t.bypassAuthState)}function kN(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),sN(n,new l2(t),t.bypassAuthState)}async function LN(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),iN(n,new l2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:Ji(this.auth,"internal-error")}}resolve(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Qh(2e3,1e4);class bu extends P3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){lo(this.filter.length===1,"Popup operations only handle one event");const e=a2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CN.get())};e()}}bu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",vd=new Map;class ON extends P3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await DN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DN(t,e){const n=jN(e),r=MN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FN(t,e){vd.set(t._key(),e)}function MN(t){return to(t._redirectPersistence)}function jN(t){return gd(RN,t.config.apiKey,t.name)}async function VN(t,e,n=!1){if(Xs(t.app))return Promise.reject(wa(t));const r=lc(t),i=NN(r,e),o=await new ON(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=10*60*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ry(e))}saveEventToCache(e){this.cachedEventUids.add(ry(e)),this.lastProcessedEventTime=Date.now()}}function ry(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e={}){return Ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function HN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qN(t);for(const n of e)try{if(GN(n))return}catch{}Ji(t,"unauthorized-domain")}function GN(t){const e=A1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WN.test(n))return!1;if($N.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new Qh(3e4,6e4);function iy(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QN(t){return new Promise((e,n)=>{var r,i,s;function o(){iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iy(),n(Es(t,"network-request-failed"))},timeout:KN.get()})}if(!((i=(r=bs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bs().gapi)===null||s===void 0)&&s.load)o();else{const a=zP("iframefcb");return bs()[a]=()=>{gapi.load?o():n(Es(t,"network-request-failed"))},p3(`${UP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function YN(t){return yd=yd||QN(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Qh(5e3,15e3),XN="__/auth/iframe",ZN="emulator/auth/iframe",ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nx(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n2(e,ZN):`https://${t.config.authDomain}/${XN}`,r={apiKey:e.apiKey,appName:t.name,v:ac},i=tx.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kh(r).slice(1)}`}async function rx(t){const e=await YN(t),n=bs().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:nx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ex,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Es(t,"network-request-failed"),a=bs().setTimeout(()=>{s(o)},JN.get());function l(){bs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sx=500,ox=600,ax="_blank",lx="http://localhost";class sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ux(t,e,n,r=sx,i=ox){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ix),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Ar().toLowerCase();n&&(a=a3(h)?ax:n),s3(h)&&(e=e||lx,l.scrollbars="yes");const d=Object.entries(l).reduce((_,[g,P])=>`${_}${g}=${P},`,"");if(CP(h)&&a!=="_self")return cx(e||"",a),new sy(null);const m=window.open(e||"",a,d);ht(m,t,"popup-blocked");try{m.focus()}catch{}return new sy(m)}function cx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="__/auth/handler",fx="emulator/auth/handler",dx=encodeURIComponent("fac");async function oy(t,e,n,r,i,s){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ac,eventId:i};if(e instanceof g3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof Yh){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),h=l?`#${dx}=${encodeURIComponent(l)}`:"";return`${px(t)}?${Kh(a).slice(1)}${h}`}function px({config:t}){return t.emulator?n2(t,fx):`https://${t.authDomain}/${hx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b3,this._completeRedirectFn=VN,this._overrideRedirectResult=FN}async _openPopup(e,n,r,i){var s;lo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await oy(e,n,r,A1(),i);return ux(e,o,a2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await oy(e,n,r,A1(),i);return yN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(lo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rx(e),r=new UN(e);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[og];o!==void 0&&n(!!o),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f3()||o3()||i2()}}const gx=mx;var ay="@firebase/auth",ly="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _x(t){Hu(new wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d3(t)},h=new jP(r,i,s,l);return GP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hu(new wl("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new vx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(ay,ly,yx(t)),_a(ay,ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=5*60,Ex=q4("authIdTokenMaxAge")||wx;let uy=null;const bx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ex)return;const i=n==null?void 0:n.token;uy!==i&&(uy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ax(t=G4()){const e=Z0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HP(t,{popupRedirectResolver:gx,persistence:[PN,mN,b3]}),r=q4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=bx(s.toString());cN(n,o,()=>o(n.currentUser)),uN(n,a=>o(a))}}const i=U4("auth");return i&&KP(n,`http://${i}`),n}function Sx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Es("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Sx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_x("Browser");var Ix="firebase",Tx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(Ix,Tx,"app");var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dl,x3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function F(){}F.prototype=S.prototype,D.D=S.prototype,D.prototype=new F,D.prototype.constructor=D,D.C=function(U,I,N){for(var x=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)x[Q-2]=arguments[Q];return S.prototype[I].apply(U,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,S,F){F||(F=0);var U=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)U[I]=S.charCodeAt(F++)|S.charCodeAt(F++)<<8|S.charCodeAt(F++)<<16|S.charCodeAt(F++)<<24;else for(I=0;16>I;++I)U[I]=S[F++]|S[F++]<<8|S[F++]<<16|S[F++]<<24;S=D.g[0],F=D.g[1],I=D.g[2];var N=D.g[3],x=S+(N^F&(I^N))+U[0]+3614090360&4294967295;S=F+(x<<7&4294967295|x>>>25),x=N+(I^S&(F^I))+U[1]+3905402710&4294967295,N=S+(x<<12&4294967295|x>>>20),x=I+(F^N&(S^F))+U[2]+606105819&4294967295,I=N+(x<<17&4294967295|x>>>15),x=F+(S^I&(N^S))+U[3]+3250441966&4294967295,F=I+(x<<22&4294967295|x>>>10),x=S+(N^F&(I^N))+U[4]+4118548399&4294967295,S=F+(x<<7&4294967295|x>>>25),x=N+(I^S&(F^I))+U[5]+1200080426&4294967295,N=S+(x<<12&4294967295|x>>>20),x=I+(F^N&(S^F))+U[6]+2821735955&4294967295,I=N+(x<<17&4294967295|x>>>15),x=F+(S^I&(N^S))+U[7]+4249261313&4294967295,F=I+(x<<22&4294967295|x>>>10),x=S+(N^F&(I^N))+U[8]+1770035416&4294967295,S=F+(x<<7&4294967295|x>>>25),x=N+(I^S&(F^I))+U[9]+2336552879&4294967295,N=S+(x<<12&4294967295|x>>>20),x=I+(F^N&(S^F))+U[10]+4294925233&4294967295,I=N+(x<<17&4294967295|x>>>15),x=F+(S^I&(N^S))+U[11]+2304563134&4294967295,F=I+(x<<22&4294967295|x>>>10),x=S+(N^F&(I^N))+U[12]+1804603682&4294967295,S=F+(x<<7&4294967295|x>>>25),x=N+(I^S&(F^I))+U[13]+4254626195&4294967295,N=S+(x<<12&4294967295|x>>>20),x=I+(F^N&(S^F))+U[14]+2792965006&4294967295,I=N+(x<<17&4294967295|x>>>15),x=F+(S^I&(N^S))+U[15]+1236535329&4294967295,F=I+(x<<22&4294967295|x>>>10),x=S+(I^N&(F^I))+U[1]+4129170786&4294967295,S=F+(x<<5&4294967295|x>>>27),x=N+(F^I&(S^F))+U[6]+3225465664&4294967295,N=S+(x<<9&4294967295|x>>>23),x=I+(S^F&(N^S))+U[11]+643717713&4294967295,I=N+(x<<14&4294967295|x>>>18),x=F+(N^S&(I^N))+U[0]+3921069994&4294967295,F=I+(x<<20&4294967295|x>>>12),x=S+(I^N&(F^I))+U[5]+3593408605&4294967295,S=F+(x<<5&4294967295|x>>>27),x=N+(F^I&(S^F))+U[10]+38016083&4294967295,N=S+(x<<9&4294967295|x>>>23),x=I+(S^F&(N^S))+U[15]+3634488961&4294967295,I=N+(x<<14&4294967295|x>>>18),x=F+(N^S&(I^N))+U[4]+3889429448&4294967295,F=I+(x<<20&4294967295|x>>>12),x=S+(I^N&(F^I))+U[9]+568446438&4294967295,S=F+(x<<5&4294967295|x>>>27),x=N+(F^I&(S^F))+U[14]+3275163606&4294967295,N=S+(x<<9&4294967295|x>>>23),x=I+(S^F&(N^S))+U[3]+4107603335&4294967295,I=N+(x<<14&4294967295|x>>>18),x=F+(N^S&(I^N))+U[8]+1163531501&4294967295,F=I+(x<<20&4294967295|x>>>12),x=S+(I^N&(F^I))+U[13]+2850285829&4294967295,S=F+(x<<5&4294967295|x>>>27),x=N+(F^I&(S^F))+U[2]+4243563512&4294967295,N=S+(x<<9&4294967295|x>>>23),x=I+(S^F&(N^S))+U[7]+1735328473&4294967295,I=N+(x<<14&4294967295|x>>>18),x=F+(N^S&(I^N))+U[12]+2368359562&4294967295,F=I+(x<<20&4294967295|x>>>12),x=S+(F^I^N)+U[5]+4294588738&4294967295,S=F+(x<<4&4294967295|x>>>28),x=N+(S^F^I)+U[8]+2272392833&4294967295,N=S+(x<<11&4294967295|x>>>21),x=I+(N^S^F)+U[11]+1839030562&4294967295,I=N+(x<<16&4294967295|x>>>16),x=F+(I^N^S)+U[14]+4259657740&4294967295,F=I+(x<<23&4294967295|x>>>9),x=S+(F^I^N)+U[1]+2763975236&4294967295,S=F+(x<<4&4294967295|x>>>28),x=N+(S^F^I)+U[4]+1272893353&4294967295,N=S+(x<<11&4294967295|x>>>21),x=I+(N^S^F)+U[7]+4139469664&4294967295,I=N+(x<<16&4294967295|x>>>16),x=F+(I^N^S)+U[10]+3200236656&4294967295,F=I+(x<<23&4294967295|x>>>9),x=S+(F^I^N)+U[13]+681279174&4294967295,S=F+(x<<4&4294967295|x>>>28),x=N+(S^F^I)+U[0]+3936430074&4294967295,N=S+(x<<11&4294967295|x>>>21),x=I+(N^S^F)+U[3]+3572445317&4294967295,I=N+(x<<16&4294967295|x>>>16),x=F+(I^N^S)+U[6]+76029189&4294967295,F=I+(x<<23&4294967295|x>>>9),x=S+(F^I^N)+U[9]+3654602809&4294967295,S=F+(x<<4&4294967295|x>>>28),x=N+(S^F^I)+U[12]+3873151461&4294967295,N=S+(x<<11&4294967295|x>>>21),x=I+(N^S^F)+U[15]+530742520&4294967295,I=N+(x<<16&4294967295|x>>>16),x=F+(I^N^S)+U[2]+3299628645&4294967295,F=I+(x<<23&4294967295|x>>>9),x=S+(I^(F|~N))+U[0]+4096336452&4294967295,S=F+(x<<6&4294967295|x>>>26),x=N+(F^(S|~I))+U[7]+1126891415&4294967295,N=S+(x<<10&4294967295|x>>>22),x=I+(S^(N|~F))+U[14]+2878612391&4294967295,I=N+(x<<15&4294967295|x>>>17),x=F+(N^(I|~S))+U[5]+4237533241&4294967295,F=I+(x<<21&4294967295|x>>>11),x=S+(I^(F|~N))+U[12]+1700485571&4294967295,S=F+(x<<6&4294967295|x>>>26),x=N+(F^(S|~I))+U[3]+2399980690&4294967295,N=S+(x<<10&4294967295|x>>>22),x=I+(S^(N|~F))+U[10]+4293915773&4294967295,I=N+(x<<15&4294967295|x>>>17),x=F+(N^(I|~S))+U[1]+2240044497&4294967295,F=I+(x<<21&4294967295|x>>>11),x=S+(I^(F|~N))+U[8]+1873313359&4294967295,S=F+(x<<6&4294967295|x>>>26),x=N+(F^(S|~I))+U[15]+4264355552&4294967295,N=S+(x<<10&4294967295|x>>>22),x=I+(S^(N|~F))+U[6]+2734768916&4294967295,I=N+(x<<15&4294967295|x>>>17),x=F+(N^(I|~S))+U[13]+1309151649&4294967295,F=I+(x<<21&4294967295|x>>>11),x=S+(I^(F|~N))+U[4]+4149444226&4294967295,S=F+(x<<6&4294967295|x>>>26),x=N+(F^(S|~I))+U[11]+3174756917&4294967295,N=S+(x<<10&4294967295|x>>>22),x=I+(S^(N|~F))+U[2]+718787259&4294967295,I=N+(x<<15&4294967295|x>>>17),x=F+(N^(I|~S))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+N&4294967295}r.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var F=S-this.blockSize,U=this.B,I=this.h,N=0;N<S;){if(I==0)for(;N<=F;)i(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<S;)if(U[I++]=D.charCodeAt(N++),I==this.blockSize){i(this,U),I=0;break}}else for(;N<S;)if(U[I++]=D[N++],I==this.blockSize){i(this,U),I=0;break}}this.h=I,this.o+=S},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var F=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=F&255,F/=256;for(this.u(D),D=Array(16),S=F=0;4>S;++S)for(var U=0;32>U;U+=8)D[F++]=this.g[S]>>>U&255;return D};function s(D,S){var F=a;return Object.prototype.hasOwnProperty.call(F,D)?F[D]:F[D]=S(D)}function o(D,S){this.h=S;for(var F=[],U=!0,I=D.length-1;0<=I;I--){var N=D[I]|0;U&&N==S||(F[I]=N,U=!1)}this.g=F}var a={};function l(D){return-128<=D&&128>D?s(D,function(S){return new o([S|0],0>S?-1:0)}):new o([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return O(h(-D));for(var S=[],F=1,U=0;D>=F;U++)S[U]=D/F|0,F*=4294967296;return new o(S,0)}function d(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return O(d(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=h(Math.pow(S,8)),U=m,I=0;I<D.length;I+=8){var N=Math.min(8,D.length-I),x=parseInt(D.substring(I,I+N),S);8>N?(N=h(Math.pow(S,N)),U=U.j(N).add(h(x))):(U=U.j(F),U=U.add(h(x)))}return U}var m=l(0),_=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-O(this).m();for(var D=0,S=1,F=0;F<this.g.length;F++){var U=this.i(F);D+=(0<=U?U:4294967296+U)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(T(this))return"-"+O(this).toString(D);for(var S=h(Math.pow(D,6)),F=this,U="";;){var I=W(F,S).g;F=b(F,I.j(S));var N=((0<F.g.length?F.g[0]:F.h)>>>0).toString(D);if(F=I,P(F))return N+U;for(;6>N.length;)N="0"+N;U=N+U}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=b(this,D),T(D)?-1:P(D)?0:1};function O(D){for(var S=D.g.length,F=[],U=0;U<S;U++)F[U]=~D.g[U];return new o(F,~D.h).add(_)}t.abs=function(){return T(this)?O(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),F=[],U=0,I=0;I<=S;I++){var N=U+(this.i(I)&65535)+(D.i(I)&65535),x=(N>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);U=x>>>16,N&=65535,x&=65535,F[I]=x<<16|N}return new o(F,F[F.length-1]&-2147483648?-1:0)};function b(D,S){return D.add(O(S))}t.j=function(D){if(P(this)||P(D))return m;if(T(this))return T(D)?O(this).j(O(D)):O(O(this).j(D));if(T(D))return O(this.j(O(D)));if(0>this.l(g)&&0>D.l(g))return h(this.m()*D.m());for(var S=this.g.length+D.g.length,F=[],U=0;U<2*S;U++)F[U]=0;for(U=0;U<this.g.length;U++)for(var I=0;I<D.g.length;I++){var N=this.i(U)>>>16,x=this.i(U)&65535,Q=D.i(I)>>>16,ve=D.i(I)&65535;F[2*U+2*I]+=x*ve,E(F,2*U+2*I),F[2*U+2*I+1]+=N*ve,E(F,2*U+2*I+1),F[2*U+2*I+1]+=x*Q,E(F,2*U+2*I+1),F[2*U+2*I+2]+=N*Q,E(F,2*U+2*I+2)}for(U=0;U<S;U++)F[U]=F[2*U+1]<<16|F[2*U];for(U=S;U<2*S;U++)F[U]=0;return new o(F,0)};function E(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function C(D,S){this.g=D,this.h=S}function W(D,S){if(P(S))throw Error("division by zero");if(P(D))return new C(m,m);if(T(D))return S=W(O(D),S),new C(O(S.g),O(S.h));if(T(S))return S=W(D,O(S)),new C(O(S.g),S.h);if(30<D.g.length){if(T(D)||T(S))throw Error("slowDivide_ only works with positive integers.");for(var F=_,U=S;0>=U.l(D);)F=J(F),U=J(U);var I=oe(F,1),N=oe(U,1);for(U=oe(U,2),F=oe(F,2);!P(U);){var x=N.add(U);0>=x.l(D)&&(I=I.add(F),N=x),U=oe(U,1),F=oe(F,1)}return S=b(D,I.j(S)),new C(I,S)}for(I=m;0<=D.l(S);){for(F=Math.max(1,Math.floor(D.m()/S.m())),U=Math.ceil(Math.log(F)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),N=h(F),x=N.j(S);T(x)||0<x.l(D);)F-=U,N=h(F),x=N.j(S);P(N)&&(N=_),I=I.add(N),D=b(D,x)}return new C(I,D)}t.A=function(D){return W(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),F=[],U=0;U<S;U++)F[U]=this.i(U)&D.i(U);return new o(F,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),F=[],U=0;U<S;U++)F[U]=this.i(U)|D.i(U);return new o(F,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),F=[],U=0;U<S;U++)F[U]=this.i(U)^D.i(U);return new o(F,this.h^D.h)};function J(D){for(var S=D.g.length+1,F=[],U=0;U<S;U++)F[U]=D.i(U)<<1|D.i(U-1)>>>31;return new o(F,D.h)}function oe(D,S){var F=S>>5;S%=32;for(var U=D.g.length-F,I=[],N=0;N<U;N++)I[N]=0<S?D.i(N+F)>>>S|D.i(N+F+1)<<32-S:D.i(N+F);return new o(I,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,dl=o}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k3,Kc,L3,_d,T1,C3,R3,O3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var A=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var ie=c[V];if(!(ie in A))break e;A=A[ie]}c=c[c.length-1],V=A[c],y=y(V),y!=V&&y!=null&&e(A,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var A=0,V=!1,ie={next:function(){if(!V&&A<c.length){var de=A++;return{value:y(de,c[de]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,A){return c.call.apply(c.bind,arguments)}function m(c,y,A){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,V),c.apply(y,ie)}}return function(){return c.apply(y,arguments)}}function _(c,y,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,_.apply(null,arguments)}function g(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function P(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(V,ie,de){for(var Ne=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)Ne[mt-2]=arguments[mt];return y.prototype[ie].apply(V,Ne)}}function T(c){const y=c.length;if(0<y){const A=Array(y);for(let V=0;V<y;V++)A[V]=c[V];return A}return[]}function O(c,y){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(l(V)){const ie=c.length||0,de=V.length||0;c.length=ie+de;for(let Ne=0;Ne<de;Ne++)c[ie+Ne]=V[Ne]}else c.push(V)}}class b{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var J=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function oe(c,y,A){for(const V in c)y.call(A,c[V],V,c)}function D(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function S(c){const y={};for(const A in c)y[A]=c[A];return y}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,y){let A,V;for(let ie=1;ie<arguments.length;ie++){V=arguments[ie];for(A in V)c[A]=V[A];for(let de=0;de<F.length;de++)A=F[de],Object.prototype.hasOwnProperty.call(V,A)&&(c[A]=V[A])}}function I(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function N(c){a.setTimeout(()=>{throw c},0)}function x(){var c=le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,A){const V=ve.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var ve=new b(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Y=!1,le=new Q,ce=()=>{const c=a.Promise.resolve(void 0);ye=()=>{c.then(Re)}};var Re=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(A){N(A)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Y=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};a.addEventListener("test",A,y),a.removeEventListener("test",A,y)}catch{}return c}();function X(c,y){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{W(y.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&X.aa.h.call(this)}}P(X,q);var ne={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ge(c,y,A,V,ie){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=ie,this.key=++pe,this.da=this.fa=!1}function Fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,y,A,V,ie){var de=c.toString();c=this.g[de],c||(c=this.g[de]=[],this.h++);var Ne=je(c,y,V,ie);return-1<Ne?(y=c[Ne],A||(y.fa=!1)):(y=new ge(y,this.src,de,!!V,ie),y.fa=A,c.push(y)),y};function Be(c,y){var A=y.type;if(A in c.g){var V=c.g[A],ie=Array.prototype.indexOf.call(V,y,void 0),de;(de=0<=ie)&&Array.prototype.splice.call(V,ie,1),de&&(Fe(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function je(c,y,A,V){for(var ie=0;ie<c.length;++ie){var de=c[ie];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==V)return ie}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),Ee={};function K(c,y,A,V,ie){if(Array.isArray(y)){for(var de=0;de<y.length;de++)K(c,y[de],A,V,ie);return null}return A=pt(A),c&&c[ue]?c.K(y,A,h(V)?!!V.capture:!1,ie):dt(c,y,A,!1,V,ie)}function dt(c,y,A,V,ie,de){if(!y)throw Error("Invalid event type");var Ne=h(ie)?!!ie.capture:!!ie,mt=Xe(c);if(mt||(c[tt]=mt=new Ce(c)),A=mt.add(y,A,V,Ne,de),A.proxy)return A;if(V=Ye(),A.proxy=V,V.src=c,V.listener=A,c.addEventListener)G||(ie=Ne),ie===void 0&&(ie=!1),c.addEventListener(y.toString(),V,ie);else if(c.attachEvent)c.attachEvent($e(y.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ye(){function c(A){return y.call(c.src,c.listener,A)}const y=ze;return c}function Oe(c,y,A,V,ie){if(Array.isArray(y))for(var de=0;de<y.length;de++)Oe(c,y[de],A,V,ie);else V=h(V)?!!V.capture:!!V,A=pt(A),c&&c[ue]?(c=c.i,y=String(y).toString(),y in c.g&&(de=c.g[y],A=je(de,A,V,ie),-1<A&&(Fe(de[A]),Array.prototype.splice.call(de,A,1),de.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xe(c))&&(y=c.g[y.toString()],c=-1,y&&(c=je(y,A,V,ie)),(A=-1<c?y[c]:null)&&Me(A))}function Me(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ue])Be(y.i,c);else{var A=c.type,V=c.proxy;y.removeEventListener?y.removeEventListener(A,V,c.capture):y.detachEvent?y.detachEvent($e(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=Xe(y))?(Be(A,c),A.h==0&&(A.src=null,y[tt]=null)):Fe(c)}}}function $e(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function ze(c,y){if(c.da)c=!0;else{y=new X(y,this);var A=c.listener,V=c.ha||c.src;c.fa&&Me(c),c=A.call(V,y)}return c}function Xe(c){return c=c[tt],c instanceof Ce?c:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(c){return typeof c=="function"?c:(c[ut]||(c[ut]=function(y){return c.handleEvent(y)}),c[ut])}function Ze(){R.call(this),this.i=new Ce(this),this.M=this,this.F=null}P(Ze,R),Ze.prototype[ue]=!0,Ze.prototype.removeEventListener=function(c,y,A,V){Oe(this,c,y,A,V)};function at(c,y){var A,V=c.F;if(V)for(A=[];V;V=V.F)A.push(V);if(c=c.M,V=y.type||y,typeof y=="string")y=new q(y,c);else if(y instanceof q)y.target=y.target||c;else{var ie=y;y=new q(V,c),U(y,ie)}if(ie=!0,A)for(var de=A.length-1;0<=de;de--){var Ne=y.g=A[de];ie=kt(Ne,V,!0,y)&&ie}if(Ne=y.g=c,ie=kt(Ne,V,!0,y)&&ie,ie=kt(Ne,V,!1,y)&&ie,A)for(de=0;de<A.length;de++)Ne=y.g=A[de],ie=kt(Ne,V,!1,y)&&ie}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],V=0;V<A.length;V++)Fe(A[V]);delete c.g[y],c.h--}}this.F=null},Ze.prototype.K=function(c,y,A,V){return this.i.add(String(c),y,!1,A,V)},Ze.prototype.L=function(c,y,A,V){return this.i.add(String(c),y,!0,A,V)};function kt(c,y,A,V){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var ie=!0,de=0;de<y.length;++de){var Ne=y[de];if(Ne&&!Ne.da&&Ne.capture==A){var mt=Ne.listener,At=Ne.ha||Ne.src;Ne.fa&&Be(c.i,Ne),ie=mt.call(At,V)!==!1&&ie}}return ie&&!V.defaultPrevented}function st(c,y,A){if(typeof c=="function")A&&(c=_(c,A));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function Et(c){c.g=st(()=>{c.g=null,c.i&&(c.i=!1,Et(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class We extends R{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(c){R.call(this),this.h=c,this.g={}}P(pn,R);var Tt=[];function Or(c){oe(c.g,function(y,A){this.g.hasOwnProperty(A)&&Me(y)},c),c.g={}}pn.prototype.N=function(){pn.aa.N.call(this),Or(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Qt=a.JSON.parse,fi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nt(){}Nt.prototype.h=null;function es(c){return c.h||(c.h=c.i())}function en(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){q.call(this,"d")}P(Qr,q);function Yt(){q.call(this,"c")}P(Yt,q);var nt={},Lt=null;function di(){return Lt=Lt||new Ze}nt.La="serverreachability";function xn(c){q.call(this,nt.La,c)}P(xn,q);function ar(c){const y=di();at(y,new xn(y))}nt.STAT_EVENT="statevent";function Yr(c,y){q.call(this,nt.STAT_EVENT,c),this.stat=y}P(Yr,q);function Ge(c){const y=di();at(y,new Yr(y,c))}nt.Ma="timingevent";function Dr(c,y){q.call(this,nt.Ma,c),this.size=y}P(Dr,q);function lr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function wn(c,y,A,V,ie,de){c.info(function(){if(c.g)if(de)for(var Ne="",mt=de.split("&"),At=0;At<mt.length;At++){var gt=mt[At].split("=");if(1<gt.length){var jt=gt[0];gt=gt[1];var Ht=jt.split("_");Ne=2<=Ht.length&&Ht[1]=="type"?Ne+(jt+"="+gt+"&"):Ne+(jt+"=redacted&")}}else Ne=null;else Ne=de;return"XMLHTTP REQ ("+V+") [attempt "+ie+"]: "+y+`
`+A+`
`+Ne})}function mn(c,y,A,V,ie,de,Ne){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ie+"]: "+y+`
`+A+`
`+de+" "+Ne})}function Ln(c,y,A,V){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xi(c,A)+(V?" "+V:"")})}function go(c,y){c.info(function(){return"TIMEOUT: "+y})}kn.prototype.info=function(){};function xi(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var V=A[c];if(!(2>V.length)){var ie=V[1];if(Array.isArray(ie)&&!(1>ie.length)){var de=ie[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ne=1;Ne<ie.length;Ne++)ie[Ne]=""}}}}return Dt(A)}catch{return y}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ir(){}P(Ir,Nt),Ir.prototype.g=function(){return new XMLHttpRequest},Ir.prototype.i=function(){return{}},Sr=new Ir;function En(c,y,A,V){this.j=c,this.i=y,this.l=A,this.R=V||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var ts={},ns={};function rs(c,y,A){c.L=1,c.v=Os(Tr(y)),c.m=A,c.P=!0,xs(c,null)}function xs(c,y){c.F=Date.now(),vo(c),c.A=Tr(c.v);var A=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),ct(A.i,"t",V),c.C=0,A=c.j.J,c.h=new Jr,c.g=k(c.j,A?y:null,!c.m),0<c.O&&(c.M=new We(_(c.Y,c,c.g),c.O)),y=c.U,A=c.g,V=c.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Tt[0]=ie.toString()),ie=Tt);for(var de=0;de<ie.length;de++){var Ne=K(A,ie[de],V||y.handleEvent,!1,y.h||y);if(!Ne)break;y.g[Ne.key]=Ne}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),wn(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=Fn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=Mi?ar(3):ar(2)),is(this);var A=this.g.Z();this.X=A;t:if(ks(this)){var V=Ul(this.g);c="";var ie=V.length,de=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),ss(this);var Ne="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ie;y++)this.h.h=!0,c+=this.h.i.decode(V[y],{stream:!(de&&y==ie-1)});V.length=0,this.h.g+=c,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=A==200,mn(this.i,this.u,this.A,this.l,this.R,Ht,A),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,At=this.g;if((mt=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(mt)){var gt=mt;break t}}gt=null}if(A=gt)Ln(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,A);else{this.o=!1,this.s=3,Ge(12),ki(this),ss(this);break e}}if(this.P){A=!0;let Yn;for(;!this.J&&this.C<Ne.length;)if(Yn=Cl(this,Ne),Yn==ns){Ht==4&&(this.s=4,Ge(14),A=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==ts){this.s=4,Ge(15),Ln(this.i,this.l,Ne,"[Invalid Chunk]"),A=!1;break}else Ln(this.i,this.l,Yn,null),Ls(this,Yn);if(ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||Ne.length!=0||this.h.h||(this.s=1,Ge(16),A=!1),this.o=this.o&&A,!A)Ln(this.i,this.l,Ne,"[Invalid Chunked Response]"),ki(this),ss(this);else if(0<Ne.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),Lo(jt),jt.M=!0,Ge(11))}}else Ln(this.i,this.l,Ne,null),Ls(this,Ne);Ht==4&&ki(this),this.o&&!this.J&&(Ht==4?cs(this.j,this):(this.o=!1,vo(this)))}else ls(this.g),A==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),ki(this),ss(this)}}}catch{}finally{}};function ks(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cl(c,y){var A=c.C,V=y.indexOf(`
`,A);return V==-1?ns:(A=Number(y.substring(A,V)),isNaN(A)?ts:(V+=1,V+A>y.length?ns:(y=y.slice(V,V+A),c.C=V+A,y)))}En.prototype.cancel=function(){this.J=!0,ki(this)};function vo(c){c.S=Date.now()+c.I,Rl(c,c.I)}function Rl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lr(_(c.ba,c),y)}function is(c){c.B&&(a.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(go(this.i,this.A),this.L!=2&&(ar(),Ge(17)),ki(this),this.s=2,ss(this)):Rl(this,this.S-c)};function ss(c){c.j.G==0||c.J||cs(c.j,c)}function ki(c){is(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Or(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ls(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||Fa(A.h,c))){if(!c.K&&Fa(A.h,c)&&A.G==3){try{var V=A.Da.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ie=V;if(ie[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)Fi(A),Po(A);else break e;Vs(A),Ge(18)}}else A.za=ie[1],0<A.za-A.T&&37500>ie[2]&&A.F&&A.v==0&&!A.C&&(A.C=lr(_(A.Za,A),6e3));if(1>=Cs(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else cr(A,11)}else if((c.K||A.g==c)&&Fi(A),!E(y))for(ie=A.Da.g.parse(y),y=0;y<ie.length;y++){let gt=ie[y];if(A.T=gt[0],gt=gt[1],A.G==2)if(gt[0]=="c"){A.K=gt[1],A.ia=gt[2];const jt=gt[3];jt!=null&&(A.la=jt,A.j.info("VER="+A.la));const Ht=gt[4];Ht!=null&&(A.Aa=Ht,A.j.info("SVER="+A.Aa));const Mi=gt[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(V=1.5*Mi,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Yn=c.g;if(Yn){const hs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var de=V.h;de.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(tn(de,de.h),de.h=null))}if(V.D){const fs=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;fs&&(V.ya=fs,Vt(V.I,V.D,fs))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var Ne=c;if(V.qa=p(V,V.J?V.ia:null,V.W),Ne.K){Ma(V.h,Ne);var mt=Ne,At=V.L;At&&(mt.I=At),mt.B&&(is(mt),vo(mt)),V.g=Ne}else ko(V);0<A.i.length&&No(A)}else gt[0]!="stop"&&gt[0]!="close"||cr(A,7);else A.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?cr(A,7):Di(A):gt[0]!="noop"&&A.l&&A.l.ta(gt),A.v=0)}}ar(4)}catch{}}var dc=class{constructor(c,y){this.g=c,this.map=y}};function Da(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cs(c){return c.h?1:c.g?c.g.size:0}function Fa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function tn(c,y){c.g?c.g.add(y):c.h=y}function Ma(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Da.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ja(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return T(c.i)}function Dl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],A=c.length,V=0;V<A;V++)y.push(c[V]);return y}y=[],A=0;for(V in c)y[A++]=c[V];return y}function Va(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const V in c)y[A++]=V;return y}}}function Fl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=Va(c),V=Dl(c),ie=V.length,de=0;de<ie;de++)y.call(void 0,V[de],A&&A[de],c)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var V=c[A].indexOf("="),ie=null;if(0<=V){var de=c[A].substring(0,V);ie=c[A].substring(V+1)}else de=c[A];y(de,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function gn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gn){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,_o(this,c.s),this.l=c.l;var y=c.i,A=new os;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Ba(this,A),this.m=c.m}else c&&(y=String(c).match(Mr))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Ds(y[2]||""),this.g=Ds(y[3]||"",!0),_o(this,y[4]),this.l=Ds(y[5]||"",!0),Ba(this,y[6]||"",!0),this.m=Ds(y[7]||"")):(this.h=!1,this.i=new os(null,this.h))}gn.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Li(y,Ml,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Li(y,Ml,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Li(A,A.charAt(0)=="/"?Ci:mc,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Li(A,Eo)),c.join("")};function Tr(c){return new gn(c)}function Rs(c,y,A){c.j=A?Ds(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _o(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ba(c,y,A){y instanceof os?(c.i=y,gc(c.i,c.h)):(A||(y=Li(y,wo)),c.i=new os(y,c.h))}function Vt(c,y,A){c.i.set(y,A)}function Os(c){return Vt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ds(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Li(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,pc),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ml=/[#\/\?@]/g,mc=/[#\?:]/g,Ci=/[#\?]/g,wo=/[#\?@]/g,Eo=/#/g;function os(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&yo(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}t=os.prototype,t.add=function(c,y){nn(this),this.i=null,c=as(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function jl(c,y){nn(c),y=as(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ua(c,y){return nn(c),y=as(c,y),c.g.has(y)}t.forEach=function(c,y){nn(this),this.g.forEach(function(A,V){A.forEach(function(ie){c.call(y,ie,V,this)},this)},this)},t.na=function(){nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let V=0;V<y.length;V++){const ie=c[V];for(let de=0;de<ie.length;de++)A.push(y[V])}return A},t.V=function(c){nn(this);let y=[];if(typeof c=="string")Ua(this,c)&&(y=y.concat(this.g.get(as(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},t.set=function(c,y){return nn(this),this.i=null,c=as(this,c),Ua(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ct(c,y,A){jl(c,y),0<A.length&&(c.i=null,c.g.set(as(c,y),T(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var V=y[A];const de=encodeURIComponent(String(V)),Ne=this.V(V);for(V=0;V<Ne.length;V++){var ie=de;Ne[V]!==""&&(ie+="="+encodeURIComponent(String(Ne[V]))),c.push(ie)}}return this.i=c.join("&")};function as(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gc(c,y){y&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(A,V){var ie=V.toLowerCase();V!=ie&&(jl(this,V),ct(this,ie,A))},c)),c.j=y}function pi(c,y){const A=new kn;if(a.Image){const V=new Image;V.onload=g(Xr,A,"TestLoadImage: loaded",!0,y,V),V.onerror=g(Xr,A,"TestLoadImage: error",!1,y,V),V.onabort=g(Xr,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=g(Xr,A,"TestLoadImage: timeout",!1,y,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else y(!1)}function Vl(c,y){const A=new kn,V=new AbortController,ie=setTimeout(()=>{V.abort(),Xr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:V.signal}).then(de=>{clearTimeout(ie),de.ok?Xr(A,"TestPingServer: ok",!0,y):Xr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),Xr(A,"TestPingServer: error",!1,y)})}function Xr(c,y,A,V,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),V(A)}catch{}}function bo(){this.g=new fi}function za(c,y,A){const V=A||"";try{Fl(c,function(ie,de){let Ne=ie;h(ie)&&(Ne=Dt(ie)),y.push(V+de+"="+encodeURIComponent(Ne))})}catch(ie){throw y.push(V+"type="+encodeURIComponent("_badmap")),ie}}function Ao(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ao,Nt),Ao.prototype.g=function(){return new So(this.l,this.j)},Ao.prototype.i=function(c){return function(){return c}}({});function So(c,y){Ze.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(So,Ze),t=So.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Zr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ri(this):Zr(this),this.readyState==3&&Bl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ri(this))},t.Qa=function(c){this.g&&(this.response=c,Ri(this))},t.ga=function(){this.g&&Ri(this)};function Ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function Zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oi(c){let y="";return oe(c,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function qa(c,y,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Oi(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):Vt(c,y,A))}function Mt(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Mt,Ze);var $a=/^https?$/i,Io=["POST","PUT"];t=Mt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?es(this.o):es(Sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(de){Wa(this,de);return}if(c=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ie in V)A.set(ie,V[ie]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const de of V.keys())A.set(de,V.get(de));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),ie=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Io,y,void 0))||V||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ne]of A)this.g.setRequestHeader(de,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ei(this),this.u=!0,this.g.send(c),this.u=!1}catch(de){Wa(this,de)}};function Wa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ha(c),Fs(c)}function Ha(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},t.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)st(c.Ea,0,c);else if(at(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Ne=c.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var V;if(V=Ne===0){var ie=String(c.D).match(Mr)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),V=!$a.test(ie?ie.toLowerCase():"")}A=V}if(A)at(c,"complete"),at(c,"success");else{c.m=6;try{var de=2<Fn(c)?c.g.statusText:""}catch{de=""}c.l=de+" ["+c.Z()+"]",Ha(c)}}finally{Fs(c)}}}}function Fs(c,y){if(c.g){ei(c);const A=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||at(c,"ready");try{A.onreadystatechange=V}catch{}}}function ei(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qt(y)}};function Ul(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(E(c[V]))continue;var A=I(c[V]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[ie]||[];y[ie]=de,de.push(A)}D(y,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function To(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,c),this.cb=Qn("retryDelaySeedMs",1e4,c),this.Wa=Qn("forwardChannelMaxRetries",2,c),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Da(c&&c.concurrentRequestLimit),this.Da=new bo,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=To.prototype,t.la=8,t.G=1,t.connect=function(c,y,A,V){Ge(0),this.W=c,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=p(this,null,this.W),No(this)};function Di(c){if(Ms(c),c.G==3){var y=c.U++,A=Tr(c.I);if(Vt(A,"SID",c.K),Vt(A,"RID",y),Vt(A,"TYPE","terminate"),us(c,A),y=new En(c,c.j,y),y.L=2,y.v=Os(Tr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=y.v,A=!0),A||(y.g=k(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vo(y)}Ro(c)}function Po(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function Ms(c){Po(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function No(c){if(!Ol(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||ce(),Y||(ye(),Y=!0),le.add(y,c),c.B=0}}function Ka(c,y){return Cs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lr(_(c.Ga,c,y),Co(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ie=new En(this,this.j,c);let de=this.o;if(this.S&&(de?(de=S(de),U(de,this.S)):de=this.S),this.m!==null||this.O||(ie.H=de,de=null),this.P)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,4096<y){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=js(this,ie,y),A=Tr(this.I),Vt(A,"RID",c),Vt(A,"CVER",22),this.D&&Vt(A,"X-HTTP-Session-Id",this.D),us(this,A),de&&(this.O?y="headers="+encodeURIComponent(String(Oi(de)))+"&"+y:this.m&&qa(A,this.m,de)),tn(this.h,ie),this.Ua&&Vt(A,"TYPE","init"),this.P?(Vt(A,"$req",y),Vt(A,"SID","null"),ie.T=!0,rs(ie,A,null)):rs(ie,A,y),this.G=2}}else this.G==3&&(c?xo(this,c):this.i.length==0||Ol(this.h)||xo(this))};function xo(c,y){var A;y?A=y.l:A=c.U++;const V=Tr(c.I);Vt(V,"SID",c.K),Vt(V,"RID",A),Vt(V,"AID",c.T),us(c,V),c.m&&c.o&&qa(V,c.m,c.o),A=new En(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=js(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tn(c.h,A),rs(A,V,y)}function us(c,y){c.H&&oe(c.H,function(A,V){Vt(y,V,A)}),c.l&&Fl({},function(A,V){Vt(y,V,A)})}function js(c,y,A){A=Math.min(c.i.length,A);var V=c.l?_(c.l.Na,c.l,c):null;e:{var ie=c.i;let de=-1;for(;;){const Ne=["count="+A];de==-1?0<A?(de=ie[0].g,Ne.push("ofs="+de)):de=0:Ne.push("ofs="+de);let mt=!0;for(let At=0;At<A;At++){let gt=ie[At].g;const jt=ie[At].map;if(gt-=de,0>gt)de=Math.max(0,ie[At].g-100),mt=!1;else try{za(jt,Ne,"req"+gt+"_")}catch{V&&V(jt)}}if(mt){V=Ne.join("&");break e}}}return c=c.i.splice(0,A),y.D=c,V}function ko(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||ce(),Y||(ye(),Y=!0),le.add(y,c),c.v=0}}function Vs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lr(_(c.Fa,c),Co(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lr(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Po(this),zl(this))};function Lo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function zl(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tr(c.qa);Vt(y,"RID","rpc"),Vt(y,"SID",c.K),Vt(y,"AID",c.T),Vt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Vt(y,"TO",c.ja),Vt(y,"TYPE","xmlhttp"),us(c,y),c.m&&c.o&&qa(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=Os(Tr(y)),A.m=null,A.P=!0,xs(A,c)}t.Za=function(){this.C!=null&&(this.C=null,Po(this),Vs(this),Ge(19))};function Fi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function cs(c,y){var A=null;if(c.g==y){Fi(c),Lo(c),c.g=null;var V=2}else if(Fa(c.h,y))A=y.D,Ma(c.h,y),V=1;else return;if(c.G!=0){if(y.o)if(V==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var ie=c.B;V=di(),at(V,new Dr(V,A)),No(c)}else ko(c);else if(ie=y.s,ie==3||ie==0&&0<y.X||!(V==1&&Ka(c,y)||V==2&&Vs(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),ie){case 1:cr(c,5);break;case 4:cr(c,10);break;case 3:cr(c,6);break;default:cr(c,2)}}}function Co(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function cr(c,y){if(c.j.info("Error code "+y),y==2){var A=_(c.fb,c),V=c.Xa;const ie=!V;V=new gn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rs(V,"https"),Os(V),ie?pi(V.toString(),A):Vl(V.toString(),A)}else Ge(2);c.G=0,c.l&&c.l.sa(y),Ro(c),Ms(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Ro(c){if(c.G=0,c.ka=[],c.l){const y=ja(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function p(c,y,A){var V=A instanceof gn?Tr(A):new gn(A);if(V.g!="")y&&(V.g=y+"."+V.g),_o(V,V.s);else{var ie=a.location;V=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;var de=new gn(null);V&&Rs(de,V),y&&(de.g=y),ie&&_o(de,ie),A&&(de.l=A),V=de}return A=c.D,y=c.ya,A&&y&&Vt(V,A,y),Vt(V,"VER",c.la),us(c,V),V}function k(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Mt(new Ao({eb:A})):new Mt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H(){}t=H.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Z(){}Z.prototype.g=function(c,y){return new se(c,y)};function se(c,y){Ze.call(this),this.g=new To(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!E(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!E(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ue(this)}P(se,Ze),se.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},se.prototype.close=function(){Di(this.g)},se.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=Dt(c),c=A);y.i.push(new dc(y.Ya++,c)),y.G==3&&No(y)},se.prototype.N=function(){this.g.l=null,delete this.j,Di(this.g),delete this.g,se.aa.N.call(this)};function we(c){Qr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const A in y){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(we,Qr);function Pe(){Yt.call(this),this.status=1}P(Pe,Yt);function Ue(c){this.g=c}P(Ue,H),Ue.prototype.ua=function(){at(this.g,"a")},Ue.prototype.ta=function(c){at(this.g,new we(c))},Ue.prototype.sa=function(c){at(this.g,new Pe)},Ue.prototype.ra=function(){at(this.g,"b")},Z.prototype.createWebChannel=Z.prototype.g,se.prototype.send=se.prototype.o,se.prototype.open=se.prototype.m,se.prototype.close=se.prototype.close,O3=function(){return new Z},R3=function(){return di()},C3=nt,T1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,_d=ur,Fr.COMPLETE="complete",L3=Fr,en.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Kc=en,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,k3=Mt}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});const hy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new J0("@firebase/firestore");function Vc(){return bl.logLevel}function Je(t,...e){if(bl.logLevel<=Pt.DEBUG){const n=e.map(u2);bl.debug(`Firestore (${cc}): ${t}`,...n)}}function uo(t,...e){if(bl.logLevel<=Pt.ERROR){const n=e.map(u2);bl.error(`Firestore (${cc}): ${t}`,...n)}}function Ku(t,...e){if(bl.logLevel<=Pt.WARN){const n=e.map(u2);bl.warn(`Firestore (${cc}): ${t}`,...n)}}function u2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+t;throw uo(e),new Error(e)}function $t(t,e){t||ft()}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Px{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yr.UNAUTHENTICATED))}shutdown(){}}class Nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xx{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ea,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ea)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new D3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new yr(e)}}class kx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$t(this.o===void 0);const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new Cx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ox(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Qu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new et(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new et(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Un(0,0))}static max(){return new yt(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ft(),r===void 0?r=e.length-n:r>e.length-n&&ft(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ln extends Dh{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ln(n)}static emptyPath(){return new ln([])}}const Dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Dh{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return Dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new et(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new et(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new et(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new et(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.path=e}static fromPath(e){return new it(ln.fromString(e))}static fromName(e){return new it(ln.fromString(e).popFirst(5))}static empty(){return new it(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new ln(e.slice()))}}function Fx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new Ia(i,it.empty(),e)}function Mx(t){return new Ia(t.readTime,t.key,-1)}class Ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ia(yt.min(),it.empty(),-1)}static max(){return new Ia(yt.max(),it.empty(),-1)}}function jx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==Vx)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.reject(n)}static resolve(e){return new xe((n,r)=>{n(e)})}static reject(e){return new xe((n,r)=>{r(e)})}static waitFor(e){return new xe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new xe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new xe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ux(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}c2.oe=-1;function Wp(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function zx(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qf(this.root,e,this.comparator,!0)}}class Qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,n,r,i,s){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dy(this.data.getIterator())}getIteratorFrom(e){return new dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new oi([])}unionWith(e){let n=new rr(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j3("Invalid base64 string: "+s):s}}(e);return new or(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if($t(!!t),typeof t=="string"){let e=0;const n=qx.exec(t);if($t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Al(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f2(t){const e=t.mapValue.fields.__previous_value__;return h2(e)?f2(e):e}function Fh(t){const e=Ta(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class Mh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf={mapValue:{}};function Sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?h2(t)?4:Hx(t)?9007199254740991:Wx(t)?10:11:ft()}function Ts(t,e){if(t===e)return!0;const n=Sl(t);if(n!==Sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fh(t).isEqual(Fh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ta(i.timestampValue),a=Ta(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Al(i.bytesValue).isEqual(Al(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Sn(i.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sn(i.integerValue)===Sn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sn(i.doubleValue),a=Sn(s.doubleValue);return o===a?lp(o)===lp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fy(o)!==fy(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ts(o[l],a[l])))return!1;return!0}(t,e);default:return ft()}}function jh(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function Yu(t,e){if(t===e)return 0;const n=Sl(t),r=Sl(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Sn(s.integerValue||s.doubleValue),l=Sn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return py(t.timestampValue,e.timestampValue);case 4:return py(Fh(t),Fh(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Al(s),l=Al(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const d=Ot(a[h],l[h]);if(d!==0)return d}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(Sn(s.latitude),Sn(o.latitude));return a!==0?a:Ot(Sn(s.longitude),Sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return my(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,d;const m=s.fields||{},_=o.fields||{},g=(a=m.value)===null||a===void 0?void 0:a.arrayValue,P=(l=_.value)===null||l===void 0?void 0:l.arrayValue,T=Ot(((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:my(g,P)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yf.mapValue&&o===Yf.mapValue)return 0;if(s===Yf.mapValue)return 1;if(o===Yf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const _=Ot(l[m],d[m]);if(_!==0)return _;const g=Yu(a[l[m]],h[d[m]]);if(g!==0)return g}return Ot(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ft()}}function py(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=Ta(t),r=Ta(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function my(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yu(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Ju(t){return P1(t)}function P1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Al(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return it.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=P1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${P1(n.fields[o])}`;return i+"}"}(t.mapValue):ft()}function N1(t){return!!t&&"integerValue"in t}function d2(t){return!!t&&"arrayValue"in t}function gy(t){return!!t&&"nullValue"in t}function vy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function Wx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Hx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(n)}setAll(e){let n=tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=lh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qr(lh(this.value))}}function V3(t){const e=[];return xl(t.fields,(n,r)=>{const i=new tr([n]);if(wd(r)){const s=V3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,yt.min(),yt.min(),yt.min(),qr.empty(),0)}static newFoundDocument(e,n,r,i){return new wr(e,1,n,yt.min(),r,i,0)}static newNoDocument(e,n){return new wr(e,2,n,yt.min(),yt.min(),qr.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,yt.min(),yt.min(),qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.position=e,this.inclusive=n}}function yy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=Yu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{}class Vn extends B3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qx(e,n,r):n==="array-contains"?new Xx(e,r):n==="in"?new Zx(e,r):n==="not-in"?new ek(e,r):n==="array-contains-any"?new tk(e,r):new Vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yx(e,r):new Jx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yu(n,this.value)):n!==null&&Sl(this.value)===Sl(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends B3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ps(e,n)}matches(e){return U3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U3(t){return t.op==="and"}function z3(t){return Kx(t)&&U3(t)}function Kx(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function x1(t){if(t instanceof Vn)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(z3(t))return t.filters.map(e=>x1(e)).join(",");{const e=t.filters.map(n=>x1(n)).join(",");return`${t.op}(${e})`}}function q3(t,e){return t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)}(t,e):t instanceof Ps?function(r,i){return i instanceof Ps&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&q3(o,i.filters[a]),!0):!1}(t,e):void ft()}function $3(t){return t instanceof Vn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ju(n.value)}`}(t):t instanceof Ps?function(n){return n.op.toString()+" {"+n.getFilters().map($3).join(" ,")+"}"}(t):"Filter"}class Qx extends Vn{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yx extends Vn{constructor(e,n){super(e,"in",n),this.keys=W3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jx extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=W3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>it.fromName(r.referenceValue))}class Xx extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d2(n)&&jh(n.arrayValue,this.value)}}class Zx extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jh(this.value.arrayValue,n)}}class ek extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jh(this.value.arrayValue,n)}}class tk extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function wy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nk(t,e,n,r,i,s,o)}function p2(t){const e=_t(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ju(r)).join(",")),e.ue=n}return e.ue}function m2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_y(t.startAt,e.startAt)&&_y(t.endAt,e.endAt)}function k1(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rk(t,e,n,r,i,s,o,a){return new Hp(t,e,n,r,i,s,o,a)}function H3(t){return new Hp(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ik(t){return t.collectionGroup!==null}function uh(t){const e=_t(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new cp(s,r))}),n.has(tr.keyField().canonicalString())||e.ce.push(new cp(tr.keyField(),r))}return e.ce}function As(t){const e=_t(t);return e.le||(e.le=sk(e,uh(t))),e.le}function sk(t,e){if(t.limitType==="F")return wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cp(i.field,s)});const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L1(t,e,n){return new Hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return m2(As(t),As(e))&&t.limitType===e.limitType}function G3(t){return`${p2(As(t))}|lt:${t.limitType}`}function su(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$3(i)).join(", ")}]`),Wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ju(i)).join(",")),`Target(${r})`}(As(t))}; limitType=${t.limitType})`}function Kp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const h=yy(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,uh(r),i)||r.endAt&&!function(o,a,l){const h=yy(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,uh(r),i))}(t,e)}function ok(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K3(t){return(e,n)=>{let r=!1;for(const i of uh(t)){const s=ak(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ak(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),h=a.data.field(s);return l!==null&&h!==null?Yu(l,h):ft()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return M3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new dn(it.comparator);function co(){return lk}const Q3=new dn(it.comparator);function Qc(...t){let e=Q3;for(const n of t)e=e.insert(n.key,n);return e}function Y3(t){let e=Q3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cl(){return ch()}function J3(){return ch()}function ch(){return new hc(t=>t.toString(),(t,e)=>t.isEqual(e))}const uk=new dn(it.comparator),ck=new rr(it.comparator);function It(...t){let e=ck;for(const n of t)e=e.add(n);return e}const hk=new rr(Ot);function fk(){return hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function X3(t){return{integerValue:""+t}}function dk(t,e){return zx(e)?X3(e):g2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function pk(t,e,n){return t instanceof hp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&h2(s)&&(s=f2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vh?eE(t,e):t instanceof Bh?tE(t,e):function(i,s){const o=Z3(i,s),a=by(o)+by(i.Pe);return N1(o)&&N1(i.Pe)?X3(a):g2(i.serializer,a)}(t,e)}function mk(t,e,n){return t instanceof Vh?eE(t,e):t instanceof Bh?tE(t,e):n}function Z3(t,e){return t instanceof fp?function(r){return N1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hp extends Qp{}class Vh extends Qp{constructor(e){super(),this.elements=e}}function eE(t,e){const n=nE(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bh extends Qp{constructor(e){super(),this.elements=e}}function tE(t,e){let n=nE(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class fp extends Qp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function by(t){return Sn(t.integerValue||t.doubleValue)}function nE(t){return d2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vh&&i instanceof Vh||r instanceof Bh&&i instanceof Bh?Qu(r.elements,i.elements,Ts):r instanceof fp&&i instanceof fp?Ts(r.Pe,i.Pe):r instanceof hp&&i instanceof hp}(t.transform,e.transform)}class vk{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yp{}function rE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new v2(t.key,Qi.none()):new ef(t.key,t.data,Qi.none());{const n=t.data,r=qr.empty();let i=new rr(tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oa(t.key,r,new oi(i.toArray()),Qi.none())}}function yk(t,e,n){t instanceof ef?function(i,s,o){const a=i.value.clone(),l=Sy(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oa?function(i,s,o){if(!Ed(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Sy(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(iE(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hh(t,e,n,r){return t instanceof ef?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const h=s.value.clone(),d=Iy(s.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oa?function(s,o,a,l){if(!Ed(s.precondition,o))return a;const h=Iy(s.fieldTransforms,l,o),d=o.data;return d.setAll(iE(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Ed(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _k(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Z3(r.transform,i||null);s!=null&&(n===null&&(n=qr.empty()),n.set(r.field,s))}return n||null}function Ay(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qu(r,i,(s,o)=>gk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ef extends Yp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oa extends Yp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sy(t,e,n){const r=new Map;$t(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mk(o,a,n[i]))}return r}function Iy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,pk(s,o,e))}return r}class v2 extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wk extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=rE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),It())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(n,r)=>Ay(n,r))&&Qu(this.baseMutations,e.baseMutations,(n,r)=>Ay(n,r))}}class y2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length);let i=function(){return uk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new y2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,xt;function Sk(t){switch(t){default:return ft();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function sE(t){if(t===void 0)return uo("GRPC error has no .code"),Le.UNKNOWN;switch(t){case On.OK:return Le.OK;case On.CANCELLED:return Le.CANCELLED;case On.UNKNOWN:return Le.UNKNOWN;case On.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case On.INTERNAL:return Le.INTERNAL;case On.UNAVAILABLE:return Le.UNAVAILABLE;case On.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case On.NOT_FOUND:return Le.NOT_FOUND;case On.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case On.ABORTED:return Le.ABORTED;case On.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case On.DATA_LOSS:return Le.DATA_LOSS;default:return ft()}}(xt=On||(On={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new dl([4294967295,4294967295],0);function Ty(t){const e=Ik().encode(t),n=new x3;return n.update(e),new Uint8Array(n.digest())}function Py(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dl([n,r],0),new dl([i,s],0)]}class _2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(r<0)throw new Yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=dl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(dl.fromNumber(r)));return i.compare(Tk)===1&&(i=new dl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ty(e),[r,i]=Py(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Ty(e),[r,i]=Py(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(yt.min(),i,new dn(Ot),co(),It())}}class tf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new tf(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oE{constructor(e,n){this.targetId=e,this.me=n}}class aE{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ny{constructor(){this.fe=0,this.ge=ky(),this.pe=or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=It(),n=It(),r=It();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new tf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ky()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pk{constructor(e){this.Le=e,this.Be=new Map,this.ke=co(),this.qe=xy(),this.Qe=new dn(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ft()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(k1(s))if(r===0){const o=new it(s.path);this.Ue(n,o,wr.newNoDocument(o,yt.min()))}else $t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Al(r).toUint8Array()}catch(l){if(l instanceof j3)return Ku("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _2(o,i,s)}catch(l){return Ku(l instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&k1(a.target)){const l=new it(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,wr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=It();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jp(e,n,this.Qe,this.ke,r);return this.ke=co(),this.qe=xy(),this.Qe=new dn(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ny,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ny),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xy(){return new dn(it.comparator)}function ky(){return new dn(it.comparator)}const Nk={asc:"ASCENDING",desc:"DESCENDING"},xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk={and:"AND",or:"OR"};class Lk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C1(t,e){return t.useProto3Json||Wp(e)?e:{value:e}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ck(t,e){return dp(t,e.toTimestamp())}function Ss(t){return $t(!!t),yt.fromTimestamp(function(n){const r=Ta(n);return new Un(r.seconds,r.nanos)}(t))}function w2(t,e){return R1(t,e).canonicalString()}function R1(t,e){const n=function(i){return new ln(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uE(t){const e=ln.fromString(t);return $t(pE(e)),e}function O1(t,e){return w2(t.databaseId,e.path)}function ag(t,e){const n=uE(e);if(n.get(1)!==t.databaseId.projectId)throw new et(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new et(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(hE(n))}function cE(t,e){return w2(t.databaseId,e)}function Rk(t){const e=uE(t);return e.length===4?ln.emptyPath():hE(e)}function D1(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hE(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ly(t,e,n){return{name:O1(t,e),fields:n.value.mapValue.fields}}function Ok(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?($t(d===void 0||typeof d=="string"),or.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array),or.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const d=h.code===void 0?Le.UNKNOWN:sE(h.code);return new et(d,h.message||"")}(o);n=new aE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ag(t,r.document.name),s=Ss(r.document.updateTime),o=r.document.createTime?Ss(r.document.createTime):yt.min(),a=new qr({mapValue:{fields:r.document.fields}}),l=wr.newFoundDocument(i,s,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new bd(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ag(t,r.document),s=r.readTime?Ss(r.readTime):yt.min(),o=wr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ag(t,r.document),s=r.removedTargetIds||[];n=new bd([],s,i,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ak(i,s),a=r.targetId;n=new oE(a,o)}}return n}function Dk(t,e){let n;if(e instanceof ef)n={update:Ly(t,e.key,e.value)};else if(e instanceof v2)n={delete:O1(t,e.key)};else if(e instanceof Oa)n={update:Ly(t,e.key,e.data),updateMask:$k(e.fieldMask)};else{if(!(e instanceof wk))return ft();n={verify:O1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ft()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ck(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ft()}(t,e.precondition)),n}function Fk(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ss(i.updateTime):Ss(s);return o.isEqual(yt.min())&&(o=Ss(s)),new vk(o,i.transformResults||[])}(n,e))):[]}function Mk(t,e){return{documents:[cE(t,e.path)]}}function jk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cE(t,i);const s=function(h){if(h.length!==0)return dE(Ps.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(_){return{field:ou(_.field),direction:Uk(_.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=C1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function Vk(t){let e=Rk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const _=fE(m);return _ instanceof Ps&&z3(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(P){return new cp(au(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(m){let _;return _=typeof m=="object"?m.value:m,Wp(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(m){const _=!!m.before,g=m.values||[];return new up(g,_)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const _=!m.before,g=m.values||[];return new up(g,_)}(n.endAt)),rk(e,i,o,s,a,"F",l,h)}function Bk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=au(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=au(n.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=au(n.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(t):t.fieldFilter!==void 0?function(n){return Vn.create(au(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ps.create(n.compositeFilter.filters.map(r=>fE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ft()}}(n.compositeFilter.op))}(t):ft()}function Uk(t){return Nk[t]}function zk(t){return xk[t]}function qk(t){return kk[t]}function ou(t){return{fieldPath:t.canonicalString()}}function au(t){return tr.fromServerFormat(t.fieldPath)}function dE(t){return t instanceof Vn?function(n){if(n.op==="=="){if(vy(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NAN"}};if(gy(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vy(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NAN"}};if(gy(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(n.field),op:zk(n.op),value:n.value}}}(t):t instanceof Ps?function(n){const r=n.getFilters().map(i=>dE(i));return r.length===1?r[0]:{compositeFilter:{op:qk(n.op),filters:r}}}(t):ft()}function $k(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,i,s=yt.min(),o=yt.min(),a=or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.ct=e}}function Hk(t){const e=Vk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.un=new Kk}addToCollectionParentIndex(e,n){return this.un.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Ia.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class Kk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(ln.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xu(0)}static kn(){return new Xu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.changes=new hc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hh(r.mutation,i,oi.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,n,r=It()){const i=cl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,It()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=co();const o=ch(),a=function(){return ch()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Oa)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),hh(d.mutation,h,d.mutation.getFieldMask(),Un.now())):o.set(h.key,oi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var m;return a.set(h,new Yk(d,(m=o.get(h))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ch();let i=new dn((o,a)=>o-a),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||oi.empty();d=a.applyToLocalView(h,d),r.set(l,d);const m=(i.get(a.batchId)||It()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,d=l.value,m=J3();d.forEach(_=>{if(!s.has(_)){const g=rE(n.get(_),r.get(_));g!==null&&m.set(_,g),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ik(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):xe.resolve(cl());let a=-1,l=s;return o.next(h=>xe.forEach(h,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(d)?xe.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,It())).next(d=>({batchId:a,changes:Y3(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next(r=>{let i=Qc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qc();return this.indexManager.getCollectionParents(e,s).next(a=>xe.forEach(a,l=>{const h=function(m,_){return new Hp(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,wr.newInvalidDocument(d)))});let a=Qc();return o.forEach((l,h)=>{const d=s.get(l);d!==void 0&&hh(d.mutation,h,oi.empty(),Un.now()),Kp(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return xe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ss(i.createTime)}}(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Hk(i.bundledQuery),readTime:Ss(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new dn(it.comparator),this.Ir=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cl();return xe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=cl(),s=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dn((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=cl(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=cl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return xe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bk(n,r));let s=this.Ir.get(n);s===void 0&&(s=It(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Tr=new rr($n.Er),this.dr=new rr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new it(new ln([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new it(new ln([])),r=new $n(n,e),i=new $n(n,e+1);let s=It();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return it.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||it.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rr($n.Er)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ek(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(e,n){return xe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Ot);return n.forEach(i=>{const s=new $n(i,0),o=new $n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),xe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new $n(new it(s),0);let a=new rr(Ot);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},o),xe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return xe.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),i=this.br.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.Mr=e,this.docs=function(){return new dn(it.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let r=co();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wr.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=co();const o=n.path,a=new it(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||jx(Mx(d),r)<=0||(i.has(d.key)||Kp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ft()}Or(e,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rL(this)}getSize(e){return xe.resolve(this.size)}}class rL extends Qk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),xe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.persistence=e,this.Nr=new hc(n=>p2(n),m2),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new E2,this.targetCount=0,this.kr=Xu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),xe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Kn(n),xe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new c2(0),this.Kr=!1,this.Kr=!0,this.$r=new eL,this.referenceDelegate=e(this),this.Ur=new iL(this),this.indexManager=new Gk,this.remoteDocumentCache=function(i){return new nL(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Wk(n),this.Gr=new Xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new tL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new oL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return xe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class oL extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class b2{constructor(e){this.persistence=e,this.Jr=new E2,this.Yr=null}static Zr(e){return new b2(e)}get Xr(){if(this.Yr)return this.Yr;throw ft()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Xr,r=>{const i=it.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,yt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return xe.or([()=>xe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YT()?8:Ux(Ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new aL;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vc()<=Pt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),xe.resolve()):(Vc()<=Pt.DEBUG&&Je("QueryEngine","Query:",su(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vc()<=Pt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):xe.resolve())}Yi(e,n){if(Ey(n))return xe.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=L1(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=It(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,a);return this.ns(n,h,o,l.readTime)?this.Yi(e,L1(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,i){return Ey(n)||i.isEqual(yt.min())?xe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?xe.resolve(null):(Vc()<=Pt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),su(n)),this.rs(e,o,n,Fx(i,-1)).next(a=>a))})}ts(e,n){let r=new rr(K3(e));return n.forEach((i,s)=>{Kp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Vc()<=Pt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",su(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ia.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dn(Ot),this._s=new hc(s=>p2(s),m2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function cL(t,e,n,r){return new uL(t,e,n,r)}async function mE(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=It();for(const h of i){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of s){a.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:a}))})})}function hL(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,d){const m=h.batch,_=m.keys();let g=xe.resolve();return _.forEach(P=>{g=g.next(()=>d.getEntry(l,P)).next(T=>{const O=h.docVersions.get(P);$t(O!==null),T.version.compareTo(O)<0&&(m.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=It();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gE(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function fL(t,e){const n=_t(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,m)=>{const _=i.get(m);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,m)));let g=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(or.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(m,g),function(T,O,b){return T.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=co(),h=It();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(dL(s,o,e.documentUpdates).next(d=>{l=d.Ps,h=d.Is})),!r.isEqual(yt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.os=i,s))}function dL(t,e,n){let r=It(),i=It();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=co();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(yt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function pL(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mL(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,xe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new oa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function F1(t,e,n){const r=_t(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Zh(o))throw o;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Cy(t,e,n){const r=_t(t);let i=yt.min(),s=It();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,d){const m=_t(l),_=m._s.get(d);return _!==void 0?xe.resolve(m.os.get(_)):m.Ur.getTargetData(h,d)}(r,o,As(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:yt.min(),n?s:It())).next(a=>(gL(r,ok(e),a),{documents:a,Ts:s})))}function gL(t,e,n){let r=t.us.get(e)||yt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Ry{constructor(){this.activeTargetIds=fk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vL{constructor(){this.so=new Ry,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ry,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function lg(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class EL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=lg(),l=this.xo(n,r.toUriEncodedString());Je("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,l,h,i).then(d=>(Je("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ku("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=_L[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=lg();return new Promise((o,a)=>{const l=new k3;l.setWithCredentials(!0),l.listenOnce(L3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _d.NO_ERROR:const d=l.getResponseJson();Je(dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case _d.TIMEOUT:Je(dr,`RPC '${e}' ${s} timed out`),a(new et(Le.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const m=l.getStatus();if(Je(dr,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const g=_==null?void 0:_.error;if(g&&g.status&&g.message){const P=function(O){const b=O.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(b)>=0?b:Le.UNKNOWN}(g.status);a(new et(P,g.message))}else a(new et(Le.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new et(Le.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Je(dr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Je(dr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=lg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=O3(),a=R3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Je(dr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=o.createWebChannel(d,l);let _=!1,g=!1;const P=new wL({Io:O=>{g?Je(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(_||(Je(dr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),Je(dr,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),T=(O,b,E)=>{O.listen(b,C=>{try{E(C)}catch(W){setTimeout(()=>{throw W},0)}})};return T(m,Kc.EventType.OPEN,()=>{g||(Je(dr,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),T(m,Kc.EventType.CLOSE,()=>{g||(g=!0,Je(dr,`RPC '${e}' stream ${i} transport closed`),P.So())}),T(m,Kc.EventType.ERROR,O=>{g||(g=!0,Ku(dr,`RPC '${e}' stream ${i} transport errored:`,O),P.So(new et(Le.UNAVAILABLE,"The operation could not be completed")))}),T(m,Kc.EventType.MESSAGE,O=>{var b;if(!g){const E=O.data[0];$t(!!E);const C=E,W=C.error||((b=C[0])===null||b===void 0?void 0:b.error);if(W){Je(dr,`RPC '${e}' stream ${i} received error:`,W);const J=W.status;let oe=function(F){const U=On[F];if(U!==void 0)return sE(U)}(J),D=W.message;oe===void 0&&(oe=Le.INTERNAL,D="Unknown error status: "+J+" with message "+W.message),g=!0,P.So(new et(oe,D)),m.close()}else Je(dr,`RPC '${e}' stream ${i} received:`,E),P.bo(E)}}),T(a,C3.STAT_EVENT,O=>{O.stat===T1.PROXY?Je(dr,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===T1.NOPROXY&&Je(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return new Lk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(uo(n.toString()),uo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new et(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bL extends yE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ok(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Ss(o.readTime):yt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=D1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=k1(l)?{documents:Mk(s,l)}:{query:jk(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lE(s,o.resumeToken);const h=C1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(yt.min())>0){a.readTime=dp(s,o.snapshotVersion.toTimestamp());const h=C1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=Bk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=D1(this.serializer),n.removeTarget=e,this.a_(n)}}class AL extends yE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Fk(e.writeResults,e.commitTime),r=Ss(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=D1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Dk(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new et(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,R1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new et(Le.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,R1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Le.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class IL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(uo(n),this.D_=!1):Je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{kl(this)&&(Je("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=_t(l);h.L_.add(4),await nf(h),h.q_.set("Unknown"),h.L_.delete(4),await Zp(h)}(this))})}),this.q_=new IL(r,i)}}async function Zp(t){if(kl(t))for(const e of t.B_)await e(!0)}async function nf(t){for(const e of t.B_)await e(!1)}function _E(t,e){const n=_t(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),P2(n)?T2(n):fc(n).r_()&&I2(n,e))}function S2(t,e){const n=_t(t),r=fc(n);n.N_.delete(e),r.r_()&&wE(n,e),n.N_.size===0&&(r.r_()?r.o_():kl(n)&&n.q_.set("Unknown"))}function I2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).A_(e)}function wE(t,e){t.Q_.xe(e),fc(t).R_(e)}function T2(t){t.Q_=new Pk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.q_.v_()}function P2(t){return kl(t)&&!fc(t).n_()&&t.N_.size>0}function kl(t){return _t(t).L_.size===0}function EE(t){t.Q_=void 0}async function PL(t){t.q_.set("Online")}async function NL(t){t.N_.forEach((e,n)=>{I2(t,e)})}async function xL(t,e){EE(t),P2(t)?(t.q_.M_(e),T2(t)):t.q_.set("Unknown")}async function kL(t,e,n){if(t.q_.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof bd?t.Q_.Ke(e):e instanceof oE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(yt.min()))try{const r=await gE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(h);d&&s.N_.set(h,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(or.EMPTY_BYTE_STRING,d.snapshotVersion)),wE(s,l);const m=new oa(d.target,l,h,d.sequenceNumber);I2(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Je("RemoteStore","Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Zh(e))throw e;t.L_.add(1),await nf(t),t.q_.set("Offline"),n||(n=()=>gE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zp(t)})}function bE(t,e){return e().catch(n=>pp(t,n,e))}async function em(t){const e=_t(t),n=Pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LL(e);)try{const i=await pL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,CL(e,i)}catch(i){await pp(e,i)}AE(e)&&SE(e)}function LL(t){return kl(t)&&t.O_.length<10}function CL(t,e){t.O_.push(e);const n=Pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function AE(t){return kl(t)&&!Pa(t).n_()&&t.O_.length>0}function SE(t){Pa(t).start()}async function RL(t){Pa(t).p_()}async function OL(t){const e=Pa(t);for(const n of t.O_)e.m_(n.mutations)}async function DL(t,e,n){const r=t.O_.shift(),i=y2.from(r,e,n);await bE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await em(t)}async function FL(t,e){e&&Pa(t).V_&&await async function(r,i){if(function(o){return Sk(o)&&o!==Le.ABORTED}(i.code)){const s=r.O_.shift();Pa(r).s_(),await bE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await em(r)}}(t,e),AE(t)&&SE(t)}async function Dy(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const r=kl(n);n.L_.add(3),await nf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zp(n)}async function ML(t,e){const n=_t(t);e?(n.L_.delete(2),await Zp(n)):e||(n.L_.add(2),await nf(n),n.q_.set("Unknown"))}function fc(t){return t.K_||(t.K_=function(n,r,i){const s=_t(n);return s.w_(),new bL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:PL.bind(null,t),Ro:NL.bind(null,t),mo:xL.bind(null,t),d_:kL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),P2(t)?T2(t):t.q_.set("Unknown")):(await t.K_.stop(),EE(t))})),t.K_}function Pa(t){return t.U_||(t.U_=function(n,r,i){const s=_t(n);return s.w_(),new AL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RL.bind(null,t),mo:FL.bind(null,t),f_:OL.bind(null,t),g_:DL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await em(t)):(await t.U_.stop(),t.O_.length>0&&(Je("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x2(t,e){if(uo("AsyncQueue",`${e}: ${t}`),Zh(t))return new et(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Qc(),this.sortedSet=new dn(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.W_=new dn(it.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ft():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zu{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zu(e,n,Ru.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class VL{constructor(){this.queries=My(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_t(n),s=i.queries;i.queries=My(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new et(Le.ABORTED,"Firestore shutting down"))}}function My(){return new hc(t=>G3(t),Gp)}async function BL(t,e){const n=_t(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jL,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=x2(o,`Initialization of query '${su(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&k2(n)}async function UL(t,e){const n=_t(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zL(t,e){const n=_t(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&k2(n)}function qL(t,e,n){const r=_t(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function k2(t){t.Y_.forEach(e=>{e.next()})}var M1,jy;(jy=M1||(M1={})).ea="default",jy.Cache="cache";class $L{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==M1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class WL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=It(),this.mutatedKeys=It(),this.Aa=K3(e),this.Ra=new Ru(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Fy,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const _=i.get(d),g=Kp(this.query,m)?m:null,P=!!_&&this.mutatedKeys.has(_.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let O=!1;_&&g?_.data.isEqual(g.data)?P!==T&&(r.track({type:3,doc:g}),O=!0):this.ga(_,g)||(r.track({type:2,doc:g}),O=!0,(l&&this.Aa(g,l)>0||h&&this.Aa(g,h)<0)&&(a=!0)):!_&&g?(r.track({type:0,doc:g}),O=!0):_&&!g&&(r.track({type:1,doc:_}),O=!0,(l||h)&&(a=!0)),O&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,m)=>function(g,P){const T=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return T(g)-T(P)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new Zu(this.query,e.Ra,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=It(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new TE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new IE(r))}),n}ba(e){this.Ta=e.Ts,this.da=It();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GL{constructor(e){this.key=e,this.va=!1}}class KL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new hc(a=>G3(a),Gp),this.Ma=new Map,this.xa=new Set,this.Oa=new dn(it.comparator),this.Na=new Map,this.La=new E2,this.Ba={},this.ka=new Map,this.qa=Xu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QL(t,e,n=!0){const r=CE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await PE(r,e,n,!0),i}async function YL(t,e){const n=CE(t);await PE(n,e,!0,!1)}async function PE(t,e,n,r){const i=await mL(t.localStore,As(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_E(t.remoteStore,i),a}async function JL(t,e,n,r,i){t.Ka=(m,_,g)=>async function(T,O,b,E){let C=O.view.ma(b);C.ns&&(C=await Cy(T.localStore,O.query,!1).then(({documents:D})=>O.view.ma(D,C)));const W=E&&E.targetChanges.get(O.targetId),J=E&&E.targetMismatches.get(O.targetId)!=null,oe=O.view.applyChanges(C,T.isPrimaryClient,W,J);return By(T,O.targetId,oe.wa),oe.snapshot}(t,m,_,g);const s=await Cy(t.localStore,e,!0),o=new WL(e,s.Ts),a=o.ma(s.documents),l=tf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);By(t,n,h.wa);const d=new HL(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function XL(t,e,n){const r=_t(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await F1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&S2(r.remoteStore,i.targetId),j1(r,i.targetId)}).catch(Xh)):(j1(r,i.targetId),await F1(r.localStore,i.targetId,!0))}async function ZL(t,e){const n=_t(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S2(n.remoteStore,r.targetId))}async function eC(t,e,n){const r=aC(t);try{const i=await function(o,a){const l=_t(o),h=Un.now(),d=a.reduce((g,P)=>g.add(P.key),It());let m,_;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let P=co(),T=It();return l.cs.getEntries(g,d).next(O=>{P=O,P.forEach((b,E)=>{E.isValidDocument()||(T=T.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,P)).next(O=>{m=O;const b=[];for(const E of a){const C=_k(E,m.get(E.key).overlayedDocument);C!=null&&b.push(new Oa(E.key,C,V3(C.value.mapValue),Qi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,h,b,a)}).next(O=>{_=O;const b=O.applyToLocalDocumentSet(m,T);return l.documentOverlayCache.saveOverlays(g,O.batchId,b)})}).then(()=>({batchId:_.batchId,changes:Y3(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new dn(Ot)),h=h.insert(a,l),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await rf(r,i.changes),await em(r.remoteStore)}catch(i){const s=x2(i,"Failed to persist write");n.reject(s)}}async function NE(t,e){const n=_t(t);try{const r=await fL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$t(o.va):i.removedDocuments.size>0&&($t(o.va),o.va=!1))}),await rf(n,r,e)}catch(r){await Xh(r)}}function Vy(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_t(o);l.onlineState=a;let h=!1;l.queries.forEach((d,m)=>{for(const _ of m.j_)_.Z_(a)&&(h=!0)}),h&&k2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tC(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dn(it.comparator);o=o.insert(s,wr.newNoDocument(s,yt.min()));const a=It().add(s),l=new Jp(yt.min(),new Map,new dn(Ot),o,a);await NE(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),L2(r)}else await F1(r.localStore,e,!1).then(()=>j1(r,e,n)).catch(Xh)}async function nC(t,e){const n=_t(t),r=e.batch.batchId;try{const i=await hL(n.localStore,e);kE(n,r,null),xE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rf(n,i)}catch(i){await Xh(i)}}async function rC(t,e,n){const r=_t(t);try{const i=await function(o,a){const l=_t(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,a).next(m=>($t(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(h,m))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);kE(r,e,n),xE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rf(r,i)}catch(i){await Xh(i)}}function xE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kE(t,e,n){const r=_t(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function j1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LE(t,r)})}function LE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(S2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),L2(t))}function By(t,e,n){for(const r of n)r instanceof IE?(t.La.addReference(r.key,e),iC(t,r)):r instanceof TE?(Je("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LE(t,r.key)):ft()}function iC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Je("SyncEngine","New document in limbo: "+n),t.xa.add(r),L2(t))}function L2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new it(ln.fromString(e)),r=t.qa.next();t.Na.set(r,new GL(n)),t.Oa=t.Oa.insert(n,r),_E(t.remoteStore,new oa(As(H3(n.path)),r,"TargetPurposeLimboResolution",c2.oe))}}async function rf(t,e,n){const r=_t(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(h){i.push(h);const m=A2.Wi(l.targetId,h);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,h){const d=_t(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>xe.forEach(h,_=>xe.forEach(_.$i,g=>d.persistence.referenceDelegate.addReference(m,_.targetId,g)).next(()=>xe.forEach(_.Ui,g=>d.persistence.referenceDelegate.removeReference(m,_.targetId,g)))))}catch(m){if(!Zh(m))throw m;Je("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const g=d.os.get(_),P=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(P);d.os=d.os.insert(_,T)}}}(r.localStore,s))}async function sC(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const r=await mE(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new et(Le.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rf(n,r.hs)}}function oC(t,e){const n=_t(t),r=n.Na.get(e);if(r&&r.va)return It().add(r.key);{let i=It();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function CE(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tC.bind(null,e),e.Ca.d_=zL.bind(null,e.eventManager),e.Ca.$a=qL.bind(null,e.eventManager),e}function aC(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return cL(this.persistence,new lL,e.initialUser,this.serializer)}Ga(e){return new sL(b2.Zr,this.serializer)}Wa(e){return new vL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class V1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),await ML(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VL}()}createDatastore(e){const n=Xp(e.databaseInfo.databaseId),r=function(s){return new EL(s)}(e.databaseInfo);return function(s,o,a,l){return new SL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Vy(this.syncEngine,n,0),function(){return Oy.D()?new Oy:new yL}())}createSyncEngine(e,n){return function(i,s,o,a,l,h,d){const m=new KL(i,s,o,a,l,h);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_t(i);Je("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await nf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}V1.provider={build:()=>new V1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yr.UNAUTHENTICATED,this.clientId=F3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Je("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Je("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cC(t);Je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Dy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Dy(e.remoteStore,i)),t._onlineComponents=e}async function cC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ku("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new mp)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),await cg(t,new mp);return t._offlineComponents}async function RE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(t,t._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),await Uy(t,new V1))),t._onlineComponents}function hC(t){return RE(t).then(e=>e.syncEngine)}async function fC(t){const e=await RE(t),n=e.eventManager;return n.onListen=QL.bind(null,e.syncEngine),n.onUnlisten=XL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZL.bind(null,e.syncEngine),n}function dC(t,e,n={}){const r=new Ea;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,h){const d=new lC({next:_=>{d.Za(),o.enqueueAndForget(()=>UL(s,m)),_.fromCache&&l.source==="server"?h.reject(new et(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new $L(a,d,{includeMetadataChanges:!0,_a:!0});return BL(s,m)}(await fC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e,n){if(!n)throw new et(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pC(t,e,n,r){if(e===!0&&r===!0)throw new et(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qy(t){if(!it.isDocumentKey(t))throw new et(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $y(t){if(it.isDocumentKey(t))throw new et(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function Il(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new et(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C2(t);throw new et(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new et(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new et(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Px;switch(r.type){case"firstParty":return new Lx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zy.get(n);r&&(Je("ComponentProvider","Removing Datastore"),zy.delete(n),r.terminate())}(this),Promise.resolve()}}function mC(t,e,n,r={}){var i;const s=(t=Il(t,tm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=yr.MOCK_USER;else{a=qT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new et(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new yr(h)}t._authCredentials=new Nx(new D3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nm(this.firestore,e,this._query)}}class Ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class ba extends nm{constructor(e,n,r){super(e,n,H3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new it(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function B1(t,e,...n){if(t=sr(t),DE("collection","path",e),t instanceof tm){const r=ln.fromString(e,...n);return $y(r),new ba(t,null,r)}{if(!(t instanceof Ti||t instanceof ba))throw new et(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return $y(r),new ba(t.firestore,null,r)}}function U1(t,e,...n){if(t=sr(t),arguments.length===1&&(e=F3.newId()),DE("doc","path",e),t instanceof tm){const r=ln.fromString(e,...n);return qy(r),new Ti(t,null,new it(r))}{if(!(t instanceof Ti||t instanceof ba))throw new et(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return qy(r),new Ti(t.firestore,t instanceof ba?t.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vE(this,"async_queue_retry"),this.Vu=()=>{const r=ug();r&&Je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ea;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zh(e))throw e;Je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw uo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=N2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class sf extends tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function gC(t,e){const n=typeof t=="object"?t:G4(),r=typeof t=="string"?t:"(default)",i=Z0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=UT("firestore");s&&mC(i,...s)}return i}function FE(t){if(t._terminated)throw new et(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vC(t),t._firestoreClient}function vC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,h,d){return new $x(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(or.fromBase64String(e))}catch(n){throw new et(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ec(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new et(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new et(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new et(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/^__.*__$/;class _C{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ef(e,this.data,n,this.fieldTransforms)}}class ME{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class F2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new F2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jE(this.Cu)&&yC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xp(e)}Qu(e,n,r,i=!1){return new F2({Cu:e,methodName:n,qu:r,path:tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VE(t){const e=t._freezeSettings(),n=Xp(t._databaseId);return new wC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EC(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);M2("Data must be an object, but it was:",o,r);const a=BE(r,o);let l,h;if(s.merge)l=new oi(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const _=z1(e,m,n);if(!o.contains(_))throw new et(Le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);zE(d,_)||d.push(_)}l=new oi(d),h=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,h=o.fieldTransforms;return new _C(new qr(a),l,h)}class im extends R2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function bC(t,e,n,r){const i=t.Qu(1,e,n);M2("Data must be an object, but it was:",i,r);const s=[],o=qr.empty();xl(r,(l,h)=>{const d=j2(e,l,n);h=sr(h);const m=i.Nu(d);if(h instanceof im)s.push(d);else{const _=sm(h,m);_!=null&&(s.push(d),o.set(d,_))}});const a=new oi(s);return new ME(o,a,i.fieldTransforms)}function AC(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[z1(e,r,n)],l=[i];if(s.length%2!=0)throw new et(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(z1(e,s[_])),l.push(s[_+1]);const h=[],d=qr.empty();for(let _=a.length-1;_>=0;--_)if(!zE(h,a[_])){const g=a[_];let P=l[_];P=sr(P);const T=o.Nu(g);if(P instanceof im)h.push(g);else{const O=sm(P,T);O!=null&&(h.push(g),d.set(g,O))}}const m=new oi(h);return new ME(d,m,o.fieldTransforms)}function sm(t,e){if(UE(t=sr(t)))return M2("Unsupported field value:",e,t),BE(t,e);if(t instanceof R2)return function(r,i){if(!jE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=sm(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Un.fromDate(r);return{timestampValue:dp(i.serializer,s)}}if(r instanceof Un){const s=new Un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dp(i.serializer,s)}}if(r instanceof O2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ec)return{bytesValue:lE(i.serializer,r._byteString)};if(r instanceof Ti){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof D2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return g2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${C2(r)}`)}(t,e)}function BE(t,e){const n={};return M3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,(r,i)=>{const s=sm(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof O2||t instanceof ec||t instanceof Ti||t instanceof R2||t instanceof D2)}function M2(t,e,n){if(!UE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C2(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function z1(t,e,n){if((e=sr(e))instanceof rm)return e._internalPath;if(typeof e=="string")return j2(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const SC=new RegExp("[~\\*/\\[\\]]");function j2(t,e,n){if(e.search(SC)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new et(Le.INVALID_ARGUMENT,a+t+l)}function zE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($E("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IC extends qE{data(){return super.data()}}function $E(t,e){return typeof e=="string"?j2(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new et(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PC{convertValue(e,n="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Sn(o.doubleValue));return new D2(s)}convertGeoPoint(e){return new O2(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=f2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);$t(pE(r));const i=new Mh(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||uo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xC extends qE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($E("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ad extends xC{data(e={}){return super.data(e)}}class kC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new Xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:LC(a.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class CC extends PC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function WE(t){t=Il(t,nm);const e=Il(t.firestore,sf),n=FE(e),r=new CC(e);return TC(t._query),dC(n,t._query).then(i=>new kC(e,r,t,i))}function RC(t,e,n,...r){t=Il(t,Ti);const i=Il(t.firestore,sf),s=VE(i);let o;return o=typeof(e=sr(e))=="string"||e instanceof rm?AC(s,"updateDoc",t._key,e,n,r):bC(s,"updateDoc",t._key,e),V2(i,[o.toMutation(t._key,Qi.exists(!0))])}function OC(t){return V2(Il(t.firestore,sf),[new v2(t._key,Qi.none())])}function DC(t,e){const n=Il(t.firestore,sf),r=U1(t),i=NC(t.converter,e);return V2(n,[EC(VE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function V2(t,e){return function(r,i){const s=new Ea;return r.asyncQueue.enqueueAndForget(async()=>eC(await hC(r),i,s)),s.promise}(FE(t),e)}(function(e,n=!0){(function(i){cc=i})(ac),Hu(new wl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sf(new xx(r.getProvider("auth-internal")),new Rx(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new et(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_a(hy,"4.7.3",e),_a(hy,"4.7.3","esm2017")})();const FC={apiKey:"AIzaSyAh83mTA11w1UCYoWHacf0IjoT2EHX58Fw",authDomain:"achandymand-9b1b7.firebaseapp.com",projectId:"achandymand-9b1b7",storageBucket:"achandymand-9b1b7.firebasestorage.app",messagingSenderId:"572845716943",appId:"1:572845716943:web:3bccca159f62ee648c4eba",measurementId:"G-PXKM1S3PK2"},HE=H4(FC),B2=Ax(HE),Jc=gC(HE);function MC(){const[t,e]=ke.useState(""),[n,r]=ke.useState(""),[i,s]=ke.useState(""),[o,a]=ke.useState(!1),l=jp(),h=async d=>{d.preventDefault(),s(""),a(!0);try{await lN(B2,t,n),l("/timeregistrering")}catch(m){console.error("Login error:",m);let _="Der opstod en fejl ved login. Prv igen.";m.code==="auth/user-not-found"||m.code==="auth/wrong-password"?_="Forkert brugernavn eller adgangskode.":m.code==="auth/invalid-email"?_="Ugyldig e-mailadresse.":m.code==="auth/too-many-requests"&&(_="For mange forsg. Prv igen senere."),s(_)}finally{a(!1)}};return Te.jsx("div",{className:"login-container",children:Te.jsxs("div",{className:"login-box",children:[Te.jsxs("div",{className:"login-logo",children:[Te.jsx("h1",{children:"AC Handymand"}),Te.jsx("p",{children:"Timeregistrering System"})]}),Te.jsxs("form",{className:"login-form",onSubmit:h,children:[i&&Te.jsx("div",{className:"error-message",children:i}),Te.jsxs("div",{className:"form-group",children:[Te.jsx("label",{htmlFor:"email",children:"Brugernavn (E-mail)"}),Te.jsx("input",{type:"email",id:"email",value:t,onChange:d=>e(d.target.value),required:!0,disabled:o,placeholder:"din@email.dk"})]}),Te.jsxs("div",{className:"form-group",children:[Te.jsx("label",{htmlFor:"password",children:"Adgangskode"}),Te.jsx("input",{type:"password",id:"password",value:n,onChange:d=>r(d.target.value),required:!0,disabled:o,placeholder:""})]}),Te.jsx("button",{type:"submit",className:"btn-login",disabled:o,children:o?"Logger ind...":"Log ind"})]})]})})}const jC=["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],vp=["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"];function VC(t){return jC[t.getDay()]}function BC(t){const e=t.getDay();return e===0||e===6}function UC(t,e){const n=[];let r=new Date(t,e,20);const i=e===11?0:e+1,s=e===11?t+1:t,o=new Date(s,i,19);for(;r<=o;)n.push({date:new Date(r),dayOfMonth:r.getDate(),month:r.getMonth(),year:r.getFullYear(),weekday:VC(r),isWeekend:BC(r),formattedDate:`${String(r.getDate()).padStart(2,"0")}.${String(r.getMonth()+1).padStart(2,"0")}`}),r.setDate(r.getDate()+1);return n}function GE(t){const e=t===11?0:t+1;return`${vp[t]} / ${vp[e]}`}function KE(t,e){return e===11?`${t} / ${t+1}`:String(t)}function zC(){return vp.map((t,e)=>{const n=e===11?0:e+1;return{value:e,label:`${t} / ${vp[n]}`}})}const qC="modulepreload",$C=function(t){return"/"+t},Gy={},q1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=$C(l),l in Gy)return;Gy[l]=!0;const h=l.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":qC,h||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((_,g)=>{m.addEventListener("load",_),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var Er=Uint8Array,ai=Uint16Array,U2=Int32Array,om=new Er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),am=new Er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$1=new Er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QE=function(t,e){for(var n=new ai(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new U2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},YE=QE(om,2),JE=YE.b,W1=YE.r;JE[28]=258,W1[258]=28;var XE=QE(am,0),WC=XE.b,Ky=XE.r,H1=new ai(32768);for(var sn=0;sn<32768;++sn){var Go=(sn&43690)>>1|(sn&21845)<<1;Go=(Go&52428)>>2|(Go&13107)<<2,Go=(Go&61680)>>4|(Go&3855)<<4,H1[sn]=((Go&65280)>>8|(Go&255)<<8)>>1}var Is=function(t,e,n){for(var r=t.length,i=0,s=new ai(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ai(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ai(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],m=o[t[i]-1]++<<d,_=m|(1<<d)-1;m<=_;++m)a[H1[m]>>l]=h}else for(a=new ai(r),i=0;i<r;++i)t[i]&&(a[i]=H1[o[t[i]-1]++]>>15-t[i]);return a},Na=new Er(288);for(var sn=0;sn<144;++sn)Na[sn]=8;for(var sn=144;sn<256;++sn)Na[sn]=9;for(var sn=256;sn<280;++sn)Na[sn]=7;for(var sn=280;sn<288;++sn)Na[sn]=8;var Uh=new Er(32);for(var sn=0;sn<32;++sn)Uh[sn]=5;var HC=Is(Na,9,0),GC=Is(Na,9,1),KC=Is(Uh,5,0),QC=Is(Uh,5,1),hg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ui=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},fg=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},z2=function(t){return(t+7)/8|0},ZE=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Er(t.subarray(e,n))},YC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$i=function(t,e,n){var r=new Error(e||YC[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,$i),!n)throw r;return r},JC=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Er(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Er(i*3));var h=function(Ce){var Be=n.length;if(Ce>Be){var je=new Er(Math.max(Be*2,Ce));je.set(n),n=je}},d=e.f||0,m=e.p||0,_=e.b||0,g=e.l,P=e.d,T=e.m,O=e.n,b=i*8;do{if(!g){d=Ui(t,m,1);var E=Ui(t,m+1,3);if(m+=3,E)if(E==1)g=GC,P=QC,T=9,O=5;else if(E==2){var oe=Ui(t,m,31)+257,D=Ui(t,m+10,15)+4,S=oe+Ui(t,m+5,31)+1;m+=14;for(var F=new Er(S),U=new Er(19),I=0;I<D;++I)U[$1[I]]=Ui(t,m+I*3,7);m+=D*3;for(var N=hg(U),x=(1<<N)-1,Q=Is(U,N,1),I=0;I<S;){var ve=Q[Ui(t,m,x)];m+=ve&15;var C=ve>>4;if(C<16)F[I++]=C;else{var me=0,ye=0;for(C==16?(ye=3+Ui(t,m,3),m+=2,me=F[I-1]):C==17?(ye=3+Ui(t,m,7),m+=3):C==18&&(ye=11+Ui(t,m,127),m+=7);ye--;)F[I++]=me}}var Y=F.subarray(0,oe),le=F.subarray(oe);T=hg(Y),O=hg(le),g=Is(Y,T,1),P=Is(le,O,1)}else $i(1);else{var C=z2(m)+4,W=t[C-4]|t[C-3]<<8,J=C+W;if(J>i){l&&$i(0);break}a&&h(_+W),n.set(t.subarray(C,J),_),e.b=_+=W,e.p=m=J*8,e.f=d;continue}if(m>b){l&&$i(0);break}}a&&h(_+131072);for(var ce=(1<<T)-1,Re=(1<<O)-1,R=m;;R=m){var me=g[fg(t,m)&ce],q=me>>4;if(m+=me&15,m>b){l&&$i(0);break}if(me||$i(2),q<256)n[_++]=q;else if(q==256){R=m,g=null;break}else{var G=q-254;if(q>264){var I=q-257,X=om[I];G=Ui(t,m,(1<<X)-1)+JE[I],m+=X}var ne=P[fg(t,m)&Re],ue=ne>>4;ne||$i(3),m+=ne&15;var le=WC[ue];if(ue>3){var X=am[ue];le+=fg(t,m)&(1<<X)-1,m+=X}if(m>b){l&&$i(0);break}a&&h(_+131072);var pe=_+G;if(_<le){var ge=s-le,Fe=Math.min(le,pe);for(ge+_<0&&$i(3);_<Fe;++_)n[_]=r[ge+_]}for(;_<pe;++_)n[_]=n[_-le]}}e.l=g,e.p=R,e.b=_,e.f=d,g&&(d=1,e.m=T,e.d=P,e.n=O)}while(!d);return _!=n.length&&o?ZE(n,0,_):n.subarray(0,_)},Gs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Bc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},dg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:tb,l:0};if(i==1){var o=new Er(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(J,oe){return J.f-oe.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,d=1,m=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[h].f<n[m].f?h++:m++],l=n[h!=d&&n[h].f<n[m].f?h++:m++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var g=new ai(_+1),P=G1(n[d-1],g,0);if(P>e){var r=0,T=0,O=P-e,b=1<<O;for(s.sort(function(oe,D){return g[D.s]-g[oe.s]||oe.f-D.f});r<i;++r){var E=s[r].s;if(g[E]>e)T+=b-(1<<P-g[E]),g[E]=e;else break}for(T>>=O;T>0;){var C=s[r].s;g[C]<e?T-=1<<e-g[C]++-1:++r}for(;r>=0&&T;--r){var W=s[r].s;g[W]==e&&(--g[W],++T)}P=e}return{t:new Er(g),l:P}},G1=function(t,e,n){return t.s==-1?Math.max(G1(t.l,e,n+1),G1(t.r,e,n+1)):e[t.s]=n},Qy=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ai(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Uc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},eb=function(t,e,n){var r=n.length,i=z2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Yy=function(t,e,n,r,i,s,o,a,l,h,d){Gs(e,d++,n),++i[256];for(var m=dg(i,15),_=m.t,g=m.l,P=dg(s,15),T=P.t,O=P.l,b=Qy(_),E=b.c,C=b.n,W=Qy(T),J=W.c,oe=W.n,D=new ai(19),S=0;S<E.length;++S)++D[E[S]&31];for(var S=0;S<J.length;++S)++D[J[S]&31];for(var F=dg(D,7),U=F.t,I=F.l,N=19;N>4&&!U[$1[N-1]];--N);var x=h+5<<3,Q=Uc(i,Na)+Uc(s,Uh)+o,ve=Uc(i,_)+Uc(s,T)+o+14+3*N+Uc(D,U)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&x<=Q&&x<=ve)return eb(e,d,t.subarray(l,l+h));var me,ye,Y,le;if(Gs(e,d,1+(ve<Q)),d+=2,ve<Q){me=Is(_,g,0),ye=_,Y=Is(T,O,0),le=T;var ce=Is(U,I,0);Gs(e,d,C-257),Gs(e,d+5,oe-1),Gs(e,d+10,N-4),d+=14;for(var S=0;S<N;++S)Gs(e,d+3*S,U[$1[S]]);d+=3*N;for(var Re=[E,J],R=0;R<2;++R)for(var q=Re[R],S=0;S<q.length;++S){var G=q[S]&31;Gs(e,d,ce[G]),d+=U[G],G>15&&(Gs(e,d,q[S]>>5&127),d+=q[S]>>12)}}else me=HC,ye=Na,Y=KC,le=Uh;for(var S=0;S<a;++S){var X=r[S];if(X>255){var G=X>>18&31;Bc(e,d,me[G+257]),d+=ye[G+257],G>7&&(Gs(e,d,X>>23&31),d+=om[G]);var ne=X&31;Bc(e,d,Y[ne]),d+=le[ne],ne>3&&(Bc(e,d,X>>5&8191),d+=am[ne])}else Bc(e,d,me[X]),d+=ye[X]}return Bc(e,d,me[256]),d+ye[256]},XC=new U2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tb=new Er(0),ZC=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Er(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var m=XC[e-1],_=m>>13,g=m&8191,P=(1<<n)-1,T=s.p||new ai(32768),O=s.h||new ai(P+1),b=Math.ceil(n/3),E=2*b,C=function(tt){return(t[tt]^t[tt+1]<<b^t[tt+2]<<E)&P},W=new U2(25e3),J=new ai(288),oe=new ai(32),D=0,S=0,F=s.i||0,U=0,I=s.w||0,N=0;F+2<o;++F){var x=C(F),Q=F&32767,ve=O[x];if(T[Q]=ve,O[x]=Q,I<=F){var me=o-F;if((D>7e3||U>24576)&&(me>423||!h)){d=Yy(t,l,0,W,J,oe,S,U,N,F-N,d),U=D=S=0,N=F;for(var ye=0;ye<286;++ye)J[ye]=0;for(var ye=0;ye<30;++ye)oe[ye]=0}var Y=2,le=0,ce=g,Re=Q-ve&32767;if(me>2&&x==C(F-Re))for(var R=Math.min(_,me)-1,q=Math.min(32767,F),G=Math.min(258,me);Re<=q&&--ce&&Q!=ve;){if(t[F+Y]==t[F+Y-Re]){for(var X=0;X<G&&t[F+X]==t[F+X-Re];++X);if(X>Y){if(Y=X,le=Re,X>R)break;for(var ne=Math.min(Re,X-2),ue=0,ye=0;ye<ne;++ye){var pe=F-Re+ye&32767,ge=T[pe],Fe=pe-ge&32767;Fe>ue&&(ue=Fe,ve=pe)}}}Q=ve,ve=T[Q],Re+=Q-ve&32767}if(le){W[U++]=268435456|W1[Y]<<18|Ky[le];var Ce=W1[Y]&31,Be=Ky[le]&31;S+=om[Ce]+am[Be],++J[257+Ce],++oe[Be],I=F+Y,++D}else W[U++]=t[F],++J[t[F]]}}for(F=Math.max(F,I);F<o;++F)W[U++]=t[F],++J[t[F]];d=Yy(t,l,h,W,J,oe,S,U,N,F-N,d),h||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=O,s.p=T,s.i=F,s.w=I)}else{for(var F=s.w||0;F<o+h;F+=65535){var je=F+65535;je>=o&&(l[d/8|0]=h,je=o),d=eb(l,d+1,t.subarray(F,je))}s.i=o}return ZE(a,0,r+z2(d)+i)},nb=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},eR=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Er(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return ZC(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},rb=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},tR=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=nb();i.p(e.dictionary),rb(t,2,i.d())}},nR=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&$i(6,"invalid zlib data"),(t[1]>>5&1)==1&&$i(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function K1(t,e){e||(e={});var n=nb();n.p(t);var r=eR(t,e,e.dictionary?6:2,4);return tR(r,e),rb(r,r.length-4,n.d()),r}function rR(t,e){return JC(t.subarray(nR(t),-4),{i:2},e,e)}var iR=typeof TextDecoder<"u"&&new TextDecoder,sR=0;try{iR.decode(tb,{stream:!0}),sR=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pg(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:pg,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):pg.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):pg(t))}};function mg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){sl(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function Jy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fh,Q1,sl=lt.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Jy(i.href)?mg(t,e,n):Zf(i,i.target="_blank"):Zf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Zf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Jy(t))mg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Zf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return mg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ib(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gg(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=pr(n,r,i,s,e[0],7,-680876936),s=pr(s,n,r,i,e[1],12,-389564586),i=pr(i,s,n,r,e[2],17,606105819),r=pr(r,i,s,n,e[3],22,-1044525330),n=pr(n,r,i,s,e[4],7,-176418897),s=pr(s,n,r,i,e[5],12,1200080426),i=pr(i,s,n,r,e[6],17,-1473231341),r=pr(r,i,s,n,e[7],22,-45705983),n=pr(n,r,i,s,e[8],7,1770035416),s=pr(s,n,r,i,e[9],12,-1958414417),i=pr(i,s,n,r,e[10],17,-42063),r=pr(r,i,s,n,e[11],22,-1990404162),n=pr(n,r,i,s,e[12],7,1804603682),s=pr(s,n,r,i,e[13],12,-40341101),i=pr(i,s,n,r,e[14],17,-1502002290),n=mr(n,r=pr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=mr(s,n,r,i,e[6],9,-1069501632),i=mr(i,s,n,r,e[11],14,643717713),r=mr(r,i,s,n,e[0],20,-373897302),n=mr(n,r,i,s,e[5],5,-701558691),s=mr(s,n,r,i,e[10],9,38016083),i=mr(i,s,n,r,e[15],14,-660478335),r=mr(r,i,s,n,e[4],20,-405537848),n=mr(n,r,i,s,e[9],5,568446438),s=mr(s,n,r,i,e[14],9,-1019803690),i=mr(i,s,n,r,e[3],14,-187363961),r=mr(r,i,s,n,e[8],20,1163531501),n=mr(n,r,i,s,e[13],5,-1444681467),s=mr(s,n,r,i,e[2],9,-51403784),i=mr(i,s,n,r,e[7],14,1735328473),n=gr(n,r=mr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=gr(s,n,r,i,e[8],11,-2022574463),i=gr(i,s,n,r,e[11],16,1839030562),r=gr(r,i,s,n,e[14],23,-35309556),n=gr(n,r,i,s,e[1],4,-1530992060),s=gr(s,n,r,i,e[4],11,1272893353),i=gr(i,s,n,r,e[7],16,-155497632),r=gr(r,i,s,n,e[10],23,-1094730640),n=gr(n,r,i,s,e[13],4,681279174),s=gr(s,n,r,i,e[0],11,-358537222),i=gr(i,s,n,r,e[3],16,-722521979),r=gr(r,i,s,n,e[6],23,76029189),n=gr(n,r,i,s,e[9],4,-640364487),s=gr(s,n,r,i,e[12],11,-421815835),i=gr(i,s,n,r,e[15],16,530742520),n=vr(n,r=gr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vr(s,n,r,i,e[7],10,1126891415),i=vr(i,s,n,r,e[14],15,-1416354905),r=vr(r,i,s,n,e[5],21,-57434055),n=vr(n,r,i,s,e[12],6,1700485571),s=vr(s,n,r,i,e[3],10,-1894986606),i=vr(i,s,n,r,e[10],15,-1051523),r=vr(r,i,s,n,e[1],21,-2054922799),n=vr(n,r,i,s,e[8],6,1873313359),s=vr(s,n,r,i,e[15],10,-30611744),i=vr(i,s,n,r,e[6],15,-1560198380),r=vr(r,i,s,n,e[13],21,1309151649),n=vr(n,r,i,s,e[4],6,-145523070),s=vr(s,n,r,i,e[11],10,-1120210379),i=vr(i,s,n,r,e[2],15,718787259),r=vr(r,i,s,n,e[9],21,-343485551),t[0]=aa(n,t[0]),t[1]=aa(r,t[1]),t[2]=aa(i,t[2]),t[3]=aa(s,t[3])}function lm(t,e,n,r,i,s){return e=aa(aa(e,t),aa(r,s)),aa(e<<i|e>>>32-i,n)}function pr(t,e,n,r,i,s,o){return lm(e&n|~e&r,t,e,i,s,o)}function mr(t,e,n,r,i,s,o){return lm(e&r|n&~r,t,e,i,s,o)}function gr(t,e,n,r,i,s,o){return lm(e^n^r,t,e,i,s,o)}function vr(t,e,n,r,i,s,o){return lm(n^(e|~r),t,e,i,s,o)}function sb(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)gg(r,oR(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(gg(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,gg(r,i),r}function oR(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}fh=lt.atob.bind(lt),Q1=lt.btoa.bind(lt);var Xy="0123456789abcdef".split("");function aR(t){for(var e="",n=0;n<4;n++)e+=Xy[t>>8*n+4&15]+Xy[t>>8*n&15];return e}function lR(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Y1(t){return sb(t).map(lR).join("")}var uR=function(t){for(var e=0;e<t.length;e++)t[e]=aR(t[e]);return t.join("")}(sb("hello"))!="5d41402abc4b2a76b9719d911017c592";function aa(t,e){if(uR){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J1(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var d=a[l];h=(h+d+o.charCodeAt(l))%256,a[l]=a[h],a[h]=d}n=t,r=a}else a=r;var m=e.length,_=0,g=0,P="";for(l=0;l<m;l++)g=(g+(d=a[_=(_+1)%256]))%256,a[_]=a[g],a[g]=d,o=a[(a[_]+a[g])%256],P+=String.fromCharCode(e.charCodeAt(l)^o);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zy={print:4,modify:8,copy:16,"annot-forms":32};function lu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Zy.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Zy[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Y1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J1(this.encryptionKey,this.padding)}function uu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function e_(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){lt.console&&Kt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yp(t){if(!(this instanceof yp))return new yp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function ob(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ol(t,e,n,r,i){if(!(this instanceof ol))return new ol(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,ob.call(this,r,i)}function Au(t,e,n,r,i){if(!(this instanceof Au))return new Au(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ob.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,h="S",d=null;zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,_={},g={internal:{},__private__:{}};g.__private__.PubSub=e_;var P="1.3",T=g.__private__.getPdfVersion=function(){return P};g.__private__.setPdfVersion=function(p){P=p};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return O};var b=g.__private__.getPageFormat=function(p){return O[p]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},C=E.COMPAT;function W(){this.saveGraphicsState(),K(new Ge(We,0,0,-We,0,cr()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),h="n",C=E.ADVANCED}function J(){this.restoreGraphicsState(),h="S",C=E.COMPAT}var oe=g.__private__.combineFontStyleAndFontWeight=function(p,k){if(p=="bold"&&k=="normal"||p=="bold"&&k==400||p=="normal"&&k=="italic"||p=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(p=k==400||k==="normal"?p==="italic"?"italic":"normal":k!=700&&k!=="bold"||p!=="normal"?(k==700?"bold":k)+""+p:"bold"),p};g.advancedAPI=function(p){var k=C===E.COMPAT;return k&&W.call(this),typeof p!="function"||(p(this),k&&J.call(this)),this},g.compatAPI=function(p){var k=C===E.ADVANCED;return k&&J.call(this),typeof p!="function"||(p(this),k&&W.call(this)),this},g.isAdvancedAPI=function(){return C===E.ADVANCED};var D,S=function(p){if(C!==E.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=g.roundToPrecision=g.__private__.roundToPrecision=function(p,k){var H=e||k;if(isNaN(p)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(H).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof l=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,l)}:l==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return F(p,16)};var U=g.f2=g.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return F(p,2)},I=g.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return F(p,3)},N=g.scale=g.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return C===E.COMPAT?p*We:C===E.ADVANCED?p:void 0},x=function(p){return C===E.COMPAT?cr()-p:C===E.ADVANCED?p:void 0},Q=function(p){return N(x(p))};g.__private__.setPrecision=g.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var ve,me="00000000000000000000000000000000",ye=g.__private__.getFileId=function(){return me},Y=g.__private__.setFileId=function(p){return me=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(nn=new lu(d.userPermissions,d.userPassword,d.ownerPassword,me)),me};g.setFileId=function(p){return Y(p),this},g.getFileId=function(){return ye()};var le=g.__private__.convertDateToPDFDate=function(p){var k=p.getTimezoneOffset(),H=k<0?"+":"-",Z=Math.floor(Math.abs(k/60)),se=Math.abs(k%60),we=[H,G(Z),"'",G(se),"'"].join("");return["D:",p.getFullYear(),G(p.getMonth()+1),G(p.getDate()),G(p.getHours()),G(p.getMinutes()),G(p.getSeconds()),we].join("")},ce=g.__private__.convertPDFDateToDate=function(p){var k=parseInt(p.substr(2,4),10),H=parseInt(p.substr(6,2),10)-1,Z=parseInt(p.substr(8,2),10),se=parseInt(p.substr(10,2),10),we=parseInt(p.substr(12,2),10),Pe=parseInt(p.substr(14,2),10);return new Date(k,H,Z,se,we,Pe,0)},Re=g.__private__.setCreationDate=function(p){var k;if(p===void 0&&(p=new Date),p instanceof Date)k=le(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=p}return ve=k},R=g.__private__.getCreationDate=function(p){var k=ve;return p==="jsDate"&&(k=ce(ve)),k};g.setCreationDate=function(p){return Re(p),this},g.getCreationDate=function(p){return R(p)};var q,G=g.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},X=g.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ne=0,ue=[],pe=[],ge=0,Fe=[],Ce=[],Be=!1,je=pe,tt=function(){ne=0,ge=0,pe=[],ue=[],Fe=[],xi=mn(),ur=mn()};g.__private__.setCustomOutputDestination=function(p){Be=!0,je=p};var Ee=function(p){Be||(je=p)};g.__private__.resetCustomOutputDestination=function(){Be=!1,je=pe};var K=g.__private__.out=function(p){return p=p.toString(),ge+=p.length+1,je.push(p),je},dt=g.__private__.write=function(p){return K(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Ye=g.__private__.getArrayBuffer=function(p){for(var k=p.length,H=new ArrayBuffer(k),Z=new Uint8Array(H);k--;)Z[k]=p.charCodeAt(k);return H},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Oe};var Me=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(p){return Me=C===E.ADVANCED?p/We:p,this};var $e,ze=g.__private__.getFontSize=g.getFontSize=function(){return C===E.COMPAT?Me:Me*We},Xe=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(p){return Xe=p,this},g.__private__.getR2L=g.getR2L=function(){return Xe};var ut,pt=g.__private__.setZoomMode=function(p){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))$e=p;else if(isNaN(p)){if(k.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');$e=p}else $e=parseInt(p,10)};g.__private__.getZoomMode=function(){return $e};var Ze,at=g.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');ut=p};g.__private__.getPageMode=function(){return ut};var kt=g.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Ze=p};g.__private__.getLayoutMode=function(){return Ze},g.__private__.setDisplayMode=g.setDisplayMode=function(p,k,H){return pt(p),kt(k),at(H),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(p){if(Object.keys(st).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[p]},g.__private__.getDocumentProperties=function(){return st},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(p){for(var k in st)st.hasOwnProperty(k)&&p[k]&&(st[k]=p[k]);return this},g.__private__.setDocumentProperty=function(p,k){if(Object.keys(st).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[p]=k};var Et,We,pn,Tt,Or,Dt={},Qt={},fi=[],Nt={},es={},en={},Kn={},Qr=null,Yt=0,nt=[],Lt=new e_(g),di=t.hotfixes||[],xn={},ar={},Yr=[],Ge=function p(k,H,Z,se,we,Pe){if(!(this instanceof p))return new p(k,H,Z,se,we,Pe);isNaN(k)&&(k=1),isNaN(H)&&(H=0),isNaN(Z)&&(Z=0),isNaN(se)&&(se=1),isNaN(we)&&(we=0),isNaN(Pe)&&(Pe=0),this._matrix=[k,H,Z,se,we,Pe]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(p)},Ge.prototype.multiply=function(p){var k=p.sx*this.sx+p.shy*this.shx,H=p.sx*this.shy+p.shy*this.sy,Z=p.shx*this.sx+p.sy*this.shx,se=p.shx*this.shy+p.sy*this.sy,we=p.tx*this.sx+p.ty*this.shx+this.tx,Pe=p.tx*this.shy+p.ty*this.sy+this.ty;return new Ge(k,H,Z,se,we,Pe)},Ge.prototype.decompose=function(){var p=this.sx,k=this.shy,H=this.shx,Z=this.sy,se=this.tx,we=this.ty,Pe=Math.sqrt(p*p+k*k),Ue=(p/=Pe)*H+(k/=Pe)*Z;H-=p*Ue,Z-=k*Ue;var c=Math.sqrt(H*H+Z*Z);return Ue/=c,p*(Z/=c)<k*(H/=c)&&(p=-p,k=-k,Ue=-Ue,Pe=-Pe),{scale:new Ge(Pe,0,0,c,0,0),translate:new Ge(1,0,0,1,se,we),rotate:new Ge(p,k,-k,p,0,0),skew:new Ge(1,0,Ue,1,0,0)}},Ge.prototype.toString=function(p){return this.join(" ")},Ge.prototype.inversed=function(){var p=this.sx,k=this.shy,H=this.shx,Z=this.sy,se=this.tx,we=this.ty,Pe=1/(p*Z-k*H),Ue=Z*Pe,c=-k*Pe,y=-H*Pe,A=p*Pe;return new Ge(Ue,c,y,A,-Ue*se-y*we,-c*se-A*we)},Ge.prototype.applyToPoint=function(p){var k=p.x*this.sx+p.y*this.shx+this.tx,H=p.x*this.shy+p.y*this.sy+this.ty;return new js(k,H)},Ge.prototype.applyToRectangle=function(p){var k=this.applyToPoint(p),H=this.applyToPoint(new js(p.x+p.w,p.y+p.h));return new ko(k.x,k.y,H.x-k.x,H.y-k.y)},Ge.prototype.clone=function(){var p=this.sx,k=this.shy,H=this.shx,Z=this.sy,se=this.tx,we=this.ty;return new Ge(p,k,H,Z,se,we)},g.Matrix=Ge;var Dr=g.matrixMult=function(p,k){return k.multiply(p)},lr=new Ge(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=lr;var kn=function(p,k){if(!es[p]){var H=(k instanceof ol?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);k.id=H,es[p]=H,Nt[H]=k,Lt.publish("addPattern",k)}};g.ShadingPattern=ol,g.TilingPattern=Au,g.addShadingPattern=function(p,k){return S("addShadingPattern()"),kn(p,k),this},g.beginTilingPattern=function(p){S("beginTilingPattern()"),Lo(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},g.endTilingPattern=function(p,k){S("endTilingPattern()"),k.stream=Ce[q].join(`
`),kn(p,k),Lt.publish("endTilingPattern",k),Yr.pop().restore()};var wn=g.__private__.newObject=function(){var p=mn();return Ln(p,!0),p},mn=g.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return ge},ne},Ln=function(p,k){return k=typeof k=="boolean"&&k,ue[p]=ge,k&&K(p+" 0 obj"),p},go=g.__private__.newAdditionalObject=function(){var p={objId:mn(),content:""};return Fe.push(p),p},xi=mn(),ur=mn(),Fr=g.__private__.decodeColorString=function(p){var k=p.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var H=parseFloat(k[0]);k=[H,H,H,"r"]}for(var Z="#",se=0;se<3;se++)Z+=("0"+Math.floor(255*parseFloat(k[se])).toString(16)).slice(-2);return Z},Sr=g.__private__.encodeColorString=function(p){var k;typeof p=="string"&&(p={ch1:p});var H=p.ch1,Z=p.ch2,se=p.ch3,we=p.ch4,Pe=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var Ue=new ib(H);if(Ue.ok)H=Ue.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var c=parseInt(H.substr(1),16);H=c>>16&255,Z=c>>8&255,se=255&c}if(Z===void 0||we===void 0&&H===Z&&Z===se)if(typeof H=="string")k=H+" "+Pe[0];else switch(p.precision){case 2:k=U(H/255)+" "+Pe[0];break;case 3:default:k=I(H/255)+" "+Pe[0]}else if(we===void 0||zt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return k=["1.","1.","1.",Pe[1]].join(" ");if(typeof H=="string")k=[H,Z,se,Pe[1]].join(" ");else switch(p.precision){case 2:k=[U(H/255),U(Z/255),U(se/255),Pe[1]].join(" ");break;default:case 3:k=[I(H/255),I(Z/255),I(se/255),Pe[1]].join(" ")}}else if(typeof H=="string")k=[H,Z,se,we,Pe[2]].join(" ");else switch(p.precision){case 2:k=[U(H),U(Z),U(se),U(we),Pe[2]].join(" ");break;case 3:default:k=[I(H),I(Z),I(se),I(we),Pe[2]].join(" ")}return k},Ir=g.__private__.getFilters=function(){return o},En=g.__private__.putStream=function(p){var k=(p=p||{}).data||"",H=p.filters||Ir(),Z=p.alreadyAppliedFilters||[],se=p.addLength1||!1,we=k.length,Pe=p.objectId,Ue=function(mt){return mt};if(d!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ue=nn.encryptor(Pe,0));var c={};H===!0&&(H=["FlateEncode"]);var y=p.additionalKeyValues||[],A=(c=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(k,H):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(c.data.length!==0&&(y.push({key:"Length",value:c.data.length}),se===!0&&y.push({key:"Length1",value:we})),A.length!=0)if(A.split("/").length-1==1)y.push({key:"Filter",value:A});else{y.push({key:"Filter",value:"["+A+"]"});for(var V=0;V<y.length;V+=1)if(y[V].key==="DecodeParms"){for(var ie=[],de=0;de<c.reverseChain.split("/").length-1;de+=1)ie.push("null");ie.push(y[V].value),y[V].value="["+ie.join(" ")+"]"}}K("<<");for(var Ne=0;Ne<y.length;Ne++)K("/"+y[Ne].key+" "+y[Ne].value);K(">>"),c.data.length!==0&&(K("stream"),K(Ue(c.data)),K("endstream"))},Jr=g.__private__.putPage=function(p){var k=p.number,H=p.data,Z=p.objId,se=p.contentsObjId;Ln(Z,!0),K("<</Type /Page"),K("/Parent "+p.rootDictionaryObjId+" 0 R"),K("/Resources "+p.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(D(p.mediaBox.bottomLeftX))+" "+parseFloat(D(p.mediaBox.bottomLeftY))+" "+D(p.mediaBox.topRightX)+" "+D(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&K("/CropBox ["+D(p.cropBox.bottomLeftX)+" "+D(p.cropBox.bottomLeftY)+" "+D(p.cropBox.topRightX)+" "+D(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&K("/BleedBox ["+D(p.bleedBox.bottomLeftX)+" "+D(p.bleedBox.bottomLeftY)+" "+D(p.bleedBox.topRightX)+" "+D(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&K("/TrimBox ["+D(p.trimBox.bottomLeftX)+" "+D(p.trimBox.bottomLeftY)+" "+D(p.trimBox.topRightX)+" "+D(p.trimBox.topRightY)+"]"),p.artBox!==null&&K("/ArtBox ["+D(p.artBox.bottomLeftX)+" "+D(p.artBox.bottomLeftY)+" "+D(p.artBox.topRightX)+" "+D(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&K("/UserUnit "+p.userUnit),Lt.publish("putPage",{objId:Z,pageContext:nt[k],pageNumber:k,page:H}),K("/Contents "+se+" 0 R"),K(">>"),K("endobj");var we=H.join(`
`);return C===E.ADVANCED&&(we+=`
Q`),Ln(se,!0),En({data:we,filters:Ir(),objectId:se}),K("endobj"),Z},ts=g.__private__.putPages=function(){var p,k,H=[];for(p=1;p<=Yt;p++)nt[p].objId=mn(),nt[p].contentsObjId=mn();for(p=1;p<=Yt;p++)H.push(Jr({number:p,data:Ce[p],objId:nt[p].objId,contentsObjId:nt[p].contentsObjId,mediaBox:nt[p].mediaBox,cropBox:nt[p].cropBox,bleedBox:nt[p].bleedBox,trimBox:nt[p].trimBox,artBox:nt[p].artBox,userUnit:nt[p].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:ur}));Ln(xi,!0),K("<</Type /Pages");var Z="/Kids [";for(k=0;k<Yt;k++)Z+=H[k]+" 0 R ";K(Z+"]"),K("/Count "+Yt),K(">>"),K("endobj"),Lt.publish("postPutPages")},ns=function(p){Lt.publish("putFont",{font:p,out:K,newObject:wn,putStream:En}),p.isAlreadyPutted!==!0&&(p.objectNumber=wn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+uu(p.postScriptName)),K("/Subtype /Type1"),typeof p.encoding=="string"&&K("/Encoding /"+p.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},rs=function(){for(var p in Dt)Dt.hasOwnProperty(p)&&(m===!1||m===!0&&_.hasOwnProperty(p))&&ns(Dt[p])},xs=function(p){p.objectNumber=wn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[D(p.x),D(p.y),D(p.x+p.width),D(p.y+p.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var H=p.pages[1].join(`
`);En({data:H,additionalKeyValues:k,objectId:p.objectNumber}),K("endobj")},ks=function(){for(var p in xn)xn.hasOwnProperty(p)&&xs(xn[p])},Cl=function(p,k){var H,Z=[],se=1/(k-1);for(H=0;H<1;H+=se)Z.push(H);if(Z.push(1),p[0].offset!=0){var we={offset:0,color:p[0].color};p.unshift(we)}if(p[p.length-1].offset!=1){var Pe={offset:1,color:p[p.length-1].color};p.push(Pe)}for(var Ue="",c=0,y=0;y<Z.length;y++){for(H=Z[y];H>p[c+1].offset;)c++;var A=p[c].offset,V=(H-A)/(p[c+1].offset-A),ie=p[c].color,de=p[c+1].color;Ue+=X(Math.round((1-V)*ie[0]+V*de[0]).toString(16))+X(Math.round((1-V)*ie[1]+V*de[1]).toString(16))+X(Math.round((1-V)*ie[2]+V*de[2]).toString(16))}return Ue.trim()},vo=function(p,k){k||(k=21);var H=wn(),Z=Cl(p.colors,k),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+k+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En({data:Z,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),K("endobj"),p.objectNumber=wn(),K("<< /ShadingType "+p.type),K("/ColorSpace /DeviceRGB");var we="/Coords ["+D(parseFloat(p.coords[0]))+" "+D(parseFloat(p.coords[1]))+" ";p.type===2?we+=D(parseFloat(p.coords[2]))+" "+D(parseFloat(p.coords[3])):we+=D(parseFloat(p.coords[2]))+" "+D(parseFloat(p.coords[3]))+" "+D(parseFloat(p.coords[4]))+" "+D(parseFloat(p.coords[5])),K(we+="]"),p.matrix&&K("/Matrix ["+p.matrix.toString()+"]"),K("/Function "+H+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Rl=function(p,k){var H=mn(),Z=wn();k.push({resourcesOid:H,objectOid:Z}),p.objectNumber=Z;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+p.boundingBox.map(D).join(" ")+"]"}),se.push({key:"XStep",value:D(p.xStep)}),se.push({key:"YStep",value:D(p.yStep)}),se.push({key:"Resources",value:H+" 0 R"}),p.matrix&&se.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),En({data:p.stream,additionalKeyValues:se,objectId:p.objectNumber}),K("endobj")},is=function(p){var k;for(k in Nt)Nt.hasOwnProperty(k)&&(Nt[k]instanceof ol?vo(Nt[k]):Nt[k]instanceof Au&&Rl(Nt[k],p))},ss=function(p){for(var k in p.objectNumber=wn(),K("<<"),p)switch(k){case"opacity":K("/ca "+U(p[k]));break;case"stroke-opacity":K("/CA "+U(p[k]))}K(">>"),K("endobj")},ki=function(){var p;for(p in en)en.hasOwnProperty(p)&&ss(en[p])},Ls=function(){for(var p in K("/XObject <<"),xn)xn.hasOwnProperty(p)&&xn[p].objectNumber>=0&&K("/"+p+" "+xn[p].objectNumber+" 0 R");Lt.publish("putXobjectDict"),K(">>")},dc=function(){nn.oid=wn(),K("<<"),K("/Filter /Standard"),K("/V "+nn.v),K("/R "+nn.r),K("/U <"+nn.toHexString(nn.U)+">"),K("/O <"+nn.toHexString(nn.O)+">"),K("/P "+nn.P),K(">>"),K("endobj")},Da=function(){for(var p in K("/Font <<"),Dt)Dt.hasOwnProperty(p)&&(m===!1||m===!0&&_.hasOwnProperty(p))&&K("/"+p+" "+Dt[p].objectNumber+" 0 R");K(">>")},Ol=function(){if(Object.keys(Nt).length>0){for(var p in K("/Shading <<"),Nt)Nt.hasOwnProperty(p)&&Nt[p]instanceof ol&&Nt[p].objectNumber>=0&&K("/"+p+" "+Nt[p].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),K(">>")}},Cs=function(p){if(Object.keys(Nt).length>0){for(var k in K("/Pattern <<"),Nt)Nt.hasOwnProperty(k)&&Nt[k]instanceof g.TilingPattern&&Nt[k].objectNumber>=0&&Nt[k].objectNumber<p&&K("/"+k+" "+Nt[k].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),K(">>")}},Fa=function(){if(Object.keys(en).length>0){var p;for(p in K("/ExtGState <<"),en)en.hasOwnProperty(p)&&en[p].objectNumber>=0&&K("/"+p+" "+en[p].objectNumber+" 0 R");Lt.publish("putGStateDict"),K(">>")}},tn=function(p){Ln(p.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Da(),Ol(),Cs(p.objectOid),Fa(),Ls(),K(">>"),K("endobj")},Ma=function(){var p=[];rs(),ki(),ks(),is(p),Lt.publish("putResources"),p.forEach(tn),tn({resourcesOid:ur,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},ja=function(){Lt.publish("putAdditionalObjects");for(var p=0;p<Fe.length;p++){var k=Fe[p];Ln(k.objId,!0),K(k.content),K("endobj")}Lt.publish("postPutAdditionalObjects")},Dl=function(p){Qt[p.fontName]=Qt[p.fontName]||{},Qt[p.fontName][p.fontStyle]=p.id},Va=function(p,k,H,Z,se){var we={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:p,fontName:k,fontStyle:H,encoding:Z,isStandardFont:se||!1,metadata:{}};return Lt.publish("addFont",{font:we,instance:this}),Dt[we.id]=we,Dl(we),we.id},Fl=function(p){for(var k=0,H=Oe.length;k<H;k++){var Z=Va.call(this,p[k][0],p[k][1],p[k][2],Oe[k][3],!0);m===!1&&(_[Z]=!0);var se=p[k][0].split("-");Dl({id:Z,fontName:se[0],fontStyle:se[1]||""})}Lt.publish("addFonts",{fonts:Dt,dictionary:Qt})},Mr=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(Z){var k=Z.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var H="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Z.message;if(!lt.console)throw new Error(H);lt.console.error(H,Z),lt.alert&&alert(H)}},p.foo.bar=p,p.foo},yo=function(p,k){var H,Z,se,we,Pe,Ue,c,y,A;if(se=(k=k||{}).sourceEncoding||"Unicode",Pe=k.outputEncoding,(k.autoencode||Pe)&&Dt[Et].metadata&&Dt[Et].metadata[se]&&Dt[Et].metadata[se].encoding&&(we=Dt[Et].metadata[se].encoding,!Pe&&Dt[Et].encoding&&(Pe=Dt[Et].encoding),!Pe&&we.codePages&&(Pe=we.codePages[0]),typeof Pe=="string"&&(Pe=we[Pe]),Pe)){for(c=!1,Ue=[],H=0,Z=p.length;H<Z;H++)(y=Pe[p.charCodeAt(H)])?Ue.push(String.fromCharCode(y)):Ue.push(p[H]),Ue[H].charCodeAt(0)>>8&&(c=!0);p=Ue.join("")}for(H=p.length;c===void 0&&H!==0;)p.charCodeAt(H-1)>>8&&(c=!0),H--;if(!c)return p;for(Ue=k.noBOM?[]:[254,255],H=0,Z=p.length;H<Z;H++){if((A=(y=p.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(A),Ue.push(y-(A<<8))}return String.fromCharCode.apply(void 0,Ue)},gn=g.__private__.pdfEscape=g.pdfEscape=function(p,k){return yo(p,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=g.__private__.beginPage=function(p){Ce[++Yt]=[],nt[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},Ba(Yt),Ee(Ce[q])},Rs=function(p,k){var H,Z,se;switch(n=k||n,typeof p=="string"&&(H=b(p.toLowerCase()),Array.isArray(H)&&(Z=H[0],se=H[1])),Array.isArray(p)&&(Z=p[0]*We,se=p[1]*We),isNaN(Z)&&(Z=i[0],se=i[1]),(Z>14400||se>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),se=Math.min(14400,se)),i=[Z,se],n.substr(0,1)){case"l":se>Z&&(i=[se,Z]);break;case"p":Z>se&&(i=[se,Z])}Tr(i),Wa($a),K(Qn),Ka!==0&&K(Ka+" J"),xo!==0&&K(xo+" j"),Lt.publish("addPage",{pageNumber:Yt})},_o=function(p){p>0&&p<=Yt&&(Ce.splice(p,1),nt.splice(p,1),Yt--,q>Yt&&(q=Yt),this.setPage(q))},Ba=function(p){p>0&&p<=Yt&&(q=p)},Vt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},Os=function(p,k,H){var Z,se=void 0;return H=H||{},p=p!==void 0?p:Dt[Et].fontName,k=k!==void 0?k:Dt[Et].fontStyle,Z=p.toLowerCase(),Qt[Z]!==void 0&&Qt[Z][k]!==void 0?se=Qt[Z][k]:Qt[p]!==void 0&&Qt[p][k]!==void 0?se=Qt[p][k]:H.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+p+"', '"+k+"'. Refer to getFontList() for available fonts."),se||H.noFallback||(se=Qt.times[k])==null&&(se=Qt.times.normal),se},Ds=g.__private__.putInfo=function(){var p=wn(),k=function(Z){return Z};for(var H in d!==null&&(k=nn.encryptor(p,0)),K("<<"),K("/Producer ("+gn(k("jsPDF "+ot.version))+")"),st)st.hasOwnProperty(H)&&st[H]&&K("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+gn(k(st[H]))+")");K("/CreationDate ("+gn(k(ve))+")"),K(">>"),K("endobj")},Li=g.__private__.putCatalog=function(p){var k=(p=p||{}).rootDictionaryObjId||xi;switch(wn(),K("<<"),K("/Type /Catalog"),K("/Pages "+k+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+$e;H.substr(H.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&K("/OpenAction [3 0 R /XYZ null null "+U($e)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ut&&K("/PageMode /"+ut),Lt.publish("putCatalog"),K(">>"),K("endobj")},pc=g.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ne+1)),K("/Root "+ne+" 0 R"),K("/Info "+(ne-1)+" 0 R"),d!==null&&K("/Encrypt "+nn.oid+" 0 R"),K("/ID [ <"+me+"> <"+me+"> ]"),K(">>")},Ml=g.__private__.putHeader=function(){K("%PDF-"+P),K("%")},mc=g.__private__.putXRef=function(){var p="0000000000";K("xref"),K("0 "+(ne+1)),K("0000000000 65535 f ");for(var k=1;k<=ne;k++)typeof ue[k]=="function"?K((p+ue[k]()).slice(-10)+" 00000 n "):ue[k]!==void 0?K((p+ue[k]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ci=g.__private__.buildDocument=function(){tt(),Ee(pe),Lt.publish("buildDocument"),Ml(),ts(),ja(),Ma(),d!==null&&dc(),Ds(),Li();var p=ge;return mc(),pc(),K("startxref"),K(""+p),K("%%EOF"),Ee(Ce[q]),pe.join(`
`)},wo=g.__private__.getBlob=function(p){return new Blob([Ye(p)],{type:"application/pdf"})},Eo=g.output=g.__private__.output=Mr(function(p,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",p){case void 0:return Ci();case"save":g.save(k.filename);break;case"arraybuffer":return Ye(Ci());case"blob":return wo(Ci());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(wo(Ci()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",Z=Ci();try{H=Q1(Z)}catch{H=Q1(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+k.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(se=k.pdfObjectUrl,we="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",Ue=lt.open();return Ue!==null&&Ue.document.write(Pe),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',y=lt.open();if(y!==null){y.document.write(c);var A=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=k.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',ie=lt.open();if(ie!==null&&(ie.document.write(V),ie.document.title=k.filename),ie||typeof safari>"u")return ie;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",k);default:return null}}),os=function(p){return Array.isArray(di)===!0&&di.indexOf(p)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=os("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var nn=null;Re(),Y();var jl=function(p){return d!==null?nn.encryptor(p,0):function(k){return k}},Ua=g.__private__.getPageInfo=g.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[p].objId,pageNumber:p,pageContext:nt[p]}},ct=g.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in nt)if(nt[k].objId===p)break;return Ua(k)},as=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nt[q].objId,pageNumber:q,pageContext:nt[q]}};g.addPage=function(){return Rs.apply(this,arguments),this},g.setPage=function(){return Ba.apply(this,arguments),Ee.call(this,Ce[q]),this},g.insertPage=function(p){return this.addPage(),this.movePage(q,p),this},g.movePage=function(p,k){var H,Z;if(p>k){H=Ce[p],Z=nt[p];for(var se=p;se>k;se--)Ce[se]=Ce[se-1],nt[se]=nt[se-1];Ce[k]=H,nt[k]=Z,this.setPage(k)}else if(p<k){H=Ce[p],Z=nt[p];for(var we=p;we<k;we++)Ce[we]=Ce[we+1],nt[we]=nt[we+1];Ce[k]=H,nt[k]=Z,this.setPage(k)}return this},g.deletePage=function(){return _o.apply(this,arguments),this},g.__private__.text=g.text=function(p,k,H,Z,se){var we,Pe,Ue,c,y,A,V,ie,de,Ne=(Z=Z||{}).scope||this;if(typeof p=="number"&&typeof k=="number"&&(typeof H=="string"||Array.isArray(H))){var mt=H;H=k,k=p,p=mt}if(arguments[3]instanceof Ge?(S("The transform parameter of text() with a Matrix value"),de=se):(Ue=arguments[4],c=arguments[5],zt(V=arguments[3])==="object"&&V!==null||(typeof Ue=="string"&&(c=Ue,Ue=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Ue=V,V=null),Z={flags:V,angle:Ue,align:c})),isNaN(k)||isNaN(H)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return Ne;var At="",gt=!1,jt=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Mt,Ht=Ne.internal.scaleFactor;function Mi(Jt){return Jt=Jt.split("	").join(Array(Z.TabLen||9).join(" ")),gn(Jt,V)}function Yn(Jt){for(var Xt,An=Jt.concat(),Mn=[],qs=An.length;qs--;)typeof(Xt=An.shift())=="string"?Mn.push(Xt):Array.isArray(Jt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?Mn.push(Xt[0]):Mn.push([Xt[0],Xt[1],Xt[2]]);return Mn}function hs(Jt,Xt){var An;if(typeof Jt=="string")An=Xt(Jt)[0];else if(Array.isArray(Jt)){for(var Mn,qs,Sc=Jt.concat(),Jl=[],cf=Sc.length;cf--;)typeof(Mn=Sc.shift())=="string"?Jl.push(Xt(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(qs=Xt(Mn[0],Mn[1],Mn[2]),Jl.push([qs[0],qs[1],qs[2]]));An=Jl}return An}var fs=!1,vc=!0;if(typeof p=="string")fs=!0;else if(Array.isArray(p)){var yc=p.concat();Pe=[];for(var ql,Jn=yc.length;Jn--;)(typeof(ql=yc.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(vc=!1);fs=vc}if(fs===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var $l=Me/Ne.internal.scaleFactor,Wl=$l*(jt-1);switch(Z.baseline){case"bottom":H-=Wl;break;case"top":H+=$l-Wl;break;case"hanging":H+=$l-2*Wl;break;case"middle":H+=$l/2-Wl}if((A=Z.maxWidth||0)>0&&(typeof p=="string"?p=Ne.splitTextToSize(p,A):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Jt,Xt){return Jt.concat(Ne.splitTextToSize(Xt,A))},[]))),we={text:p,x:k,y:H,options:Z,mutex:{pdfEscape:gn,activeFontKey:Et,fonts:Dt,activeFontSize:Me}},Lt.publish("preProcessText",we),p=we.text,Ue=(Z=we.options).angle,!(de instanceof Ge)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Z.rotationDirection===0&&(Ue=-Ue),C===E.ADVANCED&&(Ue=-Ue);var Hl=Math.cos(Ue),_c=Math.sin(Ue);de=new Ge(Hl,_c,-_c,Hl,0,0)}else Ue&&Ue instanceof Ge&&(de=Ue);C!==E.ADVANCED||de||(de=lr),(y=Z.charSpace||Ms)!==void 0&&(At+=D(N(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ie=Z.horizontalScale)!==void 0&&(At+=D(100*ie)+` Tz
`),Z.lang;var jr=-1,um=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,wc=Ne.internal.getCurrentPageInfo().pageContext;switch(um){case 0:case!1:case"fill":jr=0;break;case 1:case!0:case"stroke":jr=1;break;case 2:case"fillThenStroke":jr=2;break;case 3:case"invisible":jr=3;break;case 4:case"fillAndAddForClipping":jr=4;break;case 5:case"strokeAndAddPathForClipping":jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jr=6;break;case 7:case"addToPathForClipping":jr=7}var of=wc.usedRenderingMode!==void 0?wc.usedRenderingMode:-1;jr!==-1?At+=jr+` Tr
`:of!==-1&&(At+=`0 Tr
`),jr!==-1&&(wc.usedRenderingMode=jr),c=Z.align||"left";var mi,Gl=Me*jt,af=Ne.internal.pageSize.getWidth(),lf=Dt[Et];y=Z.charSpace||Ms,A=Z.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Oo=[],Qa=function(Jt){return Ne.getStringUnitWidth(Jt,{font:lf,charSpace:y,fontSize:Me,doKerning:!1})*Me/Ht};if(Object.prototype.toString.call(p)==="[object Array]"){var Vr;Pe=Yn(p),c!=="left"&&(mi=Pe.map(Qa));var Pr,Do=0;if(c==="right"){k-=mi[0],p=[],Jn=Pe.length;for(var Bs=0;Bs<Jn;Bs++)Bs===0?(Pr=ei(k),Vr=Fn(H)):(Pr=N(Do-mi[Bs]),Vr=-Gl),p.push([Pe[Bs],Pr,Vr]),Do=mi[Bs]}else if(c==="center"){k-=mi[0]/2,p=[],Jn=Pe.length;for(var Us=0;Us<Jn;Us++)Us===0?(Pr=ei(k),Vr=Fn(H)):(Pr=N((Do-mi[Us])/2),Vr=-Gl),p.push([Pe[Us],Pr,Vr]),Do=mi[Us]}else if(c==="left"){p=[],Jn=Pe.length;for(var Kl=0;Kl<Jn;Kl++)p.push(Pe[Kl])}else if(c==="justify"&&lf.encoding==="Identity-H"){p=[],Jn=Pe.length,A=A!==0?A:af;for(var zs=0,bn=0;bn<Jn;bn++)if(Vr=bn===0?Fn(H):-Gl,Pr=bn===0?ei(k):zs,bn<Jn-1){var Ec=N((A-mi[bn])/(Pe[bn].split(" ").length-1)),Nr=Pe[bn].split(" ");p.push([Nr[0]+" ",Pr,Vr]),zs=0;for(var gi=1;gi<Nr.length;gi++){var Ql=(Qa(Nr[gi-1]+" "+Nr[gi])-Qa(Nr[gi]))*Ht+Ec;gi==Nr.length-1?p.push([Nr[gi],Ql,0]):p.push([Nr[gi]+" ",Ql,0]),zs-=Ql}}else p.push([Pe[bn],Pr,Vr]);p.push(["",zs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Jn=Pe.length,A=A!==0?A:af,bn=0;bn<Jn;bn++)Vr=bn===0?Fn(H):-Gl,Pr=bn===0?ei(k):0,bn<Jn-1?Oo.push(D(N((A-mi[bn])/(Pe[bn].split(" ").length-1)))):Oo.push(0),p.push([Pe[bn],Pr,Vr])}}var uf=typeof Z.R2L=="boolean"?Z.R2L:Xe;uf===!0&&(p=hs(p,function(Jt,Xt,An){return[Jt.split("").reverse().join(""),Xt,An]})),we={text:p,x:k,y:H,options:Z,mutex:{pdfEscape:gn,activeFontKey:Et,fonts:Dt,activeFontSize:Me}},Lt.publish("postProcessText",we),p=we.text,gt=we.mutex.isHex||!1;var bc=Dt[Et].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(p=hs(p,function(Jt,Xt,An){return[Mi(Jt),Xt,An]})),Pe=Yn(p),p=[];for(var Ya,Ja,Fo,Xa=0,Yl=1,Za=Array.isArray(Pe[0])?Yl:Xa,Mo="",Ac=function(Jt,Xt,An){var Mn="";return An instanceof Ge?(An=typeof Z.angle=="number"?Dr(An,new Ge(1,0,0,1,Jt,Xt)):Dr(new Ge(1,0,0,1,Jt,Xt),An),C===E.ADVANCED&&(An=Dr(new Ge(1,0,0,-1,0,0),An)),Mn=An.join(" ")+` Tm
`):Mn=D(Jt)+" "+D(Xt)+` Td
`,Mn},vi=0;vi<Pe.length;vi++){switch(Mo="",Za){case Yl:Fo=(gt?"<":"(")+Pe[vi][0]+(gt?">":")"),Ya=parseFloat(Pe[vi][1]),Ja=parseFloat(Pe[vi][2]);break;case Xa:Fo=(gt?"<":"(")+Pe[vi]+(gt?">":")"),Ya=ei(k),Ja=Fn(H)}Oo!==void 0&&Oo[vi]!==void 0&&(Mo=Oo[vi]+` Tw
`),vi===0?p.push(Mo+Ac(Ya,Ja,de)+Fo):Za===Xa?p.push(Mo+Fo):Za===Yl&&p.push(Mo+Ac(Ya,Ja,de)+Fo)}p=Za===Xa?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var yi=`BT
/`;return yi+=Et+" "+Me+` Tf
`,yi+=D(Me*jt)+` TL
`,yi+=Di+`
`,yi+=At,yi+=p,K(yi+="ET"),_[Et]=!0,Ne};var gc=g.__private__.clip=g.clip=function(p){return K(p==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return gc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return K("n"),this};var pi=g.__private__.isValidStyle=function(p){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(k=!0),k};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(p){return pi(p)&&(h=p),this};var Vl=g.__private__.getStyle=g.getStyle=function(p){var k=h;switch(p){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=p}return k},Xr=g.close=function(){return K("h"),this};g.stroke=function(){return K("S"),this},g.fill=function(p){return bo("f",p),this},g.fillEvenOdd=function(p){return bo("f*",p),this},g.fillStroke=function(p){return bo("B",p),this},g.fillStrokeEvenOdd=function(p){return bo("B*",p),this};var bo=function(p,k){zt(k)==="object"?So(k,p):K(p)},za=function(p){p===null||C===E.ADVANCED&&p===void 0||(p=Vl(p),K(p))};function Ao(p,k,H,Z,se){var we=new Au(k||this.boundingBox,H||this.xStep,Z||this.yStep,this.gState,se||this.matrix);we.stream=this.stream;var Pe=p+"$$"+this.cloneIndex+++"$$";return kn(Pe,we),we}var So=function(p,k){var H=es[p.key],Z=Nt[H];if(Z instanceof ol)K("q"),K(Bl(k)),Z.gState&&g.setGState(Z.gState),K(p.matrix.toString()+" cm"),K("/"+H+" sh"),K("Q");else if(Z instanceof Au){var se=new Ge(1,0,0,-1,0,cr());p.matrix&&(se=se.multiply(p.matrix||lr),H=Ao.call(Z,p.key,p.boundingBox,p.xStep,p.yStep,se).id),K("q"),K("/Pattern cs"),K("/"+H+" scn"),Z.gState&&g.setGState(Z.gState),K(k),K("Q")}},Bl=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ri=g.moveTo=function(p,k){return K(D(N(p))+" "+D(Q(k))+" m"),this},Zr=g.lineTo=function(p,k){return K(D(N(p))+" "+D(Q(k))+" l"),this},Oi=g.curveTo=function(p,k,H,Z,se,we){return K([D(N(p)),D(Q(k)),D(N(H)),D(Q(Z)),D(N(se)),D(Q(we)),"c"].join(" ")),this};g.__private__.line=g.line=function(p,k,H,Z,se){if(isNaN(p)||isNaN(k)||isNaN(H)||isNaN(Z)||!pi(se))throw new Error("Invalid arguments passed to jsPDF.line");return C===E.COMPAT?this.lines([[H-p,Z-k]],p,k,[1,1],se||"S"):this.lines([[H-p,Z-k]],p,k,[1,1]).stroke()},g.__private__.lines=g.lines=function(p,k,H,Z,se,we){var Pe,Ue,c,y,A,V,ie,de,Ne,mt,At,gt;if(typeof p=="number"&&(gt=H,H=k,k=p,p=gt),Z=Z||[1,1],we=we||!1,isNaN(k)||isNaN(H)||!Array.isArray(p)||!Array.isArray(Z)||!pi(se)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ri(k,H),Pe=Z[0],Ue=Z[1],y=p.length,mt=k,At=H,c=0;c<y;c++)(A=p[c]).length===2?(mt=A[0]*Pe+mt,At=A[1]*Ue+At,Zr(mt,At)):(V=A[0]*Pe+mt,ie=A[1]*Ue+At,de=A[2]*Pe+mt,Ne=A[3]*Ue+At,mt=A[4]*Pe+mt,At=A[5]*Ue+At,Oi(V,ie,de,Ne,mt,At));return we&&Xr(),za(se),this},g.path=function(p){for(var k=0;k<p.length;k++){var H=p[k],Z=H.c;switch(H.op){case"m":Ri(Z[0],Z[1]);break;case"l":Zr(Z[0],Z[1]);break;case"c":Oi.apply(this,Z);break;case"h":Xr()}}return this},g.__private__.rect=g.rect=function(p,k,H,Z,se){if(isNaN(p)||isNaN(k)||isNaN(H)||isNaN(Z)||!pi(se))throw new Error("Invalid arguments passed to jsPDF.rect");return C===E.COMPAT&&(Z=-Z),K([D(N(p)),D(Q(k)),D(N(H)),D(N(Z)),"re"].join(" ")),za(se),this},g.__private__.triangle=g.triangle=function(p,k,H,Z,se,we,Pe){if(isNaN(p)||isNaN(k)||isNaN(H)||isNaN(Z)||isNaN(se)||isNaN(we)||!pi(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-p,Z-k],[se-H,we-Z],[p-se,k-we]],p,k,[1,1],Pe,!0),this},g.__private__.roundedRect=g.roundedRect=function(p,k,H,Z,se,we,Pe){if(isNaN(p)||isNaN(k)||isNaN(H)||isNaN(Z)||isNaN(se)||isNaN(we)||!pi(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*H),we=Math.min(we,.5*Z),this.lines([[H-2*se,0],[se*Ue,0,se,we-we*Ue,se,we],[0,Z-2*we],[0,we*Ue,-se*Ue,we,-se,we],[2*se-H,0],[-se*Ue,0,-se,-we*Ue,-se,-we],[0,2*we-Z],[0,-we*Ue,se*Ue,-we,se,-we]],p+se,k,[1,1],Pe,!0),this},g.__private__.ellipse=g.ellipse=function(p,k,H,Z,se){if(isNaN(p)||isNaN(k)||isNaN(H)||isNaN(Z)||!pi(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*H,Pe=4/3*(Math.SQRT2-1)*Z;return Ri(p+H,k),Oi(p+H,k-Pe,p+we,k-Z,p,k-Z),Oi(p-we,k-Z,p-H,k-Pe,p-H,k),Oi(p-H,k+Pe,p-we,k+Z,p,k+Z),Oi(p+we,k+Z,p+H,k+Pe,p+H,k),za(se),this},g.__private__.circle=g.circle=function(p,k,H,Z){if(isNaN(p)||isNaN(k)||isNaN(H)||!pi(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,k,H,H,Z)},g.setFont=function(p,k,H){return H&&(k=oe(k,H)),Et=Os(p,k,{disableWarning:!1}),this};var qa=g.__private__.getFont=g.getFont=function(){return Dt[Os.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var p,k,H={};for(p in Qt)if(Qt.hasOwnProperty(p))for(k in H[p]=[],Qt[p])Qt[p].hasOwnProperty(k)&&H[p].push(k);return H},g.addFont=function(p,k,H,Z,se){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(H=oe(H,Z)),se=se||"Identity-H",Va.call(this,p,k,H,se)};var Mt,$a=t.lineWidth||.200025,Io=g.__private__.getLineWidth=g.getLineWidth=function(){return $a},Wa=g.__private__.setLineWidth=g.setLineWidth=function(p){return $a=p,K(D(N(p))+" w"),this};g.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(p,k){if(p=p||[],k=k||0,isNaN(k)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(H){return D(N(H))}).join(" "),k=D(N(k)),K("["+p+"] "+k+" d"),this};var Ha=g.__private__.getLineHeight=g.getLineHeight=function(){return Me*Mt};g.__private__.getLineHeight=g.getLineHeight=function(){return Me*Mt};var Ga=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(Mt=p),this},Fs=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Mt};Ga(t.lineHeight);var ei=g.__private__.getHorizontalCoordinate=function(p){return N(p)},Fn=g.__private__.getVerticalCoordinate=function(p){return C===E.ADVANCED?p:nt[q].mediaBox.topRightY-nt[q].mediaBox.bottomLeftY-N(p)},Ul=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(p){return D(ei(p))},ls=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(p){return D(Fn(p))},Qn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Fr(Qn)},g.__private__.setStrokeColor=g.setDrawColor=function(p,k,H,Z){return Qn=Sr({ch1:p,ch2:k,ch3:H,ch4:Z,pdfColorType:"draw",precision:2}),K(Qn),this};var To=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Fr(To)},g.__private__.setFillColor=g.setFillColor=function(p,k,H,Z){return To=Sr({ch1:p,ch2:k,ch3:H,ch4:Z,pdfColorType:"fill",precision:2}),K(To),this};var Di=t.textColor||"0 g",Po=g.__private__.getTextColor=g.getTextColor=function(){return Fr(Di)};g.__private__.setTextColor=g.setTextColor=function(p,k,H,Z){return Di=Sr({ch1:p,ch2:k,ch3:H,ch4:Z,pdfColorType:"text",precision:3}),this};var Ms=t.charSpace,No=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ms||0)};g.__private__.setCharSpace=g.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=p,this};var Ka=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(p){var k=g.CapJoinStyles[p];if(k===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ka=k,K(k+" J"),this};var xo=0;g.__private__.setLineJoin=g.setLineJoin=function(p){var k=g.CapJoinStyles[p];if(k===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xo=k,K(k+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(D(N(p))+" M"),this},g.GState=yp,g.setGState=function(p){(p=typeof p=="string"?en[Kn[p]]:us(null,p)).equals(Qr)||(K("/"+p.id+" gs"),Qr=p)};var us=function(p,k){if(!p||!Kn[p]){var H=!1;for(var Z in en)if(en.hasOwnProperty(Z)&&en[Z].equals(k)){H=!0;break}if(H)k=en[Z];else{var se="GS"+(Object.keys(en).length+1).toString(10);en[se]=k,k.id=se}return p&&(Kn[p]=k.id),Lt.publish("addGState",k),k}};g.addGState=function(p,k){return us(p,k),this},g.saveGraphicsState=function(){return K("q"),fi.push({key:Et,size:Me,color:Di}),this},g.restoreGraphicsState=function(){K("Q");var p=fi.pop();return Et=p.key,Me=p.size,Di=p.color,Qr=null,this},g.setCurrentTransformationMatrix=function(p){return K(p.toString()+" cm"),this},g.comment=function(p){return K("#"+p),this};var js=function(p,k){var H=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(we){isNaN(we)||(H=parseFloat(we))}});var Z=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(we){isNaN(we)||(Z=parseFloat(we))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(we){se=we.toString()}}),this},ko=function(p,k,H,Z){js.call(this,p,k),this.type="rect";var se=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(Pe){isNaN(Pe)||(se=parseFloat(Pe))}});var we=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Pe){isNaN(Pe)||(we=parseFloat(Pe))}}),this},Vs=function(){this.page=Yt,this.currentPage=q,this.pages=Ce.slice(0),this.pagesContext=nt.slice(0),this.x=pn,this.y=Tt,this.matrix=Or,this.width=cs(q),this.height=cr(q),this.outputDestination=je,this.id="",this.objectNumber=-1};Vs.prototype.restore=function(){Yt=this.page,q=this.currentPage,nt=this.pagesContext,Ce=this.pages,pn=this.x,Tt=this.y,Or=this.matrix,Co(q,this.width),Ro(q,this.height),je=this.outputDestination};var Lo=function(p,k,H,Z,se){Yr.push(new Vs),Yt=q=0,Ce=[],pn=p,Tt=k,Or=se,Tr([H,Z])},zl=function(p){if(ar[p])Yr.pop().restore();else{var k=new Vs,H="Xo"+(Object.keys(xn).length+1).toString(10);k.id=H,ar[p]=H,xn[H]=k,Lt.publish("addFormObject",k),Yr.pop().restore()}};for(var Fi in g.beginFormObject=function(p,k,H,Z,se){return Lo(p,k,H,Z,se),this},g.endFormObject=function(p){return zl(p),this},g.doFormObject=function(p,k){var H=xn[ar[p]];return K("q"),K(k.toString()+" cm"),K("/"+H.id+" Do"),K("Q"),this},g.getFormObject=function(p){var k=xn[ar[p]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},g.save=function(p,k){return p=p||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(sl(wo(Ci()),p),typeof sl.unload=="function"&&lt.setTimeout&&setTimeout(sl.unload,911),this):new Promise(function(H,Z){try{var se=sl(wo(Ci()),p);typeof sl.unload=="function"&&lt.setTimeout&&setTimeout(sl.unload,911),H(se)}catch(we){Z(we.message)}})},ot.API)ot.API.hasOwnProperty(Fi)&&(Fi==="events"&&ot.API.events.length?function(p,k){var H,Z,se;for(se=k.length-1;se!==-1;se--)H=k[se][0],Z=k[se][1],p.subscribe.apply(p,[H].concat(typeof Z=="function"?[Z]:Z))}(Lt,ot.API.events):g[Fi]=ot.API[Fi]);var cs=g.getPageWidth=function(p){return(nt[p=p||q].mediaBox.topRightX-nt[p].mediaBox.bottomLeftX)/We},Co=g.setPageWidth=function(p,k){nt[p].mediaBox.topRightX=k*We+nt[p].mediaBox.bottomLeftX},cr=g.getPageHeight=function(p){return(nt[p=p||q].mediaBox.topRightY-nt[p].mediaBox.bottomLeftY)/We},Ro=g.setPageHeight=function(p,k){nt[p].mediaBox.topRightY=k*We+nt[p].mediaBox.bottomLeftY};return g.internal={pdfEscape:gn,getStyle:Vl,getFont:qa,getFontSize:ze,getCharSpace:No,getTextColor:Po,getLineHeight:Ha,getLineHeightFactor:Fs,getLineWidth:Io,write:dt,getHorizontalCoordinate:ei,getVerticalCoordinate:Fn,getCoordinateString:Ul,getVerticalCoordinateString:ls,collections:{},newObject:wn,newAdditionalObject:go,newObjectDeferred:mn,newObjectDeferredBegin:Ln,getFilters:Ir,putStream:En,events:Lt,scaleFactor:We,pageSize:{getWidth:function(){return cs(q)},setWidth:function(p){Co(q,p)},getHeight:function(){return cr(q)},setHeight:function(p){Ro(q,p)}},encryptionOptions:d,encryption:nn,getEncryptor:jl,output:Eo,getNumberOfPages:Vt,pages:Ce,out:K,f2:U,f3:I,getPageInfo:Ua,getPageInfoByObjId:ct,getCurrentPageInfo:as,getPDFVersion:T,Point:js,Rectangle:ko,Matrix:Ge,hasHotfix:os},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return cs(q)},set:function(p){Co(q,p)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return cr(q)},set:function(p){Ro(q,p)},enumerable:!0,configurable:!0}),Fl.call(g,Oe),Et="F1",Rs(i,n),Lt.publish("initialized"),g}lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},lu.prototype.processOwnerPassword=function(t,e){return J1(Y1(e).substr(0,5),t)},lu.prototype.encryptor=function(t,e){var n=Y1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J1(n,r)}},yp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="2.5.2";var yn=ot.API,q2=1,Ll=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ru=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},Ko=function(t){return t.toFixed(5)};yn.__acroform__={};var Kr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t_=function(t){return t*q2},ms=function(t){var e=new lb,n=Qe.internal.getHeight(t)||0,r=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(r)),Number(vt(n))],e},cR=yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},hR=yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},fR=yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Tn=yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fR(t,e-1)},Pn=yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cR(t,e-1)},Nn=yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hR(t,e-1)},dR=yn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},pR=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=X1(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ms(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Qe.internal.getHeight(t)||0;o=o<0?-o:o;var a=Qe.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(I,N,x){if(I+1<i.length){var Q=N+" "+i[I+1][0];return ed(Q,t,x).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,m=ed("3",t,s).height,_=t.multiline?o-s:(o-m)/2,g=_+=2,P=0,T=0,O=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ed(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",E=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var W=!1;if(i[C].length!==1&&O!==i[C].length-1){if((m+2)*(E+2)+2>o)continue e;b+=i[C][O],W=!0,T=C,C--}else{b=(b+=i[C][O]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var J=parseInt(C),oe=l(J,b,s),D=C>=i.length-1;if(oe&&!D){b+=" ",O=0;continue}if(oe||D){if(D)T=J;else if(t.multiline&&(m+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(E+2)+2>o)continue e;T=J}}for(var S="",F=P;F<=T;F++){var U=i[F];if(t.multiline){if(F===T){S+=U[O]+" ",O=(O+1)%U.length;continue}if(F===P){S+=U[U.length-1]+" ";continue}}S+=U[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,d=ed(S,t,s).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}e+=vt(h)+" "+vt(g)+` Td
`,e+="("+Ll(S)+`) Tj
`,e+=-vt(h)+` 0 Td
`,g=-(s+2),d=0,P=W?T:T+1,E++,b=""}break}return r.text=e,r.fontSize=s,r},ed=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gR=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},vR=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),zt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},yR=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mR)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");q2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ub,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&gR(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],h=a.Rect;if(a.Rect&&(a.Rect=dR(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Qe.createDefaultAppearanceStream(a),zt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=pR(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var m="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var g=a.appearanceStreamContent[_];if(m+="/"+_+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var P=g[o];typeof P=="function"&&(P=P.call(i,a)),m+="/"+o+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=g)=="function"&&(P=P.call(i,a)),m+="/"+o+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&vR(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},ab=yn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),zt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ll(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ll(r(t))+")"},ys=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ys.prototype.toString=function(){return this.objId+" 0 R"},ys.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ys.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:ab(i,this.objId,this.scope)}):i instanceof ys?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var lb=function(){ys.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Kr(lb,ys);var ub=function(){ys.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ll(n(t))+")"}},set:function(n){t=n}})};Kr(ub,ys);var Xi=function t(){ys.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(e,3)},set:function(b){b?this.F=Pn(e,3):this.F=Nn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _p)return;s="FieldObject"+t.FieldNum++}var b=function(E){return E};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Ll(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/q2:h},set:function(b){h=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof _p||this instanceof pl))return vg(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=b}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Hn?_:vg(_,this.objId,this.scope)},set:function(b){b=b.toString(),_=this instanceof Hn?b:b.substr(0,1)==="("?ru(b.substr(1,b.length-2)):ru(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hn?ru(_.substr(1,_.length-1)):_},set:function(b){b=b.toString(),_=this instanceof Hn?"/"+b:b}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Hn?g:vg(g,this.objId,this.scope)},set:function(b){b=b.toString(),g=this instanceof Hn?b:b.substr(0,1)==="("?ru(b.substr(1,b.length-2)):ru(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hn?ru(g.substr(1,g.length-1)):g},set:function(b){b=b.toString(),g=this instanceof Hn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(b){b=!!b,T=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(b){P=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(b){b?this.Ff=Pn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(b){b?this.Ff=Pn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(b){b?this.Ff=Pn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');O=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(O){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};Kr(Xi,ys);var Ou=function(){Xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ab(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,h=[];l=o.exec(s);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(n){n?this.Ff=Pn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(n){n?(this.Ff=Pn(this.Ff,20),e.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(n){n?this.Ff=Pn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(n){n?this.Ff=Pn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(n){n?this.Ff=Pn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(Ou,Xi);var Du=function(){Ou.call(this),this.fontName="helvetica",this.combo=!1};Kr(Du,Ou);var Fu=function(){Du.call(this),this.combo=!0};Kr(Fu,Du);var Sd=function(){Fu.call(this),this.edit=!0};Kr(Sd,Fu);var Hn=function(){Xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(n){n?this.Ff=Pn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(n){n?this.Ff=Pn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(n){n?this.Ff=Pn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(n){n?this.Ff=Pn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ll(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Kr(Hn,Xi);var Id=function(){Hn.call(this),this.pushButton=!0};Kr(Id,Hn);var Mu=function(){Hn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Kr(Mu,Hn);var _p=function(){var t,e;Xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ll(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){zt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(_p,Xi),Mu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Mu.prototype.createOption=function(t){var e=new _p;return e.Parent=this,e.optionName=t,this.Kids.push(e),_R.call(this.scope,e),e};var Td=function(){Hn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};Kr(Td,Hn);var pl=function(){Xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(e){e?this.Ff=Pn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(e){e?this.Ff=Pn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Pn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(e){e?this.Ff=Pn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(e){e?this.Ff=Pn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Pn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(pl,Xi);var Pd=function(){pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(t){t?this.Ff=Pn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Kr(Pd,pl);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=X1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+vt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Qe.internal.getHeight(t),o=Qe.internal.getWidth(t),a=X1(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(o)+" "+vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(o-1)+" "+vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+vt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ko(Qe.internal.getWidth(t)/2)+" "+Ko(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5)),o=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ko(Qe.internal.getWidth(t)/2)+" "+Ko(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ko(Qe.internal.getWidth(t)/2)+" "+Ko(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ko(Qe.internal.getWidth(t)/2)+" "+Ko(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ms(t);e.scope=t.scope;var n=[],r=Qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+vt(Qe.internal.getWidth(t)-2)+" "+vt(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=Qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vt(Qe.internal.getWidth(t)-2)+" "+vt(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),n=Qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=t_(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=t_(t.Rect[3])),e};var _R=yn.addField=function(t){if(yR(this,t),!(t instanceof Xi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=Ou,yn.AcroFormListBox=Du,yn.AcroFormComboBox=Fu,yn.AcroFormEditBox=Sd,yn.AcroFormButton=Hn,yn.AcroFormPushButton=Id,yn.AcroFormRadioButton=Mu,yn.AcroFormCheckBox=Td,yn.AcroFormTextField=pl,yn.AcroFormPasswordField=Pd,yn.AcroFormAppearance=Qe,yn.AcroForm={ChoiceField:Ou,ListBox:Du,ComboBox:Fu,EditBox:Sd,Button:Hn,PushButton:Id,RadioButton:Mu,CheckBox:Td,TextField:pl,PasswordField:Pd,Appearance:Qe},ot.AcroForm={ChoiceField:Ou,ListBox:Du,ComboBox:Fu,EditBox:Sd,Button:Hn,PushButton:Id,RadioButton:Mu,CheckBox:Td,TextField:pl,PasswordField:Pd,Appearance:Qe};ot.AcroForm;function cb(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,N){var x,Q,ve,me,ye,Y=e;if((N=N||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(oe(I))for(ye in n)for(ve=n[ye],x=0;x<ve.length;x+=1){for(me=!0,Q=0;Q<ve[x].length;Q+=1)if(ve[x][Q]!==void 0&&ve[x][Q]!==I[Q]){me=!1;break}if(me===!0){Y=ye;break}}else for(ye in n)for(ve=n[ye],x=0;x<ve.length;x+=1){for(me=!0,Q=0;Q<ve[x].length;Q+=1)if(ve[x][Q]!==void 0&&ve[x][Q]!==I.charCodeAt(Q)){me=!1;break}if(me===!0){Y=ye;break}}return Y===e&&N!==e&&(Y=N),Y},i=function I(N){for(var x=this.internal.write,Q=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:N.width}),me.push({key:"Height",value:N.height}),N.colorSpace===O.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===O.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var ye="",Y=0,le=N.transparency.length;Y<le;Y++)ye+=N.transparency[Y]+" "+N.transparency[Y]+" ";me.push({key:"Mask",value:"["+ye+"]"})}N.sMask!==void 0&&me.push({key:"SMask",value:N.objectId+1+" 0 R"});var ce=N.filter!==void 0?["/"+N.filter]:void 0;if(Q({data:N.data,additionalKeyValues:me,alreadyAppliedFilters:ce,objectId:N.objectId}),x("endobj"),"sMask"in N&&N.sMask!==void 0){var Re="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,R={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Re,data:N.sMask};"filter"in N&&(R.filter=N.filter),I.call(this,R)}if(N.colorSpace===O.INDEXED){var q=this.internal.newObject();Q({data:S(new Uint8Array(N.palette)),objectId:q}),x("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var N in I)i.call(this,I[N])},o=function(){var I,N=this.internal.collections.addImage_images,x=this.internal.write;for(var Q in N)x("/I"+(I=N[Q]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof t["process"+I.toUpperCase()]=="function"},m=function(I){return zt(I)==="object"&&I.nodeType===1},_=function(I,N){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var x=""+I.getAttribute("src");if(x.indexOf("data:image/")===0)return fh(unescape(x).split("base64,").pop());var Q=t.loadFile(x,!0);if(Q!==void 0)return Q}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ve;switch(N){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return fh(I.toDataURL(ve,1).split("base64,").pop())}},g=function(I){var N=this.internal.collections.addImage_images;if(N){for(var x in N)if(I===N[x].alias)return N[x]}},P=function(I,N,x){return I||N||(I=-96,N=-96),I<0&&(I=-1*x.width*72/I/this.internal.scaleFactor),N<0&&(N=-1*x.height*72/N/this.internal.scaleFactor),I===0&&(I=N*x.width/x.height),N===0&&(N=I*x.height/x.width),[I,N]},T=function(I,N,x,Q,ve,me){var ye=P.call(this,x,Q,ve),Y=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ce=l.call(this);if(x=ye[0],Q=ye[1],ce[ve.index]=ve,me){me*=Math.PI/180;var Re=Math.cos(me),R=Math.sin(me),q=function(X){return X.toFixed(4)},G=[q(Re),q(R),q(-1*R),q(Re),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,Y(I),le(N+Q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([Y(x),"0","0",Y(Q),"0","0","cm"].join(" "))):this.internal.write([Y(x),"0","0",Y(Q),Y(I),le(N+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(I){var N,x,Q=0;if(typeof I=="string")for(x=I.length,N=0;N<x;N++)Q=(Q<<5)-Q+I.charCodeAt(N),Q|=0;else if(oe(I))for(x=I.byteLength/2,N=0;N<x;N++)Q=(Q<<5)-Q+I[N],Q|=0;return Q},C=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var N=!0;return I.length===0&&(N=!1),I.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(N=!1),N},W=t.__addimage__.extractImageFromDataUrl=function(I){var N=(I=I||"").split("base64,"),x=null;if(N.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(Q)&&(x={mimeType:Q[1],charset:Q[2],data:N[1]})}return x},J=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return J()&&I instanceof ArrayBuffer};var oe=t.__addimage__.isArrayBufferView=function(I){return J()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},D=t.__addimage__.binaryStringToUint8Array=function(I){for(var N=I.length,x=new Uint8Array(N),Q=0;Q<N;Q++)x[Q]=I.charCodeAt(Q);return x},S=t.__addimage__.arrayBufferToBinaryString=function(I){for(var N="",x=oe(I)?I:new Uint8Array(I),Q=0;Q<x.length;Q+=8192)N+=String.fromCharCode.apply(null,x.subarray(Q,Q+8192));return N};t.addImage=function(){var I,N,x,Q,ve,me,ye,Y,le;if(typeof arguments[1]=="number"?(N=e,x=arguments[1],Q=arguments[2],ve=arguments[3],me=arguments[4],ye=arguments[5],Y=arguments[6],le=arguments[7]):(N=arguments[1],x=arguments[2],Q=arguments[3],ve=arguments[4],me=arguments[5],ye=arguments[6],Y=arguments[7],le=arguments[8]),zt(I=arguments[0])==="object"&&!m(I)&&"imageData"in I){var ce=I;I=ce.imageData,N=ce.format||N||e,x=ce.x||x||0,Q=ce.y||Q||0,ve=ce.w||ce.width||ve,me=ce.h||ce.height||me,ye=ce.alias||ye,Y=ce.compression||Y,le=ce.rotation||ce.angle||le}var Re=this.internal.getFilters();if(Y===void 0&&Re.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(x)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=F.call(this,I,N,ye,Y);return T.call(this,x,Q,ve,me,R,le),this};var F=function(I,N,x,Q){var ve,me,ye;if(typeof I=="string"&&r(I)===e){I=unescape(I);var Y=U(I,!1);(Y!==""||(Y=t.loadFile(I,!0))!==void 0)&&(I=Y)}if(m(I)&&(I=_(I,N)),N=r(I,N),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ye=x)==null||ye.length===0)&&(x=function(le){return typeof le=="string"||oe(le)?E(le):oe(le.data)?E(le.data):null}(I)),(ve=g.call(this,x))||(J()&&(I instanceof Uint8Array||N==="RGBA"||(me=I,I=D(I))),ve=this["process"+N.toUpperCase()](I,h.call(this),x,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:b.NONE}(Q),me)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},U=t.__addimage__.convertBase64ToBinaryString=function(I,N){var x;N=typeof N!="boolean"||N;var Q,ve="";if(typeof I=="string"){Q=(x=W(I))!==null?x.data:I;try{ve=fh(Q)}catch(me){if(N)throw C(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};t.getImageProperties=function(I){var N,x,Q="";if(m(I)&&(I=_(I)),typeof I=="string"&&r(I)===e&&((Q=U(I,!1))===""&&(Q=t.loadFile(I)||""),I=Q),x=r(I),!d(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(!J()||I instanceof Uint8Array||(I=D(I)),!(N=this["process"+x.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=x,N}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,m=0;m<h.length&&!d;m++)switch((r=h[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var g=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(T.objId),E=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(b(r.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(b(E))+") >>",T.content=s;var C=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",O.content=s,this.internal.write(T.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var W=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var oe=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+oe+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(h*d)}else a=l,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-h,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=t.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(T){var O=0,b=n,E="",C=0;for(O=0;O<T.length;O+=1)b[T.charCodeAt(O)]!==void 0?(C++,typeof(b=b[T.charCodeAt(O)])=="number"&&(E+=String.fromCharCode(b),b=n,C=0),O===T.length-1&&(b=n,E+=T.charAt(O-(C-1)),O-=C-1,C=0)):(b=n,E+=T.charAt(O-C),O-=C,C=0);return E};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(T,O,b){return o(T)?s(T)===!1?-1:!h(T)||!o(O)&&!o(b)||!o(b)&&a(O)||a(T)&&!o(O)||a(T)&&l(O)||a(T)&&a(O)?0:d(T)&&o(O)&&!a(O)&&o(b)&&h(b)?3:a(T)||!o(b)?1:2:-1},g=function(T){var O=0,b=0,E=0,C="",W="",J="",oe=(T=T||"").split("\\s+"),D=[];for(O=0;O<oe.length;O+=1){for(D.push(""),b=0;b<oe[O].length;b+=1)C=oe[O][b],W=oe[O][b-1],J=oe[O][b+1],o(C)?(E=_(C,W,J),D[O]+=E!==-1?String.fromCharCode(e[C.charCodeAt(0)][E]):C):D[O]+=C;D[O]=m(D[O])}return D.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var T,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(O)){var E=0;for(b=[],E=0;E<O.length;E+=1)Array.isArray(O[E])?b.push([g(O[E][0]),O[E][1],O[E][2]]):b.push([g(O[E])]);T=b}else T=g(O);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",P])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(T){l=T}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(T){d=T}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(T){_=T}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(T){P=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,g=0,P=0,T=0,O=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=h.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,W){return C.concat(O.splitTextToSize(W,b))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)g<(T=this.getStringUnitWidth(l[E],{font:m})*d)&&(g=T);return g!==0&&(P=l.length),{w:g/=_,h:Math.max((P*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,g&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,d,m,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,P,T,O,b=[],E=[],C=[],W={},J={},oe=[],D=[],S=(_=_||{}).autoSize||!1,F=_.printHeaders!==!1,U=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,I=_.margins||Object.assign({width:this.getPageWidth()},e),N=typeof _.padding=="number"?_.padding:3,x=_.headerBackgroundColor||"#c8c8c8",Q=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=Q,this.setFontSize(U),m==null)E=b=Object.keys(d[0]),C=b.map(function(){return"left"});else if(Array.isArray(m)&&zt(m[0])==="object")for(b=m.map(function(ce){return ce.name}),E=m.map(function(ce){return ce.prompt||ce.name||""}),C=m.map(function(ce){return ce.align||"left"}),g=0;g<m.length;g+=1)J[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(E=b=m,C=b.map(function(){return"left"}));if(S||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<b.length;g+=1){for(W[O=b[g]]=d.map(function(ce){return ce[O]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=W[O],this.setFont(void 0,"normal"),T=0;T<P.length;T+=1)oe.push(this.getTextDimensions(P[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[O]=Math.max.apply(null,oe)+N+N,oe=[]}if(F){var ve={};for(g=0;g<b.length;g+=1)ve[b[g]]={},ve[b[g]].text=E[g],ve[b[g]].align=C[g];var me=a.call(this,ve,J);D=b.map(function(ce){return new s(l,h,J[ce],me,ve[ce].text,void 0,ve[ce].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ye=m.reduce(function(ce,Re){return ce[Re.name]=Re.align,ce},{});for(g=0;g<d.length;g+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:g,data:d[g]},this);var Y=a.call(this,d[g],J);for(T=0;T<b.length;T+=1){var le=d[g][b[T]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:g,col:T,data:le},this),o.call(this,new s(l,h,J[b[T]],Y,le,g+2,ye[b[T]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(g){var P=l[g];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,h[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/_+d+d},this).reduce(function(g,P){return Math.max(g,P)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(ot.API);var hb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z1=cb(fb),db=[100,200,300,400,500,600,700,800,900],wR=cb(db);function e0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return hb[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Z1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function n_(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var ER={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function bR(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},ER,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=e0(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+i_(s)+"' and default family '"+r+"'.");if(o=function(l,h){if(h[l])return h[l];var d=Z1[l],m=d<=Z1.normal?-1:1,_=n_(h,fb,d,m);if(!_)throw new Error("Could not find a matching font-stretch value for "+l);return _}(s.stretch,o),o=function(l,h){if(h[l])return h[l];for(var d=hb[l],m=0;m<d.length;++m)if(h[d[m]])return h[d[m]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var d=wR[l],m=n_(h,db,d,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+i_(s)+"'.");return o}function s_(t){return t.trimLeft()}function AR(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function SR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var td,o_,a_,yg=["times"];(function(t){var e,n,r,i,s,o,a,l,h,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new d}]);var m=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=R;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ee){G=!!Ee}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ee){X=!!Ee}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ee){isNaN(Ee)||(ne=Ee)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var K;typeof Ee=="number"?K=[Ee,Ee,Ee,Ee]:((K=new Array(4))[0]=Ee[0],K[1]=Ee.length>=2?Ee[1]:K[0],K[2]=Ee.length>=3?Ee[2]:K[0],K[3]=Ee.length>=4?Ee[3]:K[1]),h.margin=K}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Ee){pe=Ee}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Ee){ge=Ee}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Ee){Fe=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof d&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(Ee){Ce=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var K;K=_(Ee),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var K=_(Ee);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Be=null;function je(Ee,K){if(Be===null){var dt=function(Ye){var Oe=[];return Object.keys(Ye).forEach(function(Me){Ye[Me].forEach(function($e){var ze=null;switch($e){case"bold":ze={family:Me,weight:"bold"};break;case"italic":ze={family:Me,style:"italic"};break;case"bolditalic":ze={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Me}}ze!==null&&(ze.ref={name:Me,style:$e},Oe.push(ze))})}),Oe}(Ee.getFontList());Be=function(Ye){for(var Oe={},Me=0;Me<Ye.length;++Me){var $e=e0(Ye[Me]),ze=$e.family,Xe=$e.stretch,ut=$e.style,pt=$e.weight;Oe[ze]=Oe[ze]||{},Oe[ze][Xe]=Oe[ze][Xe]||{},Oe[ze][Xe][ut]=Oe[ze][Xe][ut]||{},Oe[ze][Xe][ut][pt]=$e}return Oe}(dt.concat(K))}return Be}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Ee){Be=null,tt=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var K;if(this.ctx.font=Ee,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=K[1],Ye=(K[2],K[3]),Oe=K[4],Me=(K[5],K[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor($e==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var ze=function(st){var Et,We,pn=[],Tt=st.trim();if(Tt==="")return yg;if(Tt in r_)return[r_[Tt]];for(;Tt!=="";){switch(We=null,Et=(Tt=s_(Tt)).charAt(0)){case'"':case"'":We=AR(Tt.substring(1),Et);break;default:We=SR(Tt)}if(We===null||(pn.push(We[0]),(Tt=s_(We[1]))!==""&&Tt.charAt(0)!==","))return yg;Tt=Tt.replace(/^,/,"")}return pn}(Me);if(this.fontFaces){var Xe=bR(je(this.pdf,this.fontFaces),ze.map(function(st){return{family:st,stretch:"normal",weight:Ye,style:dt}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var ut="";(Ye==="bold"||parseInt(Ye,10)>=700||dt==="bold")&&(ut="bold"),dt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var pt="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<ze.length;at++){if(this.pdf.internal.getFont(ze[at],ut,{noFallback:!0,disableWarning:!0})!==void 0){pt=ze[at];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(ze[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=ze[at],ut="bold";else if(this.pdf.internal.getFont(ze[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=ze[at],ut="normal";break}}if(pt===""){for(var kt=0;kt<ze.length;kt++)if(Ze[ze[kt]]){pt=Ze[ze[kt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};m.prototype.setLineDash=function(R){this.lineDash=R},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){W.call(this,"fill",!1)},m.prototype.stroke=function(){W.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(R,q){if(isNaN(R)||isNaN(q))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(R,q)},m.prototype.closePath=function(){var R=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&zt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){R=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},m.prototype.lineTo=function(R,q){if(isNaN(R)||isNaN(q))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},m.prototype.quadraticCurveTo=function(R,q,G,X){if(isNaN(G)||isNaN(X)||isNaN(R)||isNaN(q))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(G,X)),ue=this.ctx.transform.applyToPoint(new o(R,q));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},m.prototype.bezierCurveTo=function(R,q,G,X,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ne,ue)),ge=this.ctx.transform.applyToPoint(new o(R,q)),Fe=this.ctx.transform.applyToPoint(new o(G,X));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Fe.x,y2:Fe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},m.prototype.arc=function(R,q,G,X,ne,ue){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X)||isNaN(ne))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(R,q));R=pe.x,q=pe.y;var ge=this.ctx.transform.applyToPoint(new o(0,G)),Fe=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ge.x-Fe.x,2)+Math.pow(ge.y-Fe.y,2))}Math.abs(ne-X)>=2*Math.PI&&(X=0,ne=2*Math.PI),this.path.push({type:"arc",x:R,y:q,radius:G,startAngle:X,endAngle:ne,counterclockwise:ue})},m.prototype.arcTo=function(R,q,G,X,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(R,q,G,X){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,q),this.lineTo(R+G,q),this.lineTo(R+G,q+X),this.lineTo(R,q+X),this.lineTo(R,q),this.lineTo(R+G,q),this.lineTo(R,q)},m.prototype.fillRect=function(R,q,G,X){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,q,G,X),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(R,q,G,X){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(R,q,G,X),this.stroke())},m.prototype.clearRect=function(R,q,G,X){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,q,G,X))},m.prototype.save=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},m.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(R){var q,G,X,ne;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))q=0,G=0,X=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ue!==null)q=parseInt(ue[1]),G=parseInt(ue[2]),X=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)q=parseInt(ue[1]),G=parseInt(ue[2]),X=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof R=="string"&&R.charAt(0)!=="#"){var pe=new ib(R);R=pe.ok?pe.toHex():"#000000"}R.length===4?(q=R.substring(1,2),q+=q,G=R.substring(2,3),G+=G,X=R.substring(3,4),X+=X):(q=R.substring(1,3),G=R.substring(3,5),X=R.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),X=parseInt(X,16)}}return{r:q,g:G,b:X,a:ne,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(R,q,G,X){if(isNaN(q)||isNaN(G)||typeof R!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!g.call(this)){var ne=Y(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:R,x:q,y:G,scale:ue,angle:ne,align:this.textAlign,maxWidth:X})}},m.prototype.strokeText=function(R,q,G,X){if(isNaN(q)||isNaN(G)||typeof R!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){X=isNaN(X)?void 0:X;var ne=Y(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:R,x:q,y:G,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:X})}},m.prototype.measureText=function(R){if(typeof R!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),ne=q.getStringUnitWidth(R)*X/q.internal.scaleFactor,ue=function(pe){var ge=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ue({width:ne*=Math.round(96*G/72*1e4)/1e4})},m.prototype.scale=function(R,q){if(isNaN(R)||isNaN(q))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(R,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.rotate=function(R){if(isNaN(R))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(R,q){if(isNaN(R)||isNaN(q))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,R,q);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.transform=function(R,q,G,X,ne,ue){if(isNaN(R)||isNaN(q)||isNaN(G)||isNaN(X)||isNaN(ne)||isNaN(ue))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(R,q,G,X,ne,ue);this.ctx.transform=this.ctx.transform.multiply(pe)},m.prototype.setTransform=function(R,q,G,X,ne,ue){R=isNaN(R)?1:R,q=isNaN(q)?0:q,G=isNaN(G)?0:G,X=isNaN(X)?1:X,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(R,q,G,X,ne,ue)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(R,q,G,X,ne,ue,pe,ge,Fe){var Ce=this.pdf.getImageProperties(R),Be=1,je=1,tt=1,Ee=1;X!==void 0&&ge!==void 0&&(tt=ge/X,Ee=Fe/ne,Be=Ce.width/X*ge/X,je=Ce.height/ne*Fe/ne),ue===void 0&&(ue=q,pe=G,q=0,G=0),X!==void 0&&ge===void 0&&(ge=X,Fe=ne),X===void 0&&ge===void 0&&(ge=Ce.width,Fe=Ce.height);for(var K,dt=this.ctx.transform.decompose(),Ye=Y(dt.rotate.shx),Oe=new l,Me=(Oe=(Oe=(Oe=Oe.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new a(ue-q*tt,pe-G*Ee,X*Be,ne*je)),$e=O.call(this,Me),ze=[],Xe=0;Xe<$e.length;Xe+=1)ze.indexOf($e[Xe])===-1&&ze.push($e[Xe]);if(C(ze),this.autoPaging)for(var ut=ze[0],pt=ze[ze.length-1],Ze=ut;Ze<pt+1;Ze++){this.pdf.setPage(Ze);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ze===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Ze===1?0:st+(Ze-2)*Et;if(this.ctx.clip_path.length!==0){var pn=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(K,this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=pn}var Tt=JSON.parse(JSON.stringify(Me));Tt=E([Tt],this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset)[0];var Or=(Ze>ut||Ze<pt)&&T.call(this);Or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Et,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,Ye),Or&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Ye)};var O=function(R,q,G){var X=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":X.push(Math.floor((R.y+ne)/G)+1);break;case"arc":X.push(Math.floor((R.y+ne-R.radius)/G)+1),X.push(Math.floor((R.y+ne+R.radius)/G)+1);break;case"qct":var ue=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);X.push(Math.floor((ue.y+ne)/G)+1),X.push(Math.floor((ue.y+ue.h+ne)/G)+1);break;case"bct":var pe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);X.push(Math.floor((pe.y+ne)/G)+1),X.push(Math.floor((pe.y+pe.h+ne)/G)+1);break;case"rect":X.push(Math.floor((R.y+ne)/G)+1),X.push(Math.floor((R.y+R.h+ne)/G)+1)}for(var ge=0;ge<X.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<X[ge];)b.call(this);return X},b=function(){var R=this.fillStyle,q=this.strokeStyle,G=this.font,X=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=q,this.font=G,this.lineCap=X,this.lineWidth=ne,this.lineJoin=ue},E=function(R,q,G){for(var X=0;X<R.length;X++)switch(R[X].type){case"bct":R[X].x2+=q,R[X].y2+=G;case"qct":R[X].x1+=q,R[X].y1+=G;case"mt":case"lt":case"arc":default:R[X].x+=q,R[X].y+=G}return R},C=function(R){return R.sort(function(q,G){return q-G})},W=function(R,q){for(var G,X,ne=this.fillStyle,ue=this.strokeStyle,pe=this.lineCap,ge=this.lineWidth,Fe=Math.abs(ge*this.ctx.transform.scaleX),Ce=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),tt=[],Ee=0;Ee<je.length;Ee++)if(je[Ee].x!==void 0)for(var K=O.call(this,je[Ee]),dt=0;dt<K.length;dt+=1)tt.indexOf(K[dt])===-1&&tt.push(K[dt]);for(var Ye=0;Ye<tt.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<tt[Ye];)b.call(this);if(C(tt),this.autoPaging)for(var Oe=tt[0],Me=tt[tt.length-1],$e=Oe;$e<Me+1;$e++){this.pdf.setPage($e),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=pe,this.lineWidth=Fe,this.lineJoin=Ce;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=$e===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=$e===1?0:ut+($e-2)*pt;if(this.ctx.clip_path.length!==0){var at=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(G,this.posX+this.margin[3],-Ze+Xe+this.ctx.prevPageLastElemOffset),J.call(this,R,!0),this.path=at}if(X=JSON.parse(JSON.stringify(Be)),this.path=E(X,this.posX+this.margin[3],-Ze+Xe+this.ctx.prevPageLastElemOffset),q===!1||$e===0){var kt=($e>Oe||$e<Me)&&T.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,pt,null).clip().discardPath()),J.call(this,R,q),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Fe,J.call(this,R,q),this.lineWidth=ge;this.path=Be},J=function(R,q){if((R!=="stroke"||q||!P.call(this))&&(R==="stroke"||q||!g.call(this))){for(var G,X,ne=[],ue=this.path,pe=0;pe<ue.length;pe++){var ge=ue[pe];switch(ge.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ge,deltas:[],abs:[]});break;case"lt":var Fe=ne.length;if(ue[pe-1]&&!isNaN(ue[pe-1].x)&&(G=[ge.x-ue[pe-1].x,ge.y-ue[pe-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ne[Fe-1].close!==!0&&ne[Fe-1].begin!==!0){ne[Fe-1].deltas.push(G),ne[Fe-1].abs.push(ge);break}}break;case"bct":G=[ge.x1-ue[pe-1].x,ge.y1-ue[pe-1].y,ge.x2-ue[pe-1].x,ge.y2-ue[pe-1].y,ge.x-ue[pe-1].x,ge.y-ue[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var Ce=ue[pe-1].x+2/3*(ge.x1-ue[pe-1].x),Be=ue[pe-1].y+2/3*(ge.y1-ue[pe-1].y),je=ge.x+2/3*(ge.x1-ge.x),tt=ge.y+2/3*(ge.y1-ge.y),Ee=ge.x,K=ge.y;G=[Ce-ue[pe-1].x,Be-ue[pe-1].y,je-ue[pe-1].x,tt-ue[pe-1].y,Ee-ue[pe-1].x,K-ue[pe-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ge)}}X=q?null:R==="stroke"?"stroke":"fill";for(var dt=!1,Ye=0;Ye<ne.length;Ye++)if(ne[Ye].arc)for(var Oe=ne[Ye].abs,Me=0;Me<Oe.length;Me++){var $e=Oe[Me];$e.type==="arc"?S.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,q,!dt):x.call(this,$e.x,$e.y),dt=!0}else if(ne[Ye].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ne[Ye].begin!==!0){var ze=ne[Ye].start.x,Xe=ne[Ye].start.y;Q.call(this,ne[Ye].deltas,ze,Xe),dt=!0}X&&F.call(this,X),q&&U.call(this)}},oe=function(R){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-G;case"top":return R+q-G;case"hanging":return R+q-2*G;case"middle":return R+q/2-G;case"ideographic":return R;case"alphabetic":default:return R}},D=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(q,G){this.colorStops.push([q,G])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(R,q,G,X,ne,ue,pe,ge,Fe){for(var Ce=me.call(this,G,X,ne,ue),Be=0;Be<Ce.length;Be++){var je=Ce[Be];Be===0&&(Fe?I.call(this,je.x1+R,je.y1+q):x.call(this,je.x1+R,je.y1+q)),ve.call(this,R,q,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ge?U.call(this):F.call(this,pe)},F=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(R,q){this.pdf.internal.out(n(R)+" "+r(q)+" m")},N=function(R){var q;switch(R.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var G=this.pdf.getTextDimensions(R.text),X=oe.call(this,R.y),ne=D.call(this,X)-G.h,ue=this.ctx.transform.applyToPoint(new o(R.x,X)),pe=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Fe,Ce,Be,je=this.ctx.transform.applyToRectangle(new a(R.x,X,G.w,G.h)),tt=ge.applyToRectangle(new a(R.x,ne,G.w,G.h)),Ee=O.call(this,tt),K=[],dt=0;dt<Ee.length;dt+=1)K.indexOf(Ee[dt])===-1&&K.push(Ee[dt]);if(C(K),this.autoPaging)for(var Ye=K[0],Oe=K[K.length-1],Me=Ye;Me<Oe+1;Me++){this.pdf.setPage(Me);var $e=Me===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],ut=Xe-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],Ze=pt-this.margin[3],at=Me===1?0:ze+(Me-2)*ut;if(this.ctx.clip_path.length!==0){var kt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Fe,this.posX+this.margin[3],-1*at+$e),J.call(this,"fill",!0),this.path=kt}var st=E([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-at+$e+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale);var Et=this.autoPaging!=="text";if(Et||st.y+st.h<=Xe){if(Et||st.y>=$e&&st.x<=pt){var We=Et?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||pt-st.x)[0],pn=E([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-at+$e+this.ctx.prevPageLastElemOffset)[0],Tt=Et&&(Me>Ye||Me<Oe)&&T.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,ut,null).clip().discardPath()),this.pdf.text(We,pn.x,pn.y,{angle:R.angle,align:q,renderingMode:R.renderingMode}),Tt&&this.pdf.restoreGraphicsState()}}else st.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-st.y);R.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Be)}else R.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale),this.pdf.text(R.text,ue.x+this.posX,ue.y+this.posY,{angle:R.angle,align:q,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Be)},x=function(R,q,G,X){G=G||0,X=X||0,this.pdf.internal.out(n(R+G)+" "+r(q+X)+" l")},Q=function(R,q,G){return this.pdf.lines(R,q,G,null,null)},ve=function(R,q,G,X,ne,ue,pe,ge){this.pdf.internal.out([e(i(G+R)),e(s(X+q)),e(i(ne+R)),e(s(ue+q)),e(i(pe+R)),e(s(ge+q)),"c"].join(" "))},me=function(R,q,G,X){for(var ne=2*Math.PI,ue=Math.PI/2;q>G;)q-=ne;var pe=Math.abs(G-q);pe<ne&&X&&(pe=ne-pe);for(var ge=[],Fe=X?-1:1,Ce=q;pe>1e-5;){var Be=Ce+Fe*Math.min(pe,ue);ge.push(ye.call(this,R,Ce,Be)),pe-=Math.abs(Be-Ce),Ce=Be}return ge},ye=function(R,q,G){var X=(G-q)/2,ne=R*Math.cos(X),ue=R*Math.sin(X),pe=ne,ge=-ue,Fe=pe*pe+ge*ge,Ce=Fe+pe*ne+ge*ue,Be=4/3*(Math.sqrt(2*Fe*Ce)-Ce)/(pe*ue-ge*ne),je=pe-Be*ge,tt=ge+Be*pe,Ee=je,K=-tt,dt=X+q,Ye=Math.cos(dt),Oe=Math.sin(dt);return{x1:R*Math.cos(q),y1:R*Math.sin(q),x2:je*Ye-tt*Oe,y2:je*Oe+tt*Ye,x3:Ee*Ye-K*Oe,y3:Ee*Oe+K*Ye,x4:R*Math.cos(G),y4:R*Math.sin(G)}},Y=function(R){return 180*R/Math.PI},le=function(R,q,G,X,ne,ue){var pe=R+.5*(G-R),ge=q+.5*(X-q),Fe=ne+.5*(G-ne),Ce=ue+.5*(X-ue),Be=Math.min(R,ne,pe,Fe),je=Math.max(R,ne,pe,Fe),tt=Math.min(q,ue,ge,Ce),Ee=Math.max(q,ue,ge,Ce);return new a(Be,tt,je-Be,Ee-tt)},ce=function(R,q,G,X,ne,ue,pe,ge){var Fe,Ce,Be,je,tt,Ee,K,dt,Ye,Oe,Me,$e,ze,Xe,ut=G-R,pt=X-q,Ze=ne-G,at=ue-X,kt=pe-ne,st=ge-ue;for(Ce=0;Ce<41;Ce++)Ye=(K=(Be=R+(Fe=Ce/40)*ut)+Fe*((tt=G+Fe*Ze)-Be))+Fe*(tt+Fe*(ne+Fe*kt-tt)-K),Oe=(dt=(je=q+Fe*pt)+Fe*((Ee=X+Fe*at)-je))+Fe*(Ee+Fe*(ue+Fe*st-Ee)-dt),Ce==0?(Me=Ye,$e=Oe,ze=Ye,Xe=Oe):(Me=Math.min(Me,Ye),$e=Math.min($e,Oe),ze=Math.max(ze,Ye),Xe=Math.max(Xe,Oe));return new a(Math.round(Me),Math.round($e),Math.round(ze-Me),Math.round(Xe-$e))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,q,G=(R=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(ot.API),function(t){var e=function(s){var o,a,l,h,d,m,_,g,P,T;for(a=[],l=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(m=(d=((d=((d=((d=(d-(T=d%85))/85)-(P=d%85))/85)-(g=d%85))/85)-(_=d%85))/85)%85,a.push(m+33,_+33,g+33,P+33,T+33)):a.push(122);return function(O,b){for(var E=b;E>0;E--)O.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,h,d,m=String,_="length",g=255,P="charCodeAt",T="slice",O="replace";for(s[T](-2),s=s[T](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),l=[],h=0,d=(s+=o="uuuuu"[T](s[_]%5||5))[_];d>h;h+=5)a=52200625*(s[P](h)-33)+614125*(s[P](h+1)-33)+7225*(s[P](h+2)-33)+85*(s[P](h+3)-33)+(s[P](h+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(b,E){for(var C=E;C>0;C--)b.pop()}(l,o[_]),m.fromCharCode.apply(m,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=K1(o)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,h,d){var m=new XMLHttpRequest,_=0,g=function(P){var T=P.length,O=[],b=String.fromCharCode;for(_=0;_<T;_+=1)O.push(b(255&P.charCodeAt(_)));return O.join("")};if(m.open("GET",l,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?d(g(this.responseText)):d(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):q1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):q1(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=zt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,d){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||m.appendChild(l(_,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var g=h[_],P=g.src.find(function(T){return T.format==="truetype"});P&&l.addFont(P.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),a(this.prop.container,m)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(o=o||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,h){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(h,d){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,h),m}).then(h,d).then(function(m){return l.updateProgress(1),m})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(h,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(o,a,l){if(zt(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,m=(""+l).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,P=0,T=0;if(_.hasOwnProperty(m))P=_[m][1]/d,T=_[m][0]/d;else try{P=l[1],T=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",T>P&&(g=T,T=P,P=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",P>T&&(g=T,T=P,P=g)}return{width:T,height:P,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(e0):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ot.API),ot.API.addJS=function(t){return a_=t,this.internal.events.subscribe("postPutResources",function(){td=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(td+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){td!==void 0&&o_!==void 0&&this.internal.out("/Names <</JavaScript "+td+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var m=n.internal.newObject();d.push(m);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var _,g=256*m.charCodeAt(4)+m.charCodeAt(5),P=m.length,T={width:0,height:0,numcomponents:1},O=4;O<P;O+=2){if(O+=g,e.indexOf(m.charCodeAt(O+1))!==-1){_=256*m.charCodeAt(O+5)+m.charCodeAt(O+6),T={width:256*m.charCodeAt(O+7)+m.charCodeAt(O+8),height:_,numcomponents:m.charCodeAt(O+9)};break}g=256*m.charCodeAt(O+2)+m.charCodeAt(O+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(ot.API);var iu,nd,l_,u_,c_,IR=function(){var t,e,n;function r(s){var o,a,l,h,d,m,_,g,P,T,O,b,E,C;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(o=this.readUInt32(),P=(function(){var W,J;for(J=[],W=0;W<4;++W)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*d/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,o-=4),s=(m!=null?m.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((T=l-this.transparency.indexed.length)>0)for(E=0;0<=T?E<T:E>T;0<=T?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(O=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,O.slice(0,_)),this.text[g]=String.fromCharCode.apply(String,O.slice(_+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(m,_,g,P){var T,O,b,E,C,W,J,oe,D,S,F,U,I,N,x,Q,ve,me,ye,Y,le,ce=Math.ceil((h.width-m)/g),Re=Math.ceil((h.height-_)/P),R=h.width==ce&&h.height==Re;for(N=o*ce,U=R?a:new Uint8Array(N*Re),W=s.length,I=0,O=0;I<Re&&l<W;){switch(s[l++]){case 0:for(E=ve=0;ve<N;E=ve+=1)U[O++]=s[l++];break;case 1:for(E=me=0;me<N;E=me+=1)T=s[l++],C=E<o?0:U[O-o],U[O++]=(T+C)%256;break;case 2:for(E=ye=0;ye<N;E=ye+=1)T=s[l++],b=(E-E%o)/o,x=I&&U[(I-1)*N+b*o+E%o],U[O++]=(x+T)%256;break;case 3:for(E=Y=0;Y<N;E=Y+=1)T=s[l++],b=(E-E%o)/o,C=E<o?0:U[O-o],x=I&&U[(I-1)*N+b*o+E%o],U[O++]=(T+Math.floor((C+x)/2))%256;break;case 4:for(E=le=0;le<N;E=le+=1)T=s[l++],b=(E-E%o)/o,C=E<o?0:U[O-o],I===0?x=Q=0:(x=U[(I-1)*N+b*o+E%o],Q=b&&U[(I-1)*N+(b-1)*o+E%o]),J=C+x-Q,oe=Math.abs(J-C),S=Math.abs(J-x),F=Math.abs(J-Q),D=oe<=S&&oe<=F?C:S<=F?x:Q,U[O++]=(T+D)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var q=((_+I*P)*h.width+m)*o,G=I*N;for(E=0;E<ce;E+=1){for(var X=0;X<o;X+=1)a[q++]=U[G++];q+=(g-1)*o}}I++}}return s=rR(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,h,d,m,_,g;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=m=0,_=a.length;m<_;o=m+=3)h[l++]=a[o],h[l++]=a[o+1],h[l++]=a[o+2],h[l++]=(g=d[s++])!=null?g:255;return h},r.prototype.copyToImageData=function(s,o){var a,l,h,d,m,_,g,P,T,O,b;if(l=this.colors,T=null,a=this.hasAlphaChannel,this.palette.length&&(T=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),P=(h=s.data||s).length,m=T||o,d=_=0,l===1)for(;d<P;)g=T?4*o[d/4]:_,O=m[g++],h[d++]=O,h[d++]=O,h[d++]=O,h[d++]=a?m[g++]:255,_=g;else for(;d<P;)g=T?4*o[d/4]:_,h[d++]=m[g++],h[d++]=m[g++],h[d++]=m[g++],h[d++]=a?m[g++]:255,_=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,h,d,m,_,g;if(this.animation){for(g=[],a=d=0,m=(_=this.animation.frames).length;d<m;a=++d)o=_[a],l=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,h),o.imageData=l,g.push(o.image=t(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,h;return a=(l=this.animation.frames)[o],h=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,h,d,m,_=this;return a=0,m=this.animation,h=m.numFrames,l=m.frames,d=m.numPlays,(o=function(){var g,P;if(g=a++%h,P=l[g],_.renderFrame(s,g),h>1&&a/h<d)return _.animation._timeout=setTimeout(o,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function TR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var h=!0,d=[],m=0,_=null,g=0,P=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];m=t[e++]|t[e++]<<8,_=t[e++],!(1&T)&&(_=null),g=T>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var O=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,W=t[e++],J=W>>6&1,oe=1<<(7&W)+1,D=a,S=l,F=!1;W>>7&&(F=!0,D=e,S=oe,e+=3*oe);var U=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:O,y:b,width:E,height:C,has_local_palette:F,palette_offset:D,palette_size:S,data_offset:U,data_length:e-U,transparent_index:_,interlaced:!!J,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return P},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,x){var Q=this.frameInfo(N),ve=Q.width*Q.height,me=new Uint8Array(ve);h_(t,Q.data_offset,me,ve);var ye=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var le=Q.width,ce=n-le,Re=le,R=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),G=R,X=4*ce;Q.interlaced===!0&&(X+=4*n*7);for(var ne=8,ue=0,pe=me.length;ue<pe;++ue){var ge=me[ue];if(Re===0&&(Re=le,(G+=X)>=q&&(X=4*ce+4*n*(ne-1),G=R+(le+ce)*(ne<<1),ne>>=1)),ge===Y)G+=4;else{var Fe=t[ye+3*ge],Ce=t[ye+3*ge+1],Be=t[ye+3*ge+2];x[G++]=Be,x[G++]=Ce,x[G++]=Fe,x[G++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(N,x){var Q=this.frameInfo(N),ve=Q.width*Q.height,me=new Uint8Array(ve);h_(t,Q.data_offset,me,ve);var ye=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var le=Q.width,ce=n-le,Re=le,R=4*(Q.y*n+Q.x),q=4*((Q.y+Q.height)*n+Q.x),G=R,X=4*ce;Q.interlaced===!0&&(X+=4*n*7);for(var ne=8,ue=0,pe=me.length;ue<pe;++ue){var ge=me[ue];if(Re===0&&(Re=le,(G+=X)>=q&&(X=4*ce+4*n*(ne-1),G=R+(le+ce)*(ne<<1),ne>>=1)),ge===Y)G+=4;else{var Fe=t[ye+3*ge],Ce=t[ye+3*ge+1],Be=t[ye+3*ge+2];x[G++]=Fe,x[G++]=Ce,x[G++]=Be,x[G++]=255}--Re}}}function h_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,h=(1<<l)-1,d=0,m=0,_=0,g=t[e++],P=new Int32Array(4096),T=null;;){for(;d<16&&g!==0;)m|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var O=m&h;if(m>>=l,d-=l,O!==s){if(O===o)break;for(var b=O<a?O:T,E=0,C=b;C>s;)C=P[C]>>8,++E;var W=C;if(_+E+(b!==O?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[_++]=W;var J=_+=E;for(b!==O&&(n[_++]=W),C=b;E--;)C=P[C],n[--J]=255&C,C>>=8;T!==null&&a<4096&&(P[a++]=T<<8|W,a>=h+1&&l<12&&(++l,h=h<<1|1)),T=O}else a=o+1,h=(1<<(l=i+1))-1,T=null}return _!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _g(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),d=new Array(64),m=new Array(65535),_=new Array(65535),g=new Array(64),P=new Array(64),T=[],O=0,b=7,E=new Array(64),C=new Array(64),W=new Array(64),J=new Array(256),oe=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(R,q){for(var G=0,X=0,ne=new Array,ue=1;ue<=16;ue++){for(var pe=1;pe<=R[ue];pe++)ne[q[X]]=[],ne[q[X]][0]=G,ne[q[X]][1]=ue,X++,G++;G*=2}return ne}function ye(R){for(var q=R[0],G=R[1]-1;G>=0;)q&1<<G&&(O|=1<<b),G--,--b<0&&(O==255?(Y(255),Y(0)):Y(O),b=7,O=0)}function Y(R){T.push(R)}function le(R){Y(R>>8&255),Y(255&R)}function ce(R,q,G,X,ne){for(var ue,pe=ne[0],ge=ne[240],Fe=function(Oe,Me){var $e,ze,Xe,ut,pt,Ze,at,kt,st,Et,We=0;for(st=0;st<8;++st){$e=Oe[We],ze=Oe[We+1],Xe=Oe[We+2],ut=Oe[We+3],pt=Oe[We+4],Ze=Oe[We+5],at=Oe[We+6];var pn=$e+(kt=Oe[We+7]),Tt=$e-kt,Or=ze+at,Dt=ze-at,Qt=Xe+Ze,fi=Xe-Ze,Nt=ut+pt,es=ut-pt,en=pn+Nt,Kn=pn-Nt,Qr=Or+Qt,Yt=Or-Qt;Oe[We]=en+Qr,Oe[We+4]=en-Qr;var nt=.707106781*(Yt+Kn);Oe[We+2]=Kn+nt,Oe[We+6]=Kn-nt;var Lt=.382683433*((en=es+fi)-(Yt=Dt+Tt)),di=.5411961*en+Lt,xn=1.306562965*Yt+Lt,ar=.707106781*(Qr=fi+Dt),Yr=Tt+ar,Ge=Tt-ar;Oe[We+5]=Ge+di,Oe[We+3]=Ge-di,Oe[We+1]=Yr+xn,Oe[We+7]=Yr-xn,We+=8}for(We=0,st=0;st<8;++st){$e=Oe[We],ze=Oe[We+8],Xe=Oe[We+16],ut=Oe[We+24],pt=Oe[We+32],Ze=Oe[We+40],at=Oe[We+48];var Dr=$e+(kt=Oe[We+56]),lr=$e-kt,kn=ze+at,wn=ze-at,mn=Xe+Ze,Ln=Xe-Ze,go=ut+pt,xi=ut-pt,ur=Dr+go,Fr=Dr-go,Sr=kn+mn,Ir=kn-mn;Oe[We]=ur+Sr,Oe[We+32]=ur-Sr;var En=.707106781*(Ir+Fr);Oe[We+16]=Fr+En,Oe[We+48]=Fr-En;var Jr=.382683433*((ur=xi+Ln)-(Ir=wn+lr)),ts=.5411961*ur+Jr,ns=1.306562965*Ir+Jr,rs=.707106781*(Sr=Ln+wn),xs=lr+rs,ks=lr-rs;Oe[We+40]=ks+ts,Oe[We+24]=ks-ts,Oe[We+8]=xs+ns,Oe[We+56]=xs-ns,We++}for(st=0;st<64;++st)Et=Oe[st]*Me[st],g[st]=Et>0?Et+.5|0:Et-.5|0;return g}(R,q),Ce=0;Ce<64;++Ce)P[D[Ce]]=Fe[Ce];var Be=P[0]-G;G=P[0],Be==0?ye(X[0]):(ye(X[_[ue=32767+Be]]),ye(m[ue]));for(var je=63;je>0&&P[je]==0;)je--;if(je==0)return ye(pe),G;for(var tt,Ee=1;Ee<=je;){for(var K=Ee;P[Ee]==0&&Ee<=je;)++Ee;var dt=Ee-K;if(dt>=16){tt=dt>>4;for(var Ye=1;Ye<=tt;++Ye)ye(ge);dt&=15}ue=32767+P[Ee],ye(ne[(dt<<4)+_[ue]]),ye(m[ue]),Ee++}return je!=63&&ye(pe),G}function Re(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ne=o((G[X]*q+50)/100);ne=Math.min(Math.max(ne,1),255),a[D[X]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ge=o((ue[pe]*q+50)/100);ge=Math.min(Math.max(ge,1),255),l[D[pe]]=ge}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Be=0;Be<8;Be++)for(var je=0;je<8;je++)h[Ce]=1/(a[D[Ce]]*Fe[Be]*Fe[je]*8),d[Ce]=1/(l[D[Ce]]*Fe[Be]*Fe[je]*8),Ce++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,q){q&&Re(q),T=new Array,O=0,b=7,le(65496),le(65504),le(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),le(1),le(1),Y(0),Y(0),function(){le(65499),le(132),Y(0);for(var ze=0;ze<64;ze++)Y(a[ze]);Y(1);for(var Xe=0;Xe<64;Xe++)Y(l[Xe])}(),function(ze,Xe){le(65472),le(17),Y(8),le(Xe),le(ze),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(R.width,R.height),function(){le(65476),le(418),Y(0);for(var ze=0;ze<16;ze++)Y(S[ze+1]);for(var Xe=0;Xe<=11;Xe++)Y(F[Xe]);Y(16);for(var ut=0;ut<16;ut++)Y(U[ut+1]);for(var pt=0;pt<=161;pt++)Y(I[pt]);Y(1);for(var Ze=0;Ze<16;Ze++)Y(N[Ze+1]);for(var at=0;at<=11;at++)Y(x[at]);Y(17);for(var kt=0;kt<16;kt++)Y(Q[kt+1]);for(var st=0;st<=161;st++)Y(ve[st])}(),le(65498),le(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var G=0,X=0,ne=0;O=0,b=7,this.encode.displayName="_encode_";for(var ue,pe,ge,Fe,Ce,Be,je,tt,Ee,K=R.data,dt=R.width,Ye=R.height,Oe=4*dt,Me=0;Me<Ye;){for(ue=0;ue<Oe;){for(Ce=Oe*Me+ue,je=-1,tt=0,Ee=0;Ee<64;Ee++)Be=Ce+(tt=Ee>>3)*Oe+(je=4*(7&Ee)),Me+tt>=Ye&&(Be-=Oe*(Me+1+tt-Ye)),ue+je>=Oe&&(Be-=ue+je-Oe+4),pe=K[Be++],ge=K[Be++],Fe=K[Be++],E[Ee]=(oe[pe]+oe[ge+256>>0]+oe[Fe+512>>0]>>16)-128,C[Ee]=(oe[pe+768>>0]+oe[ge+1024>>0]+oe[Fe+1280>>0]>>16)-128,W[Ee]=(oe[pe+1280>>0]+oe[ge+1536>>0]+oe[Fe+1792>>0]>>16)-128;G=ce(E,h,G,e,r),X=ce(C,d,X,n,i),ne=ce(W,d,ne,n,i),ue+=32}Me+=8}if(b>=0){var $e=[];$e[1]=b+1,$e[0]=(1<<b+1)-1,ye($e)}return le(65497),new Uint8Array(T)},t=t||50,function(){for(var R=String.fromCharCode,q=0;q<256;q++)J[q]=R(q)}(),e=me(S,F),n=me(N,x),r=me(U,I),i=me(Q,ve),function(){for(var R=1,q=2,G=1;G<=15;G++){for(var X=R;X<q;X++)_[32767+X]=G,m[32767+X]=[],m[32767+X][1]=G,m[32767+X][0]=X;for(var ne=-(q-1);ne<=-R;ne++)_[32767+ne]=G,m[32767+ne]=[],m[32767+ne][1]=G,m[32767+ne][0]=q-1+ne;R<<=1,q<<=1}}(),function(){for(var R=0;R<256;R++)oe[R]=19595*R,oe[R+256>>0]=38470*R,oe[R+512>>0]=7471*R+32768,oe[R+768>>0]=-11059*R,oe[R+1024>>0]=-21709*R,oe[R+1280>>0]=32768*R+8421375,oe[R+1536>>0]=-27439*R,oe[R+1792>>0]=-5329*R}(),Re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f_(t){function e(S){if(!S)throw Error("assert :P")}function n(S,F,U){for(var I=0;4>I;I++)if(S[F+I]!=U.charCodeAt(I))return!0;return!1}function r(S,F,U,I,N){for(var x=0;x<N;x++)S[F+x]=U[I+x]}function i(S,F,U,I){for(var N=0;N<I;N++)S[F+N]=U}function s(S){return new Int32Array(S)}function o(S,F){for(var U=[],I=0;I<S;I++)U.push(new F);return U}function a(S,F){var U=[];return function I(N,x,Q){for(var ve=Q[x],me=0;me<ve&&(N.push(Q.length>x+1?[]:new F),!(Q.length<x+1));me++)I(N[me],x+1,Q)}(U,0,S),U}var l=function(){var S=this;function F(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function U(u,f,v,w,L){e(!(w%v));do u[f+(w-=v)]=L;while(0<w)}function I(u,f,v,w,L){if(e(2328>=L),512>=L)var M=s(512);else if((M=s(L))==null)return 0;return function(j,B,z,$,ee,he){var fe,ae,Se=B,_e=1<<z,te=s(16),re=s(16);for(e(ee!=0),e($!=null),e(j!=null),e(0<z),ae=0;ae<ee;++ae){if(15<$[ae])return 0;++te[$[ae]]}if(te[0]==ee)return 0;for(re[1]=0,fe=1;15>fe;++fe){if(te[fe]>1<<fe)return 0;re[fe+1]=re[fe]+te[fe]}for(ae=0;ae<ee;++ae)fe=$[ae],0<$[ae]&&(he[re[fe]++]=ae);if(re[15]==1)return($=new N).g=0,$.value=he[0],U(j,Se,1,_e,$),_e;var be,Ie=-1,Ae=_e-1,He=0,Ve=1,rt=1,qe=1<<z;for(ae=0,fe=1,ee=2;fe<=z;++fe,ee<<=1){if(Ve+=rt<<=1,0>(rt-=te[fe]))return 0;for(;0<te[fe];--te[fe])($=new N).g=fe,$.value=he[ae++],U(j,Se+He,ee,qe,$),He=F(He,fe)}for(fe=z+1,ee=2;15>=fe;++fe,ee<<=1){if(Ve+=rt<<=1,0>(rt-=te[fe]))return 0;for(;0<te[fe];--te[fe]){if($=new N,(He&Ae)!=Ie){for(Se+=qe,be=1<<(Ie=fe)-z;15>Ie&&!(0>=(be-=te[Ie]));)++Ie,be<<=1;_e+=qe=1<<(be=Ie-z),j[B+(Ie=He&Ae)].g=be+z,j[B+Ie].value=Se-B-Ie}$.g=fe-z,$.value=he[ae++],U(j,Se+(He>>z),ee,qe,$),He=F(He,fe)}}return Ve!=2*re[15]-1?0:_e}(u,f,v,w,L,M)}function N(){this.value=this.g=0}function x(){this.value=this.g=0}function Q(){this.G=o(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Jn,x)}function ve(u,f,v,w){e(u!=null),e(f!=null),e(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+w,u.Zc=4<=w?v+w-4+1:v,ue(u)}function me(u,f){for(var v=0;0<f--;)v|=ge(u,128)<<f;return v}function ye(u,f){var v=me(u,f);return pe(u)?-v:v}function Y(u,f,v,w){var L,M=0;for(e(u!=null),e(f!=null),e(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),L=0;L<w;++L)M+=f[v+L]<<8*L;u.Ra=M,u.bb=w,u.oa=f,u.pa=v}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Hl-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function ce(u,f){if(e(0<=f),!u.h&&f<=Wl){var v=q(u)&$l[f];return u.u+=f,le(u),v}return u.h=1,u.u=0}function Re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&Hl-1)>>>0}function G(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Hl}function X(u,f){u.u=f,u.h=G(u)}function ne(u){u.u>=_c&&(e(u.u>=_c),le(u))}function ue(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function pe(u){return me(u,1)}function ge(u,f){var v=u.Ca;0>u.b&&ue(u);var w=u.b,L=v*f>>>8,M=(u.I>>>w>L)+0;for(M?(v-=L,u.I-=L+1<<w>>>0):v=L+1,w=v,L=0;256<=w;)L+=8,w>>=8;return w=7^L+jr[w],u.b-=w,u.Ca=(v<<w)-1,M}function Fe(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=v>>0&255}function Ce(u,f){return u[f+0]<<0|u[f+1]<<8}function Be(u,f){return Ce(u,f)|u[f+2]<<16}function je(u,f){return Ce(u,f)|Ce(u,f+2)<<16}function tt(u,f){var v=1<<f;return e(u!=null),e(0<f),u.X=s(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ee(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function dt(u,f,v,w){e(v!=null),e(w!=null);var L=v[0],M=w[0];return L==0&&(L=(u*M+f/2)/f),M==0&&(M=(f*L+u/2)/u),0>=L||0>=M?0:(v[0]=L,w[0]=M,1)}function Ye(u,f){return u+(1<<f)-1>>>f}function Oe(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Me(u,f){S[f]=function(v,w,L,M,j,B,z){var $;for($=0;$<j;++$){var ee=S[u](B[z+$-1],L,M+$);B[z+$]=Oe(v[w+$],ee)}}}function $e(){this.ud=this.hd=this.jd=0}function ze(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Xe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ut(u,f){return Xe(u+(u-f+.5>>1))}function pt(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function Ze(u,f,v,w,L,M,j){for(w=M[j-1],v=0;v<L;++v)M[j+v]=w=Oe(u[f+v],w)}function at(u,f,v,w,L){var M;for(M=0;M<v;++M){var j=u[f+M],B=j>>8&255,z=16711935&(z=(z=16711935&j)+((B<<16)+B));w[L+M]=(4278255360&j)+z>>>0}}function kt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function st(u,f,v,w,L,M){var j;for(j=0;j<w;++j){var B=f[v+j],z=B>>>8,$=B,ee=255&(ee=(ee=B>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));$=255&($=($=$+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(ee<<24>>24)>>>5)),L[M+j]=(4278255360&B)+(ee<<16)+$}}function Et(u,f,v,w,L){S[f]=function(M,j,B,z,$,ee,he,fe,ae){for(z=he;z<fe;++z)for(he=0;he<ae;++he)$[ee++]=L(B[w(M[j++])])},S[u]=function(M,j,B,z,$,ee,he){var fe=8>>M.b,ae=M.Ea,Se=M.K[0],_e=M.w;if(8>fe)for(M=(1<<M.b)-1,_e=(1<<fe)-1;j<B;++j){var te,re=0;for(te=0;te<ae;++te)te&M||(re=w(z[$++])),ee[he++]=L(Se[re&_e]),re>>=fe}else S["VP8LMapColor"+v](z,$,Se,_e,ee,he,j,B,ae)}}function We(u,f,v,w,L){for(v=f+v;f<v;){var M=u[f++];w[L++]=M>>16&255,w[L++]=M>>8&255,w[L++]=M>>0&255}}function pn(u,f,v,w,L){for(v=f+v;f<v;){var M=u[f++];w[L++]=M>>16&255,w[L++]=M>>8&255,w[L++]=M>>0&255,w[L++]=M>>24&255}}function Tt(u,f,v,w,L){for(v=f+v;f<v;){var M=(j=u[f++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;w[L++]=M,w[L++]=j}}function Or(u,f,v,w,L){for(v=f+v;f<v;){var M=(j=u[f++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;w[L++]=M,w[L++]=j}}function Dt(u,f,v,w,L){for(v=f+v;f<v;){var M=u[f++];w[L++]=M>>0&255,w[L++]=M>>8&255,w[L++]=M>>16&255}}function Qt(u,f,v,w,L,M){if(M==0)for(v=f+v;f<v;)Fe(w,((M=u[f++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),L+=32;else r(w,L,u,f,v)}function fi(u,f){S[f][0]=S[u+"0"],S[f][1]=S[u+"1"],S[f][2]=S[u+"2"],S[f][3]=S[u+"3"],S[f][4]=S[u+"4"],S[f][5]=S[u+"5"],S[f][6]=S[u+"6"],S[f][7]=S[u+"7"],S[f][8]=S[u+"8"],S[f][9]=S[u+"9"],S[f][10]=S[u+"10"],S[f][11]=S[u+"11"],S[f][12]=S[u+"12"],S[f][13]=S[u+"13"],S[f][14]=S[u+"0"],S[f][15]=S[u+"0"]}function Nt(u){return u==fm||u==dm||u==gf||u==pm}function es(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new es,this.f.kb=new en,this.sd=null}function Qr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Lt(u,f){var v=u.T,w=f.ba.f.RGBA,L=w.eb,M=w.fb+u.ka*w.A,j=wi[f.ba.S],B=u.y,z=u.O,$=u.f,ee=u.N,he=u.ea,fe=u.W,ae=f.cc,Se=f.dc,_e=f.Mc,te=f.Nc,re=u.ka,be=u.ka+u.T,Ie=u.U,Ae=Ie+1>>1;for(re==0?j(B,z,null,null,$,ee,he,fe,$,ee,he,fe,L,M,null,null,Ie):(j(f.ec,f.fc,B,z,ae,Se,_e,te,$,ee,he,fe,L,M-w.A,L,M,Ie),++v);re+2<be;re+=2)ae=$,Se=ee,_e=he,te=fe,ee+=u.Rc,fe+=u.Rc,M+=2*w.A,j(B,(z+=2*u.fa)-u.fa,B,z,ae,Se,_e,te,$,ee,he,fe,L,M-w.A,L,M,Ie);return z+=u.fa,u.j+be<u.o?(r(f.ec,f.fc,B,z,Ie),r(f.cc,f.dc,$,ee,Ae),r(f.Mc,f.Nc,he,fe,Ae),v--):1&be||j(B,z,null,null,$,ee,he,fe,$,ee,he,fe,L,M+w.A,null,null,Ie),v}function di(u,f,v){var w=u.F,L=[u.J];if(w!=null){var M=u.U,j=f.ba.S,B=j==mf||j==gf;f=f.ba.f.RGBA;var z=[0],$=u.ka;z[0]=u.T,u.Kb&&($==0?--z[0]:(--$,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-$));var ee=f.eb;$=f.fb+$*f.A,u=Xt(w,L[0],u.width,M,z,ee,$+(B?0:3),f.A),e(v==z),u&&Nt(j)&&yi(ee,$,B,M,z,f.A)}return 0}function xn(u){var f=u.ma,v=f.ba.S,w=11>v,L=v==df||v==pf||v==mf||v==hm||v==12||Nt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!vc(f.Oa,u,L?11:12))return 0;if(L&&Nt(v)&&Pe(),u.da)alert("todo:use_scaling");else{if(w){if(f.Ib=nt,u.Kb){if(v=u.U+1>>1,f.memory=s(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=Lt,Pe()}}else alert("todo:EmitYUV");L&&(f.Jb=di,w&&se())}if(w&&!Z2){for(u=0;256>u;++u)Ob[u]=89858*(u-128)+yf>>vf,Mb[u]=-22014*(u-128)+yf,Fb[u]=-45773*(u-128),Db[u]=113618*(u-128)+yf>>vf;for(u=Tc;u<vm;++u)f=76283*(u-16)+yf>>vf,jb[u-Tc]=jt(f,255),Vb[u-Tc]=jt(f+8>>4,15);Z2=1}return 1}function ar(u){var f=u.ma,v=u.U,w=u.T;return e(!(1&u.ka)),0>=v||0>=w?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function Yr(u){u.ma.memory=null}function Ge(u,f,v,w){return ce(u,8)!=47?0:(f[0]=ce(u,14)+1,v[0]=ce(u,14)+1,w[0]=ce(u,1),ce(u,3)!=0?0:!u.h)}function Dr(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ce(f,v)+1}function lr(u,f){return 120<f?f-120:1<=(v=((v=wb[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function kn(u,f,v){var w=q(v),L=u[f+=255&w].g-8;return 0<L&&(X(v,v.u+8),w=q(v),f+=u[f].value,f+=w&(1<<L)-1),X(v,v.u+u[f].g),u[f].value}function wn(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,e(8>=v.g),u.g}function mn(u,f,v){var w=u.xc;return e((f=w==0?0:u.vc[u.md*(v>>w)+(f>>w)])<u.Wb),u.Ya[f]}function Ln(u,f,v,w){var L=u.ab,M=u.c*f,j=u.C;f=j+f;var B=v,z=w;for(w=u.Ta,v=u.Ua;0<L--;){var $=u.gc[L],ee=j,he=f,fe=B,ae=z,Se=(z=w,B=v,$.Ea);switch(e(ee<he),e(he<=$.nc),$.hc){case 2:of(fe,ae,(he-ee)*Se,z,B);break;case 0:var _e=ee,te=he,re=z,be=B,Ie=(qe=$).Ea;_e==0&&(um(fe,ae,null,null,1,re,be),Ze(fe,ae+1,0,0,Ie-1,re,be+1),ae+=Ie,be+=Ie,++_e);for(var Ae=1<<qe.b,He=Ae-1,Ve=Ye(Ie,qe.b),rt=qe.K,qe=qe.w+(_e>>qe.b)*Ve;_e<te;){var Ft=rt,Bt=qe,Ct=1;for(wc(fe,ae,re,be-Ie,1,re,be);Ct<Ie;){var St=(Ct&~He)+Ae;St>Ie&&(St=Ie),(0,Oo[Ft[Bt++]>>8&15])(fe,ae+ +Ct,re,be+Ct-Ie,St-Ct,re,be+Ct),Ct=St}ae+=Ie,be+=Ie,++_e&He||(qe+=Ve)}he!=$.nc&&r(z,B-Se,z,B+(he-ee-1)*Se,Se);break;case 1:for(Se=fe,te=ae,Ie=(fe=$.Ea)-(be=fe&~(re=(ae=1<<$.b)-1)),_e=Ye(fe,$.b),Ae=$.K,$=$.w+(ee>>$.b)*_e;ee<he;){for(He=Ae,Ve=$,rt=new $e,qe=te+be,Ft=te+fe;te<qe;)kt(He[Ve++],rt),Qa(rt,Se,te,ae,z,B),te+=ae,B+=ae;te<Ft&&(kt(He[Ve++],rt),Qa(rt,Se,te,Ie,z,B),te+=Ie,B+=Ie),++ee&re||($+=_e)}break;case 3:if(fe==z&&ae==B&&0<$.b){for(te=z,fe=Se=B+(he-ee)*Se-(be=(he-ee)*Ye($.Ea,$.b)),ae=z,re=B,_e=[],be=(Ie=be)-1;0<=be;--be)_e[be]=ae[re+be];for(be=Ie-1;0<=be;--be)te[fe+be]=_e[be];mi($,ee,he,z,Se,z,B)}else mi($,ee,he,fe,ae,z,B)}B=w,z=v}z!=v&&r(w,v,B,z,M)}function go(u,f){var v=u.V,w=u.Ba+u.c*u.C,L=f-u.C;if(e(f<=u.l.o),e(16>=L),0<L){var M=u.l,j=u.Ta,B=u.Ua,z=M.width;if(Ln(u,L,v,w),L=B=[B],e((v=u.C)<(w=f)),e(M.v<M.va),w>M.o&&(w=M.o),v<M.j){var $=M.j-v;v=M.j,L[0]+=$*z}if(v>=w?v=0:(L[0]+=4*M.v,M.ka=v-M.j,M.U=M.va-M.v,M.T=w-v,v=1),v){if(B=B[0],11>(v=u.ca).S){var ee=v.f.RGBA,he=(w=v.S,L=M.U,M=M.T,$=ee.eb,ee.A),fe=M;for(ee=ee.fb+u.Ma*ee.A;0<fe--;){var ae=j,Se=B,_e=L,te=$,re=ee;switch(w){case ff:Vr(ae,Se,_e,te,re);break;case df:Pr(ae,Se,_e,te,re);break;case fm:Pr(ae,Se,_e,te,re),yi(te,re,0,_e,1,0);break;case $2:Us(ae,Se,_e,te,re);break;case pf:Qt(ae,Se,_e,te,re,1);break;case dm:Qt(ae,Se,_e,te,re,1),yi(te,re,0,_e,1,0);break;case mf:Qt(ae,Se,_e,te,re,0);break;case gf:Qt(ae,Se,_e,te,re,0),yi(te,re,1,_e,1,0);break;case hm:Do(ae,Se,_e,te,re);break;case pm:Do(ae,Se,_e,te,re),Jt(te,re,_e,1,0);break;case W2:Bs(ae,Se,_e,te,re);break;default:e(0)}B+=z,ee+=he}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=f,e(u.C<=u.i)}function xi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,w=u.Ya[f].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function ur(u,f,v,w,L,M){if(u.Z!=0){var j=u.qd,B=u.rd;for(e(Vo[u.Z]!=null);f<v;++f)Vo[u.Z](j,B,w,L,w,L,M),j=w,B=L,L+=M;u.qd=j,u.rd=B}}function Fr(u,f){var v=u.l.ma,w=v.Z==0||v.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,e(f<=u.l.o),f>w){var L=u.l.width,M=v.ca,j=v.tb+L*w,B=u.V,z=u.Ba+u.c*w,$=u.gc;e(u.ab==1),e($[0].hc==3),af($[0],w,f,B,z,M,j),ur(v,w,f,M,j,L)}u.C=u.Ma=f}function Sr(u,f,v,w,L,M,j){var B=u.$/w,z=u.$%w,$=u.m,ee=u.s,he=v+u.$,fe=he;L=v+w*L;var ae=v+w*M,Se=280+ee.ua,_e=u.Pb?B:16777216,te=0<ee.ua?ee.Wa:null,re=ee.wc,be=he<ae?mn(ee,z,B):null;e(u.C<M),e(ae<=L);var Ie=!1;e:for(;;){for(;Ie||he<ae;){var Ae=0;if(B>=_e){var He=he-v;e((_e=u).Pb),_e.wd=_e.m,_e.xd=He,0<_e.s.ua&&Ee(_e.s.Wa,_e.s.vb),_e=B+bb}if(z&re||(be=mn(ee,z,B)),e(be!=null),be.Qb&&(f[he]=be.qb,Ie=!0),!Ie)if(ne($),be.jc){Ae=$,He=f;var Ve=he,rt=be.pd[q(Ae)&Jn-1];e(be.jc),256>rt.g?(X(Ae,Ae.u+rt.g),He[Ve]=rt.value,Ae=0):(X(Ae,Ae.u+rt.g-256),e(256<=rt.value),Ae=rt.value),Ae==0&&(Ie=!0)}else Ae=kn(be.G[0],be.H[0],$);if($.h)break;if(Ie||256>Ae){if(!Ie)if(be.nd)f[he]=(be.qb|Ae<<8)>>>0;else{if(ne($),Ie=kn(be.G[1],be.H[1],$),ne($),He=kn(be.G[2],be.H[2],$),Ve=kn(be.G[3],be.H[3],$),$.h)break;f[he]=(Ve<<24|Ie<<16|Ae<<8|He)>>>0}if(Ie=!1,++he,++z>=w&&(z=0,++B,j!=null&&B<=M&&!(B%16)&&j(u,B),te!=null))for(;fe<he;)Ae=f[fe++],te.X[(506832829*Ae&4294967295)>>>te.Mb]=Ae}else if(280>Ae){if(Ae=Dr(Ae-256,$),He=kn(be.G[4],be.H[4],$),ne($),He=lr(w,He=Dr(He,$)),$.h)break;if(he-v<He||L-he<Ae)break e;for(Ve=0;Ve<Ae;++Ve)f[he+Ve]=f[he+Ve-He];for(he+=Ae,z+=Ae;z>=w;)z-=w,++B,j!=null&&B<=M&&!(B%16)&&j(u,B);if(e(he<=L),z&re&&(be=mn(ee,z,B)),te!=null)for(;fe<he;)Ae=f[fe++],te.X[(506832829*Ae&4294967295)>>>te.Mb]=Ae}else{if(!(Ae<Se))break e;for(Ie=Ae-280,e(te!=null);fe<he;)Ae=f[fe++],te.X[(506832829*Ae&4294967295)>>>te.Mb]=Ae;Ae=he,e(!(Ie>>>(He=te).Xa)),f[Ae]=He.X[Ie],Ie=!0}Ie||e($.h==G($))}if(u.Pb&&$.h&&he<L)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ee(u.s.vb,u.s.Wa);else{if($.h)break e;j!=null&&j(u,B>M?M:B),u.a=0,u.$=he-v}return 1}return u.a=3,0}function Ir(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function En(){var u=new zl;return u==null?null:(u.a=0,u.xb=K2,fi("Predictor","VP8LPredictors"),fi("Predictor","VP8LPredictors_C"),fi("PredictorAdd","VP8LPredictorsAdd"),fi("PredictorAdd","VP8LPredictorsAdd_C"),of=at,Qa=st,Vr=We,Pr=pn,Do=Tt,Bs=Or,Us=Dt,S.VP8LMapColor32b=Gl,S.VP8LMapColor8b=lf,u)}function Jr(u,f,v,w,L){var M=1,j=[u],B=[f],z=w.m,$=w.s,ee=null,he=0;e:for(;;){if(v)for(;M&&ce(z,1);){var fe=j,ae=B,Se=w,_e=1,te=Se.m,re=Se.gc[Se.ab],be=ce(te,2);if(Se.Oc&1<<be)M=0;else{switch(Se.Oc|=1<<be,re.hc=be,re.Ea=fe[0],re.nc=ae[0],re.K=[null],++Se.ab,e(4>=Se.ab),be){case 0:case 1:re.b=ce(te,3)+2,_e=Jr(Ye(re.Ea,re.b),Ye(re.nc,re.b),0,Se,re.K),re.K=re.K[0];break;case 3:var Ie,Ae=ce(te,8)+1,He=16<Ae?0:4<Ae?1:2<Ae?2:3;if(fe[0]=Ye(re.Ea,He),re.b=He,Ie=_e=Jr(Ae,1,0,Se,re.K)){var Ve,rt=Ae,qe=re,Ft=1<<(8>>qe.b),Bt=s(Ft);if(Bt==null)Ie=0;else{var Ct=qe.K[0],St=qe.w;for(Bt[0]=qe.K[0][0],Ve=1;Ve<1*rt;++Ve)Bt[Ve]=Oe(Ct[St+Ve],Bt[Ve-1]);for(;Ve<4*Ft;++Ve)Bt[Ve]=0;qe.K[0]=null,qe.K[0]=Bt,Ie=1}}_e=Ie;break;case 2:break;default:e(0)}M=_e}}if(j=j[0],B=B[0],M&&ce(z,1)&&!(M=1<=(he=ce(z,4))&&11>=he)){w.a=3;break e}var Gt;if(Gt=M)t:{var Wt,wt,Cn,Br=w,Rn=j,Ur=B,Ut=he,ni=v,ri=Br.m,zn=Br.s,Xn=[null],xr=1,Ei=0,ds=Eb[Ut];n:for(;;){if(ni&&ce(ri,1)){var qn=ce(ri,3)+2,Ws=Ye(Rn,qn),el=Ye(Ur,qn),Xl=Ws*el;if(!Jr(Ws,el,0,Br,Xn))break n;for(Xn=Xn[0],zn.xc=qn,Wt=0;Wt<Xl;++Wt){var Bo=Xn[Wt]>>8&65535;Xn[Wt]=Bo,Bo>=xr&&(xr=Bo+1)}}if(ri.h)break n;for(wt=0;5>wt;++wt){var vn=H2[wt];!wt&&0<Ut&&(vn+=1<<Ut),Ei<vn&&(Ei=vn)}var ym=o(xr*ds,N),nv=xr,rv=o(nv,Q);if(rv==null)var wf=null;else e(65536>=nv),wf=rv;var Pc=s(Ei);if(wf==null||Pc==null||ym==null){Br.a=1;break n}var Ef=ym;for(Wt=Cn=0;Wt<xr;++Wt){var Vi=wf[Wt],Zl=Vi.G,eu=Vi.H,iv=0,bf=1,sv=0;for(wt=0;5>wt;++wt){vn=H2[wt],Zl[wt]=Ef,eu[wt]=Cn,!wt&&0<Ut&&(vn+=1<<Ut);i:{var Af,_m=vn,Sf=Br,Nc=Pc,zb=Ef,qb=Cn,wm=0,Uo=Sf.m,$b=ce(Uo,1);if(i(Nc,0,0,_m),$b){var Wb=ce(Uo,1)+1,Hb=ce(Uo,1),ov=ce(Uo,Hb==0?1:8);Nc[ov]=1,Wb==2&&(Nc[ov=ce(Uo,8)]=1);var If=1}else{var av=s(19),lv=ce(Uo,4)+4;if(19<lv){Sf.a=3;var Tf=0;break i}for(Af=0;Af<lv;++Af)av[_b[Af]]=ce(Uo,3);var Em=void 0,xc=void 0,uv=Sf,Gb=av,Pf=_m,cv=Nc,bm=0,zo=uv.m,hv=8,fv=o(128,N);r:for(;I(fv,0,7,Gb,19);){if(ce(zo,1)){var Kb=2+2*ce(zo,3);if((Em=2+ce(zo,Kb))>Pf)break r}else Em=Pf;for(xc=0;xc<Pf&&Em--;){ne(zo);var dv=fv[0+(127&q(zo))];X(zo,zo.u+dv.g);var tu=dv.value;if(16>tu)cv[xc++]=tu,tu!=0&&(hv=tu);else{var Qb=tu==16,pv=tu-16,Yb=vb[pv],mv=ce(zo,gb[pv])+Yb;if(xc+mv>Pf)break r;for(var Jb=Qb?hv:0;0<mv--;)cv[xc++]=Jb}}bm=1;break r}bm||(uv.a=3),If=bm}(If=If&&!Uo.h)&&(wm=I(zb,qb,8,Nc,_m)),If&&wm!=0?Tf=wm:(Sf.a=3,Tf=0)}if(Tf==0)break n;if(bf&&yb[wt]==1&&(bf=Ef[Cn].g==0),iv+=Ef[Cn].g,Cn+=Tf,3>=wt){var kc,Am=Pc[0];for(kc=1;kc<vn;++kc)Pc[kc]>Am&&(Am=Pc[kc]);sv+=Am}}if(Vi.nd=bf,Vi.Qb=0,bf&&(Vi.qb=(Zl[3][eu[3]+0].value<<24|Zl[1][eu[1]+0].value<<16|Zl[2][eu[2]+0].value)>>>0,iv==0&&256>Zl[0][eu[0]+0].value&&(Vi.Qb=1,Vi.qb+=Zl[0][eu[0]+0].value<<8)),Vi.jc=!Vi.Qb&&6>sv,Vi.jc){var Nf,Hs=Vi;for(Nf=0;Nf<Jn;++Nf){var qo=Nf,$o=Hs.pd[qo],xf=Hs.G[0][Hs.H[0]+qo];256<=xf.value?($o.g=xf.g+256,$o.value=xf.value):($o.g=0,$o.value=0,qo>>=wn(xf,8,$o),qo>>=wn(Hs.G[1][Hs.H[1]+qo],16,$o),qo>>=wn(Hs.G[2][Hs.H[2]+qo],0,$o),wn(Hs.G[3][Hs.H[3]+qo],24,$o))}}}zn.vc=Xn,zn.Wb=xr,zn.Ya=wf,zn.yc=ym,Gt=1;break t}Gt=0}if(!(M=Gt)){w.a=3;break e}if(0<he){if($.ua=1<<he,!tt($.Wa,he)){w.a=1,M=0;break e}}else $.ua=0;var Sm=w,gv=j,Xb=B,Im=Sm.s,Tm=Im.xc;if(Sm.c=gv,Sm.i=Xb,Im.md=Ye(gv,Tm),Im.wc=Tm==0?-1:(1<<Tm)-1,v){w.xb=xb;break e}if((ee=s(j*B))==null){w.a=1,M=0;break e}M=(M=Sr(w,ee,0,j,B,B,null))&&!z.h;break e}return M?(L!=null?L[0]=ee:(e(ee==null),e(v)),w.$=0,v||Ir($)):Ir($),M}function ts(u,f){var v=u.c*u.i,w=v+f+16*f;return e(u.c<=f),u.V=s(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function ns(u,f){var v=u.C,w=f-v,L=u.V,M=u.Ba+u.c*v;for(e(f<=u.l.o);0<w;){var j=16<w?16:w,B=u.l.ma,z=u.l.width,$=z*j,ee=B.ca,he=B.tb+z*v,fe=u.Ta,ae=u.Ua;Ln(u,j,L,M),An(fe,ae,ee,he,$),ur(B,v,v+j,ee,he,z),w-=j,L+=j*u.c,v+=j}e(v==f),u.C=u.Ma=f}function rs(){this.ub=this.yd=this.td=this.Rb=0}function xs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ks(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cl(){this.Yb=function(){var u=[];return function f(v,w,L){for(var M=L[w],j=0;j<M&&(v.push(L.length>w+1?[]:0),!(L.length<w+1));j++)f(v[j],w+1,L)}(u,0,[3,11]),u}()}function vo(){this.jb=s(3),this.Wc=a([4,8],Cl),this.Xc=a([4,17],Cl)}function Rl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function is(){this.ld=this.La=this.dd=this.tc=0}function ss(){this.Na=this.la=0}function ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ls(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dc(){this.uc=this.M=this.Nb=0,this.wa=Array(new is),this.Y=0,this.ya=Array(new Ls),this.aa=0,this.l=new Cs}function Da(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ol(){this.cb=this.a=0,this.sc="",this.m=new Re,this.Od=new rs,this.Kc=new xs,this.ed=new Rl,this.Qa=new ks,this.Ic=this.$c=this.Aa=0,this.D=new dc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Re),this.ia=0,this.pb=o(4,ki),this.Pa=new vo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new ss),this.sb=0,this.wa=Array(new is),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ls),this.L=this.aa=0,this.gd=a([4,2],is),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fa(){var u=new Ol;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ic||(Ic=Dl)),u}function tn(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function Ma(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function ja(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return tn(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,w=f.w,L=f.ha;if(4>L)return tn(u,7,"Truncated header.");var M=v[w+0]|v[w+1]<<8|v[w+2]<<16,j=u.Od;if(j.Rb=!(1&M),j.td=M>>1&7,j.yd=M>>4&1,j.ub=M>>5,3<j.td)return tn(u,3,"Incorrect keyframe parameters.");if(!j.yd)return tn(u,4,"Frame not displayable.");w+=3,L-=3;var B=u.Kc;if(j.Rb){if(7>L)return tn(u,7,"cannot parse picture header");if(!Ma(v,w,L))return tn(u,3,"Bad code word");B.c=16383&(v[w+4]<<8|v[w+3]),B.Td=v[w+4]>>6,B.i=16383&(v[w+6]<<8|v[w+5]),B.Ud=v[w+6]>>6,w+=7,L-=7,u.za=B.c+15>>4,u.Ub=B.i+15>>4,f.width=B.c,f.height=B.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,i(M.Zb,0,0,M.Zb.length),i(M.Lb,0,0,M.Lb)}if(j.ub>L)return tn(u,7,"bad partition length");ve(M=u.m,v,w,j.ub),w+=j.ub,L-=j.ub,j.Rb&&(B.Ld=pe(M),B.Kd=pe(M)),B=u.Qa;var z,$=u.Pa;if(e(M!=null),e(B!=null),B.Cb=pe(M),B.Cb){if(B.Bb=pe(M),pe(M)){for(B.Fb=pe(M),z=0;4>z;++z)B.Zb[z]=pe(M)?ye(M,7):0;for(z=0;4>z;++z)B.Lb[z]=pe(M)?ye(M,6):0}if(B.Bb)for(z=0;3>z;++z)$.jb[z]=pe(M)?me(M,8):255}else B.Bb=0;if(M.Ka)return tn(u,3,"cannot parse segment header");if((B=u.ed).zd=pe(M),B.Tb=me(M,6),B.wb=me(M,3),B.Pc=pe(M),B.Pc&&pe(M)){for($=0;4>$;++$)pe(M)&&(B.vd[$]=ye(M,6));for($=0;4>$;++$)pe(M)&&(B.od[$]=ye(M,6))}if(u.L=B.Tb==0?0:B.zd?1:2,M.Ka)return tn(u,3,"cannot parse filter header");var ee=L;if(L=z=w,w=z+ee,B=ee,u.Xb=(1<<me(u.m,2))-1,ee<3*($=u.Xb))v=7;else{for(z+=3*$,B-=3*$,ee=0;ee<$;++ee){var he=v[L+0]|v[L+1]<<8|v[L+2]<<16;he>B&&(he=B),ve(u.Jc[+ee],v,z,he),z+=he,B-=he,L+=3}ve(u.Jc[+$],v,z,B),v=z<w?0:5}if(v!=0)return tn(u,v,"cannot parse partitions");for(v=me(z=u.m,7),L=pe(z)?ye(z,4):0,w=pe(z)?ye(z,4):0,B=pe(z)?ye(z,4):0,$=pe(z)?ye(z,4):0,z=pe(z)?ye(z,4):0,ee=u.Qa,he=0;4>he;++he){if(ee.Cb){var fe=ee.Zb[he];ee.Fb||(fe+=v)}else{if(0<he){u.pb[he]=u.pb[0];continue}fe=v}var ae=u.pb[he];ae.Sc[0]=mm[jt(fe+L,127)],ae.Sc[1]=gm[jt(fe+0,127)],ae.Eb[0]=2*mm[jt(fe+w,127)],ae.Eb[1]=101581*gm[jt(fe+B,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=mm[jt(fe+$,117)],ae.Qc[1]=gm[jt(fe+z,127)],ae.lc=fe+z}if(!j.Rb)return tn(u,4,"Not a key frame.");for(pe(M),j=u.Pa,v=0;4>v;++v){for(L=0;8>L;++L)for(w=0;3>w;++w)for(B=0;11>B;++B)$=ge(M,Pb[v][L][w][B])?me(M,8):Ib[v][L][w][B],j.Wc[v][L].Yb[w][B]=$;for(L=0;17>L;++L)j.Xc[v][L]=j.Wc[v][Nb[L]]}return u.kc=pe(M),u.kc&&(u.Bd=me(M,8)),u.cb=1}function Dl(u,f,v,w,L,M,j){var B=f[L].Yb[v];for(v=0;16>L;++L){if(!ge(u,B[v+0]))return L;for(;!ge(u,B[v+1]);)if(B=f[++L].Yb[0],v=0,L==16)return 16;var z=f[L+1].Yb;if(ge(u,B[v+2])){var $=u,ee=0;if(ge($,(fe=B)[(he=v)+3]))if(ge($,fe[he+6])){for(B=0,he=2*(ee=ge($,fe[he+8]))+(fe=ge($,fe[he+9+ee])),ee=0,fe=Ab[he];fe[B];++B)ee+=ee+ge($,fe[B]);ee+=3+(8<<he)}else ge($,fe[he+7])?(ee=7+2*ge($,165),ee+=ge($,145)):ee=5+ge($,159);else ee=ge($,fe[he+4])?3+ge($,fe[he+5]):2;B=z[2]}else ee=1,B=z[1];z=j+Sb[L],0>($=u).b&&ue($);var he,fe=$.b,ae=(he=$.Ca>>1)-($.I>>fe)>>31;--$.b,$.Ca+=ae,$.Ca|=1,$.I-=(he+1&ae)<<fe,M[z]=((ee^ae)-ae)*w[(0<L)+0]}return 16}function Va(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Fl(u,f){if(u==null)return 0;if(f==null)return tn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!ja(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var v=_f[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-v>>4,u.zb=f.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+v>>4,u.Hb=f.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(v=0;4>v;++v){var L;if(u.Qa.Cb){var M=u.Qa.Lb[v];u.Qa.Fb||(M+=w.Tb)}else M=w.Tb;for(L=0;1>=L;++L){var j=u.gd[v][L],B=M;if(w.Pc&&(B+=w.vd[0],L&&(B+=w.od[0])),0<(B=0>B?0:63<B?63:B)){var z=B;0<w.wb&&(z=4<w.wb?z>>2:z>>1)>9-w.wb&&(z=9-w.wb),1>z&&(z=1),j.dd=z,j.tc=2*B+z,j.ld=40<=B?2:15<=B?1:0}else j.tc=0;j.La=L}}}v=0}else tn(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=Ub);e:{v=u.Ic,w=4*(z=u.za);var $=32*z,ee=z+1,he=0<u.L?z*(0<u.Aa?2:1):0,fe=(u.Aa==2?2:1)*z;if((j=w+832+(L=3*(16*v+_f[u.L])/2*$)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=j)v=0;else{if(j>u.Vb){if(u.Vb=0,u.Ec=s(j),u.Fc=0,u.Ec==null){v=tn(u,1,"no memory during frame initialization.");break e}u.Vb=j}j=u.Ec,B=u.Fc,u.Ac=j,u.Bc=B,B+=w,u.Gd=o($,Da),u.Hd=0,u.rb=o(ee+1,ss),u.sb=1,u.wa=he?o(he,is):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=j,u.pc=B,B+=832,u.ya=o(fe,Ls),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=($=_f[u.L])*u.R,$=$/2*u.B,u.sa=j,u.ta=B+z,u.qa=u.sa,u.ra=u.ta+16*v*u.R+$,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+$,u.$c=0,B+=L,u.mb=M?j:null,u.nb=M?B:null,e(B+M<=u.Fc+u.Vb),Va(u),i(u.Ac,u.Bc,0,w),v=1}}if(v){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!cf){for(v=-255;255>=v;++v)Mn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)qs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Sc[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Jl[255+v]=0>v?0:255<v?255:v;cf=1}Kl=Ds,zs=_o,Ec=Ba,Nr=Vt,gi=Os,bn=Rs,Ql=To,uf=Di,bc=No,Ya=Ka,Ja=Po,Fo=Ms,Xa=xo,Yl=us,Za=Fs,Mo=ei,Ac=Fn,vi=Ul,ji[0]=pi,ji[1]=pc,ji[2]=as,ji[3]=gc,ji[4]=Vl,ji[5]=bo,ji[6]=Xr,ji[7]=za,ji[8]=So,ji[9]=Ao,jo[0]=os,jo[1]=mc,jo[2]=Ci,jo[3]=wo,jo[4]=nn,jo[5]=jl,jo[6]=Ua,$s[0]=Oi,$s[1]=Ml,$s[2]=Bl,$s[3]=Ri,$s[4]=Mt,$s[5]=qa,$s[6]=$a,v=1}else v=0}v&&(v=function(ae,Se){for(ae.M=0;ae.M<ae.Va;++ae.M){var _e,te=ae.Jc[ae.M&ae.Xb],re=ae.m,be=ae;for(_e=0;_e<be.za;++_e){var Ie=re,Ae=be,He=Ae.Ac,Ve=Ae.Bc+4*_e,rt=Ae.zc,qe=Ae.ya[Ae.aa+_e];if(Ae.Qa.Bb?qe.$b=ge(Ie,Ae.Pa.jb[0])?2+ge(Ie,Ae.Pa.jb[2]):ge(Ie,Ae.Pa.jb[1]):qe.$b=0,Ae.kc&&(qe.Ad=ge(Ie,Ae.Bd)),qe.Za=!ge(Ie,145)+0,qe.Za){var Ft=qe.Ob,Bt=0;for(Ae=0;4>Ae;++Ae){var Ct,St=rt[0+Ae];for(Ct=0;4>Ct;++Ct){St=Tb[He[Ve+Ct]][St];for(var Gt=G2[ge(Ie,St[0])];0<Gt;)Gt=G2[2*Gt+ge(Ie,St[Gt])];St=-Gt,He[Ve+Ct]=St}r(Ft,Bt,He,Ve,4),Bt+=4,rt[0+Ae]=St}}else St=ge(Ie,156)?ge(Ie,128)?1:3:ge(Ie,163)?2:0,qe.Ob[0]=St,i(He,Ve,St,4),i(rt,0,St,4);qe.Dd=ge(Ie,142)?ge(Ie,114)?ge(Ie,183)?1:3:2:0}if(be.m.Ka)return tn(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(be=te,Ie=(re=ae).rb[re.sb-1],He=re.rb[re.sb+re.ja],_e=re.ya[re.aa+re.ja],Ve=re.kc?_e.Ad:0)Ie.la=He.la=0,_e.Za||(Ie.Na=He.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Wt,wt;if(Ie=He,He=be,Ve=re.Pa.Xc,rt=re.ya[re.aa+re.ja],qe=re.pb[rt.$b],Ae=rt.ad,Ft=0,Bt=re.rb[re.sb-1],St=Ct=0,i(Ae,Ft,0,384),rt.Za)var Cn=0,Br=Ve[3];else{Gt=s(16);var Rn=Ie.Na+Bt.Na;if(Rn=Ic(He,Ve[1],Rn,qe.Eb,0,Gt,0),Ie.Na=Bt.Na=(0<Rn)+0,1<Rn)Kl(Gt,0,Ae,Ft);else{var Ur=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Ae[Ft+Gt]=Ur}Cn=1,Br=Ve[0]}var Ut=15&Ie.la,ni=15&Bt.la;for(Gt=0;4>Gt;++Gt){var ri=1&ni;for(Ur=wt=0;4>Ur;++Ur)Ut=Ut>>1|(ri=(Rn=Ic(He,Br,Rn=ri+(1&Ut),qe.Sc,Cn,Ae,Ft))>Cn)<<7,wt=wt<<2|(3<Rn?3:1<Rn?2:Ae[Ft+0]!=0),Ft+=16;Ut>>=4,ni=ni>>1|ri<<7,Ct=(Ct<<8|wt)>>>0}for(Br=Ut,Cn=ni>>4,Wt=0;4>Wt;Wt+=2){for(wt=0,Ut=Ie.la>>4+Wt,ni=Bt.la>>4+Wt,Gt=0;2>Gt;++Gt){for(ri=1&ni,Ur=0;2>Ur;++Ur)Rn=ri+(1&Ut),Ut=Ut>>1|(ri=0<(Rn=Ic(He,Ve[2],Rn,qe.Qc,0,Ae,Ft)))<<3,wt=wt<<2|(3<Rn?3:1<Rn?2:Ae[Ft+0]!=0),Ft+=16;Ut>>=2,ni=ni>>1|ri<<5}St|=wt<<4*Wt,Br|=Ut<<4<<Wt,Cn|=(240&ni)<<Wt}Ie.la=Br,Bt.la=Cn,rt.Hc=Ct,rt.Gc=St,rt.ia=43690&St?0:qe.ia,Ve=!(Ct|St)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[_e.$b][_e.Za],re.wa[re.Y+re.ja].La|=!Ve),be.Ka)return tn(ae,7,"Premature end-of-file encountered.")}if(Va(ae),re=Se,be=1,_e=(te=ae).D,Ie=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(_e.M=te.M,_e.uc=Ie,hs(te,_e),be=1,_e=(wt=te.D).Nb,Ie=(St=_f[te.L])*te.R,He=St/2*te.B,Gt=16*_e*te.R,Ur=8*_e*te.B,Ve=te.sa,rt=te.ta-Ie+Gt,qe=te.qa,Ae=te.ra-He+Ur,Ft=te.Ha,Bt=te.Ia-He+Ur,ni=(Ut=wt.M)==0,Ct=Ut>=te.Va-1,te.Aa==2&&hs(te,wt),wt.uc)for(ri=(Rn=te).D.M,e(Rn.D.uc),wt=Rn.yb;wt<Rn.Hb;++wt){Cn=wt,Br=ri;var zn=(Xn=(vn=Rn).D).Nb;Wt=vn.R;var Xn=Xn.wa[Xn.Y+Cn],xr=vn.sa,Ei=vn.ta+16*zn*Wt+16*Cn,ds=Xn.dd,qn=Xn.tc;if(qn!=0)if(e(3<=qn),vn.L==1)0<Cn&&Mo(xr,Ei,Wt,qn+4),Xn.La&&vi(xr,Ei,Wt,qn),0<Br&&Za(xr,Ei,Wt,qn+4),Xn.La&&Ac(xr,Ei,Wt,qn);else{var Ws=vn.B,el=vn.qa,Xl=vn.ra+8*zn*Ws+8*Cn,Bo=vn.Ha,vn=vn.Ia+8*zn*Ws+8*Cn;zn=Xn.ld,0<Cn&&(uf(xr,Ei,Wt,qn+4,ds,zn),Ya(el,Xl,Bo,vn,Ws,qn+4,ds,zn)),Xn.La&&(Fo(xr,Ei,Wt,qn,ds,zn),Yl(el,Xl,Bo,vn,Ws,qn,ds,zn)),0<Br&&(Ql(xr,Ei,Wt,qn+4,ds,zn),bc(el,Xl,Bo,vn,Ws,qn+4,ds,zn)),Xn.La&&(Ja(xr,Ei,Wt,qn,ds,zn),Xa(el,Xl,Bo,vn,Ws,qn,ds,zn))}}if(te.ia&&alert("todo:DitherRow"),re.put!=null){if(wt=16*Ut,Ut=16*(Ut+1),ni?(re.y=te.sa,re.O=te.ta+Gt,re.f=te.qa,re.N=te.ra+Ur,re.ea=te.Ha,re.W=te.Ia+Ur):(wt-=St,re.y=Ve,re.O=rt,re.f=qe,re.N=Ae,re.ea=Ft,re.W=Bt),Ct||(Ut-=St),Ut>re.o&&(Ut=re.o),re.F=null,re.J=null,te.Fa!=null&&0<te.Fa.length&&wt<Ut&&(re.J=Ro(te,re,wt,Ut-wt),re.F=te.mb,re.F==null&&re.F.length==0)){be=tn(te,3,"Could not decode alpha data.");break e}wt<re.j&&(St=re.j-wt,wt=re.j,e(!(1&St)),re.O+=te.R*St,re.N+=te.B*(St>>1),re.W+=te.B*(St>>1),re.F!=null&&(re.J+=re.width*St)),wt<Ut&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,re.F!=null&&(re.J+=re.v),re.ka=wt-re.j,re.U=re.va-re.v,re.T=Ut-wt,be=re.put(re))}_e+1!=te.Ic||Ct||(r(te.sa,te.ta-Ie,Ve,rt+16*te.R,Ie),r(te.qa,te.ra-He,qe,Ae+8*te.B,He),r(te.Ha,te.Ia-He,Ft,Bt+8*te.B,He))}if(!be)return tn(ae,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),v&=1}return v?(u.cb=0,v):0}function Mr(u,f,v,w,L){L=u[f+v+32*w]+(L>>3),u[f+v+32*w]=-256&L?0>L?0:255:L}function yo(u,f,v,w,L,M){Mr(u,f,0,v,w+L),Mr(u,f,1,v,w+M),Mr(u,f,2,v,w-M),Mr(u,f,3,v,w-L)}function gn(u){return(20091*u>>16)+u}function Tr(u,f,v,w){var L,M=0,j=s(16);for(L=0;4>L;++L){var B=u[f+0]+u[f+8],z=u[f+0]-u[f+8],$=(35468*u[f+4]>>16)-gn(u[f+12]),ee=gn(u[f+4])+(35468*u[f+12]>>16);j[M+0]=B+ee,j[M+1]=z+$,j[M+2]=z-$,j[M+3]=B-ee,M+=4,f++}for(L=M=0;4>L;++L)B=(u=j[M+0]+4)+j[M+8],z=u-j[M+8],$=(35468*j[M+4]>>16)-gn(j[M+12]),Mr(v,w,0,0,B+(ee=gn(j[M+4])+(35468*j[M+12]>>16))),Mr(v,w,1,0,z+$),Mr(v,w,2,0,z-$),Mr(v,w,3,0,B-ee),M++,w+=32}function Rs(u,f,v,w){var L=u[f+0]+4,M=35468*u[f+4]>>16,j=gn(u[f+4]),B=35468*u[f+1]>>16;yo(v,w,0,L+j,u=gn(u[f+1]),B),yo(v,w,1,L+M,u,B),yo(v,w,2,L-M,u,B),yo(v,w,3,L-j,u,B)}function _o(u,f,v,w,L){Tr(u,f,v,w),L&&Tr(u,f+16,v,w+4)}function Ba(u,f,v,w){zs(u,f+0,v,w,1),zs(u,f+32,v,w+128,1)}function Vt(u,f,v,w){var L;for(u=u[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)Mr(v,w,f,L,u)}function Os(u,f,v,w){u[f+0]&&Nr(u,f+0,v,w),u[f+16]&&Nr(u,f+16,v,w+4),u[f+32]&&Nr(u,f+32,v,w+128),u[f+48]&&Nr(u,f+48,v,w+128+4)}function Ds(u,f,v,w){var L,M=s(16);for(L=0;4>L;++L){var j=u[f+0+L]+u[f+12+L],B=u[f+4+L]+u[f+8+L],z=u[f+4+L]-u[f+8+L],$=u[f+0+L]-u[f+12+L];M[0+L]=j+B,M[8+L]=j-B,M[4+L]=$+z,M[12+L]=$-z}for(L=0;4>L;++L)j=(u=M[0+4*L]+3)+M[3+4*L],B=M[1+4*L]+M[2+4*L],z=M[1+4*L]-M[2+4*L],$=u-M[3+4*L],v[w+0]=j+B>>3,v[w+16]=$+z>>3,v[w+32]=j-B>>3,v[w+48]=$-z>>3,w+=64}function Li(u,f,v){var w,L=f-32,M=ti,j=255-u[L-1];for(w=0;w<v;++w){var B,z=M,$=j+u[f-1];for(B=0;B<v;++B)u[f+B]=z[$+u[L+B]];f+=32}}function pc(u,f){Li(u,f,4)}function Ml(u,f){Li(u,f,8)}function mc(u,f){Li(u,f,16)}function Ci(u,f){var v;for(v=0;16>v;++v)r(u,f+32*v,u,f-32,16)}function wo(u,f){var v;for(v=16;0<v;--v)i(u,f,u[f-1],16),f+=32}function Eo(u,f,v){var w;for(w=0;16>w;++w)i(f,v+32*w,u,16)}function os(u,f){var v,w=16;for(v=0;16>v;++v)w+=u[f-1+32*v]+u[f+v-32];Eo(w>>5,u,f)}function nn(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f-1+32*v];Eo(w>>4,u,f)}function jl(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f+v-32];Eo(w>>4,u,f)}function Ua(u,f){Eo(128,u,f)}function ct(u,f,v){return u+2*f+v+2>>2}function as(u,f){var v,w=f-32;for(w=new Uint8Array([ct(u[w-1],u[w+0],u[w+1]),ct(u[w+0],u[w+1],u[w+2]),ct(u[w+1],u[w+2],u[w+3]),ct(u[w+2],u[w+3],u[w+4])]),v=0;4>v;++v)r(u,f+32*v,w,0,w.length)}function gc(u,f){var v=u[f-1],w=u[f-1+32],L=u[f-1+64],M=u[f-1+96];Fe(u,f+0,16843009*ct(u[f-1-32],v,w)),Fe(u,f+32,16843009*ct(v,w,L)),Fe(u,f+64,16843009*ct(w,L,M)),Fe(u,f+96,16843009*ct(L,M,M))}function pi(u,f){var v,w=4;for(v=0;4>v;++v)w+=u[f+v-32]+u[f-1+32*v];for(w>>=3,v=0;4>v;++v)i(u,f+32*v,w,4)}function Vl(u,f){var v=u[f-1+0],w=u[f-1+32],L=u[f-1+64],M=u[f-1-32],j=u[f+0-32],B=u[f+1-32],z=u[f+2-32],$=u[f+3-32];u[f+0+96]=ct(w,L,u[f-1+96]),u[f+1+96]=u[f+0+64]=ct(v,w,L),u[f+2+96]=u[f+1+64]=u[f+0+32]=ct(M,v,w),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ct(j,M,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=ct(B,j,M),u[f+3+32]=u[f+2+0]=ct(z,B,j),u[f+3+0]=ct($,z,B)}function Xr(u,f){var v=u[f+1-32],w=u[f+2-32],L=u[f+3-32],M=u[f+4-32],j=u[f+5-32],B=u[f+6-32],z=u[f+7-32];u[f+0+0]=ct(u[f+0-32],v,w),u[f+1+0]=u[f+0+32]=ct(v,w,L),u[f+2+0]=u[f+1+32]=u[f+0+64]=ct(w,L,M),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ct(L,M,j),u[f+3+32]=u[f+2+64]=u[f+1+96]=ct(M,j,B),u[f+3+64]=u[f+2+96]=ct(j,B,z),u[f+3+96]=ct(B,z,z)}function bo(u,f){var v=u[f-1+0],w=u[f-1+32],L=u[f-1+64],M=u[f-1-32],j=u[f+0-32],B=u[f+1-32],z=u[f+2-32],$=u[f+3-32];u[f+0+0]=u[f+1+64]=M+j+1>>1,u[f+1+0]=u[f+2+64]=j+B+1>>1,u[f+2+0]=u[f+3+64]=B+z+1>>1,u[f+3+0]=z+$+1>>1,u[f+0+96]=ct(L,w,v),u[f+0+64]=ct(w,v,M),u[f+0+32]=u[f+1+96]=ct(v,M,j),u[f+1+32]=u[f+2+96]=ct(M,j,B),u[f+2+32]=u[f+3+96]=ct(j,B,z),u[f+3+32]=ct(B,z,$)}function za(u,f){var v=u[f+0-32],w=u[f+1-32],L=u[f+2-32],M=u[f+3-32],j=u[f+4-32],B=u[f+5-32],z=u[f+6-32],$=u[f+7-32];u[f+0+0]=v+w+1>>1,u[f+1+0]=u[f+0+64]=w+L+1>>1,u[f+2+0]=u[f+1+64]=L+M+1>>1,u[f+3+0]=u[f+2+64]=M+j+1>>1,u[f+0+32]=ct(v,w,L),u[f+1+32]=u[f+0+96]=ct(w,L,M),u[f+2+32]=u[f+1+96]=ct(L,M,j),u[f+3+32]=u[f+2+96]=ct(M,j,B),u[f+3+64]=ct(j,B,z),u[f+3+96]=ct(B,z,$)}function Ao(u,f){var v=u[f-1+0],w=u[f-1+32],L=u[f-1+64],M=u[f-1+96];u[f+0+0]=v+w+1>>1,u[f+2+0]=u[f+0+32]=w+L+1>>1,u[f+2+32]=u[f+0+64]=L+M+1>>1,u[f+1+0]=ct(v,w,L),u[f+3+0]=u[f+1+32]=ct(w,L,M),u[f+3+32]=u[f+1+64]=ct(L,M,M),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=M}function So(u,f){var v=u[f-1+0],w=u[f-1+32],L=u[f-1+64],M=u[f-1+96],j=u[f-1-32],B=u[f+0-32],z=u[f+1-32],$=u[f+2-32];u[f+0+0]=u[f+2+32]=v+j+1>>1,u[f+0+32]=u[f+2+64]=w+v+1>>1,u[f+0+64]=u[f+2+96]=L+w+1>>1,u[f+0+96]=M+L+1>>1,u[f+3+0]=ct(B,z,$),u[f+2+0]=ct(j,B,z),u[f+1+0]=u[f+3+32]=ct(v,j,B),u[f+1+32]=u[f+3+64]=ct(w,v,j),u[f+1+64]=u[f+3+96]=ct(L,w,v),u[f+1+96]=ct(M,L,w)}function Bl(u,f){var v;for(v=0;8>v;++v)r(u,f+32*v,u,f-32,8)}function Ri(u,f){var v;for(v=0;8>v;++v)i(u,f,u[f-1],8),f+=32}function Zr(u,f,v){var w;for(w=0;8>w;++w)i(f,v+32*w,u,8)}function Oi(u,f){var v,w=8;for(v=0;8>v;++v)w+=u[f+v-32]+u[f-1+32*v];Zr(w>>4,u,f)}function qa(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f+v-32];Zr(w>>3,u,f)}function Mt(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f-1+32*v];Zr(w>>3,u,f)}function $a(u,f){Zr(128,u,f)}function Io(u,f,v){var w=u[f-v],L=u[f+0],M=3*(L-w)+cm[1020+u[f-2*v]-u[f+v]],j=hf[112+(M+4>>3)];u[f-v]=ti[255+w+hf[112+(M+3>>3)]],u[f+0]=ti[255+L-j]}function Wa(u,f,v,w){var L=u[f+0],M=u[f+v];return _i[255+u[f-2*v]-u[f-v]]>w||_i[255+M-L]>w}function Ha(u,f,v,w){return 4*_i[255+u[f-v]-u[f+0]]+_i[255+u[f-2*v]-u[f+v]]<=w}function Ga(u,f,v,w,L){var M=u[f-3*v],j=u[f-2*v],B=u[f-v],z=u[f+0],$=u[f+v],ee=u[f+2*v],he=u[f+3*v];return 4*_i[255+B-z]+_i[255+j-$]>w?0:_i[255+u[f-4*v]-M]<=L&&_i[255+M-j]<=L&&_i[255+j-B]<=L&&_i[255+he-ee]<=L&&_i[255+ee-$]<=L&&_i[255+$-z]<=L}function Fs(u,f,v,w){var L=2*w+1;for(w=0;16>w;++w)Ha(u,f+w,v,L)&&Io(u,f+w,v)}function ei(u,f,v,w){var L=2*w+1;for(w=0;16>w;++w)Ha(u,f+w*v,1,L)&&Io(u,f+w*v,1)}function Fn(u,f,v,w){var L;for(L=3;0<L;--L)Fs(u,f+=4*v,v,w)}function Ul(u,f,v,w){var L;for(L=3;0<L;--L)ei(u,f+=4,v,w)}function ls(u,f,v,w,L,M,j,B){for(M=2*M+1;0<L--;){if(Ga(u,f,v,M,j))if(Wa(u,f,v,B))Io(u,f,v);else{var z=u,$=f,ee=v,he=z[$-2*ee],fe=z[$-ee],ae=z[$+0],Se=z[$+ee],_e=z[$+2*ee],te=27*(be=cm[1020+3*(ae-fe)+cm[1020+he-Se]])+63>>7,re=18*be+63>>7,be=9*be+63>>7;z[$-3*ee]=ti[255+z[$-3*ee]+be],z[$-2*ee]=ti[255+he+re],z[$-ee]=ti[255+fe+te],z[$+0]=ti[255+ae-te],z[$+ee]=ti[255+Se-re],z[$+2*ee]=ti[255+_e-be]}f+=w}}function Qn(u,f,v,w,L,M,j,B){for(M=2*M+1;0<L--;){if(Ga(u,f,v,M,j))if(Wa(u,f,v,B))Io(u,f,v);else{var z=u,$=f,ee=v,he=z[$-ee],fe=z[$+0],ae=z[$+ee],Se=hf[112+((_e=3*(fe-he))+4>>3)],_e=hf[112+(_e+3>>3)],te=Se+1>>1;z[$-2*ee]=ti[255+z[$-2*ee]+te],z[$-ee]=ti[255+he+_e],z[$+0]=ti[255+fe-Se],z[$+ee]=ti[255+ae-te]}f+=w}}function To(u,f,v,w,L,M){ls(u,f,v,1,16,w,L,M)}function Di(u,f,v,w,L,M){ls(u,f,1,v,16,w,L,M)}function Po(u,f,v,w,L,M){var j;for(j=3;0<j;--j)Qn(u,f+=4*v,v,1,16,w,L,M)}function Ms(u,f,v,w,L,M){var j;for(j=3;0<j;--j)Qn(u,f+=4,1,v,16,w,L,M)}function No(u,f,v,w,L,M,j,B){ls(u,f,L,1,8,M,j,B),ls(v,w,L,1,8,M,j,B)}function Ka(u,f,v,w,L,M,j,B){ls(u,f,1,L,8,M,j,B),ls(v,w,1,L,8,M,j,B)}function xo(u,f,v,w,L,M,j,B){Qn(u,f+4*L,L,1,8,M,j,B),Qn(v,w+4*L,L,1,8,M,j,B)}function us(u,f,v,w,L,M,j,B){Qn(u,f+4,1,L,8,M,j,B),Qn(v,w+4,1,L,8,M,j,B)}function js(){this.ba=new Kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ko(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lo(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new N}function zl(){this.xb=this.a=0,this.l=new Cs,this.ca=new Kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lo,this.ab=0,this.gc=o(4,Vs),this.Oc=0}function Fi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cs(u,f,v,w,L,M,j){for(u=u==null?0:u[f+0],f=0;f<j;++f)L[M+f]=u+v[w+f]&255,u=L[M+f]}function Co(u,f,v,w,L,M,j){var B;if(u==null)cs(null,null,v,w,L,M,j);else for(B=0;B<j;++B)L[M+B]=u[f+B]+v[w+B]&255}function cr(u,f,v,w,L,M,j){if(u==null)cs(null,null,v,w,L,M,j);else{var B,z=u[f+0],$=z,ee=z;for(B=0;B<j;++B)$=ee+(z=u[f+B])-$,ee=v[w+B]+(-256&$?0>$?0:255:$)&255,$=z,L[M+B]=ee}}function Ro(u,f,v,w){var L=f.width,M=f.o;if(e(u!=null&&f!=null),0>v||0>=w||v+w>M)return null;if(!u.Cc){if(u.ga==null){var j;if(u.ga=new Fi,(j=u.ga==null)||(j=f.width*f.o,e(u.Gb.length==0),u.Gb=s(j),u.Uc=0,u.Gb==null?j=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,j=1),j=!j),!j){j=u.ga;var B=u.Fa,z=u.P,$=u.qc,ee=u.mb,he=u.nb,fe=z+1,ae=$-1,Se=j.l;if(e(B!=null&&ee!=null&&f!=null),Vo[0]=null,Vo[1]=cs,Vo[2]=Co,Vo[3]=cr,j.ca=ee,j.tb=he,j.c=f.width,j.i=f.height,e(0<j.c&&0<j.i),1>=$)f=0;else if(j.$a=B[z+0]>>0&3,j.Z=B[z+0]>>2&3,j.Lc=B[z+0]>>4&3,z=B[z+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||z)f=0;else if(Se.put=ar,Se.ac=xn,Se.bc=Yr,Se.ma=j,Se.width=f.width,Se.height=f.height,Se.Da=f.Da,Se.v=f.v,Se.va=f.va,Se.j=f.j,Se.o=f.o,j.$a)e:{e(j.$a==1),f=En();t:for(;;){if(f==null){f=0;break e}if(e(j!=null),j.mc=f,f.c=j.c,f.i=j.i,f.l=j.l,f.l.ma=j,f.l.width=j.c,f.l.height=j.i,f.a=0,Y(f.m,B,fe,ae),!Jr(j.c,j.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&xi(f.s)?(j.ic=1,B=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(B),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(j.ic=0,f=ts(f,j.c)),!f))break t;f=1;break e}j.mc=null,f=0}else f=ae>=j.c*j.i;j=!f}if(j)return null;u.ga.Lc!=1?u.Ga=0:w=M-v}e(u.ga!=null),e(v+w<=M);e:{if(f=(B=u.ga).c,M=B.l.o,B.$a==0){if(fe=u.rc,ae=u.Vc,Se=u.Fa,z=u.P+1+v*f,$=u.mb,ee=u.nb+v*f,e(z<=u.P+u.qc),B.Z!=0)for(e(Vo[B.Z]!=null),j=0;j<w;++j)Vo[B.Z](fe,ae,Se,z,$,ee,f),fe=$,ae=ee,ee+=f,z+=f;else for(j=0;j<w;++j)r($,ee,Se,z,f),fe=$,ae=ee,ee+=f,z+=f;u.rc=fe,u.Vc=ae}else{if(e(B.mc!=null),f=v+w,e((j=B.mc)!=null),e(f<=j.i),j.C>=f)f=1;else if(B.ic||se(),B.ic){B=j.V,fe=j.Ba,ae=j.c;var _e=j.i,te=(Se=1,z=j.$/ae,$=j.$%ae,ee=j.m,he=j.s,j.$),re=ae*_e,be=ae*f,Ie=he.wc,Ae=te<be?mn(he,$,z):null;e(te<=re),e(f<=_e),e(xi(he));t:for(;;){for(;!ee.h&&te<be;){if($&Ie||(Ae=mn(he,$,z)),e(Ae!=null),ne(ee),256>(_e=kn(Ae.G[0],Ae.H[0],ee)))B[fe+te]=_e,++te,++$>=ae&&($=0,++z<=f&&!(z%16)&&Fr(j,z));else{if(!(280>_e)){Se=0;break t}_e=Dr(_e-256,ee);var He,Ve=kn(Ae.G[4],Ae.H[4],ee);if(ne(ee),!(te>=(Ve=lr(ae,Ve=Dr(Ve,ee)))&&re-te>=_e)){Se=0;break t}for(He=0;He<_e;++He)B[fe+te+He]=B[fe+te+He-Ve];for(te+=_e,$+=_e;$>=ae;)$-=ae,++z<=f&&!(z%16)&&Fr(j,z);te<be&&$&Ie&&(Ae=mn(he,$,z))}e(ee.h==G(ee))}Fr(j,z>f?f:z);break t}!Se||ee.h&&te<re?(Se=0,j.a=ee.h?5:3):j.$=te,f=Se}else f=Sr(j,j.V,j.Ba,j.c,j.i,f,ns);if(!f){w=0;break e}}v+w>=M&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*L}function p(u,f,v,w,L,M){for(;0<L--;){var j,B=u,z=f+(v?1:0),$=u,ee=f+(v?0:3);for(j=0;j<w;++j){var he=$[ee+4*j];he!=255&&(he*=32897,B[z+4*j+0]=B[z+4*j+0]*he>>23,B[z+4*j+1]=B[z+4*j+1]*he>>23,B[z+4*j+2]=B[z+4*j+2]*he>>23)}f+=M}}function k(u,f,v,w,L){for(;0<w--;){var M;for(M=0;M<v;++M){var j=u[f+2*M+0],B=15&($=u[f+2*M+1]),z=4369*B,$=(240&$|$>>4)*z>>16;u[f+2*M+0]=(240&j|j>>4)*z>>16&240|(15&j|j<<4)*z>>16>>4&15,u[f+2*M+1]=240&$|B}f+=L}}function H(u,f,v,w,L,M,j,B){var z,$,ee=255;for($=0;$<L;++$){for(z=0;z<w;++z){var he=u[f+z];M[j+4*z]=he,ee&=he}f+=v,j+=B}return ee!=255}function Z(u,f,v,w,L){var M;for(M=0;M<L;++M)v[w+M]=u[f+M]>>8}function se(){yi=p,Jt=k,Xt=H,An=Z}function we(u,f,v){S[u]=function(w,L,M,j,B,z,$,ee,he,fe,ae,Se,_e,te,re,be,Ie){var Ae,He=Ie-1>>1,Ve=B[z+0]|$[ee+0]<<16,rt=he[fe+0]|ae[Se+0]<<16;e(w!=null);var qe=3*Ve+rt+131074>>2;for(f(w[L+0],255&qe,qe>>16,_e,te),M!=null&&(qe=3*rt+Ve+131074>>2,f(M[j+0],255&qe,qe>>16,re,be)),Ae=1;Ae<=He;++Ae){var Ft=B[z+Ae]|$[ee+Ae]<<16,Bt=he[fe+Ae]|ae[Se+Ae]<<16,Ct=Ve+Ft+rt+Bt+524296,St=Ct+2*(Ft+rt)>>3;qe=St+Ve>>1,Ve=(Ct=Ct+2*(Ve+Bt)>>3)+Ft>>1,f(w[L+2*Ae-1],255&qe,qe>>16,_e,te+(2*Ae-1)*v),f(w[L+2*Ae-0],255&Ve,Ve>>16,_e,te+(2*Ae-0)*v),M!=null&&(qe=Ct+rt>>1,Ve=St+Bt>>1,f(M[j+2*Ae-1],255&qe,qe>>16,re,be+(2*Ae-1)*v),f(M[j+2*Ae+0],255&Ve,Ve>>16,re,be+(2*Ae+0)*v)),Ve=Ft,rt=Bt}1&Ie||(qe=3*Ve+rt+131074>>2,f(w[L+Ie-1],255&qe,qe>>16,_e,te+(Ie-1)*v),M!=null&&(qe=3*rt+Ve+131074>>2,f(M[j+Ie-1],255&qe,qe>>16,re,be+(Ie-1)*v)))}}function Pe(){wi[ff]=kb,wi[df]=Q2,wi[$2]=Lb,wi[pf]=Y2,wi[mf]=J2,wi[hm]=X2,wi[W2]=Cb,wi[fm]=Q2,wi[dm]=Y2,wi[gf]=J2,wi[pm]=X2}function Ue(u){return u&-16384?0>u?0:255:u>>Rb}function c(u,f){return Ue((19077*u>>8)+(26149*f>>8)-14234)}function y(u,f,v){return Ue((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function A(u,f){return Ue((19077*u>>8)+(33050*f>>8)-17685)}function V(u,f,v,w,L){w[L+0]=c(u,v),w[L+1]=y(u,f,v),w[L+2]=A(u,f)}function ie(u,f,v,w,L){w[L+0]=A(u,f),w[L+1]=y(u,f,v),w[L+2]=c(u,v)}function de(u,f,v,w,L){var M=y(u,f,v);f=M<<3&224|A(u,f)>>3,w[L+0]=248&c(u,v)|M>>5,w[L+1]=f}function Ne(u,f,v,w,L){var M=240&A(u,f)|15;w[L+0]=240&c(u,v)|y(u,f,v)>>4,w[L+1]=M}function mt(u,f,v,w,L){w[L+0]=255,V(u,f,v,w,L+1)}function At(u,f,v,w,L){ie(u,f,v,w,L),w[L+3]=255}function gt(u,f,v,w,L){V(u,f,v,w,L),w[L+3]=255}function jt(u,f){return 0>u?0:u>f?f:u}function Ht(u,f,v){S[u]=function(w,L,M,j,B,z,$,ee,he){for(var fe=ee+(-2&he)*v;ee!=fe;)f(w[L+0],M[j+0],B[z+0],$,ee),f(w[L+1],M[j+0],B[z+0],$,ee+v),L+=2,++j,++z,ee+=2*v;1&he&&f(w[L+0],M[j+0],B[z+0],$,ee)}}function Mi(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function Yn(u,f,v,w,L){switch(u>>>30){case 3:zs(f,v,w,L,0);break;case 2:bn(f,v,w,L);break;case 1:Nr(f,v,w,L)}}function hs(u,f){var v,w,L=f.M,M=f.Nb,j=u.oc,B=u.pc+40,z=u.oc,$=u.pc+584,ee=u.oc,he=u.pc+600;for(v=0;16>v;++v)j[B+32*v-1]=129;for(v=0;8>v;++v)z[$+32*v-1]=129,ee[he+32*v-1]=129;for(0<L?j[B-1-32]=z[$-1-32]=ee[he-1-32]=129:(i(j,B-32-1,127,21),i(z,$-32-1,127,9),i(ee,he-32-1,127,9)),w=0;w<u.za;++w){var fe=f.ya[f.aa+w];if(0<w){for(v=-1;16>v;++v)r(j,B+32*v-4,j,B+32*v+12,4);for(v=-1;8>v;++v)r(z,$+32*v-4,z,$+32*v+4,4),r(ee,he+32*v-4,ee,he+32*v+4,4)}var ae=u.Gd,Se=u.Hd+w,_e=fe.ad,te=fe.Hc;if(0<L&&(r(j,B-32,ae[Se].y,0,16),r(z,$-32,ae[Se].f,0,8),r(ee,he-32,ae[Se].ea,0,8)),fe.Za){var re=j,be=B-32+16;for(0<L&&(w>=u.za-1?i(re,be,ae[Se].y[15],4):r(re,be,ae[Se+1].y,0,4)),v=0;4>v;v++)re[be+128+v]=re[be+256+v]=re[be+384+v]=re[be+0+v];for(v=0;16>v;++v,te<<=2)re=j,be=B+ev[v],ji[fe.Ob[v]](re,be),Yn(te,_e,16*+v,re,be)}else if(re=Mi(w,L,fe.Ob[0]),jo[re](j,B),te!=0)for(v=0;16>v;++v,te<<=2)Yn(te,_e,16*+v,j,B+ev[v]);for(v=fe.Gc,re=Mi(w,L,fe.Dd),$s[re](z,$),$s[re](ee,he),te=_e,re=z,be=$,255&(fe=v>>0)&&(170&fe?Ec(te,256,re,be):gi(te,256,re,be)),fe=ee,te=he,255&(v>>=8)&&(170&v?Ec(_e,320,fe,te):gi(_e,320,fe,te)),L<u.Ub-1&&(r(ae[Se].y,0,j,B+480,16),r(ae[Se].f,0,z,$+224,8),r(ae[Se].ea,0,ee,he+224,8)),v=8*M*u.B,ae=u.sa,Se=u.ta+16*w+16*M*u.R,_e=u.qa,fe=u.ra+8*w+v,te=u.Ha,re=u.Ia+8*w+v,v=0;16>v;++v)r(ae,Se+v*u.R,j,B+32*v,16);for(v=0;8>v;++v)r(_e,fe+v*u.B,z,$+32*v,8),r(te,re+v*u.B,ee,he+32*v,8)}}function fs(u,f,v,w,L,M,j,B,z){var $=[0],ee=[0],he=0,fe=z!=null?z.kd:0,ae=z??new ko;if(u==null||12>v)return 7;ae.data=u,ae.w=f,ae.ha=v,f=[f],v=[v],ae.gb=[ae.gb];e:{var Se=f,_e=v,te=ae.gb;if(e(u!=null),e(_e!=null),e(te!=null),te[0]=0,12<=_e[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){te=3;break e}var re=je(u,Se[0]+4);if(12>re||4294967286<re){te=3;break e}if(fe&&re>_e[0]-8){te=7;break e}te[0]=re,Se[0]+=12,_e[0]-=12}te=0}if(te!=0)return te;for(re=0<ae.gb[0],v=v[0];;){e:{var be=u;_e=f,te=v;var Ie=$,Ae=ee,He=Se=[0];if((qe=he=[he])[0]=0,8>te[0])te=7;else{if(!n(be,_e[0],"VP8X")){if(je(be,_e[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Ve=je(be,_e[0]+8),rt=1+Be(be,_e[0]+12);if(2147483648<=rt*(be=1+Be(be,_e[0]+15))){te=3;break e}He!=null&&(He[0]=Ve),Ie!=null&&(Ie[0]=rt),Ae!=null&&(Ae[0]=be),_e[0]+=18,te[0]-=18,qe[0]=1}te=0}}if(he=he[0],Se=Se[0],te!=0)return te;if(_e=!!(2&Se),!re&&he)return 3;if(M!=null&&(M[0]=!!(16&Se)),j!=null&&(j[0]=_e),B!=null&&(B[0]=0),j=$[0],Se=ee[0],he&&_e&&z==null){te=0;break}if(4>v){te=7;break}if(re&&he||!re&&!he&&!n(u,f[0],"ALPH")){v=[v],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Ve=u,te=f,re=v;var qe=ae.gb;Ie=ae.na,Ae=ae.P,He=ae.Sa,rt=22,e(Ve!=null),e(re!=null),be=te[0];var Ft=re[0];for(e(Ie!=null),e(He!=null),Ie[0]=null,Ae[0]=null,He[0]=0;;){if(te[0]=be,re[0]=Ft,8>Ft){te=7;break e}var Bt=je(Ve,be+4);if(4294967286<Bt){te=3;break e}var Ct=8+Bt+1&-2;if(rt+=Ct,0<qe&&rt>qe){te=3;break e}if(!n(Ve,be,"VP8 ")||!n(Ve,be,"VP8L")){te=0;break e}if(Ft[0]<Ct){te=7;break e}n(Ve,be,"ALPH")||(Ie[0]=Ve,Ae[0]=be+8,He[0]=Bt),be+=Ct,Ft-=Ct}}if(v=v[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],te!=0)break}v=[v],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(qe=u,te=f,re=v,Ie=ae.gb[0],Ae=ae.Ja,He=ae.xa,Ve=te[0],be=!n(qe,Ve,"VP8 "),rt=!n(qe,Ve,"VP8L"),e(qe!=null),e(re!=null),e(Ae!=null),e(He!=null),8>re[0])te=7;else{if(be||rt){if(qe=je(qe,Ve+4),12<=Ie&&qe>Ie-12){te=3;break e}if(fe&&qe>re[0]-8){te=7;break e}Ae[0]=qe,te[0]+=8,re[0]-=8,He[0]=rt}else He[0]=5<=re[0]&&qe[Ve+0]==47&&!(qe[Ve+4]>>5),Ae[0]=re[0];te=0}if(v=v[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],f=f[0],te!=0)break;if(4294967286<ae.Ja)return 3;if(B==null||_e||(B[0]=ae.xa?2:1),j=[j],Se=[Se],ae.xa){if(5>v){te=7;break}B=j,fe=Se,_e=M,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(re=[0],qe=[0],Ie=[0],Y(Ae=new R,u,f,v),Ge(Ae,re,qe,Ie)?(B!=null&&(B[0]=re[0]),fe!=null&&(fe[0]=qe[0]),_e!=null&&(_e[0]=Ie[0]),u=1):u=0):u=0}else{if(10>v){te=7;break}B=Se,u==null||10>v||!Ma(u,f+3,v-3)?u=0:(fe=u[f+0]|u[f+1]<<8|u[f+2]<<16,_e=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=ae.Ja||!_e||!u?u=0:(j&&(j[0]=_e),B&&(B[0]=u),u=1))}if(!u||(j=j[0],Se=Se[0],he&&($[0]!=j||ee[0]!=Se)))return 3;z!=null&&(z[0]=ae,z.offset=f-z.w,e(4294967286>f-z.w),e(z.offset==z.ha-v));break}return te==0||te==7&&he&&z==null?(M!=null&&(M[0]|=ae.na!=null&&0<ae.na.length),w!=null&&(w[0]=j),L!=null&&(L[0]=Se),0):te}function vc(u,f,v){var w=f.width,L=f.height,M=0,j=0,B=w,z=L;if(f.Da=u!=null&&0<u.Da,f.Da&&(B=u.cd,z=u.bd,M=u.v,j=u.j,11>v||(M&=-2,j&=-2),0>M||0>j||0>=B||0>=z||M+B>w||j+z>L))return 0;if(f.v=M,f.j=j,f.va=M+B,f.o=j+z,f.U=B,f.T=z,f.da=u!=null&&0<u.da,f.da){if(!dt(B,z,v=[u.ib],M=[u.hb]))return 0;f.ib=v[0],f.hb=M[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*L/4,f.Kb=0),1}function yc(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function ql(u,f,v,w){if(w==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var L=v.cd,M=v.bd,j=-2&v.v,B=-2&v.j;if(0>j||0>B||0>=L||0>=M||j+L>u||B+M>f)return 2;u=L,f=M}if(v.da){if(!dt(u,f,L=[v.ib],M=[v.hb]))return 2;u=L[0],f=M[0]}}w.width=u,w.height=f;e:{var z=w.width,$=w.height;if(u=w.S,0>=z||0>=$||!(u>=ff&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){j=M=L=f=0;var ee=(B=z*tv[u])*$;if(11>u||(M=($+1)/2*(f=(z+1)/2),u==12&&(j=(L=z)*$)),($=s(ee+2*M+j))==null){u=1;break e}w.sd=$,11>u?((z=w.f.RGBA).eb=$,z.fb=0,z.A=B,z.size=ee):((z=w.f.kb).y=$,z.O=0,z.fa=B,z.Fd=ee,z.f=$,z.N=0+ee,z.Ab=f,z.Cd=M,z.ea=$,z.W=0+ee+M,z.Db=f,z.Ed=M,u==12&&(z.F=$,z.J=0+ee+2*M),z.Tc=j,z.lb=L)}if(f=1,L=w.S,M=w.width,j=w.height,L>=ff&&13>L)if(11>L)u=w.f.RGBA,f&=(B=Math.abs(u.A))*(j-1)+M<=u.size,f&=B>=M*tv[L],f&=u.eb!=null;else{u=w.f.kb,B=(M+1)/2,ee=(j+1)/2,z=Math.abs(u.fa),$=Math.abs(u.Ab);var he=Math.abs(u.Db),fe=Math.abs(u.lb),ae=fe*(j-1)+M;f&=z*(j-1)+M<=u.Fd,f&=$*(ee-1)+B<=u.Cd,f=(f&=he*(ee-1)+B<=u.Ed)&z>=M&$>=B&he>=B,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,L==12&&(f&=fe>=M,f&=ae<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=yc(w)),u}var Jn=64,$l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wl=24,Hl=32,_c=8,jr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(u){return u},S.Predictor2=function(u,f,v){return f[v+0]},S.Predictor3=function(u,f,v){return f[v+1]},S.Predictor4=function(u,f,v){return f[v-1]},S.Predictor5=function(u,f,v){return ze(ze(u,f[v+1]),f[v+0])},S.Predictor6=function(u,f,v){return ze(u,f[v-1])},S.Predictor7=function(u,f,v){return ze(u,f[v+0])},S.Predictor8=function(u,f,v){return ze(f[v-1],f[v+0])},S.Predictor9=function(u,f,v){return ze(f[v+0],f[v+1])},S.Predictor10=function(u,f,v){return ze(ze(u,f[v-1]),ze(f[v+0],f[v+1]))},S.Predictor11=function(u,f,v){var w=f[v+0];return 0>=pt(w>>24&255,u>>24&255,(f=f[v-1])>>24&255)+pt(w>>16&255,u>>16&255,f>>16&255)+pt(w>>8&255,u>>8&255,f>>8&255)+pt(255&w,255&u,255&f)?w:u},S.Predictor12=function(u,f,v){var w=f[v+0];return(Xe((u>>24&255)+(w>>24&255)-((f=f[v-1])>>24&255))<<24|Xe((u>>16&255)+(w>>16&255)-(f>>16&255))<<16|Xe((u>>8&255)+(w>>8&255)-(f>>8&255))<<8|Xe((255&u)+(255&w)-(255&f)))>>>0},S.Predictor13=function(u,f,v){var w=f[v-1];return(ut((u=ze(u,f[v+0]))>>24&255,w>>24&255)<<24|ut(u>>16&255,w>>16&255)<<16|ut(u>>8&255,w>>8&255)<<8|ut(u>>0&255,w>>0&255))>>>0};var um=S.PredictorAdd0;S.PredictorAdd1=Ze,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var wc=S.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var of,mi=S.ColorIndexInverseTransform,Gl=S.MapARGB,af=S.VP8LColorIndexInverseTransformAlpha,lf=S.MapAlpha,Oo=S.VP8LPredictorsAdd=[];Oo.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Qa,Vr,Pr,Do,Bs,Us,Kl,zs,bn,Ec,Nr,gi,Ql,uf,bc,Ya,Ja,Fo,Xa,Yl,Za,Mo,Ac,vi,yi,Jt,Xt,An,Mn=s(511),qs=s(2041),Sc=s(225),Jl=s(767),cf=0,cm=qs,hf=Sc,ti=Jl,_i=Mn,ff=0,df=1,$2=2,pf=3,mf=4,hm=5,W2=6,fm=7,dm=8,gf=9,pm=10,gb=[2,3,7],vb=[3,3,11],H2=[280,256,256,256,40],yb=[0,1,1,1,0],_b=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Eb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bb=8,mm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ic=null,Ab=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],G2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ib=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jo=[],ji=[],$s=[],xb=1,K2=2,Vo=[],wi=[];we("UpsampleRgbLinePair",V,3),we("UpsampleBgrLinePair",ie,3),we("UpsampleRgbaLinePair",gt,4),we("UpsampleBgraLinePair",At,4),we("UpsampleArgbLinePair",mt,4),we("UpsampleRgba4444LinePair",Ne,2),we("UpsampleRgb565LinePair",de,2);var kb=S.UpsampleRgbLinePair,Lb=S.UpsampleBgrLinePair,Q2=S.UpsampleRgbaLinePair,Y2=S.UpsampleBgraLinePair,J2=S.UpsampleArgbLinePair,X2=S.UpsampleRgba4444LinePair,Cb=S.UpsampleRgb565LinePair,vf=16,yf=1<<vf-1,Tc=-227,vm=482,Rb=6,Z2=0,Ob=s(256),Db=s(256),Fb=s(256),Mb=s(256),jb=s(vm-Tc),Vb=s(vm-Tc);Ht("YuvToRgbRow",V,3),Ht("YuvToBgrRow",ie,3),Ht("YuvToRgbaRow",gt,4),Ht("YuvToBgraRow",At,4),Ht("YuvToArgbRow",mt,4),Ht("YuvToRgba4444Row",Ne,2),Ht("YuvToRgb565Row",de,2);var ev=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_f=[0,2,8],Bb=[8,7,6,4,4,2,2,2,1,1,1,1],Ub=1;this.WebPDecodeRGBA=function(u,f,v,w,L){var M=df,j=new js,B=new Kn;j.ba=B,B.S=M,B.width=[B.width],B.height=[B.height];var z=B.width,$=B.height,ee=new Qr;if(ee==null||u==null)var he=2;else e(ee!=null),he=fs(u,f,v,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(he!=0?z=0:(z!=null&&(z[0]=ee.width[0]),$!=null&&($[0]=ee.height[0]),z=1),z){B.width=B.width[0],B.height=B.height[0],w!=null&&(w[0]=B.width),L!=null&&(L[0]=B.height);e:{if(w=new Cs,(L=new ko).data=u,L.w=f,L.ha=v,L.kd=1,f=[0],e(L!=null),((u=fs(L.data,L.w,L.ha,null,null,null,f,null,L))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(j!=null),w.data=L.data,w.w=L.w+L.offset,w.ha=L.ha-L.offset,w.put=ar,w.ac=xn,w.bc=Yr,w.ma=j,L.xa){if((u=En())==null){j=1;break e}if(function(fe,ae){var Se=[0],_e=[0],te=[0];t:for(;;){if(fe==null)return 0;if(ae==null)return fe.a=2,0;if(fe.l=ae,fe.a=0,Y(fe.m,ae.data,ae.w,ae.ha),!Ge(fe.m,Se,_e,te)){fe.a=3;break t}if(fe.xb=K2,ae.width=Se[0],ae.height=_e[0],!Jr(Se[0],_e[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(u,w)){if(w=(f=ql(w.width,w.height,j.Oa,j.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((v=w.l)!=null),e((L=v.ma)!=null),w.xb!=0){if(w.ca=L.ba,w.tb=L.tb,e(w.ca!=null),!vc(L.Oa,v,pf)){w.a=2;break n}if(!ts(w,v.width)||v.da)break n;if((v.da||Nt(w.ca.S))&&se(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&se()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!tt(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!Sr(w,w.V,w.Ba,w.c,w.i,v.o,go))break n;L.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=u.a)}else f=u.a}else{if((u=new Fa)==null){j=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,ja(u,w)){if((f=ql(w.width,w.height,j.Oa,j.ba))==0){if(u.Aa=0,v=j.Oa,e((L=u)!=null),v!=null){if(0<(z=0>(z=v.Md)?0:100<z?255:255*z/100)){for($=ee=0;4>$;++$)12>(he=L.pb[$]).lc&&(he.ia=z*Bb[0>he.lc?0:he.lc]>>3),ee|=he.ia;ee&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=v.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Fl(u,w)||(f=u.a)}}else f=u.a}f==0&&j.Oa!=null&&j.Oa.fd&&(f=yc(j.ba))}j=f}M=j!=0?null:11>M?B.f.RGBA.eb:B.f.kb.y}else M=null;return M};var tv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(S,F){for(var U="",I=0;I<4;I++)U+=String.fromCharCode(S[F++]);return U}function d(S,F){return(S[F+0]<<0|S[F+1]<<8|S[F+2]<<16)>>>0}function m(S,F){return(S[F+0]<<0|S[F+1]<<8|S[F+2]<<16|S[F+3]<<24)>>>0}new l;var _=[0],g=[0],P=[],T=new l,O=t,b=function(S,F){var U={},I=0,N=!1,x=0,Q=0;if(U.frames=[],!function(q,G,X,ne){for(var ue=0;ue<ne;ue++)if(q[G+ue]!=X.charCodeAt(ue))return!0;return!1}(S,F,"RIFF",4)){var ve,me;for(m(S,F+=4),F+=8;F<S.length;){var ye=h(S,F),Y=m(S,F+=4);F+=4;var le=Y+(1&Y);switch(ye){case"VP8 ":case"VP8L":U.frames[I]===void 0&&(U.frames[I]={}),(R=U.frames[I]).src_off=N?Q:F-8,R.src_size=x+Y+8,I++,N&&(N=!1,x=0,Q=0);break;case"VP8X":(R=U.header={}).feature_flags=S[F];var ce=F+4;R.canvas_width=1+d(S,ce),ce+=3,R.canvas_height=1+d(S,ce),ce+=3;break;case"ALPH":N=!0,x=le+8,Q=F-8;break;case"ANIM":(R=U.header).bgcolor=m(S,F),ce=F+4,R.loop_count=(ve=S)[(me=ce)+0]<<0|ve[me+1]<<8,ce+=2;break;case"ANMF":var Re,R;(R=U.frames[I]={}).offset_x=2*d(S,F),F+=3,R.offset_y=2*d(S,F),F+=3,R.width=1+d(S,F),F+=3,R.height=1+d(S,F),F+=3,R.duration=d(S,F),F+=3,Re=S[F++],R.dispose=1&Re,R.blend=Re>>1&1}ye!="ANMF"&&(F+=le)}return U}}(O,0);b.response=O,b.rgbaoutput=!0,b.dataurl=!1;var E=b.header?b.header:null,C=b.frames?b.frames:null;if(E){E.loop_counter=E.loop_count,_=[E.canvas_height],g=[E.canvas_width];for(var W=0;W<C.length&&C[W].blend!=0;W++);}var J=C[0],oe=T.WebPDecodeRGBA(O,J.src_off,J.src_size,g,_);J.rgba=oe,J.imgwidth=g[0],J.imgheight=_[0];for(var D=0;D<g[0]*_[0]*4;D++)P[D]=oe[D];return this.width=g,this.height=_,this.data=P,this}(function(t){var e=function(){return typeof K1=="function"},n=function(_,g,P,T){var O=4,b=o;switch(T){case t.image_compression.FAST:O=1,b=s;break;case t.image_compression.MEDIUM:O=6,b=a;break;case t.image_compression.SLOW:O=9,b=l}_=r(_,g,P,b);var E=K1(_,{level:O});return t.__addimage__.arrayBufferToBinaryString(E)},r=function(_,g,P,T){for(var O,b,E,C=_.length/g,W=new Uint8Array(_.length+C),J=d(),oe=0;oe<C;oe+=1){if(E=oe*g,O=_.subarray(E,E+g),T)W.set(T(O,P,b),E+oe);else{for(var D,S=J.length,F=[];D<S;D+=1)F[D]=J[D](O,P,b);var U=m(F.concat());W.set(F[U],E+oe)}b=O}return W},i=function(_){var g=Array.apply([],_);return g.unshift(0),g},s=function(_,g){var P,T=[],O=_.length;T[0]=1;for(var b=0;b<O;b+=1)P=_[b-g]||0,T[b+1]=_[b]-P+256&255;return T},o=function(_,g,P){var T,O=[],b=_.length;O[0]=2;for(var E=0;E<b;E+=1)T=P&&P[E]||0,O[E+1]=_[E]-T+256&255;return O},a=function(_,g,P){var T,O,b=[],E=_.length;b[0]=3;for(var C=0;C<E;C+=1)T=_[C-g]||0,O=P&&P[C]||0,b[C+1]=_[C]+256-(T+O>>>1)&255;return b},l=function(_,g,P){var T,O,b,E,C=[],W=_.length;C[0]=4;for(var J=0;J<W;J+=1)T=_[J-g]||0,O=P&&P[J]||0,b=P&&P[J-g]||0,E=h(T,O,b),C[J+1]=_[J]-E+256&255;return C},h=function(_,g,P){if(_===g&&g===P)return _;var T=Math.abs(g-P),O=Math.abs(_-P),b=Math.abs(_+g-P-P);return T<=O&&T<=b?_:O<=b?g:P},d=function(){return[i,s,o,a,l]},m=function(_){var g=_.map(function(P){return P.reduce(function(T,O){return T+Math.abs(O)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(_,g,P,T){var O,b,E,C,W,J,oe,D,S,F,U,I,N,x,Q,ve=this.decode.FLATE_DECODE,me="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(E=new IR(_)).imgData,b=E.bits,O=E.colorSpace,W=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){S=(D=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,U=new Uint8Array(S*E.colors),F=new Uint8Array(S);var ye,Y=E.pixelBitlength-E.bits;for(x=0,Q=0;x<S;x++){for(N=D[x],ye=0;ye<Y;)U[Q++]=N>>>ye&255,ye+=E.bits;F[x]=N>>>ye&255}}if(E.bits===16){S=(D=new Uint32Array(E.decodePixels().buffer)).length,U=new Uint8Array(S*(32/E.pixelBitlength)*E.colors),F=new Uint8Array(S*(32/E.pixelBitlength)),I=E.colors>1,x=0,Q=0;for(var le=0;x<S;)N=D[x++],U[Q++]=N>>>0&255,I&&(U[Q++]=N>>>16&255,N=D[x++],U[Q++]=N>>>0&255),F[le++]=N>>>16&255;b=8}T!==t.image_compression.NONE&&e()?(_=n(U,E.width*E.colors,E.colors,T),oe=n(F,E.width,1,T)):(_=U,oe=F,ve=void 0)}if(E.colorType===3&&(O=this.color_spaces.INDEXED,J=E.palette,E.transparency.indexed)){var ce=E.transparency.indexed,Re=0;for(x=0,S=ce.length;x<S;++x)Re+=ce[x];if((Re/=255)===S-1&&ce.indexOf(0)!==-1)C=[ce.indexOf(0)];else if(Re!==S){for(D=E.decodePixels(),F=new Uint8Array(D.length),x=0,S=D.length;x<S;x++)F[x]=ce[D[x]];oe=n(F,E.width,1)}}var R=function(q){var G;switch(q){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(T);return ve===this.decode.FLATE_DECODE&&(me="/Predictor "+R+" "),me+="/Colors "+W+" /BitsPerComponent "+b+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(oe&&this.__addimage__.isArrayBuffer(oe)||this.__addimage__.isArrayBufferView(oe))&&(oe=this.__addimage__.arrayBufferToBinaryString(oe)),{alias:P,data:_,index:g,filter:ve,decodeParameters:me,transparency:C,palette:J,sMask:oe,predictor:R,width:E.width,height:E.height,bitsPerComponent:b,colorSpace:O}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new TR(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:o,height:a},d=new _g(100).encode(h,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=t}},zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new zi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new _g(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),f_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new f_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new _g(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var d=r[h],m=r[h+1],_=r[h+2],g=r[h+3];s[a++]=d,s[a++]=m,s[a++]=_,o[l++]=g}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:P,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},iu=ot.API,nd=iu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,m=e.doKerning!==!1,_=0,g=t.length,P=0,T=a[0]||l,O=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(_=m&&zt(h[r])==="object"&&!isNaN(parseInt(h[r][P],10))?h[r][P]/d:0,O.push((a[r]||T)/l+_)),P=r;return O},l_=iu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return iu.processArabic&&(t=iu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:nd.apply(this,arguments).reduce(function(s,o){return s+o},0)},u_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},c_=function(t,e,n){n||(n={});var r,i,s,o,a,l,h,d=[],m=[d],_=n.textIndent||0,g=0,P=0,T=t.split(" "),O=nd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),E=[];T.map(function(W){(W=W.split(/\s*\n/)).length>1?E=E.concat(W.map(function(J,oe){return(oe&&J.length?`
`:"")+J})):E.push(W[0])}),T=E,l=l_.apply(this,[b,n])}for(s=0,o=T.length;s<o;s++){var C=0;if(r=T[s],l&&r[0]==`
`&&(r=r.substr(1),C=1),_+g+(P=(i=nd.apply(this,[r,n])).reduce(function(W,J){return W+J},0))>e||C){if(P>e){for(a=u_.apply(this,[r,i,e-(_+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)m.push([a.shift()]);P=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(W,J){return W+J},0)}else d=[r];m.push(d),_=P+l,g=O}else d.push(r),_+=g+P,g=O}return h=l?function(W,J){return(J?b:"")+W.join(" ")}:function(W){return W.join(" ")},m.map(h)},iu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(c_.apply(this,[r[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var _,g,P,T,O=["{"];for(var b in m){if(_=m[b],isNaN(parseInt(b,10))?g="'"+b+"'":(b=parseInt(b,10),g=(g=s(b).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof _=="number")_<0?(P=s(_).slice(3),T="-"):(P=s(_).slice(2),T=""),P=T+P.slice(0,-1)+r[P.slice(-1)];else{if(zt(_)!=="object")throw new Error("Don't know what to do with value type "+zt(_)+".");P=o(_)}O.push(g+P)}return O.push("}"),O.join("")},a=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,g,P,T,O={},b=1,E=O,C=[],W="",J="",oe=m.length-1,D=1;D<oe;D+=1)(T=m[D])=="'"?_?(P=_.join(""),_=void 0):_=[]:_?_.push(T):T=="{"?(C.push([E,P]),E={},P=void 0):T=="}"?((g=C.pop())[0][g[1]]=E,P=void 0,E=g[0]):T=="-"?b=-1:P===void 0?n.hasOwnProperty(T)?(W+=n[T],P=parseInt(W,16)*b,b=1,W=""):W+=T:n.hasOwnProperty(T)?(J+=n[T],E[P]=parseInt(J,16)*b,b=1,P=void 0,J=""):J+=T;return O},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var _=m.font,g=d.Unicode[_.postScriptName];g&&(_.metadata.Unicode={},_.metadata.Unicode.widths=g.widths,_.metadata.Unicode.kerning=g.kerning);var P=h.Unicode[_.postScriptName];P&&(_.metadata.Unicode.encoding=P,_.encoding=P.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(fh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):q1(()=>import("./index.es-CRMHiZzp.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,o,a,l,h){if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(P){return P.fromString(m,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(_)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,l,h)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],h=0,d=0,m=0;function _(P,T){var O,b=!1;for(O=0;O<P.length;O+=1)P[O]===T&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(m=0;m<g;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(zt(t)==="object"){for(i in t)if(s=t[i],_(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")l.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&l.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,T=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?T.push("/"+P+" /"+n[P].value):T.push("/"+P+" "+n[P].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],m=0,_=s.length;m<_;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,h,d,m,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,_=(a=Object.keys(s).sort(function(g,P){return g-P})).length;m<_;m++)o=a[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+h+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",P=0;P<_.length;P++)g+=String.fromCharCode(_[P]);var T=h();d({data:g,addLength1:!0,objectId:T}),l("endobj");var O=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:O}),l("endobj");var b=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+uu(a.fontName)),l("/FontFile2 "+T+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+uu(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+O+" 0 R"),l("/BaseFont /"+uu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,_="",g=0;g<m.length;g++)_+=String.fromCharCode(m[g]);var P=h();d({data:_,addLength1:!0,objectId:P}),l("endobj");var T=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var O=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+uu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+uu(a.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,h=s.y,d=s.options||{},m=s.mutex||{},_=m.pdfEscape,g=m.activeFontKey,P=m.fonts,T=g,O="",b=0,E="",C=P[T].encoding;if(P[T].encoding!=="Identity-H")return{text:a,x:l,y:h,options:d,mutex:m};for(E=a,T=g,Array.isArray(a)&&(E=a[0]),b=0;b<E.length;b+=1)P[T].metadata.hasOwnProperty("cmap")&&(o=P[T].metadata.cmap.unicode.codeMap[E[b].charCodeAt(0)]),o||E[b].charCodeAt(0)<256&&P[T].metadata.hasOwnProperty("Unicode")?O+=E[b]:O+="";var W="";return parseInt(T.slice(1))<14||C==="WinAnsiEncoding"?W=_(O,T).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(W=n(O,P[T])),m.isHex=!0,{text:W,x:l,y:h,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},l,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},l,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,h,d,m=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var W=function(I){var N=I.charCodeAt(),x=N>>8,Q=T[x];return Q!==void 0?m[256*Q+(255&N)]:x===252||x===253?"AL":b.test(x)?"L":x===8?"R":"N"},J=function(I){for(var N,x=0;x<I.length;x++){if((N=W(I.charAt(x)))==="L")return!1;if(N==="R")return!0}return!1},oe=function(I,N,x,Q){var ve,me,ye,Y,le=N[Q];switch(le){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(le="AN");break;case"AL":E=!0,le="R";break;case"WS":le="N";break;case"CS":Q<1||Q+1>=N.length||(ve=x[Q-1])!=="EN"&&ve!=="AN"||(me=N[Q+1])!=="EN"&&me!=="AN"?le="N":E&&(me="AN"),le=me===ve?me:"N";break;case"ES":le=(ve=Q>0?x[Q-1]:"B")==="EN"&&Q+1<N.length&&N[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&x[Q-1]==="EN"){le="EN";break}if(E){le="N";break}for(ye=Q+1,Y=N.length;ye<Y&&N[ye]==="ET";)ye++;le=ye<Y&&N[ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=N.length,ye=Q+1;ye<Y&&N[ye]==="NSM";)ye++;if(ye<Y){var ce=I[Q],Re=ce>=1425&&ce<=2303||ce===64286;if(ve=N[ye],Re&&(ve==="R"||ve==="AL")){le="R";break}}}le=Q<1||(ve=N[Q-1])==="B"?"N":x[Q-1];break;case"B":E=!1,i=!0,le=C;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":le="N"}return le},D=function(I,N,x){var Q=I.split("");return x&&S(Q,x,{hiLevel:C}),Q.reverse(),N&&N.reverse(),Q.join("")},S=function(I,N,x){var Q,ve,me,ye,Y,le=-1,ce=I.length,Re=0,R=[],q=C?g:_,G=[];for(E=!1,i=!1,s=!1,ve=0;ve<ce;ve++)G[ve]=W(I[ve]);for(me=0;me<ce;me++){if(Y=Re,R[me]=oe(I,G,R,me),Q=240&(Re=q[Y][P[R[me]]]),Re&=15,N[me]=ye=q[Re][5],Q>0)if(Q===16){for(ve=le;ve<me;ve++)N[ve]=1;le=-1}else le=-1;if(q[Re][6])le===-1&&(le=me);else if(le>-1){for(ve=le;ve<me;ve++)N[ve]=ye;le=-1}G[me]==="B"&&(N[me]=0),x.hiLevel|=ye}s&&function(X,ne,ue){for(var pe=0;pe<ue;pe++)if(X[pe]==="S"){ne[pe]=C;for(var ge=pe-1;ge>=0&&X[ge]==="WS";ge--)ne[ge]=C}}(G,N,ce)},F=function(I,N,x,Q,ve){if(!(ve.hiLevel<I)){if(I===1&&C===1&&!i)return N.reverse(),void(x&&x.reverse());for(var me,ye,Y,le,ce=N.length,Re=0;Re<ce;){if(Q[Re]>=I){for(Y=Re+1;Y<ce&&Q[Y]>=I;)Y++;for(le=Re,ye=Y-1;le<ye;le++,ye--)me=N[le],N[le]=N[ye],N[ye]=me,x&&(me=x[le],x[le]=x[ye],x[ye]=me);Re=Y}Re++}}},U=function(I,N,x){var Q=I.split(""),ve={hiLevel:C};return x||(x=[]),S(Q,x,ve),function(me,ye,Y){if(Y.hiLevel!==0&&d)for(var le,ce=0;ce<me.length;ce++)ye[ce]===1&&(le=O.indexOf(me[ce]))>=0&&(me[ce]=O[le+1])}(Q,x,ve),F(2,Q,N,x,ve),F(1,Q,N,x,ve),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(I,N,x){if(function(ve,me){if(me)for(var ye=0;ye<ve.length;ye++)me[ye]=ye;a===void 0&&(a=J(ve)),h===void 0&&(h=J(ve))}(I,N),o||!l||h)if(o&&l&&a^h)C=a?1:0,I=D(I,N,x);else if(!o&&l&&h)C=a?1:0,I=U(I,N,x),I=D(I,N);else if(!o||a||l||h){if(o&&!l&&a^h)I=D(I,N),a?(C=0,I=U(I,N,x)):(C=1,I=U(I,N,x),I=D(I,N));else if(o&&a&&!l&&h)C=1,I=U(I,N,x),I=D(I,N);else if(!o&&!l&&a^h){var Q=d;a?(C=1,I=U(I,N,x),C=0,d=!1,I=U(I,N,x),d=Q):(C=0,I=U(I,N,x),I=D(I,N),C=1,d=!1,I=U(I,N,x),d=Q,I=D(I,N))}}else C=0,I=U(I,N,x);else C=a?1:0,I=U(I,N,x);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,h=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new xa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new UR(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new PR(this.contents),this.head=new xR(this),this.name=new OR(this),this.cmap=new pb(this),this.toUnicode={},this.hhea=new kR(this),this.maxp=new DR(this),this.hmtx=new FR(this),this.post=new CR(this),this.os2=new LR(this),this.loca=new BR(this),this.glyf=new MR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,h;for(h=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Zi,xa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),PR=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,h,d,m,_,g,P,T;for(T in g=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(g)/l),o=Math.floor(m/l),d=16*g-m,(i=new xa).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(o),i.writeShort(d),s=16*g,h=i.pos+s,a=null,P=[],n)for(_=n[T],i.writeString(T),i.writeInt(t(_)),i.writeInt(h),i.writeInt(_.length),P=P.concat(_),T==="head"&&(a=h),h+=_.length;h%4;)P.push(0),h++;return i.write(P),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=mb.call(n);n.length%4;)n.push(0);for(s=new xa(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),NR={}.hasOwnProperty,Ns=function(t,e){for(var n in e)NR.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Zi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var xR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new xa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),d_=function(){function t(e,n){var r,i,s,o,a,l,h,d,m,_,g,P,T,O,b,E,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),_=g/2,e.pos+=6,s=function(){var W,J;for(J=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)J.push(e.readUInt16());return J}(),e.pos+=2,T=function(){var W,J;for(J=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)J.push(e.readUInt16());return J}(),h=function(){var W,J;for(J=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)J.push(e.readUInt16());return J}(),d=function(){var W,J;for(J=[],l=W=0;0<=_?W<_:W>_;l=0<=_?++W:--W)J.push(e.readUInt16());return J}(),i=(this.length-e.pos+this.offset)/2,a=function(){var W,J;for(J=[],l=W=0;0<=i?W<i:W>i;l=0<=i?++W:--W)J.push(e.readUInt16());return J}(),l=b=0,C=s.length;b<C;l=++b)for(O=s[l],r=E=P=T[l];P<=O?E<=O:E>=O;r=P<=O?++E:--E)d[l]===0?o=r+h[l]:(o=a[d[l]/2+(r-P)-(_-l)]||0)!==0&&(o+=h[l]),this.codeMap[r]=65535&o}e.pos=m}return t.encode=function(e,n){var r,i,s,o,a,l,h,d,m,_,g,P,T,O,b,E,C,W,J,oe,D,S,F,U,I,N,x,Q,ve,me,ye,Y,le,ce,Re,R,q,G,X,ne,ue,pe,ge,Fe,Ce,Be;switch(Q=new xa,o=Object.keys(e).sort(function(je,tt){return je-tt}),n){case"macroman":for(T=0,O=function(){var je=[];for(P=0;P<256;++P)je.push(0);return je}(),E={0:0},s={},ve=0,le=o.length;ve<le;ve++)E[ge=e[i=o[ve]]]==null&&(E[ge]=++T),s[i]={old:e[i],new:E[e[i]]},O[i]=E[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(O),{charMap:s,subtable:Q.data,maxGlyphID:T+1};case"unicode":for(N=[],m=[],C=0,E={},r={},b=h=null,me=0,ce=o.length;me<ce;me++)E[J=e[i=o[me]]]==null&&(E[J]=++C),r[i]={old:J,new:E[J]},a=E[J]-i,b!=null&&a===h||(b&&m.push(b),N.push(i),h=a),b=i;for(b&&m.push(b),m.push(65535),N.push(65535),U=2*(F=N.length),S=2*Math.pow(Math.log(F)/Math.LN2,2),_=Math.log(S/2)/Math.LN2,D=2*F-S,l=[],oe=[],g=[],P=ye=0,Re=N.length;ye<Re;P=++ye){if(I=N[P],d=m[P],I===65535){l.push(0),oe.push(0);break}if(I-(x=r[I].new)>=32768)for(l.push(0),oe.push(2*(g.length+F-P)),i=Y=I;I<=d?Y<=d:Y>=d;i=I<=d?++Y:--Y)g.push(r[i].new);else l.push(x-I),oe.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*F+2*g.length),Q.writeUInt16(0),Q.writeUInt16(U),Q.writeUInt16(S),Q.writeUInt16(_),Q.writeUInt16(D),ue=0,R=m.length;ue<R;ue++)i=m[ue],Q.writeUInt16(i);for(Q.writeUInt16(0),pe=0,q=N.length;pe<q;pe++)i=N[pe],Q.writeUInt16(i);for(Fe=0,G=l.length;Fe<G;Fe++)a=l[Fe],Q.writeUInt16(a);for(Ce=0,X=oe.length;Ce<X;Ce++)W=oe[Ce],Q.writeUInt16(W);for(Be=0,ne=g.length;Be<ne;Be++)T=g[Be],Q.writeUInt16(T);return{charMap:r,subtable:Q.data,maxGlyphID:C+1}}},t}(),pb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new d_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=d_.encode(n,r),(s=new xa).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),kR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),LR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),CR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),RR=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,h,d,m,_,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},o=m=0,_=i.length;m<_;o=++m)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new RR(d,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),DR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),FR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)m.push(n.readInt16());return m}(),this.widths=(function(){var d,m,_,g;for(g=[],d=0,m=(_=this.metrics).length;d<m;d++)o=_[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),mb=[].slice,MR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,h,d,m,_;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new xa(r.read(s))).readShort(),d=l.readShort(),_=l.readShort(),h=l.readShort(),m=l.readShort(),this.cache[n]=a===-1?new VR(l,d,_,h,m):new jR(l,a,d,_,h,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,h;for(a=[],o=[],l=0,h=r.length;l<h;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),jR=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),VR=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new xa(mb.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),BR=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,Zi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(s+=h)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},e}(),UR=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,h,d,m,_,g,P,T,O,b;for(i in r=pb.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},b=r.charMap)g[(l=b[i]).old]=l.new;for(P in _=r.maxGlyphID,o)P in g||(g[P]=_++);return d=function(E){var C,W;for(C in W={},E)W[E[C]]=C;return W}(g),m=Object.keys(d).sort(function(E,C){return E-C}),T=function(){var E,C,W;for(W=[],E=0,C=m.length;E<C;E++)a=m[E],W.push(d[a]);return W}(),s=this.font.glyf.encode(o,T,g),h=this.font.loca.encode(s.offsets,T),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();async function zR(t,e,n,r){const i=new ot("portrait","mm","a4"),s=r?n:[n[0]],o=UC(t,e);let a=null;try{const m=await fetch("/logo_black.png");if(m.ok){const _=await m.blob();a=await new Promise(g=>{const P=new FileReader;P.onloadend=()=>g(P.result),P.readAsDataURL(_)})}}catch(m){console.log("Could not load logo:",m)}s.forEach((m,_)=>{_>0&&i.addPage(),qR(i,t,e,o,m,a)});const l=GE(e),d=`Timeregistrering_${KE(t,e).replace(" / ","_")}_${l.replace(" / ","_")}.pdf`;i.save(d)}function qR(t,e,n,r,i,s){const o=t.internal.pageSize.getWidth(),a=t.internal.pageSize.getHeight(),l=15;let h=l;t.setFontSize(18),t.setFont("helvetica","bold");const d=KE(e,n);if(t.text(`${d} Timeregistrering`,l,h),s)try{t.addImage(s,"PNG",o-l-40,h-5,40,20)}catch(b){console.log("Error adding logo to PDF:",b)}h+=8,t.setFontSize(12),t.setFont("helvetica","normal");const m=GE(n);t.text(m,l,h),h+=8,t.setFontSize(9),t.setFont("helvetica","normal"),t.text("AC Handymand.dk ApS",l,h),h+=4,t.text("Axel Juels All 72",l,h),h+=4,t.text("2750 Ballerup",l,h),h+=4,t.text("CVR 42397792",l,h),h+=6,t.setFont("helvetica","normal"),t.setFontSize(9),t.text("Oversigt over arbejdstimer, SH og overarbejde (OA).",l,h),h+=4,t.setFont("helvetica","bold"),t.setTextColor(255,0,0),t.text("Afleveres d. 19 i hver mned.",l,h),t.setTextColor(0,0,0),h+=8,$R(t,l,h,o-2*l,r);const _=a-25,g=o/3,P=(o-g)/2;t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Underskrift:",P-25,_),t.line(P,_,P+g,_);const T=t.getTextWidth(i),O=P+(g-T)/2;t.text(i,O,_+6)}function $R(t,e,n,r,i){const s=[{header:"Dato",width:12},{header:"Ugedag",width:14},{header:"Fra kl. / Til kl.",width:32},{header:"Total timer",width:22},{header:`Total timer
minus frokost`,width:28},{header:`Kundens navn / Nume client
By / Oras`,width:50},{header:"Arb. timer",width:22},{header:"OA",width:8}],o=s.reduce((m,_)=>m+_.width,0),a=r/o;s.forEach(m=>m.width*=a);const l=6,h=8;let d=e;t.setFontSize(8),t.setFont("helvetica","bold"),s.forEach(m=>{t.rect(d,n,m.width,h);const _=m.header.split(`
`),g=3,P=n+3;_.forEach((T,O)=>{t.text(T,d+1,P+O*g)}),d+=m.width}),n+=h,t.setFont("helvetica","normal"),t.setFontSize(8),i.forEach(m=>{d=e,s.forEach((_,g)=>{t.rect(d,n,_.width,l);let P="",T=[0,0,0];g===0?P=m.formattedDate:g===1&&(P=m.weekday,m.isWeekend&&(T=[255,0,0])),P&&(t.setTextColor(...T),t.text(P,d+1,n+l/2+1.5),t.setTextColor(0,0,0)),d+=_.width}),n+=l})}function WR(){const[t,e]=ke.useState(new Date().getFullYear()),[n,r]=ke.useState(new Date().getMonth()),[i,s]=ke.useState(!1),[o,a]=ke.useState(""),[l,h]=ke.useState([]),[d,m]=ke.useState(!1),[_,g]=ke.useState(!1),P=zC(),T=Array.from({length:10},(E,C)=>new Date().getFullYear()-2+C);ke.useEffect(()=>{O()},[]);const O=async()=>{m(!0);try{const E=await WE(B1(Jc,"employees")),C=[];E.forEach(W=>{C.push({id:W.id,...W.data()})}),C.sort((W,J)=>W.name.localeCompare(J.name)),h(C),C.length>0&&!o&&a(C[0].name)}catch(E){console.error("Error loading employees:",E)}finally{m(!1)}},b=async()=>{if(!i&&!o){alert("Vlg venligst en medarbejder.");return}g(!0);try{const E=i?l.map(C=>C.name):[o];await zR(t,n,E,i)}catch(E){console.error("Error generating PDF:",E),alert("Der opstod en fejl ved generering af PDF. Prv igen.")}finally{g(!1)}};return Te.jsxs("div",{children:[Te.jsxs("div",{className:"page-header",children:[Te.jsx("h1",{children:"Timeregistrering"}),Te.jsx("p",{children:"Generr timeregistreringsformularer til medarbejdere"})]}),Te.jsx("div",{className:"content-card",children:Te.jsxs("div",{className:"timesheet-form",children:[Te.jsxs("div",{className:"form-section",children:[Te.jsx("label",{htmlFor:"year",children:"Vlg r"}),Te.jsx("select",{id:"year",value:t,onChange:E=>e(Number(E.target.value)),children:T.map(E=>Te.jsx("option",{value:E,children:E},E))})]}),Te.jsxs("div",{className:"form-section",children:[Te.jsx("label",{htmlFor:"monthPair",children:"Vlg mneder"}),Te.jsx("select",{id:"monthPair",value:n,onChange:E=>r(Number(E.target.value)),children:P.map(E=>Te.jsx("option",{value:E.value,children:E.label},E.value))})]}),Te.jsxs("div",{className:"form-section",children:[Te.jsx("label",{children:"Ansatte"}),Te.jsxs("div",{className:"checkbox-group",children:[Te.jsx("input",{type:"checkbox",id:"allEmployees",checked:i,onChange:E=>s(E.target.checked)}),Te.jsx("label",{htmlFor:"allEmployees",children:"Alle ansatte"})]}),d?Te.jsx("p",{children:"Indlser medarbejdere..."}):Te.jsx("select",{value:o,onChange:E=>a(E.target.value),disabled:i||l.length===0,children:l.length===0?Te.jsx("option",{value:"",children:"Ingen medarbejdere tilgngelige"}):l.map(E=>Te.jsx("option",{value:E.name,children:E.name},E.id))})]}),_&&Te.jsxs("div",{className:"loading-indicator",children:[Te.jsx("div",{className:"spinner"}),Te.jsx("span",{children:"Genererer dokument..."})]}),Te.jsx("button",{className:"btn-generate",onClick:b,disabled:_||l.length===0,children:"Generr og download dokument"}),l.length===0&&!d&&Te.jsx("p",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"10px"},children:"Ingen medarbejdere fundet. Tilfj medarbejdere i Indstillinger frst."})]})})]})}function HR({employee:t,onSave:e,onClose:n}){const[r,i]=ke.useState("");ke.useEffect(()=>{t&&i(t.name)},[t]);const s=o=>{if(o.preventDefault(),!r.trim()){alert("Indtast venligst et navn.");return}e(r.trim())};return Te.jsx("div",{className:"modal-overlay",onClick:n,children:Te.jsxs("div",{className:"modal",onClick:o=>o.stopPropagation(),children:[Te.jsx("div",{className:"modal-header",children:Te.jsx("h2",{children:t?"Redigr medarbejder":"Tilfj medarbejder"})}),Te.jsxs("form",{onSubmit:s,children:[Te.jsx("div",{className:"modal-body",children:Te.jsxs("div",{className:"form-group",children:[Te.jsx("label",{htmlFor:"employeeName",children:"Navn"}),Te.jsx("input",{type:"text",id:"employeeName",value:r,onChange:o=>i(o.target.value),placeholder:"Indtast medarbejdernavn",autoFocus:!0,required:!0})]})}),Te.jsxs("div",{className:"modal-footer",children:[Te.jsx("button",{type:"button",className:"btn-cancel",onClick:n,children:"Annuller"}),Te.jsx("button",{type:"submit",className:"btn-save",children:"Gem"})]})]})]})})}function GR(){const[t,e]=ke.useState([]),[n,r]=ke.useState(!1),[i,s]=ke.useState(!1),[o,a]=ke.useState(null);ke.useEffect(()=>{l()},[]);const l=async()=>{r(!0);try{const g=await WE(B1(Jc,"employees")),P=[];g.forEach(T=>{P.push({id:T.id,...T.data()})}),P.sort((T,O)=>T.name.localeCompare(O.name)),e(P)}catch(g){console.error("Error loading employees:",g),alert("Der opstod en fejl ved indlsning af medarbejdere.")}finally{r(!1)}},h=()=>{a(null),s(!0)},d=g=>{a(g),s(!0)},m=async g=>{if(window.confirm(`Er du sikker p, at du vil slette ${g.name}?`))try{await OC(U1(Jc,"employees",g.id)),await l()}catch(P){console.error("Error deleting employee:",P),alert("Der opstod en fejl ved sletning af medarbejder.")}},_=async g=>{try{o?await RC(U1(Jc,"employees",o.id),{name:g}):await DC(B1(Jc,"employees"),{name:g,createdAt:new Date().toISOString()}),s(!1),await l()}catch(P){console.error("Error saving employee:",P),alert("Der opstod en fejl ved gemning af medarbejder.")}};return Te.jsxs("div",{children:[Te.jsxs("div",{className:"page-header",children:[Te.jsx("h1",{children:"Indstillinger"}),Te.jsx("p",{children:"Administrr medarbejdere og systemindstillinger"})]}),Te.jsx("div",{className:"content-card",children:Te.jsxs("div",{className:"settings-section",children:[Te.jsx("h2",{children:"Medarbejdere"}),n?Te.jsx("p",{children:"Indlser medarbejdere..."}):t.length===0?Te.jsxs("div",{className:"empty-state",children:[Te.jsx("p",{children:"Ingen medarbejdere tilfjet endnu."}),Te.jsx("p",{children:"Klik p knappen nedenfor for at tilfje din frste medarbejder."})]}):Te.jsx("div",{className:"employee-list",children:t.map(g=>Te.jsxs("div",{className:"employee-item",children:[Te.jsx("span",{className:"employee-name",children:g.name}),Te.jsxs("div",{className:"employee-actions",children:[Te.jsx("button",{className:"btn-edit",onClick:()=>d(g),children:"Redigr"}),Te.jsx("button",{className:"btn-delete",onClick:()=>m(g),children:"Slet"})]})]},g.id))}),Te.jsx("button",{className:"btn-add",onClick:h,children:"+ Tilfj medarbejder"})]})}),i&&Te.jsx(HR,{employee:o,onSave:_,onClose:()=>s(!1)})]})}function KR(){const t=jp(),e=async()=>{try{await fN(B2),t("/login")}catch(n){console.error("Error logging out:",n),alert("Der opstod en fejl ved logud.")}};return Te.jsxs("div",{className:"app-layout",children:[Te.jsxs("aside",{className:"sidebar",children:[Te.jsxs("div",{className:"sidebar-header",children:[Te.jsx("img",{src:"/logo_white.png",alt:"AC Handymand Logo",className:"sidebar-logo",onError:n=>{n.target.style.display="none",n.target.nextElementSibling.style.display="block"}}),Te.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 15px",display:"none",alignItems:"center",justifyContent:"center",fontSize:"40px"},children:""}),Te.jsx("div",{className:"sidebar-title",children:"AC Handymand"})]}),Te.jsxs("nav",{className:"sidebar-nav",children:[Te.jsx(C5,{to:"/timeregistrering",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Timeregistrering"}),Te.jsx(C5,{to:"/indstillinger",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Indstillinger"})]}),Te.jsx("div",{className:"sidebar-footer",children:Te.jsx("button",{className:"btn-logout",onClick:e,children:"Log ud"})})]}),Te.jsx("main",{className:"main-content",children:Te.jsx(vT,{})})]})}function QR(){const[t,e]=ke.useState(null),[n,r]=ke.useState(!0);return ke.useEffect(()=>{const i=hN(B2,s=>{e(s),r(!1)});return()=>i()},[]),{user:t,loading:n}}function YR({children:t}){const{user:e,loading:n}=QR();return n?Te.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"18px",color:"#7f8c8d"},children:"Indlser..."}):e?t:Te.jsx(m1,{to:"/login",replace:!0})}function JR(){return Te.jsx(PT,{children:Te.jsxs(_T,{children:[Te.jsx(rl,{path:"/login",element:Te.jsx(MC,{})}),Te.jsxs(rl,{path:"/",element:Te.jsx(YR,{children:Te.jsx(KR,{})}),children:[Te.jsx(rl,{index:!0,element:Te.jsx(m1,{to:"/timeregistrering",replace:!0})}),Te.jsx(rl,{path:"timeregistrering",element:Te.jsx(WR,{})}),Te.jsx(rl,{path:"indstillinger",element:Te.jsx(GR,{})})]}),Te.jsx(rl,{path:"*",element:Te.jsx(m1,{to:"/",replace:!0})})]})})}wg.createRoot(document.getElementById("root")).render(Te.jsx(S_.StrictMode,{children:Te.jsx(JR,{})}));export{zt as _,XR as c,eA as g};
