function CS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var D8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F_={exports:{}},kp={},M_={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=Symbol.for("react.element"),RS=Symbol.for("react.portal"),DS=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),jS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),BS=Symbol.for("react.suspense"),US=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),jv=Symbol.iterator;function zS(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,U_={};function oc(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||V_}oc.prototype.isReactComponent={};oc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q_(){}q_.prototype=oc.prototype;function m0(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||V_}var g0=m0.prototype=new q_;g0.constructor=m0;B_(g0,oc.prototype);g0.isPureReactComponent=!0;var Fv=Array.isArray,z_=Object.prototype.hasOwnProperty,v0={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)z_.call(e,r)&&!$_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qh,type:t,key:s,ref:o,props:i,_owner:v0.current}}function $S(t,e){return{$$typeof:Qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qh}function WS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mv=/\/+/g;function Mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WS(""+t.key):e.toString(36)}function cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qh:case RS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mm(o,0):r,Fv(i)?(n="",t!=null&&(n=t.replace(Mv,"$&/")+"/"),cd(i,e,n,"",function(h){return h})):i!=null&&(y0(i)&&(i=$S(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mm(s,a);o+=cd(s,e,n,l,i)}else if(l=zS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mm(s,a++),o+=cd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(t,e,n){if(t==null)return t;var r=[],i=0;return cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},hd={transition:null},GS={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:hd,ReactCurrentOwner:v0};function H_(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Mf,forEach:function(t,e,n){Mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mf(t,function(){e++}),e},toArray:function(t){return Mf(t,function(e){return e})||[]},only:function(t){if(!y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=oc;Et.Fragment=DS;Et.Profiler=jS;Et.PureComponent=m0;Et.StrictMode=OS;Et.Suspense=BS;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GS;Et.act=H_;Et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=v0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z_.call(e,l)&&!$_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Qh,type:t.type,key:i,ref:s,props:r,_owner:o}};Et.createContext=function(t){return t={$$typeof:MS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FS,_context:t},t.Consumer=t};Et.createElement=W_;Et.createFactory=function(t){var e=W_.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:VS,render:t}};Et.isValidElement=y0;Et.lazy=function(t){return{$$typeof:qS,_payload:{_status:-1,_result:t},_init:HS}};Et.memo=function(t,e){return{$$typeof:US,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=hd.transition;hd.transition={};try{t()}finally{hd.transition=e}};Et.unstable_act=H_;Et.useCallback=function(t,e){return Dr.current.useCallback(t,e)};Et.useContext=function(t){return Dr.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};Et.useEffect=function(t,e){return Dr.current.useEffect(t,e)};Et.useId=function(){return Dr.current.useId()};Et.useImperativeHandle=function(t,e,n){return Dr.current.useImperativeHandle(t,e,n)};Et.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return Dr.current.useMemo(t,e)};Et.useReducer=function(t,e,n){return Dr.current.useReducer(t,e,n)};Et.useRef=function(t){return Dr.current.useRef(t)};Et.useState=function(t){return Dr.current.useState(t)};Et.useSyncExternalStore=function(t,e,n){return Dr.current.useSyncExternalStore(t,e,n)};Et.useTransition=function(){return Dr.current.useTransition()};Et.version="18.3.1";M_.exports=Et;var Se=M_.exports;const G_=LS(Se),KS=CS({__proto__:null,default:G_},[Se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=Se,YS=Symbol.for("react.element"),JS=Symbol.for("react.fragment"),XS=Object.prototype.hasOwnProperty,ZS=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eA={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XS.call(e,r)&&!eA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YS,type:t,key:s,ref:o,props:i,_owner:ZS.current}}kp.Fragment=JS;kp.jsx=K_;kp.jsxs=K_;F_.exports=kp;var q=F_.exports,Rg={},Q_={exports:{}},di={},Y_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ue){var he=X.length;X.push(ue);e:for(;0<he;){var Re=he-1>>>1,D=X[Re];if(0<i(D,ue))X[Re]=ue,X[he]=D,he=Re;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],he=X.pop();if(he!==ue){X[0]=he;e:for(var Re=0,D=X.length,$=D>>>1;Re<$;){var Y=2*(Re+1)-1,Z=X[Y],ie=Y+1,ce=X[ie];if(0>i(Z,he))ie<D&&0>i(ce,Z)?(X[Re]=ce,X[ie]=he,Re=ie):(X[Re]=Z,X[Y]=he,Re=Y);else if(ie<D&&0>i(ce,he))X[Re]=ce,X[ie]=he,Re=ie;else break e}}return ue}function i(X,ue){var he=X.sortIndex-ue.sortIndex;return he!==0?he:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,p=null,y=3,g=!1,N=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(X){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=X)r(h),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(h)}}function H(X){if(T=!1,k(X),!N)if(n(l)!==null)N=!0,ve(Q);else{var ue=n(h);ue!==null&&_e(H,ue.startTime-X)}}function Q(X,ue){N=!1,T&&(T=!1,w(I),I=-1),g=!0;var he=y;try{for(k(ue),p=n(l);p!==null&&(!(p.expirationTime>ue)||X&&!x());){var Re=p.callback;if(typeof Re=="function"){p.callback=null,y=p.priorityLevel;var D=Re(p.expirationTime<=ue);ue=t.unstable_now(),typeof D=="function"?p.callback=D:p===n(l)&&r(l),k(ue)}else r(l);p=n(l)}if(p!==null)var $=!0;else{var Y=n(h);Y!==null&&_e(H,Y.startTime-ue),$=!1}return $}finally{p=null,y=he,g=!1}}var re=!1,O=null,I=-1,j=5,B=-1;function x(){return!(t.unstable_now()-B<j)}function S(){if(O!==null){var X=t.unstable_now();B=X;var ue=!0;try{ue=O(!0,X)}finally{ue?P():(re=!1,O=null)}}else re=!1}var P;if(typeof b=="function")P=function(){b(S)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,me=K.port2;K.port1.onmessage=S,P=function(){me.postMessage(null)}}else P=function(){R(S,0)};function ve(X){O=X,re||(re=!0,P())}function _e(X,ue){I=R(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){N||g||(N=!0,ve(Q))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var he=y;y=ue;try{return X()}finally{y=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=y;y=X;try{return ue()}finally{y=he}},t.unstable_scheduleCallback=function(X,ue,he){var Re=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Re+he:Re):he=Re,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=he+D,X={id:d++,callback:ue,priorityLevel:X,startTime:he,expirationTime:D,sortIndex:-1},he>Re?(X.sortIndex=he,e(h,X),n(l)===null&&X===n(h)&&(T?(w(I),I=-1):T=!0,_e(H,he-Re))):(X.sortIndex=D,e(l,X),N||g||(N=!0,ve(Q))),X},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(X){var ue=y;return function(){var he=y;y=ue;try{return X.apply(this,arguments)}finally{y=he}}}})(J_);Y_.exports=J_;var tA=Y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=Se,fi=tA;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,wh={};function Pl(t,e){zu(t,e),zu(t+"Capture",e)}function zu(t,e){for(wh[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=Object.prototype.hasOwnProperty,rA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Bv={};function iA(t){return Dg.call(Bv,t)?!0:Dg.call(Vv,t)?!1:rA.test(t)?Bv[t]=!0:(Vv[t]=!0,!1)}function sA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oA(t,e,n,r){if(e===null||typeof e>"u"||sA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var _0=/[\-:]([a-z])/g;function w0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_0,w0);or[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_0,w0);or[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_0,w0);or[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function b0(t,e,n,r){var i=or.hasOwnProperty(e)?or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oA(e,n,i,r)&&(n=null),r||i===null?iA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yo=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),mu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),ew=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),tw=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function Mc(t){return t===null||typeof t!="object"?null:(t=Uv&&t[Uv]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Object.assign,Vm;function Qc(t){if(Vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vm=e&&e[1]||""}return`
`+Vm+t}var Bm=!1;function Um(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qc(t):""}function aA(t){switch(t.tag){case 5:return Qc(t.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return t=Um(t.type,!1),t;case 11:return t=Um(t.type.render,!1),t;case 1:return t=Um(t.type,!0),t;default:return""}}function Mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gu:return"Fragment";case mu:return"Portal";case Og:return"Profiler";case E0:return"StrictMode";case jg:return"Suspense";case Fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ew:return(t.displayName||"Context")+".Consumer";case Z_:return(t._context.displayName||"Context")+".Provider";case S0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A0:return e=t.displayName||null,e!==null?e:Mg(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return Mg(t(e))}catch{}}return null}function lA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mg(e);case 8:return e===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uA(t){var e=nw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bf(t){t._valueTracker||(t._valueTracker=uA(t))}function rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vg(t,e){var n=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iw(t,e){e=e.checked,e!=null&&b0(t,"checked",e,!1)}function Bg(t,e){iw(t,e);var n=Ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ug(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ug(t,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ug(t,e,n){(e!=="number"||jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yc=Array.isArray;function Pu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(Yc(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ta(n)}}function sw(t,e){var n=Ta(e.value),r=Ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ow(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ow(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,aw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cA=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){cA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function uw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hA=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(t,e){if(e){if(hA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function Wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function I0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gg=null,ku=null,Cu=null;function Hv(t){if(t=Xh(t)){if(typeof Gg!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=Op(e),Gg(t.stateNode,t.type,e))}}function cw(t){ku?Cu?Cu.push(t):Cu=[t]:ku=t}function hw(){if(ku){var t=ku,e=Cu;if(Cu=ku=null,Hv(t),e)for(t=0;t<e.length;t++)Hv(e[t])}}function fw(t,e){return t(e)}function dw(){}var qm=!1;function pw(t,e,n){if(qm)return t(e,n);qm=!0;try{return fw(t,e,n)}finally{qm=!1,(ku!==null||Cu!==null)&&(dw(),hw())}}function Eh(t,e){var n=t.stateNode;if(n===null)return null;var r=Op(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Kg=!1;if(uo)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{Kg=!1}function fA(t,e,n,r,i,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var oh=!1,Fd=null,Md=!1,Qg=null,dA={onError:function(t){oh=!0,Fd=t}};function pA(t,e,n,r,i,s,o,a,l){oh=!1,Fd=null,fA.apply(dA,arguments)}function mA(t,e,n,r,i,s,o,a,l){if(pA.apply(this,arguments),oh){if(oh){var h=Fd;oh=!1,Fd=null}else throw Error(Oe(198));Md||(Md=!0,Qg=h)}}function kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gv(t){if(kl(t)!==t)throw Error(Oe(188))}function gA(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gv(i),t;if(s===r)return Gv(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function gw(t){return t=gA(t),t!==null?vw(t):null}function vw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vw(t);if(e!==null)return e;t=t.sibling}return null}var yw=fi.unstable_scheduleCallback,Kv=fi.unstable_cancelCallback,vA=fi.unstable_shouldYield,yA=fi.unstable_requestPaint,In=fi.unstable_now,_A=fi.unstable_getCurrentPriorityLevel,x0=fi.unstable_ImmediatePriority,_w=fi.unstable_UserBlockingPriority,Vd=fi.unstable_NormalPriority,wA=fi.unstable_LowPriority,ww=fi.unstable_IdlePriority,Cp=null,Ss=null;function bA(t){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Cp,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:AA,EA=Math.log,SA=Math.LN2;function AA(t){return t>>>=0,t===0?32:31-(EA(t)/SA|0)|0}var qf=64,zf=4194304;function Jc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Jc(a):(s&=o,s!==0&&(r=Jc(s)))}else o=n&~i,o!==0?r=Jc(o):s!==0&&(r=Jc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function IA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=IA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bw(){var t=qf;return qf<<=1,!(qf&4194240)&&(qf=64),t}function zm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function TA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function T0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var zt=0;function Ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,N0,Aw,Iw,xw,Jg=!1,$f=[],da=null,pa=null,ma=null,Sh=new Map,Ah=new Map,na=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(t,e){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(e.pointerId)}}function Bc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xh(e),e!==null&&N0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PA(t,e,n,r,i){switch(e){case"focusin":return da=Bc(da,t,e,n,r,i),!0;case"dragenter":return pa=Bc(pa,t,e,n,r,i),!0;case"mouseover":return ma=Bc(ma,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sh.set(s,Bc(Sh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ah.set(s,Bc(Ah.get(s)||null,t,e,n,r,i)),!0}return!1}function Tw(t){var e=cl(t.target);if(e!==null){var n=kl(e);if(n!==null){if(e=n.tag,e===13){if(e=mw(n),e!==null){t.blockedOn=e,xw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hg=r,n.target.dispatchEvent(r),Hg=null}else return e=Xh(n),e!==null&&N0(e),t.blockedOn=n,!1;e.shift()}return!0}function Yv(t,e,n){fd(t)&&n.delete(e)}function kA(){Jg=!1,da!==null&&fd(da)&&(da=null),pa!==null&&fd(pa)&&(pa=null),ma!==null&&fd(ma)&&(ma=null),Sh.forEach(Yv),Ah.forEach(Yv)}function Uc(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,kA)))}function Ih(t){function e(i){return Uc(i,t)}if(0<$f.length){Uc($f[0],t);for(var n=1;n<$f.length;n++){var r=$f[n];r.blockedOn===t&&(r.blockedOn=null)}}for(da!==null&&Uc(da,t),pa!==null&&Uc(pa,t),ma!==null&&Uc(ma,t),Sh.forEach(e),Ah.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)Tw(n),n.blockedOn===null&&na.shift()}var Lu=yo.ReactCurrentBatchConfig,Ud=!0;function CA(t,e,n,r){var i=zt,s=Lu.transition;Lu.transition=null;try{zt=1,P0(t,e,n,r)}finally{zt=i,Lu.transition=s}}function LA(t,e,n,r){var i=zt,s=Lu.transition;Lu.transition=null;try{zt=4,P0(t,e,n,r)}finally{zt=i,Lu.transition=s}}function P0(t,e,n,r){if(Ud){var i=Xg(t,e,n,r);if(i===null)Zm(t,e,r,qd,n),Qv(t,r);else if(PA(i,t,e,n,r))r.stopPropagation();else if(Qv(t,r),e&4&&-1<NA.indexOf(t)){for(;i!==null;){var s=Xh(i);if(s!==null&&Sw(s),s=Xg(t,e,n,r),s===null&&Zm(t,e,r,qd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zm(t,e,r,null,n)}}var qd=null;function Xg(t,e,n,r){if(qd=null,t=I0(r),t=cl(t),t!==null)if(e=kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qd=t,null}function Nw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_A()){case x0:return 1;case _w:return 4;case Vd:case wA:return 16;case ww:return 536870912;default:return 16}default:return 16}}var la=null,k0=null,dd=null;function Pw(){if(dd)return dd;var t,e=k0,n=e.length,r,i="value"in la?la.value:la.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dd=i.slice(t,1<r?1-r:void 0)}function pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function Jv(){return!1}function pi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wf:Jv,this.isPropagationStopped=Jv,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=pi(ac),Jh=fn({},ac,{view:0,detail:0}),RA=pi(Jh),$m,Wm,qc,Lp=fn({},Jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?($m=t.screenX-qc.screenX,Wm=t.screenY-qc.screenY):Wm=$m=0,qc=t),$m)},movementY:function(t){return"movementY"in t?t.movementY:Wm}}),Xv=pi(Lp),DA=fn({},Lp,{dataTransfer:0}),OA=pi(DA),jA=fn({},Jh,{relatedTarget:0}),Hm=pi(jA),FA=fn({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),MA=pi(FA),VA=fn({},ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BA=pi(VA),UA=fn({},ac,{data:0}),Zv=pi(UA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$A[t])?!!e[t]:!1}function L0(){return WA}var HA=fn({},Jh,{key:function(t){if(t.key){var e=qA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L0,charCode:function(t){return t.type==="keypress"?pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GA=pi(HA),KA=fn({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=pi(KA),QA=fn({},Jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L0}),YA=pi(QA),JA=fn({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),XA=pi(JA),ZA=fn({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eI=pi(ZA),tI=[9,13,27,32],R0=uo&&"CompositionEvent"in window,ah=null;uo&&"documentMode"in document&&(ah=document.documentMode);var nI=uo&&"TextEvent"in window&&!ah,kw=uo&&(!R0||ah&&8<ah&&11>=ah),ty=" ",ny=!1;function Cw(t,e){switch(t){case"keyup":return tI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vu=!1;function rI(t,e){switch(t){case"compositionend":return Lw(e);case"keypress":return e.which!==32?null:(ny=!0,ty);case"textInput":return t=e.data,t===ty&&ny?null:t;default:return null}}function iI(t,e){if(vu)return t==="compositionend"||!R0&&Cw(t,e)?(t=Pw(),dd=k0=la=null,vu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kw&&e.locale!=="ko"?null:e.data;default:return null}}var sI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sI[t.type]:e==="textarea"}function Rw(t,e,n,r){cw(r),e=zd(e,"onChange"),0<e.length&&(n=new C0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,xh=null;function oI(t){$w(t,0)}function Rp(t){var e=wu(t);if(rw(e))return t}function aI(t,e){if(t==="change")return e}var Dw=!1;if(uo){var Gm;if(uo){var Km="oninput"in document;if(!Km){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Km=typeof iy.oninput=="function"}Gm=Km}else Gm=!1;Dw=Gm&&(!document.documentMode||9<document.documentMode)}function sy(){lh&&(lh.detachEvent("onpropertychange",Ow),xh=lh=null)}function Ow(t){if(t.propertyName==="value"&&Rp(xh)){var e=[];Rw(e,xh,t,I0(t)),pw(oI,e)}}function lI(t,e,n){t==="focusin"?(sy(),lh=e,xh=n,lh.attachEvent("onpropertychange",Ow)):t==="focusout"&&sy()}function uI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rp(xh)}function cI(t,e){if(t==="click")return Rp(e)}function hI(t,e){if(t==="input"||t==="change")return Rp(e)}function fI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:fI;function Th(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dg.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,e){var n=oy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jd(t.document)}return e}function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dI(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ay(n,s);var o=ay(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pI=uo&&"documentMode"in document&&11>=document.documentMode,yu=null,Zg=null,uh=null,e1=!1;function ly(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e1||yu==null||yu!==jd(r)||(r=yu,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&Th(uh,r)||(uh=r,r=zd(Zg,"onSelect"),0<r.length&&(e=new C0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yu)))}function Hf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _u={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},Qm={},Mw={};uo&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function Dp(t){if(Qm[t])return Qm[t];if(!_u[t])return t;var e=_u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mw)return Qm[t]=e[n];return t}var Vw=Dp("animationend"),Bw=Dp("animationiteration"),Uw=Dp("animationstart"),qw=Dp("transitionend"),zw=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(t,e){zw.set(t,e),Pl(e,[t])}for(var Ym=0;Ym<uy.length;Ym++){var Jm=uy[Ym],mI=Jm.toLowerCase(),gI=Jm[0].toUpperCase()+Jm.slice(1);Da(mI,"on"+gI)}Da(Vw,"onAnimationEnd");Da(Bw,"onAnimationIteration");Da(Uw,"onAnimationStart");Da("dblclick","onDoubleClick");Da("focusin","onFocus");Da("focusout","onBlur");Da(qw,"onTransitionEnd");zu("onMouseEnter",["mouseout","mouseover"]);zu("onMouseLeave",["mouseout","mouseover"]);zu("onPointerEnter",["pointerout","pointerover"]);zu("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mA(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cy(i,a,h),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cy(i,a,h),s=l}}}if(Md)throw t=Qg,Md=!1,Qg=null,t}function rn(t,e){var n=e[s1];n===void 0&&(n=e[s1]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function Xm(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Nh(t){if(!t[Gf]){t[Gf]=!0,X_.forEach(function(n){n!=="selectionchange"&&(vI.has(n)||Xm(n,!1,t),Xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,Xm("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(Nw(e)){case 1:var i=CA;break;case 4:i=LA;break;default:i=P0}n=i.bind(null,e,n,t),i=void 0,!Kg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pw(function(){var h=s,d=I0(n),p=[];e:{var y=zw.get(t);if(y!==void 0){var g=C0,N=t;switch(t){case"keypress":if(pd(n)===0)break e;case"keydown":case"keyup":g=GA;break;case"focusin":N="focus",g=Hm;break;case"focusout":N="blur",g=Hm;break;case"beforeblur":case"afterblur":g=Hm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YA;break;case Vw:case Bw:case Uw:g=MA;break;case qw:g=XA;break;case"scroll":g=RA;break;case"wheel":g=eI;break;case"copy":case"cut":case"paste":g=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ey}var T=(e&4)!==0,R=!T&&t==="scroll",w=T?y!==null?y+"Capture":null:y;T=[];for(var b=h,k;b!==null;){k=b;var H=k.stateNode;if(k.tag===5&&H!==null&&(k=H,w!==null&&(H=Eh(b,w),H!=null&&T.push(Ph(b,H,k)))),R)break;b=b.return}0<T.length&&(y=new g(y,N,null,n,d),p.push({event:y,listeners:T}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",y&&n!==Hg&&(N=n.relatedTarget||n.fromElement)&&(cl(N)||N[co]))break e;if((g||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,g?(N=n.relatedTarget||n.toElement,g=h,N=N?cl(N):null,N!==null&&(R=kl(N),N!==R||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=h),g!==N)){if(T=Xv,H="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(T=ey,H="onPointerLeave",w="onPointerEnter",b="pointer"),R=g==null?y:wu(g),k=N==null?y:wu(N),y=new T(H,b+"leave",g,n,d),y.target=R,y.relatedTarget=k,H=null,cl(d)===h&&(T=new T(w,b+"enter",N,n,d),T.target=k,T.relatedTarget=R,H=T),R=H,g&&N)t:{for(T=g,w=N,b=0,k=T;k;k=ou(k))b++;for(k=0,H=w;H;H=ou(H))k++;for(;0<b-k;)T=ou(T),b--;for(;0<k-b;)w=ou(w),k--;for(;b--;){if(T===w||w!==null&&T===w.alternate)break t;T=ou(T),w=ou(w)}T=null}else T=null;g!==null&&hy(p,y,g,T,!1),N!==null&&R!==null&&hy(p,R,N,T,!0)}}e:{if(y=h?wu(h):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var Q=aI;else if(ry(y))if(Dw)Q=hI;else{Q=uI;var re=lI}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Q=cI);if(Q&&(Q=Q(t,h))){Rw(p,Q,n,d);break e}re&&re(t,y,h),t==="focusout"&&(re=y._wrapperState)&&re.controlled&&y.type==="number"&&Ug(y,"number",y.value)}switch(re=h?wu(h):window,t){case"focusin":(ry(re)||re.contentEditable==="true")&&(yu=re,Zg=h,uh=null);break;case"focusout":uh=Zg=yu=null;break;case"mousedown":e1=!0;break;case"contextmenu":case"mouseup":case"dragend":e1=!1,ly(p,n,d);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":ly(p,n,d)}var O;if(R0)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vu?Cw(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(kw&&n.locale!=="ko"&&(vu||I!=="onCompositionStart"?I==="onCompositionEnd"&&vu&&(O=Pw()):(la=d,k0="value"in la?la.value:la.textContent,vu=!0)),re=zd(h,I),0<re.length&&(I=new Zv(I,t,null,n,d),p.push({event:I,listeners:re}),O?I.data=O:(O=Lw(n),O!==null&&(I.data=O)))),(O=nI?rI(t,n):iI(t,n))&&(h=zd(h,"onBeforeInput"),0<h.length&&(d=new Zv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=O))}$w(p,e)})}function Ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eh(t,n),s!=null&&r.unshift(Ph(t,s,i)),s=Eh(t,e),s!=null&&r.push(Ph(t,s,i))),t=t.return}return r}function ou(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=Eh(n,s),l!=null&&o.unshift(Ph(n,l,a))):i||(l=Eh(n,s),l!=null&&o.push(Ph(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yI=/\r\n?/g,_I=/\u0000|\uFFFD/g;function fy(t){return(typeof t=="string"?t:""+t).replace(yI,`
`).replace(_I,"")}function Kf(t,e,n){if(e=fy(e),fy(t)!==e&&n)throw Error(Oe(425))}function $d(){}var t1=null,n1=null;function r1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=typeof setTimeout=="function"?setTimeout:void 0,wI=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,bI=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(EI)}:i1;function EI(t){setTimeout(function(){throw t})}function eg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ih(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ih(e)}function ga(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lc=Math.random().toString(36).slice(2),bs="__reactFiber$"+lc,kh="__reactProps$"+lc,co="__reactContainer$"+lc,s1="__reactEvents$"+lc,SI="__reactListeners$"+lc,AI="__reactHandles$"+lc;function cl(t){var e=t[bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[co]||n[bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=py(t);t!==null;){if(n=t[bs])return n;t=py(t)}return e}t=n,n=t.parentNode}return null}function Xh(t){return t=t[bs]||t[co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function Op(t){return t[kh]||null}var o1=[],bu=-1;function Oa(t){return{current:t}}function an(t){0>bu||(t.current=o1[bu],o1[bu]=null,bu--)}function Zt(t,e){bu++,o1[bu]=t.current,t.current=e}var Na={},Sr=Oa(Na),Gr=Oa(!1),yl=Na;function $u(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function Wd(){an(Gr),an(Sr)}function my(t,e,n){if(Sr.current!==Na)throw Error(Oe(168));Zt(Sr,e),Zt(Gr,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,lA(t)||"Unknown",i));return fn({},n,r)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,yl=Sr.current,Zt(Sr,t),Zt(Gr,Gr.current),!0}function gy(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=Hw(t,e,yl),r.__reactInternalMemoizedMergedChildContext=t,an(Gr),an(Sr),Zt(Sr,t)):an(Gr),Zt(Gr,n)}var eo=null,jp=!1,tg=!1;function Gw(t){eo===null?eo=[t]:eo.push(t)}function II(t){jp=!0,Gw(t)}function ja(){if(!tg&&eo!==null){tg=!0;var t=0,e=zt;try{var n=eo;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}eo=null,jp=!1}catch(i){throw eo!==null&&(eo=eo.slice(t+1)),yw(x0,ja),i}finally{zt=e,tg=!1}}return null}var Eu=[],Su=0,Gd=null,Kd=0,Ii=[],xi=0,_l=null,to=1,no="";function sl(t,e){Eu[Su++]=Kd,Eu[Su++]=Gd,Gd=t,Kd=e}function Kw(t,e,n){Ii[xi++]=to,Ii[xi++]=no,Ii[xi++]=_l,_l=t;var r=to;t=no;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,to=1<<32-Yi(e)+i|n<<i|r,no=s+t}else to=1<<s|n<<i|r,no=t}function O0(t){t.return!==null&&(sl(t,1),Kw(t,1,0))}function j0(t){for(;t===Gd;)Gd=Eu[--Su],Eu[Su]=null,Kd=Eu[--Su],Eu[Su]=null;for(;t===_l;)_l=Ii[--xi],Ii[xi]=null,no=Ii[--xi],Ii[xi]=null,to=Ii[--xi],Ii[xi]=null}var hi=null,ai=null,ln=!1,Qi=null;function Qw(t,e){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hi=t,ai=ga(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hi=t,ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_l!==null?{id:to,overflow:no}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hi=t,ai=null,!0):!1;default:return!1}}function a1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function l1(t){if(ln){var e=ai;if(e){var n=e;if(!vy(t,e)){if(a1(t))throw Error(Oe(418));e=ga(n.nextSibling);var r=hi;e&&vy(t,e)?Qw(r,n):(t.flags=t.flags&-4097|2,ln=!1,hi=t)}}else{if(a1(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,ln=!1,hi=t}}}function yy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hi=t}function Qf(t){if(t!==hi)return!1;if(!ln)return yy(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r1(t.type,t.memoizedProps)),e&&(e=ai)){if(a1(t))throw Yw(),Error(Oe(418));for(;e;)Qw(t,e),e=ga(e.nextSibling)}if(yy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ai=ga(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ai=null}}else ai=hi?ga(t.stateNode.nextSibling):null;return!0}function Yw(){for(var t=ai;t;)t=ga(t.nextSibling)}function Wu(){ai=hi=null,ln=!1}function F0(t){Qi===null?Qi=[t]:Qi.push(t)}var xI=yo.ReactCurrentBatchConfig;function zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function Jw(t){function e(w,b){if(t){var k=w.deletions;k===null?(w.deletions=[b],w.flags|=16):k.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=wa(w,b),w.index=0,w.sibling=null,w}function s(w,b,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<b?(w.flags|=2,b):k):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,k,H){return b===null||b.tag!==6?(b=lg(k,w.mode,H),b.return=w,b):(b=i(b,k),b.return=w,b)}function l(w,b,k,H){var Q=k.type;return Q===gu?d(w,b,k.props.children,H,k.key):b!==null&&(b.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ea&&_y(Q)===b.type)?(H=i(b,k.props),H.ref=zc(w,b,k),H.return=w,H):(H=bd(k.type,k.key,k.props,null,w.mode,H),H.ref=zc(w,b,k),H.return=w,H)}function h(w,b,k,H){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=ug(k,w.mode,H),b.return=w,b):(b=i(b,k.children||[]),b.return=w,b)}function d(w,b,k,H,Q){return b===null||b.tag!==7?(b=ml(k,w.mode,H,Q),b.return=w,b):(b=i(b,k),b.return=w,b)}function p(w,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=lg(""+b,w.mode,k),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vf:return k=bd(b.type,b.key,b.props,null,w.mode,k),k.ref=zc(w,null,b),k.return=w,k;case mu:return b=ug(b,w.mode,k),b.return=w,b;case ea:var H=b._init;return p(w,H(b._payload),k)}if(Yc(b)||Mc(b))return b=ml(b,w.mode,k,null),b.return=w,b;Yf(w,b)}return null}function y(w,b,k,H){var Q=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Q!==null?null:a(w,b,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vf:return k.key===Q?l(w,b,k,H):null;case mu:return k.key===Q?h(w,b,k,H):null;case ea:return Q=k._init,y(w,b,Q(k._payload),H)}if(Yc(k)||Mc(k))return Q!==null?null:d(w,b,k,H,null);Yf(w,k)}return null}function g(w,b,k,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return w=w.get(k)||null,a(b,w,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Vf:return w=w.get(H.key===null?k:H.key)||null,l(b,w,H,Q);case mu:return w=w.get(H.key===null?k:H.key)||null,h(b,w,H,Q);case ea:var re=H._init;return g(w,b,k,re(H._payload),Q)}if(Yc(H)||Mc(H))return w=w.get(k)||null,d(b,w,H,Q,null);Yf(b,H)}return null}function N(w,b,k,H){for(var Q=null,re=null,O=b,I=b=0,j=null;O!==null&&I<k.length;I++){O.index>I?(j=O,O=null):j=O.sibling;var B=y(w,O,k[I],H);if(B===null){O===null&&(O=j);break}t&&O&&B.alternate===null&&e(w,O),b=s(B,b,I),re===null?Q=B:re.sibling=B,re=B,O=j}if(I===k.length)return n(w,O),ln&&sl(w,I),Q;if(O===null){for(;I<k.length;I++)O=p(w,k[I],H),O!==null&&(b=s(O,b,I),re===null?Q=O:re.sibling=O,re=O);return ln&&sl(w,I),Q}for(O=r(w,O);I<k.length;I++)j=g(O,w,I,k[I],H),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?I:j.key),b=s(j,b,I),re===null?Q=j:re.sibling=j,re=j);return t&&O.forEach(function(x){return e(w,x)}),ln&&sl(w,I),Q}function T(w,b,k,H){var Q=Mc(k);if(typeof Q!="function")throw Error(Oe(150));if(k=Q.call(k),k==null)throw Error(Oe(151));for(var re=Q=null,O=b,I=b=0,j=null,B=k.next();O!==null&&!B.done;I++,B=k.next()){O.index>I?(j=O,O=null):j=O.sibling;var x=y(w,O,B.value,H);if(x===null){O===null&&(O=j);break}t&&O&&x.alternate===null&&e(w,O),b=s(x,b,I),re===null?Q=x:re.sibling=x,re=x,O=j}if(B.done)return n(w,O),ln&&sl(w,I),Q;if(O===null){for(;!B.done;I++,B=k.next())B=p(w,B.value,H),B!==null&&(b=s(B,b,I),re===null?Q=B:re.sibling=B,re=B);return ln&&sl(w,I),Q}for(O=r(w,O);!B.done;I++,B=k.next())B=g(O,w,I,B.value,H),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?I:B.key),b=s(B,b,I),re===null?Q=B:re.sibling=B,re=B);return t&&O.forEach(function(S){return e(w,S)}),ln&&sl(w,I),Q}function R(w,b,k,H){if(typeof k=="object"&&k!==null&&k.type===gu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Vf:e:{for(var Q=k.key,re=b;re!==null;){if(re.key===Q){if(Q=k.type,Q===gu){if(re.tag===7){n(w,re.sibling),b=i(re,k.props.children),b.return=w,w=b;break e}}else if(re.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ea&&_y(Q)===re.type){n(w,re.sibling),b=i(re,k.props),b.ref=zc(w,re,k),b.return=w,w=b;break e}n(w,re);break}else e(w,re);re=re.sibling}k.type===gu?(b=ml(k.props.children,w.mode,H,k.key),b.return=w,w=b):(H=bd(k.type,k.key,k.props,null,w.mode,H),H.ref=zc(w,b,k),H.return=w,w=H)}return o(w);case mu:e:{for(re=k.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){n(w,b.sibling),b=i(b,k.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=ug(k,w.mode,H),b.return=w,w=b}return o(w);case ea:return re=k._init,R(w,b,re(k._payload),H)}if(Yc(k))return N(w,b,k,H);if(Mc(k))return T(w,b,k,H);Yf(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,k),b.return=w,w=b):(n(w,b),b=lg(k,w.mode,H),b.return=w,w=b),o(w)):n(w,b)}return R}var Hu=Jw(!0),Xw=Jw(!1),Qd=Oa(null),Yd=null,Au=null,M0=null;function V0(){M0=Au=Yd=null}function B0(t){var e=Qd.current;an(Qd),t._currentValue=e}function u1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ru(t,e){Yd=t,M0=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function ki(t){var e=t._currentValue;if(M0!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(Yd===null)throw Error(Oe(308));Au=t,Yd.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var hl=null;function U0(t){hl===null?hl=[t]:hl.push(t)}function Zw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ho(t,r)}function ho(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ta=!1;function q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function va(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ho(t,n)}return i=r.interleaved,i===null?(e.next=e,U0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ho(t,n)}function md(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,T0(t,n)}}function wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jd(t,e,n,r){var i=t.updateQueue;ta=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=h=l=null,a=s;do{var y=a.lane,g=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=t,T=a;switch(y=e,g=n,T.tag){case 1:if(N=T.payload,typeof N=="function"){p=N.call(g,p,y);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=T.payload,y=typeof N=="function"?N.call(g,p,y):N,y==null)break e;p=fn({},p,y);break e;case 2:ta=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else g={eventTime:g,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=g,l=p):d=d.next=g,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bl|=o,t.lanes=o,t.memoizedState=p}}function by(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var Zh={},As=Oa(Zh),Ch=Oa(Zh),Lh=Oa(Zh);function fl(t){if(t===Zh)throw Error(Oe(174));return t}function z0(t,e){switch(Zt(Lh,e),Zt(Ch,t),Zt(As,Zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zg(e,t)}an(As),Zt(As,e)}function Gu(){an(As),an(Ch),an(Lh)}function t4(t){fl(Lh.current);var e=fl(As.current),n=zg(e,t.type);e!==n&&(Zt(Ch,t),Zt(As,n))}function $0(t){Ch.current===t&&(an(As),an(Ch))}var un=Oa(0);function Xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ng=[];function W0(){for(var t=0;t<ng.length;t++)ng[t]._workInProgressVersionPrimary=null;ng.length=0}var gd=yo.ReactCurrentDispatcher,rg=yo.ReactCurrentBatchConfig,wl=0,cn=null,Vn=null,Hn=null,Zd=!1,ch=!1,Rh=0,TI=0;function fr(){throw Error(Oe(321))}function H0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function G0(t,e,n,r,i,s){if(wl=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gd.current=t===null||t.memoizedState===null?CI:LI,t=n(r,i),ch){s=0;do{if(ch=!1,Rh=0,25<=s)throw Error(Oe(301));s+=1,Hn=Vn=null,e.updateQueue=null,gd.current=RI,t=n(r,i)}while(ch)}if(gd.current=ep,e=Vn!==null&&Vn.next!==null,wl=0,Hn=Vn=cn=null,Zd=!1,e)throw Error(Oe(300));return t}function K0(){var t=Rh!==0;return Rh=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?cn.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function Ci(){if(Vn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Hn===null?cn.memoizedState:Hn.next;if(e!==null)Hn=e,Vn=t;else{if(t===null)throw Error(Oe(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Hn===null?cn.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function Dh(t,e){return typeof e=="function"?e(t):e}function ig(t){var e=Ci(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,h=s;do{var d=h.lane;if((wl&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,cn.lanes|=d,bl|=d}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=a,Xi(r,e.memoizedState)||(Hr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,bl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sg(t){var e=Ci(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xi(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function n4(){}function r4(t,e){var n=cn,r=Ci(),i=e(),s=!Xi(r.memoizedState,i);if(s&&(r.memoizedState=i,Hr=!0),r=r.queue,Q0(o4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,Oh(9,s4.bind(null,n,r,i,e),void 0,null),Kn===null)throw Error(Oe(349));wl&30||i4(n,e,i)}return i}function i4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s4(t,e,n,r){e.value=n,e.getSnapshot=r,a4(e)&&l4(t)}function o4(t,e,n){return n(function(){a4(e)&&l4(t)})}function a4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function l4(t){var e=ho(t,1);e!==null&&Ji(e,t,1,-1)}function Ey(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},e.queue=t,t=t.dispatch=kI.bind(null,cn,t),[e.memoizedState,t]}function Oh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u4(){return Ci().memoizedState}function vd(t,e,n,r){var i=ws();cn.flags|=t,i.memoizedState=Oh(1|e,n,void 0,r===void 0?null:r)}function Fp(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(Vn!==null){var o=Vn.memoizedState;if(s=o.destroy,r!==null&&H0(r,o.deps)){i.memoizedState=Oh(e,n,s,r);return}}cn.flags|=t,i.memoizedState=Oh(1|e,n,s,r)}function Sy(t,e){return vd(8390656,8,t,e)}function Q0(t,e){return Fp(2048,8,t,e)}function c4(t,e){return Fp(4,2,t,e)}function h4(t,e){return Fp(4,4,t,e)}function f4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d4(t,e,n){return n=n!=null?n.concat([t]):null,Fp(4,4,f4.bind(null,e,t),n)}function Y0(){}function p4(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m4(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function g4(t,e,n){return wl&21?(Xi(n,e)||(n=bw(),cn.lanes|=n,bl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=n)}function NI(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=rg.transition;rg.transition={};try{t(!1),e()}finally{zt=n,rg.transition=r}}function v4(){return Ci().memoizedState}function PI(t,e,n){var r=_a(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y4(t))_4(e,n);else if(n=Zw(t,e,n,r),n!==null){var i=Lr();Ji(n,t,r,i),w4(n,e,r)}}function kI(t,e,n){var r=_a(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y4(t))_4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xi(a,o)){var l=e.interleaved;l===null?(i.next=i,U0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Zw(t,e,i,r),n!==null&&(i=Lr(),Ji(n,t,r,i),w4(n,e,r))}}function y4(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function _4(t,e){ch=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function w4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,T0(t,n)}}var ep={readContext:ki,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},CI={readContext:ki,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:ki,useEffect:Sy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vd(4194308,4,f4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return vd(4,2,t,e)},useMemo:function(t,e){var n=ws();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ws();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PI.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:Ey,useDebugValue:Y0,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=Ey(!1),e=t[0];return t=NI.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=ws();if(ln){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Kn===null)throw Error(Oe(349));wl&30||i4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sy(o4.bind(null,r,s,t),[t]),r.flags|=2048,Oh(9,s4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ws(),e=Kn.identifierPrefix;if(ln){var n=no,r=to;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LI={readContext:ki,useCallback:p4,useContext:ki,useEffect:Q0,useImperativeHandle:d4,useInsertionEffect:c4,useLayoutEffect:h4,useMemo:m4,useReducer:ig,useRef:u4,useState:function(){return ig(Dh)},useDebugValue:Y0,useDeferredValue:function(t){var e=Ci();return g4(e,Vn.memoizedState,t)},useTransition:function(){var t=ig(Dh)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:r4,useId:v4,unstable_isNewReconciler:!1},RI={readContext:ki,useCallback:p4,useContext:ki,useEffect:Q0,useImperativeHandle:d4,useInsertionEffect:c4,useLayoutEffect:h4,useMemo:m4,useReducer:sg,useRef:u4,useState:function(){return sg(Dh)},useDebugValue:Y0,useDeferredValue:function(t){var e=Ci();return Vn===null?e.memoizedState=t:g4(e,Vn.memoizedState,t)},useTransition:function(){var t=sg(Dh)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:n4,useSyncExternalStore:r4,useId:v4,unstable_isNewReconciler:!1};function Hi(t,e){if(t&&t.defaultProps){e=fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function c1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mp={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=_a(t),s=ao(r,i);s.payload=e,n!=null&&(s.callback=n),e=va(t,s,i),e!==null&&(Ji(e,t,i,r),md(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=_a(t),s=ao(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=va(t,s,i),e!==null&&(Ji(e,t,i,r),md(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=_a(t),i=ao(n,r);i.tag=2,e!=null&&(i.callback=e),e=va(t,i,r),e!==null&&(Ji(e,t,r,n),md(e,t,r))}};function Ay(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Th(n,r)||!Th(i,s):!0}function b4(t,e,n){var r=!1,i=Na,s=e.contextType;return typeof s=="object"&&s!==null?s=ki(s):(i=Kr(e)?yl:Sr.current,r=e.contextTypes,s=(r=r!=null)?$u(t,i):Na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mp.enqueueReplaceState(e,e.state,null)}function h1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ki(s):(s=Kr(e)?yl:Sr.current,i.context=$u(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(c1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mp.enqueueReplaceState(i,i.state,null),Jd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ku(t,e){try{var n="",r=e;do n+=aA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function og(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function f1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function E4(t,e,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){np||(np=!0,E1=r),f1(t,e)},n}function S4(t,e,n){n=ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){f1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){f1(t,e),typeof r!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KI.bind(null,t,e,n),e.then(t,t))}function Ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ny(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ao(-1,1),e.tag=2,va(n,e,1))),n.lanes|=1),t)}var OI=yo.ReactCurrentOwner,Hr=!1;function Cr(t,e,n,r){e.child=t===null?Xw(e,null,n,r):Hu(e,t.child,n,r)}function Py(t,e,n,r,i){n=n.render;var s=e.ref;return Ru(e,i),r=G0(t,e,n,r,s,i),n=K0(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(ln&&n&&O0(e),e.flags|=1,Cr(t,e,r,i),e.child)}function ky(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!i2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,A4(t,e,s,r,i)):(t=bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Th,n(o,r)&&t.ref===e.ref)return fo(t,e,i)}return e.flags|=1,t=wa(s,r),t.ref=e.ref,t.return=e,e.child=t}function A4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Th(s,r)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,fo(t,e,i)}return d1(t,e,n,r,i)}function I4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(xu,oi),oi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(xu,oi),oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zt(xu,oi),oi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Zt(xu,oi),oi|=r;return Cr(t,e,i,n),e.child}function x4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function d1(t,e,n,r,i){var s=Kr(n)?yl:Sr.current;return s=$u(e,s),Ru(e,i),n=G0(t,e,n,r,s,i),r=K0(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(ln&&r&&O0(e),e.flags|=1,Cr(t,e,n,i),e.child)}function Cy(t,e,n,r,i){if(Kr(n)){var s=!0;Hd(e)}else s=!1;if(Ru(e,i),e.stateNode===null)yd(t,e),b4(e,n,r),h1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ki(h):(h=Kr(n)?yl:Sr.current,h=$u(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&Iy(e,o,r,h),ta=!1;var y=e.memoizedState;o.state=y,Jd(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Gr.current||ta?(typeof d=="function"&&(c1(e,n,d,r),l=e.memoizedState),(a=ta||Ay(e,n,a,r,y,l,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,e4(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Hi(e.type,a),o.props=h,p=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ki(l):(l=Kr(n)?yl:Sr.current,l=$u(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&Iy(e,o,r,l),ta=!1,y=e.memoizedState,o.state=y,Jd(e,r,o,i);var N=e.memoizedState;a!==p||y!==N||Gr.current||ta?(typeof g=="function"&&(c1(e,n,g,r),N=e.memoizedState),(h=ta||Ay(e,n,h,r,y,N,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),o.props=r,o.state=N,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return p1(t,e,n,r,s,i)}function p1(t,e,n,r,i,s){x4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gy(e,n,!1),fo(t,e,s);r=e.stateNode,OI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hu(e,t.child,null,s),e.child=Hu(e,null,a,s)):Cr(t,e,a,s),e.memoizedState=r.state,i&&gy(e,n,!0),e.child}function T4(t){var e=t.stateNode;e.pendingContext?my(t,e.pendingContext,e.pendingContext!==e.context):e.context&&my(t,e.context,!1),z0(t,e.containerInfo)}function Ly(t,e,n,r,i){return Wu(),F0(i),e.flags|=256,Cr(t,e,n,r),e.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function g1(t){return{baseLanes:t,cachePool:null,transitions:null}}function N4(t,e,n){var r=e.pendingProps,i=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(un,i&1),t===null)return l1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Up(o,r,0,null),t=ml(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=g1(n),e.memoizedState=m1,t):J0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wa(a,s):(s=ml(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?g1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=m1,r}return s=t.child,t=s.sibling,r=wa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function J0(t,e){return e=Up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jf(t,e,n,r){return r!==null&&F0(r),Hu(e,t.child,null,n),t=J0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=og(Error(Oe(422))),Jf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Up({mode:"visible",children:r.children},i,0,null),s=ml(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hu(e,t.child,null,o),e.child.memoizedState=g1(o),e.memoizedState=m1,s);if(!(e.mode&1))return Jf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=og(s,r,void 0),Jf(t,e,o,r)}if(a=(o&t.childLanes)!==0,Hr||a){if(r=Kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ho(t,i),Ji(r,t,i,-1))}return r2(),r=og(Error(Oe(421))),Jf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ai=ga(i.nextSibling),hi=e,ln=!0,Qi=null,t!==null&&(Ii[xi++]=to,Ii[xi++]=no,Ii[xi++]=_l,to=t.id,no=t.overflow,_l=e),e=J0(e,r.children),e.flags|=4096,e)}function Ry(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),u1(t.return,e,n)}function ag(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function P4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Cr(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,n,e);else if(t.tag===19)Ry(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(un,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ag(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ag(e,!0,n,null,s);break;case"together":ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=wa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FI(t,e,n){switch(e.tag){case 3:T4(e),Wu();break;case 5:t4(e);break;case 1:Kr(e.type)&&Hd(e);break;case 4:z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?N4(t,e,n):(Zt(un,un.current&1),t=fo(t,e,n),t!==null?t.sibling:null);Zt(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,I4(t,e,n)}return fo(t,e,n)}var k4,v1,C4,L4;k4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};v1=function(){};C4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fl(As.current);var s=null;switch(n){case"input":i=Vg(t,i),r=Vg(t,r),s=[];break;case"select":i=fn({},i,{value:void 0}),r=fn({},r,{value:void 0}),s=[];break;case"textarea":i=qg(t,i),r=qg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$d)}$g(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&rn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};L4=function(t,e,n,r){n!==r&&(e.flags|=4)};function $c(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MI(t,e,n){var r=e.pendingProps;switch(j0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Kr(e.type)&&Wd(),dr(e),null;case 3:return r=e.stateNode,Gu(),an(Gr),an(Sr),W0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(I1(Qi),Qi=null))),v1(t,e),dr(e),null;case 5:$0(e);var i=fl(Lh.current);if(n=e.type,t!==null&&e.stateNode!=null)C4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return dr(e),null}if(t=fl(As.current),Qf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bs]=e,r[kh]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<Xc.length;i++)rn(Xc[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":qv(r,s),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rn("invalid",r);break;case"textarea":$v(r,s),rn("invalid",r)}$g(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kf(r.textContent,a,t),i=["children",""+a]):wh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rn("scroll",r)}switch(n){case"input":Bf(r),zv(r,s,!0);break;case"textarea":Bf(r),Wv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$d)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ow(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bs]=e,t[kh]=r,k4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wg(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xc.length;i++)rn(Xc[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":qv(t,r),i=Vg(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":$v(t,r),i=qg(t,r),rn("invalid",t);break;default:i=r}$g(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bh(t,l):typeof l=="number"&&bh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&b0(t,s,l,o))}switch(n){case"input":Bf(t),zv(t,r,!1);break;case"textarea":Bf(t),Wv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)L4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=fl(Lh.current),fl(As.current),Qf(e)){if(r=e.stateNode,n=e.memoizedProps,r[bs]=e,(s=r.nodeValue!==n)&&(t=hi,t!==null))switch(t.tag){case 3:Kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bs]=e,e.stateNode=r}return dr(e),null;case 13:if(an(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&ai!==null&&e.mode&1&&!(e.flags&128))Yw(),Wu(),e.flags|=98560,s=!1;else if(s=Qf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[bs]=e}else Wu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),s=!1}else Qi!==null&&(I1(Qi),Qi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Un===0&&(Un=3):r2())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return Gu(),v1(t,e),t===null&&Nh(e.stateNode.containerInfo),dr(e),null;case 10:return B0(e.type._context),dr(e),null;case 17:return Kr(e.type)&&Wd(),dr(e),null;case 19:if(an(un),s=e.memoizedState,s===null)return dr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$c(s,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xd(t),o!==null){for(e.flags|=128,$c(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(un,un.current&1|2),e.child}t=t.sibling}s.tail!==null&&In()>Qu&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return dr(e),null}else 2*In()-s.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=In(),e.sibling=null,n=un.current,Zt(un,r?n&1|2:n&1),e):(dr(e),null);case 22:case 23:return n2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oi&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function VI(t,e){switch(j0(e),e.tag){case 1:return Kr(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gu(),an(Gr),an(Sr),W0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $0(e),null;case 13:if(an(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(un),null;case 4:return Gu(),null;case 10:return B0(e.type._context),null;case 22:case 23:return n2(),null;case 24:return null;default:return null}}var Xf=!1,wr=!1,BI=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Iu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(t,e,r)}else n.current=null}function y1(t,e,n){try{n()}catch(r){_n(t,e,r)}}var Dy=!1;function UI(t,e){if(t1=Ud,t=Fw(),D0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,d=0,p=t,y=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)y=p,p=g;for(;;){if(p===t)break t;if(y===n&&++h===i&&(a=o),y===s&&++d===r&&(l=o),(g=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n1={focusedElem:t,selectionRange:n},Ud=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var T=N.memoizedProps,R=N.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:Hi(e.type,T),R);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(H){_n(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return N=Dy,Dy=!1,N}function hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&y1(e,n,s)}i=i.next}while(i!==r)}}function Vp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R4(t){var e=t.alternate;e!==null&&(t.alternate=null,R4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bs],delete e[kh],delete e[s1],delete e[SI],delete e[AI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D4(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function w1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$d));else if(r!==4&&(t=t.child,t!==null))for(w1(t,e,n),t=t.sibling;t!==null;)w1(t,e,n),t=t.sibling}function b1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}var tr=null,Ki=!1;function Yo(t,e,n){for(n=n.child;n!==null;)O4(t,e,n),n=n.sibling}function O4(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Cp,n)}catch{}switch(n.tag){case 5:wr||Iu(n,e);case 6:var r=tr,i=Ki;tr=null,Yo(t,e,n),tr=r,Ki=i,tr!==null&&(Ki?(t=tr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tr.removeChild(n.stateNode));break;case 18:tr!==null&&(Ki?(t=tr,n=n.stateNode,t.nodeType===8?eg(t.parentNode,n):t.nodeType===1&&eg(t,n),Ih(t)):eg(tr,n.stateNode));break;case 4:r=tr,i=Ki,tr=n.stateNode.containerInfo,Ki=!0,Yo(t,e,n),tr=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&y1(n,e,o),i=i.next}while(i!==r)}Yo(t,e,n);break;case 1:if(!wr&&(Iu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_n(n,e,a)}Yo(t,e,n);break;case 21:Yo(t,e,n);break;case 22:n.mode&1?(wr=(r=wr)||n.memoizedState!==null,Yo(t,e,n),wr=r):Yo(t,e,n);break;default:Yo(t,e,n)}}function jy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BI),e.forEach(function(r){var i=YI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tr=a.stateNode,Ki=!1;break e;case 3:tr=a.stateNode.containerInfo,Ki=!0;break e;case 4:tr=a.stateNode.containerInfo,Ki=!0;break e}a=a.return}if(tr===null)throw Error(Oe(160));O4(s,o,i),tr=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){_n(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j4(e,t),e=e.sibling}function j4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),ys(t),r&4){try{hh(3,t,t.return),Vp(3,t)}catch(T){_n(t,t.return,T)}try{hh(5,t,t.return)}catch(T){_n(t,t.return,T)}}break;case 1:zi(e,t),ys(t),r&512&&n!==null&&Iu(n,n.return);break;case 5:if(zi(e,t),ys(t),r&512&&n!==null&&Iu(n,n.return),t.flags&32){var i=t.stateNode;try{bh(i,"")}catch(T){_n(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iw(i,s),Wg(a,o);var h=Wg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?uw(i,p):d==="dangerouslySetInnerHTML"?aw(i,p):d==="children"?bh(i,p):b0(i,d,p,h)}switch(a){case"input":Bg(i,s);break;case"textarea":sw(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Pu(i,!!s.multiple,g,!1):y!==!!s.multiple&&(s.defaultValue!=null?Pu(i,!!s.multiple,s.defaultValue,!0):Pu(i,!!s.multiple,s.multiple?[]:"",!1))}i[kh]=s}catch(T){_n(t,t.return,T)}}break;case 6:if(zi(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){_n(t,t.return,T)}}break;case 3:if(zi(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ih(e.containerInfo)}catch(T){_n(t,t.return,T)}break;case 4:zi(e,t),ys(t);break;case 13:zi(e,t),ys(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(e2=In())),r&4&&jy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wr=(h=wr)||d,zi(e,t),wr=h):zi(e,t),ys(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Ke=t,d=t.child;d!==null;){for(p=Ke=d;Ke!==null;){switch(y=Ke,g=y.child,y.tag){case 0:case 11:case 14:case 15:hh(4,y,y.return);break;case 1:Iu(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(T){_n(r,n,T)}}break;case 5:Iu(y,y.return);break;case 22:if(y.memoizedState!==null){My(p);continue}}g!==null?(g.return=y,Ke=g):My(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lw("display",o))}catch(T){_n(t,t.return,T)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(T){_n(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:zi(e,t),ys(t),r&4&&jy(t);break;case 21:break;default:zi(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D4(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bh(i,""),r.flags&=-33);var s=Oy(t);b1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oy(t);w1(t,a,o);break;default:throw Error(Oe(161))}}catch(l){_n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qI(t,e,n){Ke=t,F4(t)}function F4(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wr;a=Xf;var h=wr;if(Xf=o,(wr=l)&&!h)for(Ke=i;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?Vy(i):l!==null?(l.return=o,Ke=l):Vy(i);for(;s!==null;)Ke=s,F4(s),s=s.sibling;Ke=i,Xf=a,wr=h}Fy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):Fy(t)}}function Fy(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||Vp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&by(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}by(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ih(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}wr||e.flags&512&&_1(e)}catch(y){_n(e,e.return,y)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function My(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function Vy(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vp(4,e)}catch(l){_n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_n(e,i,l)}}var s=e.return;try{_1(e)}catch(l){_n(e,s,l)}break;case 5:var o=e.return;try{_1(e)}catch(l){_n(e,o,l)}}}catch(l){_n(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var zI=Math.ceil,tp=yo.ReactCurrentDispatcher,X0=yo.ReactCurrentOwner,Ni=yo.ReactCurrentBatchConfig,Rt=0,Kn=null,On=null,ir=0,oi=0,xu=Oa(0),Un=0,jh=null,bl=0,Bp=0,Z0=0,fh=null,$r=null,e2=0,Qu=1/0,Zs=null,np=!1,E1=null,ya=null,Zf=!1,ua=null,rp=0,dh=0,S1=null,_d=-1,wd=0;function Lr(){return Rt&6?In():_d!==-1?_d:_d=In()}function _a(t){return t.mode&1?Rt&2&&ir!==0?ir&-ir:xI.transition!==null?(wd===0&&(wd=bw()),wd):(t=zt,t!==0||(t=window.event,t=t===void 0?16:Nw(t.type)),t):1}function Ji(t,e,n,r){if(50<dh)throw dh=0,S1=null,Error(Oe(185));Yh(t,n,r),(!(Rt&2)||t!==Kn)&&(t===Kn&&(!(Rt&2)&&(Bp|=n),Un===4&&ra(t,ir)),Qr(t,r),n===1&&Rt===0&&!(e.mode&1)&&(Qu=In()+500,jp&&ja()))}function Qr(t,e){var n=t.callbackNode;xA(t,e);var r=Bd(t,t===Kn?ir:0);if(r===0)n!==null&&Kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kv(n),e===1)t.tag===0?II(By.bind(null,t)):Gw(By.bind(null,t)),bI(function(){!(Rt&6)&&ja()}),n=null;else{switch(Ew(r)){case 1:n=x0;break;case 4:n=_w;break;case 16:n=Vd;break;case 536870912:n=ww;break;default:n=Vd}n=W4(n,M4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M4(t,e){if(_d=-1,wd=0,Rt&6)throw Error(Oe(327));var n=t.callbackNode;if(Du()&&t.callbackNode!==n)return null;var r=Bd(t,t===Kn?ir:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var i=Rt;Rt|=2;var s=B4();(Kn!==t||ir!==e)&&(Zs=null,Qu=In()+500,pl(t,e));do try{HI();break}catch(a){V4(t,a)}while(!0);V0(),tp.current=s,Rt=i,On!==null?e=0:(Kn=null,ir=0,e=Un)}if(e!==0){if(e===2&&(i=Yg(t),i!==0&&(r=i,e=A1(t,i))),e===1)throw n=jh,pl(t,0),ra(t,r),Qr(t,In()),n;if(e===6)ra(t,r);else{if(i=t.current.alternate,!(r&30)&&!$I(i)&&(e=ip(t,r),e===2&&(s=Yg(t),s!==0&&(r=s,e=A1(t,s))),e===1))throw n=jh,pl(t,0),ra(t,r),Qr(t,In()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:ol(t,$r,Zs);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=e2+500-In(),10<e)){if(Bd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=i1(ol.bind(null,t,$r,Zs),e);break}ol(t,$r,Zs);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zI(r/1960))-r,10<r){t.timeoutHandle=i1(ol.bind(null,t,$r,Zs),r);break}ol(t,$r,Zs);break;case 5:ol(t,$r,Zs);break;default:throw Error(Oe(329))}}}return Qr(t,In()),t.callbackNode===n?M4.bind(null,t):null}function A1(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(pl(t,e).flags|=256),t=ip(t,e),t!==2&&(e=$r,$r=n,e!==null&&I1(e)),t}function I1(t){$r===null?$r=t:$r.push.apply($r,t)}function $I(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~Z0,e&=~Bp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function By(t){if(Rt&6)throw Error(Oe(327));Du();var e=Bd(t,0);if(!(e&1))return Qr(t,In()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=Yg(t);r!==0&&(e=r,n=A1(t,r))}if(n===1)throw n=jh,pl(t,0),ra(t,e),Qr(t,In()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ol(t,$r,Zs),Qr(t,In()),null}function t2(t,e){var n=Rt;Rt|=1;try{return t(e)}finally{Rt=n,Rt===0&&(Qu=In()+500,jp&&ja())}}function El(t){ua!==null&&ua.tag===0&&!(Rt&6)&&Du();var e=Rt;Rt|=1;var n=Ni.transition,r=zt;try{if(Ni.transition=null,zt=1,t)return t()}finally{zt=r,Ni.transition=n,Rt=e,!(Rt&6)&&ja()}}function n2(){oi=xu.current,an(xu)}function pl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wI(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(j0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:Gu(),an(Gr),an(Sr),W0();break;case 5:$0(r);break;case 4:Gu();break;case 13:an(un);break;case 19:an(un);break;case 10:B0(r.type._context);break;case 22:case 23:n2()}n=n.return}if(Kn=t,On=t=wa(t.current,null),ir=oi=e,Un=0,jh=null,Z0=Bp=bl=0,$r=fh=null,hl!==null){for(e=0;e<hl.length;e++)if(n=hl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hl=null}return t}function V4(t,e){do{var n=On;try{if(V0(),gd.current=ep,Zd){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zd=!1}if(wl=0,Hn=Vn=cn=null,ch=!1,Rh=0,X0.current=null,n===null||n.return===null){Un=1,jh=e,On=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ir,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ty(o);if(g!==null){g.flags&=-257,Ny(g,o,a,s,e),g.mode&1&&xy(s,h,e),e=g,l=h;var N=e.updateQueue;if(N===null){var T=new Set;T.add(l),e.updateQueue=T}else N.add(l);break e}else{if(!(e&1)){xy(s,h,e),r2();break e}l=Error(Oe(426))}}else if(ln&&a.mode&1){var R=Ty(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Ny(R,o,a,s,e),F0(Ku(l,a));break e}}s=l=Ku(l,a),Un!==4&&(Un=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=E4(s,l,e);wy(s,w);break e;case 1:a=l;var b=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ya===null||!ya.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var H=S4(s,a,e);wy(s,H);break e}}s=s.return}while(s!==null)}q4(n)}catch(Q){e=Q,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function B4(){var t=tp.current;return tp.current=ep,t===null?ep:t}function r2(){(Un===0||Un===3||Un===2)&&(Un=4),Kn===null||!(bl&268435455)&&!(Bp&268435455)||ra(Kn,ir)}function ip(t,e){var n=Rt;Rt|=2;var r=B4();(Kn!==t||ir!==e)&&(Zs=null,pl(t,e));do try{WI();break}catch(i){V4(t,i)}while(!0);if(V0(),Rt=n,tp.current=r,On!==null)throw Error(Oe(261));return Kn=null,ir=0,Un}function WI(){for(;On!==null;)U4(On)}function HI(){for(;On!==null&&!vA();)U4(On)}function U4(t){var e=$4(t.alternate,t,oi);t.memoizedProps=t.pendingProps,e===null?q4(t):On=e,X0.current=null}function q4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VI(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,On=null;return}}else if(n=MI(n,e,oi),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Un===0&&(Un=5)}function ol(t,e,n){var r=zt,i=Ni.transition;try{Ni.transition=null,zt=1,GI(t,e,n,r)}finally{Ni.transition=i,zt=r}return null}function GI(t,e,n,r){do Du();while(ua!==null);if(Rt&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TA(t,s),t===Kn&&(On=Kn=null,ir=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zf||(Zf=!0,W4(Vd,function(){return Du(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ni.transition,Ni.transition=null;var o=zt;zt=1;var a=Rt;Rt|=4,X0.current=null,UI(t,n),j4(n,t),dI(n1),Ud=!!t1,n1=t1=null,t.current=n,qI(n),yA(),Rt=a,zt=o,Ni.transition=s}else t.current=n;if(Zf&&(Zf=!1,ua=t,rp=i),s=t.pendingLanes,s===0&&(ya=null),bA(n.stateNode),Qr(t,In()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(np)throw np=!1,t=E1,E1=null,t;return rp&1&&t.tag!==0&&Du(),s=t.pendingLanes,s&1?t===S1?dh++:(dh=0,S1=t):dh=0,ja(),null}function Du(){if(ua!==null){var t=Ew(rp),e=Ni.transition,n=zt;try{if(Ni.transition=null,zt=16>t?16:t,ua===null)var r=!1;else{if(t=ua,ua=null,rp=0,Rt&6)throw Error(Oe(331));var i=Rt;for(Rt|=4,Ke=t.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Ke=h;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:hh(8,d,s)}var p=d.child;if(p!==null)p.return=d,Ke=p;else for(;Ke!==null;){d=Ke;var y=d.sibling,g=d.return;if(R4(d),d===h){Ke=null;break}if(y!==null){y.return=g,Ke=y;break}Ke=g}}}var N=s.alternate;if(N!==null){var T=N.child;if(T!==null){N.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ke=w;break e}Ke=s.return}}var b=t.current;for(Ke=b;Ke!==null;){o=Ke;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Ke=k;else e:for(o=b;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vp(9,a)}}catch(Q){_n(a,a.return,Q)}if(a===o){Ke=null;break e}var H=a.sibling;if(H!==null){H.return=a.return,Ke=H;break e}Ke=a.return}}if(Rt=i,ja(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Cp,t)}catch{}r=!0}return r}finally{zt=n,Ni.transition=e}}return!1}function Uy(t,e,n){e=Ku(n,e),e=E4(t,e,1),t=va(t,e,1),e=Lr(),t!==null&&(Yh(t,1,e),Qr(t,e))}function _n(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ya===null||!ya.has(r))){t=Ku(n,t),t=S4(e,t,1),e=va(e,t,1),t=Lr(),e!==null&&(Yh(e,1,t),Qr(e,t));break}}e=e.return}}function KI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&n,Kn===t&&(ir&n)===n&&(Un===4||Un===3&&(ir&130023424)===ir&&500>In()-e2?pl(t,0):Z0|=n),Qr(t,e)}function z4(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var n=Lr();t=ho(t,e),t!==null&&(Yh(t,e,n),Qr(t,n))}function QI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z4(t,n)}function YI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),z4(t,n)}var $4;$4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gr.current)Hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hr=!1,FI(t,e,n);Hr=!!(t.flags&131072)}else Hr=!1,ln&&e.flags&1048576&&Kw(e,Kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yd(t,e),t=e.pendingProps;var i=$u(e,Sr.current);Ru(e,n),i=G0(null,e,r,t,i,n);var s=K0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(s=!0,Hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q0(e),i.updater=Mp,e.stateNode=i,i._reactInternals=e,h1(e,r,t,n),e=p1(null,e,r,!0,s,n)):(e.tag=0,ln&&s&&O0(e),Cr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XI(r),t=Hi(r,t),i){case 0:e=d1(null,e,r,t,n);break e;case 1:e=Cy(null,e,r,t,n);break e;case 11:e=Py(null,e,r,t,n);break e;case 14:e=ky(null,e,r,Hi(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),d1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),Cy(t,e,r,i,n);case 3:e:{if(T4(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,e4(t,e),Jd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ku(Error(Oe(423)),e),e=Ly(t,e,r,n,i);break e}else if(r!==i){i=Ku(Error(Oe(424)),e),e=Ly(t,e,r,n,i);break e}else for(ai=ga(e.stateNode.containerInfo.firstChild),hi=e,ln=!0,Qi=null,n=Xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wu(),r===i){e=fo(t,e,n);break e}Cr(t,e,r,n)}e=e.child}return e;case 5:return t4(e),t===null&&l1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,r1(r,i)?o=null:s!==null&&r1(r,s)&&(e.flags|=32),x4(t,e),Cr(t,e,o,n),e.child;case 6:return t===null&&l1(e),null;case 13:return N4(t,e,n);case 4:return z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hu(e,null,r,n):Cr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),Py(t,e,r,i,n);case 7:return Cr(t,e,e.pendingProps,n),e.child;case 8:return Cr(t,e,e.pendingProps.children,n),e.child;case 12:return Cr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(Qd,r._currentValue),r._currentValue=o,s!==null)if(Xi(s.value,o)){if(s.children===i.children&&!Gr.current){e=fo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ao(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),u1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),u1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ru(e,n),i=ki(i),r=r(i),e.flags|=1,Cr(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),ky(t,e,r,i,n);case 15:return A4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),yd(t,e),e.tag=1,Kr(r)?(t=!0,Hd(e)):t=!1,Ru(e,n),b4(e,r,i),h1(e,r,i,n),p1(null,e,r,!0,t,n);case 19:return P4(t,e,n);case 22:return I4(t,e,n)}throw Error(Oe(156,e.tag))};function W4(t,e){return yw(t,e)}function JI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,n,r){return new JI(t,e,n,r)}function i2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XI(t){if(typeof t=="function")return i2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S0)return 11;if(t===A0)return 14}return 2}function wa(t,e){var n=t.alternate;return n===null?(n=Ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")i2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gu:return ml(n.children,i,s,e);case E0:o=8,i|=8;break;case Og:return t=Ti(12,n,e,i|2),t.elementType=Og,t.lanes=s,t;case jg:return t=Ti(13,n,e,i),t.elementType=jg,t.lanes=s,t;case Fg:return t=Ti(19,n,e,i),t.elementType=Fg,t.lanes=s,t;case tw:return Up(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z_:o=10;break e;case ew:o=9;break e;case S0:o=11;break e;case A0:o=14;break e;case ea:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Ti(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ml(t,e,n,r){return t=Ti(7,t,r,e),t.lanes=n,t}function Up(t,e,n,r){return t=Ti(22,t,r,e),t.elementType=tw,t.lanes=n,t.stateNode={isHidden:!1},t}function lg(t,e,n){return t=Ti(6,t,null,e),t.lanes=n,t}function ug(t,e,n){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zm(0),this.expirationTimes=zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s2(t,e,n,r,i,s,o,a,l){return t=new ZI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(s),t}function ex(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H4(t){if(!t)return Na;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(Kr(n))return Hw(t,n,e)}return e}function G4(t,e,n,r,i,s,o,a,l){return t=s2(n,r,!0,t,i,s,o,a,l),t.context=H4(null),n=t.current,r=Lr(),i=_a(n),s=ao(r,i),s.callback=e??null,va(n,s,i),t.current.lanes=i,Yh(t,i,r),Qr(t,r),t}function qp(t,e,n,r){var i=e.current,s=Lr(),o=_a(i);return n=H4(n),e.context===null?e.context=n:e.pendingContext=n,e=ao(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=va(i,e,o),t!==null&&(Ji(t,i,o,s),md(t,i,o)),o}function sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o2(t,e){qy(t,e),(t=t.alternate)&&qy(t,e)}function tx(){return null}var K4=typeof reportError=="function"?reportError:function(t){console.error(t)};function a2(t){this._internalRoot=t}zp.prototype.render=a2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));qp(t,e,null,null)};zp.prototype.unmount=a2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;El(function(){qp(null,t,null,null)}),e[co]=null}};function zp(t){this._internalRoot=t}zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&Tw(t)}};function l2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zy(){}function nx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=sp(o);s.call(h)}}var o=G4(e,r,t,0,null,!1,!1,"",zy);return t._reactRootContainer=o,t[co]=o.current,Nh(t.nodeType===8?t.parentNode:t),El(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=sp(l);a.call(h)}}var l=s2(t,0,!1,null,null,!1,!1,"",zy);return t._reactRootContainer=l,t[co]=l.current,Nh(t.nodeType===8?t.parentNode:t),El(function(){qp(e,l,n,r)}),l}function Wp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sp(o);a.call(l)}}qp(e,o,t,i)}else o=nx(n,e,t,i,r);return sp(o)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jc(e.pendingLanes);n!==0&&(T0(e,n|1),Qr(e,In()),!(Rt&6)&&(Qu=In()+500,ja()))}break;case 13:El(function(){var r=ho(t,1);if(r!==null){var i=Lr();Ji(r,t,1,i)}}),o2(t,1)}};N0=function(t){if(t.tag===13){var e=ho(t,134217728);if(e!==null){var n=Lr();Ji(e,t,134217728,n)}o2(t,134217728)}};Aw=function(t){if(t.tag===13){var e=_a(t),n=ho(t,e);if(n!==null){var r=Lr();Ji(n,t,e,r)}o2(t,e)}};Iw=function(){return zt};xw=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};Gg=function(t,e,n){switch(e){case"input":if(Bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Op(r);if(!i)throw Error(Oe(90));rw(r),Bg(r,i)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&Pu(t,!!n.multiple,e,!1)}};fw=t2;dw=El;var rx={usingClientEntryPoint:!1,Events:[Xh,wu,Op,cw,hw,t2]},Wc={findFiberByHostInstance:cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ix={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gw(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Cp=ed.inject(ix),Ss=ed}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l2(e))throw Error(Oe(200));return ex(t,e,null,n)};di.createRoot=function(t,e){if(!l2(t))throw Error(Oe(299));var n=!1,r="",i=K4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=s2(t,1,!1,null,null,n,!1,r,i),t[co]=e.current,Nh(t.nodeType===8?t.parentNode:t),new a2(e)};di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=gw(e),t=t===null?null:t.stateNode,t};di.flushSync=function(t){return El(t)};di.hydrate=function(t,e,n){if(!$p(e))throw Error(Oe(200));return Wp(null,t,e,!0,n)};di.hydrateRoot=function(t,e,n){if(!l2(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=K4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=G4(e,null,t,1,n??null,i,!1,s,o),t[co]=e.current,Nh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zp(e)};di.render=function(t,e,n){if(!$p(e))throw Error(Oe(200));return Wp(null,t,e,!1,n)};di.unmountComponentAtNode=function(t){if(!$p(t))throw Error(Oe(40));return t._reactRootContainer?(El(function(){Wp(null,null,t,!1,function(){t._reactRootContainer=null,t[co]=null})}),!0):!1};di.unstable_batchedUpdates=t2;di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$p(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Wp(t,e,n,!1,r)};di.version="18.3.1-next-f1338f8080-20240426";function Q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q4)}catch(t){console.error(t)}}Q4(),Q_.exports=di;var sx=Q_.exports,$y=sx;Rg.createRoot=$y.createRoot,Rg.hydrateRoot=$y.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}var ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ca||(ca={}));const Wy="popstate";function ox(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return x1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:op(i)}return lx(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ax(){return Math.random().toString(36).substr(2,8)}function Hy(t,e){return{usr:t.state,key:t.key,idx:e}}function x1(t,e,n,r){return n===void 0&&(n=null),Fh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||ax()})}function op(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ca.Pop,l=null,h=d();h==null&&(h=0,o.replaceState(Fh({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=ca.Pop;let R=d(),w=R==null?null:R-h;h=R,l&&l({action:a,location:T.location,delta:w})}function y(R,w){a=ca.Push;let b=x1(T.location,R,w);h=d()+1;let k=Hy(b,h),H=T.createHref(b);try{o.pushState(k,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(H)}s&&l&&l({action:a,location:T.location,delta:1})}function g(R,w){a=ca.Replace;let b=x1(T.location,R,w);h=d();let k=Hy(b,h),H=T.createHref(b);o.replaceState(k,"",H),s&&l&&l({action:a,location:T.location,delta:0})}function N(R){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof R=="string"?R:op(R);return b=b.replace(/ $/,"%20"),hn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let T={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wy,p),l=R,()=>{i.removeEventListener(Wy,p),l=null}},createHref(R){return e(i,R)},createURL:N,encodeLocation(R){let w=N(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:g,go(R){return o.go(R)}};return T}var Gy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gy||(Gy={}));function ux(t,e,n){return n===void 0&&(n="/"),cx(t,e,n)}function cx(t,e,n,r){let i=typeof e=="string"?uc(e):e,s=Yu(i.pathname||"/",n);if(s==null)return null;let o=J4(t);hx(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let h=Ex(s);a=wx(o[l],h)}return a}function J4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=ba([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),J4(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:yx(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of X4(s.path))i(s,o,l)}),e}function X4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=X4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_x(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fx=/^:[\w-]+$/,dx=3,px=2,mx=1,gx=10,vx=-2,Ky=t=>t==="*";function yx(t,e){let n=t.split("/"),r=n.length;return n.some(Ky)&&(r+=vx),e&&(r+=px),n.filter(i=>!Ky(i)).reduce((i,s)=>i+(fx.test(s)?dx:s===""?mx:gx),r)}function _x(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wx(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],h=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=T1({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},d),y=l.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ba([s,p.pathname]),pathnameBase:xx(ba([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=ba([s,p.pathnameBase]))}return o}function T1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,d,p)=>{let{paramName:y,isOptional:g}=d;if(y==="*"){let T=a[p]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const N=a[p];return g&&!N?h[y]=void 0:h[y]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function bx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Y4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ex(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uc(t):t;return{pathname:n?n.startsWith("/")?n:Ax(n,e):e,search:Tx(r),hash:Nx(i)}}function Ax(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ix(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u2(t,e){let n=Ix(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uc(t):(i=Fh({},t),hn(!i.pathname||!i.pathname.includes("?"),cg("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),cg("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),cg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?e[p]:"/"}let l=Sx(i,a),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}const ba=t=>t.join("/").replace(/\/\/+/g,"/"),xx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Px(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z4=["post","put","patch","delete"];new Set(Z4);const kx=["get",...Z4];new Set(kx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}const Hp=Se.createContext(null),e3=Se.createContext(null),_o=Se.createContext(null),Gp=Se.createContext(null),Cs=Se.createContext({outlet:null,matches:[],isDataRoute:!1}),t3=Se.createContext(null);function Cx(t,e){let{relative:n}=e===void 0?{}:e;cc()||hn(!1);let{basename:r,navigator:i}=Se.useContext(_o),{hash:s,pathname:o,search:a}=Kp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ba([r,o])),i.createHref({pathname:l,search:a,hash:s})}function cc(){return Se.useContext(Gp)!=null}function hc(){return cc()||hn(!1),Se.useContext(Gp).location}function n3(t){Se.useContext(_o).static||Se.useLayoutEffect(t)}function fc(){let{isDataRoute:t}=Se.useContext(Cs);return t?Gx():Lx()}function Lx(){cc()||hn(!1);let t=Se.useContext(Hp),{basename:e,future:n,navigator:r}=Se.useContext(_o),{matches:i}=Se.useContext(Cs),{pathname:s}=hc(),o=JSON.stringify(u2(i,n.v7_relativeSplatPath)),a=Se.useRef(!1);return n3(()=>{a.current=!0}),Se.useCallback(function(h,d){if(d===void 0&&(d={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let p=c2(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ba([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}const Rx=Se.createContext(null);function Dx(t){let e=Se.useContext(Cs).outlet;return e&&Se.createElement(Rx.Provider,{value:t},e)}function Ox(){let{matches:t}=Se.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function Kp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Se.useContext(_o),{matches:i}=Se.useContext(Cs),{pathname:s}=hc(),o=JSON.stringify(u2(i,r.v7_relativeSplatPath));return Se.useMemo(()=>c2(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jx(t,e){return Fx(t,e)}function Fx(t,e,n,r){cc()||hn(!1);let{navigator:i}=Se.useContext(_o),{matches:s}=Se.useContext(Cs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let h=hc(),d;if(e){var p;let R=typeof e=="string"?uc(e):e;l==="/"||(p=R.pathname)!=null&&p.startsWith(l)||hn(!1),d=R}else d=h;let y=d.pathname||"/",g=y;if(l!=="/"){let R=l.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=ux(t,{pathname:g}),T=qx(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:ba([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:ba([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&T?Se.createElement(Gp.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ca.Pop}},T):T}function Mx(){let t=Hx(),e=Px(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Se.createElement(Se.Fragment,null,Se.createElement("h2",null,"Unexpected Application Error!"),Se.createElement("h3",{style:{fontStyle:"italic"}},e),n?Se.createElement("pre",{style:i},n):null,null)}const Vx=Se.createElement(Mx,null);class Bx extends Se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Se.createElement(Cs.Provider,{value:this.props.routeContext},Se.createElement(t3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ux(t){let{routeContext:e,match:n,children:r}=t,i=Se.useContext(Hp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Se.createElement(Cs.Provider,{value:e},r)}function qx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||hn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:g}=n,N=p.route.loader&&y[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||N){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let g,N=!1,T=null,R=null;n&&(g=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||Vx,l&&(h<0&&y===0?(Kx("route-fallback"),N=!0,R=null):h===y&&(N=!0,R=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,y+1)),b=()=>{let k;return g?k=T:N?k=R:p.route.Component?k=Se.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,Se.createElement(Ux,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?Se.createElement(Bx,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var r3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r3||{}),i3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(i3||{});function zx(t){let e=Se.useContext(Hp);return e||hn(!1),e}function $x(t){let e=Se.useContext(e3);return e||hn(!1),e}function Wx(t){let e=Se.useContext(Cs);return e||hn(!1),e}function s3(t){let e=Wx(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function Hx(){var t;let e=Se.useContext(t3),n=$x(),r=s3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Gx(){let{router:t}=zx(r3.UseNavigateStable),e=s3(i3.UseNavigateStable),n=Se.useRef(!1);return n3(()=>{n.current=!0}),Se.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mh({fromRouteId:e},s)))},[t,e])}const Qy={};function Kx(t,e,n){Qy[t]||(Qy[t]=!0)}function Qx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function N1(t){let{to:e,replace:n,state:r,relative:i}=t;cc()||hn(!1);let{future:s,static:o}=Se.useContext(_o),{matches:a}=Se.useContext(Cs),{pathname:l}=hc(),h=fc(),d=c2(e,u2(a,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(d);return Se.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function Yx(t){return Dx(t.context)}function Xs(t){hn(!1)}function Jx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ca.Pop,navigator:s,static:o=!1,future:a}=t;cc()&&hn(!1);let l=e.replace(/^\/*/,"/"),h=Se.useMemo(()=>({basename:l,navigator:s,static:o,future:Mh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=uc(r));let{pathname:d="/",search:p="",hash:y="",state:g=null,key:N="default"}=r,T=Se.useMemo(()=>{let R=Yu(d,l);return R==null?null:{location:{pathname:R,search:p,hash:y,state:g,key:N},navigationType:i}},[l,d,p,y,g,N,i]);return T==null?null:Se.createElement(_o.Provider,{value:h},Se.createElement(Gp.Provider,{children:n,value:T}))}function Xx(t){let{children:e,location:n}=t;return jx(P1(e),n)}new Promise(()=>{});function P1(t,e){e===void 0&&(e=[]);let n=[];return Se.Children.forEach(t,(r,i)=>{if(!Se.isValidElement(r))return;let s=[...e,i];if(r.type===Se.Fragment){n.push.apply(n,P1(r.props.children,s));return}r.type!==Xs&&hn(!1),!r.props.index||!r.props.children||hn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=P1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function o3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eT(t,e){return t.button===0&&(!e||e==="_self")&&!Zx(t)}const tT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rT="6";try{window.__reactRouterVersion=rT}catch{}const iT=Se.createContext({isTransitioning:!1}),sT="startTransition",Yy=KS[sT];function oT(t){let{basename:e,children:n,future:r,window:i}=t,s=Se.useRef();s.current==null&&(s.current=ox({window:i,v5Compat:!0}));let o=s.current,[a,l]=Se.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},d=Se.useCallback(p=>{h&&Yy?Yy(()=>l(p)):l(p)},[l,h]);return Se.useLayoutEffect(()=>o.listen(d),[o,d]),Se.useEffect(()=>Qx(r),[r]),Se.createElement(Jx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=Se.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:d,viewTransition:p}=e,y=o3(e,tT),{basename:g}=Se.useContext(_o),N,T=!1;if(typeof h=="string"&&lT.test(h)&&(N=h,aT))try{let k=new URL(window.location.href),H=h.startsWith("//")?new URL(k.protocol+h):new URL(h),Q=Yu(H.pathname,g);H.origin===k.origin&&Q!=null?h=Q+H.search+H.hash:T=!0}catch{}let R=Cx(h,{relative:i}),w=hT(h,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:p});function b(k){r&&r(k),k.defaultPrevented||w(k)}return Se.createElement("a",ap({},y,{href:N||R,onClick:T||s?r:b,ref:n,target:l}))}),hg=Se.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:h,children:d}=e,p=o3(e,nT),y=Kp(l,{relative:p.relative}),g=hc(),N=Se.useContext(e3),{navigator:T,basename:R}=Se.useContext(_o),w=N!=null&&fT(y)&&h===!0,b=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,k=g.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(k=k.toLowerCase(),H=H?H.toLowerCase():null,b=b.toLowerCase()),H&&R&&(H=Yu(H,R)||H);const Q=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let re=k===b||!o&&k.startsWith(b)&&k.charAt(Q)==="/",O=H!=null&&(H===b||!o&&H.startsWith(b)&&H.charAt(b.length)==="/"),I={isActive:re,isPending:O,isTransitioning:w},j=re?r:void 0,B;typeof s=="function"?B=s(I):B=[s,re?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(I):a;return Se.createElement(uT,ap({},p,{"aria-current":j,className:B,ref:n,style:x,to:l,viewTransition:h}),typeof d=="function"?d(I):d)});var k1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k1||(k1={}));var Jy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jy||(Jy={}));function cT(t){let e=Se.useContext(Hp);return e||hn(!1),e}function hT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=fc(),h=hc(),d=Kp(t,{relative:o});return Se.useCallback(p=>{if(eT(p,n)){p.preventDefault();let y=r!==void 0?r:op(h)===op(d);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[h,l,d,r,i,n,t,s,o,a])}function fT(t,e){e===void 0&&(e={});let n=Se.useContext(iT);n==null&&hn(!1);let{basename:r}=cT(k1.useViewTransitionState),i=Kp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Yu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return T1(i.pathname,o)!=null||T1(i.pathname,s)!=null}var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},l3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|h>>6,g=h&63;l||(g=64,o||(y=64)),r.push(n[d],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||p==null)throw new pT;const y=s<<2|a>>4;if(r.push(y),h!==64){const g=a<<4&240|h>>2;if(r.push(g),p!==64){const N=h<<6&192|p;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mT=function(t){const e=a3(t);return l3.encodeByteArray(e,!0)},lp=function(t){return mT(t).replace(/\./g,"")},u3=function(t){try{return l3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>gT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof Xy>"u")return;const t=Xy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_T=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u3(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return vT()||yT()||_T()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c3=t=>{var e,n;return(n=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wT=t=>{const e=c3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h3=()=>{var t;return(t=Qp())===null||t===void 0?void 0:t.config},f3=t=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lp(JSON.stringify(n)),lp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function AT(){var t;const e=(t=Qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NT(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PT(){return!AT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LT,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wo(i,a,r)}}function RT(t,e){return t.replace(DT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DT=/\{\$([^}]+)}/g;function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function up(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Zy(s)&&Zy(o)){if(!up(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jT(t,e){const n=new FT(t,e);return n.subscribe.bind(n)}class FT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fg),i.error===void 0&&(i.error=fg),i.complete===void 0&&(i.complete=fg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UT(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BT(t){return t===al?void 0:t}function UT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tt||(Tt={}));const zT={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},$T=Tt.INFO,WT={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},HT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h2{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=HT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const GT=(t,e)=>e.some(n=>t instanceof n);let e5,t5;function KT(){return e5||(e5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return t5||(t5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d3=new WeakMap,C1=new WeakMap,p3=new WeakMap,dg=new WeakMap,f2=new WeakMap;function YT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ea(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&d3.set(n,t)}).catch(()=>{}),f2.set(e,t),e}function JT(t){if(C1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});C1.set(t,e)}let L1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XT(t){L1=t(L1)}function ZT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pg(this),e,...n);return p3.set(r,e.sort?e.sort():[e]),Ea(r)}:QT().includes(t)?function(...e){return t.apply(pg(this),e),Ea(d3.get(this))}:function(...e){return Ea(t.apply(pg(this),e))}}function eN(t){return typeof t=="function"?ZT(t):(t instanceof IDBTransaction&&JT(t),GT(t,KT())?new Proxy(t,L1):t)}function Ea(t){if(t instanceof IDBRequest)return YT(t);if(dg.has(t))return dg.get(t);const e=eN(t);return e!==t&&(dg.set(t,e),f2.set(e,t)),e}const pg=t=>f2.get(t);function tN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ea(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ea(o.result),l.oldVersion,l.newVersion,Ea(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const nN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],mg=new Map;function n5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return mg.set(e,s),s}XT(t=>({...t,get:(e,n,r)=>n5(e,n)||t.get(e,n,r),has:(e,n)=>!!n5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R1="@firebase/app",r5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new h2("@firebase/app"),oN="@firebase/app-compat",aN="@firebase/analytics-compat",lN="@firebase/analytics",uN="@firebase/app-check-compat",cN="@firebase/app-check",hN="@firebase/auth",fN="@firebase/auth-compat",dN="@firebase/database",pN="@firebase/data-connect",mN="@firebase/database-compat",gN="@firebase/functions",vN="@firebase/functions-compat",yN="@firebase/installations",_N="@firebase/installations-compat",wN="@firebase/messaging",bN="@firebase/messaging-compat",EN="@firebase/performance",SN="@firebase/performance-compat",AN="@firebase/remote-config",IN="@firebase/remote-config-compat",xN="@firebase/storage",TN="@firebase/storage-compat",NN="@firebase/firestore",PN="@firebase/vertexai-preview",kN="@firebase/firestore-compat",CN="firebase",LN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="[DEFAULT]",RN={[R1]:"fire-core",[oN]:"fire-core-compat",[lN]:"fire-analytics",[aN]:"fire-analytics-compat",[cN]:"fire-app-check",[uN]:"fire-app-check-compat",[hN]:"fire-auth",[fN]:"fire-auth-compat",[dN]:"fire-rtdb",[pN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[gN]:"fire-fn",[vN]:"fire-fn-compat",[yN]:"fire-iid",[_N]:"fire-iid-compat",[wN]:"fire-fcm",[bN]:"fire-fcm-compat",[EN]:"fire-perf",[SN]:"fire-perf-compat",[AN]:"fire-rc",[IN]:"fire-rc-compat",[xN]:"fire-gcs",[TN]:"fire-gcs-compat",[NN]:"fire-fst",[kN]:"fire-fst-compat",[PN]:"fire-vertex","fire-js":"fire-js",[CN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,DN=new Map,O1=new Map;function i5(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ju(t){const e=t.name;if(O1.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;O1.set(e,t);for(const n of cp.values())i5(n,t);for(const n of DN.values())i5(n,t);return!0}function d2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ro(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new ef("app","Firebase",ON);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=LN;function m3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:D1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sa.create("bad-app-name",{appName:String(i)});if(n||(n=h3()),!n)throw Sa.create("no-options");const s=cp.get(i);if(s){if(up(n,s.options)&&up(r,s.config))return s;throw Sa.create("duplicate-app",{appName:i})}const o=new qT(i);for(const l of O1.values())o.addComponent(l);const a=new jN(n,r,o);return cp.set(i,a),a}function g3(t=D1){const e=cp.get(t);if(!e&&t===D1&&h3())return m3();if(!e)throw Sa.create("no-app",{appName:t});return e}function Aa(t,e,n){var r;let i=(r=RN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(a.join(" "));return}Ju(new Sl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",MN=1,Vh="firebase-heartbeat-store";let gg=null;function v3(){return gg||(gg=tN(FN,MN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sa.create("idb-open",{originalErrorMessage:t.message})})),gg}async function VN(t){try{const n=(await v3()).transaction(Vh),r=await n.objectStore(Vh).get(y3(t));return await n.done,r}catch(e){if(e instanceof wo)po.warn(e.message);else{const n=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function s5(t,e){try{const r=(await v3()).transaction(Vh,"readwrite");await r.objectStore(Vh).put(e,y3(t)),await r.done}catch(n){if(n instanceof wo)po.warn(n.message);else{const r=Sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function y3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,UN=30*24*60*60*1e3;class qN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $N(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=UN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o5(),{heartbeatsToSend:r,unsentEntries:i}=zN(this._heartbeatsCache.heartbeats),s=lp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return po.warn(n),""}}}function o5(){return new Date().toISOString().substring(0,10)}function zN(t,e=BN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a5(t){return lp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){Ju(new Sl("platform-logger",e=>new iN(e),"PRIVATE")),Ju(new Sl("heartbeat",e=>new qN(e),"PRIVATE")),Aa(R1,r5,t),Aa(R1,r5,"esm2017"),Aa("fire-js","")}WN("");function p2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=_3,w3=new ef("auth","Firebase",_3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new h2("@firebase/auth");function GN(t,...e){hp.logLevel<=Tt.WARN&&hp.warn(`Auth (${dc}): ${t}`,...e)}function Ed(t,...e){hp.logLevel<=Tt.ERROR&&hp.error(`Auth (${dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw m2(t,...e)}function Is(t,...e){return m2(t,...e)}function b3(t,e,n){const r=Object.assign(Object.assign({},HN()),{[e]:n});return new ef("auth","Firebase",r).create(e,{appName:t.name})}function Ia(t){return b3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w3.create(t,...e)}function ht(t,e,...n){if(!t)throw m2(e,...n)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function mo(t,e){t||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KN(){return l5()==="http:"||l5()==="https:"}function l5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KN()||xT()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,mo(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||TT()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){mo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new nf(3e4,6e4);function Cl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fa(t,e,n,r,i={}){return S3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},s);return IT()||(h.referrerPolicy="no-referrer"),E3.fetch()(A3(t,t.config.apiHost,n,a),h)})}async function S3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JN),e);try{const i=new eP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw td(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw td(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw b3(t,d,h);Zi(t,d)}}catch(i){if(i instanceof wo)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function Yp(t,e,n,r,i={}){const s=await Fa(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function A3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?g2(t.config,i):`${t.config.apiScheme}://${i}`}function ZN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),XN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Is(t,e,r);return i.customData._tokenResponse=n,i}function u5(t){return t!==void 0&&t.enterprise!==void 0}class tP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nP(t,e){return Fa(t,"GET","/v2/recaptchaConfig",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function I3(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iP(t,e=!1){const n=Qn(t),r=await n.getIdToken(e),i=v2(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ph(vg(i.auth_time)),issuedAtTime:ph(vg(i.iat)),expirationTime:ph(vg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vg(t){return Number(t)*1e3}function v2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=u3(n);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c5(t){const e=v2(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wo&&sP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ph(this.lastLoginAt),this.creationTime=ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bh(t,I3(n,{idToken:r}));ht(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?x3(s.providerUserInfo):[],a=lP(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new F1(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function aP(t){const e=Qn(t);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x3(t){return t.map(e=>{var{providerId:n}=e,r=p2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e){const n=await S3(t,{},async()=>{const r=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=A3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cP(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=c5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ou;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=p2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new F1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bh(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iP(this,e)}reload(){return aP(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ro(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await Bh(this,rP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(h=n.createdAt)!==null&&h!==void 0?h:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:H,isAnonymous:Q,providerData:re,stsTokenManager:O}=n;ht(k&&O,e,"internal-error");const I=Ou.fromJSON(this.name,O);ht(typeof k=="string",e,"internal-error"),Jo(p,e.name),Jo(y,e.name),ht(typeof H=="boolean",e,"internal-error"),ht(typeof Q=="boolean",e,"internal-error"),Jo(g,e.name),Jo(N,e.name),Jo(T,e.name),Jo(R,e.name),Jo(w,e.name),Jo(b,e.name);const j=new so({uid:k,auth:e,email:y,emailVerified:H,displayName:p,isAnonymous:Q,photoURL:N,phoneNumber:g,tenantId:T,stsTokenManager:I,createdAt:w,lastLoginAt:b});return re&&Array.isArray(re)&&(j.providerData=re.map(B=>Object.assign({},B))),R&&(j._redirectEventId=R),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ou;i.updateFromServerResponse(n);const s=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ou;a.updateFromIdToken(r);const l=new so({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new F1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Map;function oo(t){mo(t instanceof Function,"Expected a class definition");let e=h5.get(t);return e?(mo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T3.type="NONE";const f5=T3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(oo(f5),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||oo(f5);const o=Sd(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const d=await h._get(o);if(d){const p=so._fromJSON(e,d);h!==s&&(a=p),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ju(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ju(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R3(e))return"Blackberry";if(D3(e))return"Webos";if(P3(e))return"Safari";if((e.includes("chrome/")||k3(e))&&!e.includes("edge/"))return"Chrome";if(L3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N3(t=Ar()){return/firefox\//i.test(t)}function P3(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k3(t=Ar()){return/crios\//i.test(t)}function C3(t=Ar()){return/iemobile/i.test(t)}function L3(t=Ar()){return/android/i.test(t)}function R3(t=Ar()){return/blackberry/i.test(t)}function D3(t=Ar()){return/webos/i.test(t)}function y2(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hP(t=Ar()){var e;return y2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fP(){return NT()&&document.documentMode===10}function O3(t=Ar()){return y2(t)||L3(t)||D3(t)||R3(t)||/windows phone/i.test(t)||C3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e=[]){let n;switch(t){case"Browser":n=d5(Ar());break;case"Worker":n=`${d5(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",Cl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=6;class gP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p5(this),this.idTokenSubscription=new p5(this),this.beforeStateQueue=new dP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await I3(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ro(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ro(this.app))return Promise.reject(Ia(this));const n=e?Qn(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ro(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ro(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pP(this),n=new gP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oo(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pc(t){return Qn(t)}class p5{constructor(e){this.auth=e,this.observer=null,this.addObserver=jT(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yP(t){Jp=t}function F3(t){return Jp.loadJS(t)}function _P(){return Jp.recaptchaEnterpriseScript}function wP(){return Jp.gapiScript}function bP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EP="recaptcha-enterprise",SP="NO_RECAPTCHA";class AP{constructor(e){this.type=EP,this.auth=pc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{nP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new tP(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;u5(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(SP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&u5(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_P();l.length!==0&&(l+=a),F3(l).then(()=>{i(a,s,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function m5(t,e,n,r=!1){const i=new AP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function g5(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await m5(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await m5(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e){const n=d2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(up(s,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function xP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TP(t,e,n){const r=pc(t);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=M3(e),{host:o,port:a}=NP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),PP()}function M3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NP(t){const e=M3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v5(o)}}}function v5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,n){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function kP(t,e){return Fa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return Yp(t,"POST","/v1/accounts:signInWithPassword",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return Yp(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}async function RP(t,e){return Yp(t,"POST","/v1/accounts:signInWithEmailLink",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends _2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g5(e,n,"signInWithPassword",CP);case"emailLink":return LP(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g5(e,r,"signUpPassword",kP);case"emailLink":return RP(e,{idToken:n,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e){return Yp(t,"POST","/v1/accounts:signInWithIdp",Cl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="http://localhost";class Al extends _2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=p2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Al(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:DP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jP(t){const e=Zc(eh(t)).link,n=e?Zc(eh(e)).deep_link_id:null,r=Zc(eh(t)).deep_link_id;return(r?Zc(eh(r)).link:null)||r||n||e||t}class w2{constructor(e){var n,r,i,s,o,a;const l=Zc(eh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=OP((i=l.mode)!==null&&i!==void 0?i:null);ht(h&&d&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jP(e);try{return new w2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return Uh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=w2.parseLink(n);return ht(r,"argument-error"),Uh._fromEmailAndCode(e,r.code,r.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends V3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends rf{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Al._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends rf{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends rf{constructor(){super("twitter.com")}static credential(e,n){return Al._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await so._fromIdTokenResponse(e,r,i),o=y5(r);return new Xu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y5(r);return new Xu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends wo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dp(e,n,r,i)}}function B3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dp._fromErrorAndOperation(t,s,e,r):s})}async function FP(t,e,n=!1){const r=await Bh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e,n=!1){const{auth:r}=t;if(ro(r.app))return Promise.reject(Ia(r));const i="reauthenticate";try{const s=await Bh(t,B3(r,i,e,t),n);ht(s.idToken,r,"internal-error");const o=v2(s.idToken);ht(o,r,"internal-error");const{sub:a}=o;return ht(t.uid===a,r,"user-mismatch"),Xu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e,n=!1){if(ro(t.app))return Promise.reject(Ia(t));const r="signIn",i=await B3(t,r,e),s=await Xu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function VP(t,e){return U3(pc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t){const e=pc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function UP(t,e,n){return ro(t.app)?Promise.reject(Ia(t)):VP(Qn(t),mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BP(t),r})}function qP(t,e,n,r){return Qn(t).onIdTokenChanged(e,n,r)}function zP(t,e,n){return Qn(t).beforeAuthStateChanged(e,n)}function $P(t,e,n,r){return Qn(t).onAuthStateChanged(e,n,r)}function WP(t){return Qn(t).signOut()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=1e3,GP=10;class z3 extends q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z3.type="LOCAL";const KP=z3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3 extends q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$3.type="SESSION";const W3=$3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await QP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=b2("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function JP(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function XP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e6(){return H3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firebaseLocalStorageDb",t6=1,mp="firebaseLocalStorage",K3="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zp(t,e){return t.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function n6(){const t=indexedDB.deleteDatabase(G3);return new sf(t).toPromise()}function M1(){const t=indexedDB.open(G3,t6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mp,{keyPath:K3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mp)?e(r):(r.close(),await n6(),e(await M1()))})})}async function _5(t,e,n){const r=Zp(t,!0).put({[K3]:e,value:n});return new sf(r).toPromise()}async function r6(t,e){const n=Zp(t,!1).get(e),r=await new sf(n).toPromise();return r===void 0?null:r.value}function w5(t,e){const n=Zp(t,!0).delete(e);return new sf(n).toPromise()}const i6=800,s6=3;class Q3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(e6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XP(),!this.activeServiceWorker)return;this.sender=new YP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M1();return await _5(e,pp,"1"),await w5(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zp(i,!1).getAll();return new sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q3.type="LOCAL";const o6=Q3;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e){return e?oo(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends _2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l6(t){return U3(t.auth,new E2(t),t.bypassAuthState)}function u6(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),MP(n,new E2(t),t.bypassAuthState)}async function c6(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),FP(n,new E2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l6;case"linkViaPopup":case"linkViaRedirect":return c6;case"reauthViaPopup":case"reauthViaRedirect":return u6;default:Zi(this.auth,"internal-error")}}resolve(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new nf(2e3,1e4);class Tu extends Y3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){mo(this.filter.length===1,"Popup operations only handle one event");const e=b2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h6.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="pendingRedirect",Ad=new Map;class d6 extends Y3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const r=await p6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p6(t,e){const n=v6(e),r=g6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function m6(t,e){Ad.set(t._key(),e)}function g6(t){return oo(t._redirectPersistence)}function v6(t){return Sd(f6,t.config.apiKey,t.name)}async function y6(t,e,n=!1){if(ro(t.app))return Promise.reject(Ia(t));const r=pc(t),i=a6(r,e),o=await new d6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=10*60*1e3;class w6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_6&&this.cachedEventUids.clear(),this.cachedEventUids.has(b5(e))}saveEventToCache(e){this.cachedEventUids.add(b5(e)),this.lastProcessedEventTime=Date.now()}}function b5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A6=/^https?/;async function I6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E6(t);for(const n of e)try{if(x6(n))return}catch{}Zi(t,"unauthorized-domain")}function x6(t){const e=j1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A6.test(n))return!1;if(S6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new nf(3e4,6e4);function E5(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N6(t){return new Promise((e,n)=>{var r,i,s;function o(){E5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E5(),n(Is(t,"network-request-failed"))},timeout:T6.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=bP("iframefcb");return xs()[a]=()=>{gapi.load?o():n(Is(t,"network-request-failed"))},F3(`${wP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function P6(t){return Id=Id||N6(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new nf(5e3,15e3),C6="__/auth/iframe",L6="emulator/auth/iframe",R6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g2(e,L6):`https://${t.config.authDomain}/${C6}`,r={apiKey:e.apiKey,appName:t.name,v:dc},i=D6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tf(r).slice(1)}`}async function j6(t){const e=await P6(t),n=xs().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:O6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Is(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},k6.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M6=500,V6=600,B6="_blank",U6="http://localhost";class S5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q6(t,e,n,r=M6,i=V6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},F6),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Ar().toLowerCase();n&&(a=k3(h)?B6:n),N3(h)&&(e=e||U6,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[g,N])=>`${y}${g}=${N},`,"");if(hP(h)&&a!=="_self")return z6(e||"",a),new S5(null);const p=window.open(e||"",a,d);ht(p,t,"popup-blocked");try{p.focus()}catch{}return new S5(p)}function z6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",W6="emulator/auth/handler",H6=encodeURIComponent("fac");async function A5(t,e,n,r,i,s){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dc,eventId:i};if(e instanceof V3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",OT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof rf){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),h=l?`#${H6}=${encodeURIComponent(l)}`:"";return`${G6(t)}?${tf(a).slice(1)}${h}`}function G6({config:t}){return t.emulator?g2(t,W6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class K6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W3,this._completeRedirectFn=y6,this._overrideRedirectResult=m6}async _openPopup(e,n,r,i){var s;mo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await A5(e,n,r,j1(),i);return q6(e,o,b2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A5(e,n,r,j1(),i);return JP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j6(e),r=new w6(e);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yg,{type:yg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yg];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O3()||P3()||y2()}}const Q6=K6;var I5="@firebase/auth",x5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X6(t){Ju(new Sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j3(t)},h=new vP(r,i,s,l);return xP(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ju(new Sl("auth-internal",e=>{const n=pc(e.getProvider("auth").getImmediate());return(r=>new Y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(I5,x5,J6(t)),Aa(I5,x5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=5*60,ek=f3("authIdTokenMaxAge")||Z6;let T5=null;const tk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ek)return;const i=n==null?void 0:n.token;T5!==i&&(T5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nk(t=g3()){const e=d2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IP(t,{popupRedirectResolver:Q6,persistence:[o6,KP,W3]}),r=f3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=tk(s.toString());zP(n,o,()=>o(n.currentUser)),qP(n,a=>o(a))}}const i=c3("auth");return i&&TP(n,`http://${i}`),n}function rk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Is("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X6("Browser");var ik="firebase",sk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(ik,sk,"app");var N5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,X3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function j(){}j.prototype=I.prototype,O.D=I.prototype,O.prototype=new j,O.prototype.constructor=O,O.C=function(B,x,S){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return I.prototype[x].apply(B,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,I,j){j||(j=0);var B=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)B[x]=I.charCodeAt(j++)|I.charCodeAt(j++)<<8|I.charCodeAt(j++)<<16|I.charCodeAt(j++)<<24;else for(x=0;16>x;++x)B[x]=I[j++]|I[j++]<<8|I[j++]<<16|I[j++]<<24;I=O.g[0],j=O.g[1],x=O.g[2];var S=O.g[3],P=I+(S^j&(x^S))+B[0]+3614090360&4294967295;I=j+(P<<7&4294967295|P>>>25),P=S+(x^I&(j^x))+B[1]+3905402710&4294967295,S=I+(P<<12&4294967295|P>>>20),P=x+(j^S&(I^j))+B[2]+606105819&4294967295,x=S+(P<<17&4294967295|P>>>15),P=j+(I^x&(S^I))+B[3]+3250441966&4294967295,j=x+(P<<22&4294967295|P>>>10),P=I+(S^j&(x^S))+B[4]+4118548399&4294967295,I=j+(P<<7&4294967295|P>>>25),P=S+(x^I&(j^x))+B[5]+1200080426&4294967295,S=I+(P<<12&4294967295|P>>>20),P=x+(j^S&(I^j))+B[6]+2821735955&4294967295,x=S+(P<<17&4294967295|P>>>15),P=j+(I^x&(S^I))+B[7]+4249261313&4294967295,j=x+(P<<22&4294967295|P>>>10),P=I+(S^j&(x^S))+B[8]+1770035416&4294967295,I=j+(P<<7&4294967295|P>>>25),P=S+(x^I&(j^x))+B[9]+2336552879&4294967295,S=I+(P<<12&4294967295|P>>>20),P=x+(j^S&(I^j))+B[10]+4294925233&4294967295,x=S+(P<<17&4294967295|P>>>15),P=j+(I^x&(S^I))+B[11]+2304563134&4294967295,j=x+(P<<22&4294967295|P>>>10),P=I+(S^j&(x^S))+B[12]+1804603682&4294967295,I=j+(P<<7&4294967295|P>>>25),P=S+(x^I&(j^x))+B[13]+4254626195&4294967295,S=I+(P<<12&4294967295|P>>>20),P=x+(j^S&(I^j))+B[14]+2792965006&4294967295,x=S+(P<<17&4294967295|P>>>15),P=j+(I^x&(S^I))+B[15]+1236535329&4294967295,j=x+(P<<22&4294967295|P>>>10),P=I+(x^S&(j^x))+B[1]+4129170786&4294967295,I=j+(P<<5&4294967295|P>>>27),P=S+(j^x&(I^j))+B[6]+3225465664&4294967295,S=I+(P<<9&4294967295|P>>>23),P=x+(I^j&(S^I))+B[11]+643717713&4294967295,x=S+(P<<14&4294967295|P>>>18),P=j+(S^I&(x^S))+B[0]+3921069994&4294967295,j=x+(P<<20&4294967295|P>>>12),P=I+(x^S&(j^x))+B[5]+3593408605&4294967295,I=j+(P<<5&4294967295|P>>>27),P=S+(j^x&(I^j))+B[10]+38016083&4294967295,S=I+(P<<9&4294967295|P>>>23),P=x+(I^j&(S^I))+B[15]+3634488961&4294967295,x=S+(P<<14&4294967295|P>>>18),P=j+(S^I&(x^S))+B[4]+3889429448&4294967295,j=x+(P<<20&4294967295|P>>>12),P=I+(x^S&(j^x))+B[9]+568446438&4294967295,I=j+(P<<5&4294967295|P>>>27),P=S+(j^x&(I^j))+B[14]+3275163606&4294967295,S=I+(P<<9&4294967295|P>>>23),P=x+(I^j&(S^I))+B[3]+4107603335&4294967295,x=S+(P<<14&4294967295|P>>>18),P=j+(S^I&(x^S))+B[8]+1163531501&4294967295,j=x+(P<<20&4294967295|P>>>12),P=I+(x^S&(j^x))+B[13]+2850285829&4294967295,I=j+(P<<5&4294967295|P>>>27),P=S+(j^x&(I^j))+B[2]+4243563512&4294967295,S=I+(P<<9&4294967295|P>>>23),P=x+(I^j&(S^I))+B[7]+1735328473&4294967295,x=S+(P<<14&4294967295|P>>>18),P=j+(S^I&(x^S))+B[12]+2368359562&4294967295,j=x+(P<<20&4294967295|P>>>12),P=I+(j^x^S)+B[5]+4294588738&4294967295,I=j+(P<<4&4294967295|P>>>28),P=S+(I^j^x)+B[8]+2272392833&4294967295,S=I+(P<<11&4294967295|P>>>21),P=x+(S^I^j)+B[11]+1839030562&4294967295,x=S+(P<<16&4294967295|P>>>16),P=j+(x^S^I)+B[14]+4259657740&4294967295,j=x+(P<<23&4294967295|P>>>9),P=I+(j^x^S)+B[1]+2763975236&4294967295,I=j+(P<<4&4294967295|P>>>28),P=S+(I^j^x)+B[4]+1272893353&4294967295,S=I+(P<<11&4294967295|P>>>21),P=x+(S^I^j)+B[7]+4139469664&4294967295,x=S+(P<<16&4294967295|P>>>16),P=j+(x^S^I)+B[10]+3200236656&4294967295,j=x+(P<<23&4294967295|P>>>9),P=I+(j^x^S)+B[13]+681279174&4294967295,I=j+(P<<4&4294967295|P>>>28),P=S+(I^j^x)+B[0]+3936430074&4294967295,S=I+(P<<11&4294967295|P>>>21),P=x+(S^I^j)+B[3]+3572445317&4294967295,x=S+(P<<16&4294967295|P>>>16),P=j+(x^S^I)+B[6]+76029189&4294967295,j=x+(P<<23&4294967295|P>>>9),P=I+(j^x^S)+B[9]+3654602809&4294967295,I=j+(P<<4&4294967295|P>>>28),P=S+(I^j^x)+B[12]+3873151461&4294967295,S=I+(P<<11&4294967295|P>>>21),P=x+(S^I^j)+B[15]+530742520&4294967295,x=S+(P<<16&4294967295|P>>>16),P=j+(x^S^I)+B[2]+3299628645&4294967295,j=x+(P<<23&4294967295|P>>>9),P=I+(x^(j|~S))+B[0]+4096336452&4294967295,I=j+(P<<6&4294967295|P>>>26),P=S+(j^(I|~x))+B[7]+1126891415&4294967295,S=I+(P<<10&4294967295|P>>>22),P=x+(I^(S|~j))+B[14]+2878612391&4294967295,x=S+(P<<15&4294967295|P>>>17),P=j+(S^(x|~I))+B[5]+4237533241&4294967295,j=x+(P<<21&4294967295|P>>>11),P=I+(x^(j|~S))+B[12]+1700485571&4294967295,I=j+(P<<6&4294967295|P>>>26),P=S+(j^(I|~x))+B[3]+2399980690&4294967295,S=I+(P<<10&4294967295|P>>>22),P=x+(I^(S|~j))+B[10]+4293915773&4294967295,x=S+(P<<15&4294967295|P>>>17),P=j+(S^(x|~I))+B[1]+2240044497&4294967295,j=x+(P<<21&4294967295|P>>>11),P=I+(x^(j|~S))+B[8]+1873313359&4294967295,I=j+(P<<6&4294967295|P>>>26),P=S+(j^(I|~x))+B[15]+4264355552&4294967295,S=I+(P<<10&4294967295|P>>>22),P=x+(I^(S|~j))+B[6]+2734768916&4294967295,x=S+(P<<15&4294967295|P>>>17),P=j+(S^(x|~I))+B[13]+1309151649&4294967295,j=x+(P<<21&4294967295|P>>>11),P=I+(x^(j|~S))+B[4]+4149444226&4294967295,I=j+(P<<6&4294967295|P>>>26),P=S+(j^(I|~x))+B[11]+3174756917&4294967295,S=I+(P<<10&4294967295|P>>>22),P=x+(I^(S|~j))+B[2]+718787259&4294967295,x=S+(P<<15&4294967295|P>>>17),P=j+(S^(x|~I))+B[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+S&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var j=I-this.blockSize,B=this.B,x=this.h,S=0;S<I;){if(x==0)for(;S<=j;)i(this,O,S),S+=this.blockSize;if(typeof O=="string"){for(;S<I;)if(B[x++]=O.charCodeAt(S++),x==this.blockSize){i(this,B),x=0;break}}else for(;S<I;)if(B[x++]=O[S++],x==this.blockSize){i(this,B),x=0;break}}this.h=x,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var j=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=j&255,j/=256;for(this.u(O),O=Array(16),I=j=0;4>I;++I)for(var B=0;32>B;B+=8)O[j++]=this.g[I]>>>B&255;return O};function s(O,I){var j=a;return Object.prototype.hasOwnProperty.call(j,O)?j[O]:j[O]=I(O)}function o(O,I){this.h=I;for(var j=[],B=!0,x=O.length-1;0<=x;x--){var S=O[x]|0;B&&S==I||(j[x]=S,B=!1)}this.g=j}var a={};function l(O){return-128<=O&&128>O?s(O,function(I){return new o([I|0],0>I?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return p;if(0>O)return R(h(-O));for(var I=[],j=1,B=0;O>=j;B++)I[B]=O/j|0,j*=4294967296;return new o(I,0)}function d(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return R(d(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=h(Math.pow(I,8)),B=p,x=0;x<O.length;x+=8){var S=Math.min(8,O.length-x),P=parseInt(O.substring(x,x+S),I);8>S?(S=h(Math.pow(I,S)),B=B.j(S).add(h(P))):(B=B.j(j),B=B.add(h(P)))}return B}var p=l(0),y=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-R(this).m();for(var O=0,I=1,j=0;j<this.g.length;j++){var B=this.i(j);O+=(0<=B?B:4294967296+B)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(T(this))return"-"+R(this).toString(O);for(var I=h(Math.pow(O,6)),j=this,B="";;){var x=H(j,I).g;j=w(j,x.j(I));var S=((0<j.g.length?j.g[0]:j.h)>>>0).toString(O);if(j=x,N(j))return S+B;for(;6>S.length;)S="0"+S;B=S+B}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function T(O){return O.h==-1}t.l=function(O){return O=w(this,O),T(O)?-1:N(O)?0:1};function R(O){for(var I=O.g.length,j=[],B=0;B<I;B++)j[B]=~O.g[B];return new o(j,~O.h).add(y)}t.abs=function(){return T(this)?R(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),j=[],B=0,x=0;x<=I;x++){var S=B+(this.i(x)&65535)+(O.i(x)&65535),P=(S>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);B=P>>>16,S&=65535,P&=65535,j[x]=P<<16|S}return new o(j,j[j.length-1]&-2147483648?-1:0)};function w(O,I){return O.add(R(I))}t.j=function(O){if(N(this)||N(O))return p;if(T(this))return T(O)?R(this).j(R(O)):R(R(this).j(O));if(T(O))return R(this.j(R(O)));if(0>this.l(g)&&0>O.l(g))return h(this.m()*O.m());for(var I=this.g.length+O.g.length,j=[],B=0;B<2*I;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(var x=0;x<O.g.length;x++){var S=this.i(B)>>>16,P=this.i(B)&65535,K=O.i(x)>>>16,me=O.i(x)&65535;j[2*B+2*x]+=P*me,b(j,2*B+2*x),j[2*B+2*x+1]+=S*me,b(j,2*B+2*x+1),j[2*B+2*x+1]+=P*K,b(j,2*B+2*x+1),j[2*B+2*x+2]+=S*K,b(j,2*B+2*x+2)}for(B=0;B<I;B++)j[B]=j[2*B+1]<<16|j[2*B];for(B=I;B<2*I;B++)j[B]=0;return new o(j,0)};function b(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function k(O,I){this.g=O,this.h=I}function H(O,I){if(N(I))throw Error("division by zero");if(N(O))return new k(p,p);if(T(O))return I=H(R(O),I),new k(R(I.g),R(I.h));if(T(I))return I=H(O,R(I)),new k(R(I.g),I.h);if(30<O.g.length){if(T(O)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var j=y,B=I;0>=B.l(O);)j=Q(j),B=Q(B);var x=re(j,1),S=re(B,1);for(B=re(B,2),j=re(j,2);!N(B);){var P=S.add(B);0>=P.l(O)&&(x=x.add(j),S=P),B=re(B,1),j=re(j,1)}return I=w(O,x.j(I)),new k(x,I)}for(x=p;0<=O.l(I);){for(j=Math.max(1,Math.floor(O.m()/I.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),S=h(j),P=S.j(I);T(P)||0<P.l(O);)j-=B,S=h(j),P=S.j(I);N(S)&&(S=y),x=x.add(S),O=w(O,P)}return new k(x,O)}t.A=function(O){return H(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),j=[],B=0;B<I;B++)j[B]=this.i(B)&O.i(B);return new o(j,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),j=[],B=0;B<I;B++)j[B]=this.i(B)|O.i(B);return new o(j,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),j=[],B=0;B<I;B++)j[B]=this.i(B)^O.i(B);return new o(j,this.h^O.h)};function Q(O){for(var I=O.g.length+1,j=[],B=0;B<I;B++)j[B]=O.i(B)<<1|O.i(B-1)>>>31;return new o(j,O.h)}function re(O,I){var j=I>>5;I%=32;for(var B=O.g.length-j,x=[],S=0;S<B;S++)x[S]=0<I?O.i(S+j)>>>I|O.i(S+j+1)<<32-I:O.i(S+j);return new o(x,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,gl=o}).apply(typeof N5<"u"?N5:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z3,th,eb,xd,V1,tb,nb,rb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,A){return c==Array.prototype||c==Object.prototype||(c[_]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var _=0;_<c.length;++_){var A=c[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,_){if(_)e:{var A=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var oe=c[V];if(!(oe in A))break e;A=A[oe]}c=c[c.length-1],V=A[c],_=_(V),_!=V&&_!=null&&e(A,c,{configurable:!0,writable:!0,value:_})}}function s(c,_){c instanceof String&&(c+="");var A=0,V=!1,oe={next:function(){if(!V&&A<c.length){var pe=A++;return{value:_(pe,c[pe]),done:!1}}return V=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(c){return c||function(){return s(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function h(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function d(c,_,A){return c.call.apply(c.bind,arguments)}function p(c,_,A){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,V),c.apply(_,oe)}}return function(){return c.apply(_,arguments)}}function y(c,_,A){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function g(c,_){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function N(c,_){function A(){}A.prototype=_.prototype,c.aa=_.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(V,oe,pe){for(var ke=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ke[mt-2]=arguments[mt];return _.prototype[oe].apply(V,ke)}}function T(c){const _=c.length;if(0<_){const A=Array(_);for(let V=0;V<_;V++)A[V]=c[V];return A}return[]}function R(c,_){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(l(V)){const oe=c.length||0,pe=V.length||0;c.length=oe+pe;for(let ke=0;ke<pe;ke++)c[oe+ke]=V[ke]}else c.push(V)}}class w{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var Q=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function re(c,_,A){for(const V in c)_.call(A,c[V],V,c)}function O(c,_){for(const A in c)_.call(void 0,c[A],A,c)}function I(c){const _={};for(const A in c)_[A]=c[A];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(c,_){let A,V;for(let oe=1;oe<arguments.length;oe++){V=arguments[oe];for(A in V)c[A]=V[A];for(let pe=0;pe<j.length;pe++)A=j[pe],Object.prototype.hasOwnProperty.call(V,A)&&(c[A]=V[A])}}function x(c){var _=1;c=c.split(":");const A=[];for(;0<_&&c.length;)A.push(c.shift()),_--;return c.length&&A.push(c.join(":")),A}function S(c){a.setTimeout(()=>{throw c},0)}function P(){var c=ue;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,A){const V=me.get();V.set(_,A),this.h?this.h.next=V:this.g=V,this.h=V}}var me=new w(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,X=!1,ue=new K,he=()=>{const c=a.Promise.resolve(void 0);_e=()=>{c.then(Re)}};var Re=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(A){S(A)}var _=me;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}X=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};a.addEventListener("test",A,_),a.removeEventListener("test",A,_)}catch{}return c}();function Z(c,_){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Q){e:{try{H(_.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(_=null)}}else A=="mouseover"?_=c.fromElement:A=="mouseout"&&(_=c.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Z.aa.h.call(this)}}N(Z,$);var ie={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ye(c,_,A,V,oe){this.listener=c,this.proxy=null,this.src=_,this.type=A,this.capture=!!V,this.ha=oe,this.key=++ge,this.da=this.fa=!1}function je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,_,A,V,oe){var pe=c.toString();c=this.g[pe],c||(c=this.g[pe]=[],this.h++);var ke=Me(c,_,V,oe);return-1<ke?(_=c[ke],A||(_.fa=!1)):(_=new ye(_,this.src,pe,!!V,oe),_.fa=A,c.push(_)),_};function Be(c,_){var A=_.type;if(A in c.g){var V=c.g[A],oe=Array.prototype.indexOf.call(V,_,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(V,oe,1),pe&&(je(_),c.g[A].length==0&&(delete c.g[A],c.h--))}}function Me(c,_,A,V){for(var oe=0;oe<c.length;++oe){var pe=c[oe];if(!pe.da&&pe.listener==_&&pe.capture==!!A&&pe.ha==V)return oe}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Ee={};function J(c,_,A,V,oe){if(Array.isArray(_)){for(var pe=0;pe<_.length;pe++)J(c,_[pe],A,V,oe);return null}return A=pt(A),c&&c[ce]?c.K(_,A,h(V)?!!V.capture:!1,oe):dt(c,_,A,!1,V,oe)}function dt(c,_,A,V,oe,pe){if(!_)throw Error("Invalid event type");var ke=h(oe)?!!oe.capture:!!oe,mt=Ze(c);if(mt||(c[nt]=mt=new Le(c)),A=mt.add(_,A,V,ke,pe),A.proxy)return A;if(V=Je(),A.proxy=V,V.src=c,V.listener=A,c.addEventListener)Y||(oe=ke),oe===void 0&&(oe=!1),c.addEventListener(_.toString(),V,oe);else if(c.attachEvent)c.attachEvent($e(_.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Je(){function c(A){return _.call(c.src,c.listener,A)}const _=qe;return c}function De(c,_,A,V,oe){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)De(c,_[pe],A,V,oe);else V=h(V)?!!V.capture:!!V,A=pt(A),c&&c[ce]?(c=c.i,_=String(_).toString(),_ in c.g&&(pe=c.g[_],A=Me(pe,A,V,oe),-1<A&&(je(pe[A]),Array.prototype.splice.call(pe,A,1),pe.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ze(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Me(_,A,V,oe)),(A=-1<c?_[c]:null)&&Fe(A))}function Fe(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[ce])Be(_.i,c);else{var A=c.type,V=c.proxy;_.removeEventListener?_.removeEventListener(A,V,c.capture):_.detachEvent?_.detachEvent($e(A),V):_.addListener&&_.removeListener&&_.removeListener(V),(A=Ze(_))?(Be(A,c),A.h==0&&(A.src=null,_[nt]=null)):je(c)}}}function $e(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function qe(c,_){if(c.da)c=!0;else{_=new Z(_,this);var A=c.listener,V=c.ha||c.src;c.fa&&Fe(c),c=A.call(V,_)}return c}function Ze(c){return c=c[nt],c instanceof Le?c:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(c){return typeof c=="function"?c:(c[ut]||(c[ut]=function(_){return c.handleEvent(_)}),c[ut])}function et(){D.call(this),this.i=new Le(this),this.M=this,this.F=null}N(et,D),et.prototype[ce]=!0,et.prototype.removeEventListener=function(c,_,A,V){De(this,c,_,A,V)};function at(c,_){var A,V=c.F;if(V)for(A=[];V;V=V.F)A.push(V);if(c=c.M,V=_.type||_,typeof _=="string")_=new $(_,c);else if(_ instanceof $)_.target=_.target||c;else{var oe=_;_=new $(V,c),B(_,oe)}if(oe=!0,A)for(var pe=A.length-1;0<=pe;pe--){var ke=_.g=A[pe];oe=kt(ke,V,!0,_)&&oe}if(ke=_.g=c,oe=kt(ke,V,!0,_)&&oe,oe=kt(ke,V,!1,_)&&oe,A)for(pe=0;pe<A.length;pe++)ke=_.g=A[pe],oe=kt(ke,V,!1,_)&&oe}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var A=c.g[_],V=0;V<A.length;V++)je(A[V]);delete c.g[_],c.h--}}this.F=null},et.prototype.K=function(c,_,A,V){return this.i.add(String(c),_,!1,A,V)},et.prototype.L=function(c,_,A,V){return this.i.add(String(c),_,!0,A,V)};function kt(c,_,A,V){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var oe=!0,pe=0;pe<_.length;++pe){var ke=_[pe];if(ke&&!ke.da&&ke.capture==A){var mt=ke.listener,St=ke.ha||ke.src;ke.fa&&Be(c.i,ke),oe=mt.call(St,V)!==!1&&oe}}return oe&&!V.defaultPrevented}function st(c,_,A){if(typeof c=="function")A&&(c=y(c,A));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(c,_||0)}function bt(c){c.g=st(()=>{c.g=null,c.i&&(c.i=!1,bt(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class We extends D{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(c){D.call(this),this.h=c,this.g={}}N(pn,D);var xt=[];function jr(c){re(c.g,function(_,A){this.g.hasOwnProperty(A)&&Fe(_)},c),c.g={}}pn.prototype.N=function(){pn.aa.N.call(this),jr(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=a.JSON.stringify,Qt=a.JSON.parse,mi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nt(){}Nt.prototype.h=null;function is(c){return c.h||(c.h=c.i())}function en(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){$.call(this,"d")}N(Jr,$);function Yt(){$.call(this,"c")}N(Yt,$);var rt={},Ct=null;function gi(){return Ct=Ct||new et}rt.La="serverreachability";function Pn(c){$.call(this,rt.La,c)}N(Pn,$);function lr(c){const _=gi();at(_,new Pn(_))}rt.STAT_EVENT="statevent";function Xr(c,_){$.call(this,rt.STAT_EVENT,c),this.stat=_}N(Xr,$);function Ge(c){const _=gi();at(_,new Xr(_,c))}rt.Ma="timingevent";function Fr(c,_){$.call(this,rt.Ma,c),this.size=_}N(Fr,$);function ur(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},_)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function wn(c,_,A,V,oe,pe){c.info(function(){if(c.g)if(pe)for(var ke="",mt=pe.split("&"),St=0;St<mt.length;St++){var gt=mt[St].split("=");if(1<gt.length){var Mt=gt[0];gt=gt[1];var Ht=Mt.split("_");ke=2<=Ht.length&&Ht[1]=="type"?ke+(Mt+"="+gt+"&"):ke+(Mt+"=redacted&")}}else ke=null;else ke=pe;return"XMLHTTP REQ ("+V+") [attempt "+oe+"]: "+_+`
`+A+`
`+ke})}function mn(c,_,A,V,oe,pe,ke){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+oe+"]: "+_+`
`+A+`
`+pe+" "+ke})}function Cn(c,_,A,V){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Li(c,A)+(V?" "+V:"")})}function bo(c,_){c.info(function(){return"TIMEOUT: "+_})}kn.prototype.info=function(){};function Li(c,_){if(!c.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var V=A[c];if(!(2>V.length)){var oe=V[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var ke=1;ke<oe.length;ke++)oe[ke]=""}}}}return Ot(A)}catch{return _}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function xr(){}N(xr,Nt),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ir=new xr;function bn(c,_,A,V){this.j=c,this.i=_,this.l=A,this.R=V||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}var ss={},os={};function as(c,_,A){c.L=1,c.v=Ms(Tr(_)),c.m=A,c.P=!0,Rs(c,null)}function Rs(c,_){c.F=Date.now(),Eo(c),c.A=Tr(c.v);var A=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),ct(A.i,"t",V),c.C=0,A=c.j.J,c.h=new Zr,c.g=C(c.j,A?_:null,!c.m),0<c.O&&(c.M=new We(y(c.Y,c,c.g),c.O)),_=c.U,A=c.g,V=c.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(xt[0]=oe.toString()),oe=xt);for(var pe=0;pe<oe.length;pe++){var ke=J(A,oe[pe],V||_.handleEvent,!1,_.h||_);if(!ke)break;_.g[ke.key]=ke}_=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),lr(),wn(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Fn(c)==3?_.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=Fn(this.g);var _=this.g.Ba();const Bi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||Ht!=4||_==7||(_==8||0>=Bi?lr(3):lr(2)),ls(this);var A=this.g.Z();this.X=A;t:if(Ds(this)){var V=Wl(this.g);c="";var oe=V.length,pe=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),us(this);var ke="";break t}this.h.i=new a.TextDecoder}for(_=0;_<oe;_++)this.h.h=!0,c+=this.h.i.decode(V[_],{stream:!(pe&&_==oe-1)});V.length=0,this.h.g+=c,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=A==200,mn(this.i,this.u,this.A,this.l,this.R,Ht,A),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,St=this.g;if((mt=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(mt)){var gt=mt;break t}}gt=null}if(A=gt)Cn(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,A);else{this.o=!1,this.s=3,Ge(12),Ri(this),us(this);break e}}if(this.P){A=!0;let Xn;for(;!this.J&&this.C<ke.length;)if(Xn=jl(this,ke),Xn==os){Ht==4&&(this.s=4,Ge(14),A=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==ss){this.s=4,Ge(15),Cn(this.i,this.l,ke,"[Invalid Chunk]"),A=!1;break}else Cn(this.i,this.l,Xn,null),Os(this,Xn);if(Ds(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ke.length!=0||this.h.h||(this.s=1,Ge(16),A=!1),this.o=this.o&&A,!A)Cn(this.i,this.l,ke,"[Invalid Chunked Response]"),Ri(this),us(this);else if(0<ke.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),jo(Mt),Mt.M=!0,Ge(11))}}else Cn(this.i,this.l,ke,null),Os(this,ke);Ht==4&&Ri(this),this.o&&!this.J&&(Ht==4?ps(this.j,this):(this.o=!1,Eo(this)))}else fs(this.g),A==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Ri(this),us(this)}}}catch{}finally{}};function Ds(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jl(c,_){var A=c.C,V=_.indexOf(`
`,A);return V==-1?os:(A=Number(_.substring(A,V)),isNaN(A)?ss:(V+=1,V+A>_.length?os:(_=_.slice(V,V+A),c.C=V+A,_)))}bn.prototype.cancel=function(){this.J=!0,Ri(this)};function Eo(c){c.S=Date.now()+c.I,Fl(c,c.I)}function Fl(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ur(y(c.ba,c),_)}function ls(c){c.B&&(a.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bo(this.i,this.A),this.L!=2&&(lr(),Ge(17)),Ri(this),this.s=2,us(this)):Fl(this,this.S-c)};function us(c){c.j.G==0||c.J||ps(c.j,c)}function Ri(c){ls(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,jr(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Os(c,_){try{var A=c.j;if(A.G!=0&&(A.g==c||Ba(A.h,c))){if(!c.K&&Ba(A.h,c)&&A.G==3){try{var V=A.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var oe=V;if(oe[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)Vi(A),Lo(A);else break e;zs(A),Ge(18)}}else A.za=oe[1],0<A.za-A.T&&37500>oe[2]&&A.F&&A.v==0&&!A.C&&(A.C=ur(y(A.Za,A),6e3));if(1>=js(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else hr(A,11)}else if((c.K||A.g==c)&&Vi(A),!b(_))for(oe=A.Da.g.parse(_),_=0;_<oe.length;_++){let gt=oe[_];if(A.T=gt[0],gt=gt[1],A.G==2)if(gt[0]=="c"){A.K=gt[1],A.ia=gt[2];const Mt=gt[3];Mt!=null&&(A.la=Mt,A.j.info("VER="+A.la));const Ht=gt[4];Ht!=null&&(A.Aa=Ht,A.j.info("SVER="+A.Aa));const Bi=gt[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(V=1.5*Bi,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Xn=c.g;if(Xn){const ms=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var pe=V.h;pe.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(tn(pe,pe.h),pe.h=null))}if(V.D){const gs=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(V.ya=gs,Vt(V.I,V.D,gs))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var ke=c;if(V.qa=m(V,V.J?V.ia:null,V.W),ke.K){Ua(V.h,ke);var mt=ke,St=V.L;St&&(mt.I=St),mt.B&&(ls(mt),Eo(mt)),V.g=ke}else Oo(V);0<A.i.length&&Ro(A)}else gt[0]!="stop"&&gt[0]!="close"||hr(A,7);else A.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?hr(A,7):Mi(A):gt[0]!="noop"&&A.l&&A.l.ta(gt),A.v=0)}}lr(4)}catch{}}var wc=class{constructor(c,_){this.g=c,this.map=_}};function Va(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function js(c){return c.h?1:c.g?c.g.size:0}function Ba(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function tn(c,_){c.g?c.g.add(_):c.h=_}function Ua(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Va.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const A of c.g.values())_=_.concat(A.D);return _}return T(c.i)}function Vl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var _=[],A=c.length,V=0;V<A;V++)_.push(c[V]);return _}_=[],A=0;for(V in c)_[A++]=c[V];return _}function za(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var _=[];c=c.length;for(var A=0;A<c;A++)_.push(A);return _}_=[],A=0;for(const V in c)_[A++]=V;return _}}}function Bl(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var A=za(c),V=Vl(c),oe=V.length,pe=0;pe<oe;pe++)_.call(void 0,V[pe],A&&A[pe],c)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(c,_){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var V=c[A].indexOf("="),oe=null;if(0<=V){var pe=c[A].substring(0,V);oe=c[A].substring(V+1)}else pe=c[A];_(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function gn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gn){this.h=c.h,Fs(this,c.j),this.o=c.o,this.g=c.g,Ao(this,c.s),this.l=c.l;var _=c.i,A=new cs;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),$a(this,A),this.m=c.m}else c&&(_=String(c).match(Vr))?(this.h=!1,Fs(this,_[1]||"",!0),this.o=Vs(_[2]||""),this.g=Vs(_[3]||"",!0),Ao(this,_[4]),this.l=Vs(_[5]||"",!0),$a(this,_[6]||"",!0),this.m=Vs(_[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}gn.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Di(_,Ul,!0),":");var A=this.g;return(A||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Di(_,Ul,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(Di(A,A.charAt(0)=="/"?Oi:Ec,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",Di(A,xo)),c.join("")};function Tr(c){return new gn(c)}function Fs(c,_,A){c.j=A?Vs(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ao(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function $a(c,_,A){_ instanceof cs?(c.i=_,Sc(c.i,c.h)):(A||(_=Di(_,Io)),c.i=new cs(_,c.h))}function Vt(c,_,A){c.i.set(_,A)}function Ms(c){return Vt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vs(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Di(c,_,A){return typeof c=="string"?(c=encodeURI(c).replace(_,bc),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ul=/[#\/\?@]/g,Ec=/[#\?:]/g,Oi=/[#\?]/g,Io=/[#\?@]/g,xo=/#/g;function cs(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&So(c.i,function(_,A){c.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=cs.prototype,t.add=function(c,_){nn(this),this.i=null,c=hs(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(_),this.h+=1,this};function ql(c,_){nn(c),_=hs(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Wa(c,_){return nn(c),_=hs(c,_),c.g.has(_)}t.forEach=function(c,_){nn(this),this.g.forEach(function(A,V){A.forEach(function(oe){c.call(_,oe,V,this)},this)},this)},t.na=function(){nn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let V=0;V<_.length;V++){const oe=c[V];for(let pe=0;pe<oe.length;pe++)A.push(_[V])}return A},t.V=function(c){nn(this);let _=[];if(typeof c=="string")Wa(this,c)&&(_=_.concat(this.g.get(hs(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)_=_.concat(c[A])}return _},t.set=function(c,_){return nn(this),this.i=null,c=hs(this,c),Wa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},t.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function ct(c,_,A){ql(c,_),0<A.length&&(c.i=null,c.g.set(hs(c,_),T(A)),c.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var V=_[A];const pe=encodeURIComponent(String(V)),ke=this.V(V);for(V=0;V<ke.length;V++){var oe=pe;ke[V]!==""&&(oe+="="+encodeURIComponent(String(ke[V]))),c.push(oe)}}return this.i=c.join("&")};function hs(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Sc(c,_){_&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(A,V){var oe=V.toLowerCase();V!=oe&&(ql(this,V),ct(this,oe,A))},c)),c.j=_}function vi(c,_){const A=new kn;if(a.Image){const V=new Image;V.onload=g(ei,A,"TestLoadImage: loaded",!0,_,V),V.onerror=g(ei,A,"TestLoadImage: error",!1,_,V),V.onabort=g(ei,A,"TestLoadImage: abort",!1,_,V),V.ontimeout=g(ei,A,"TestLoadImage: timeout",!1,_,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else _(!1)}function zl(c,_){const A=new kn,V=new AbortController,oe=setTimeout(()=>{V.abort(),ei(A,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:V.signal}).then(pe=>{clearTimeout(oe),pe.ok?ei(A,"TestPingServer: ok",!0,_):ei(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),ei(A,"TestPingServer: error",!1,_)})}function ei(c,_,A,V,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),V(A)}catch{}}function To(){this.g=new mi}function Ha(c,_,A){const V=A||"";try{Bl(c,function(oe,pe){let ke=oe;h(oe)&&(ke=Ot(oe)),_.push(V+pe+"="+encodeURIComponent(ke))})}catch(oe){throw _.push(V+"type="+encodeURIComponent("_badmap")),oe}}function No(c){this.l=c.Ub||null,this.j=c.eb||!1}N(No,Nt),No.prototype.g=function(){return new Po(this.l,this.j)},No.prototype.i=function(c){return function(){return c}}({});function Po(c,_){et.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Po,et),t=Po.prototype,t.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,ti(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ji(this):ti(this),this.readyState==3&&$l(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ji(this))},t.Qa=function(c){this.g&&(this.response=c,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}t.setRequestHeader=function(c,_){this.u.append(c,_)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=_.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fi(c){let _="";return re(c,function(A,V){_+=V,_+=":",_+=A,_+=`\r
`}),_}function Ga(c,_,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Fi(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):Vt(c,_,A))}function Ft(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ft,et);var Ka=/^https?$/i,ko=["POST","PUT"];t=Ft.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,_,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?is(this.o):is(Ir),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(pe){Qa(this,pe);return}if(c=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var oe in V)A.set(oe,V[oe]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const pe of V.keys())A.set(pe,V.get(pe));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ko,_,void 0))||V||oe||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,ke]of A)this.g.setRequestHeader(pe,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ni(this),this.u=!0,this.g.send(c),this.u=!1}catch(pe){Qa(this,pe)}};function Qa(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Ya(c),Bs(c)}function Ya(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)st(c.Ea,0,c);else if(at(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const ke=c.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var V;if(V=ke===0){var oe=String(c.D).match(Vr)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),V=!Ka.test(oe?oe.toLowerCase():"")}A=V}if(A)at(c,"complete"),at(c,"success");else{c.m=6;try{var pe=2<Fn(c)?c.g.statusText:""}catch{pe=""}c.l=pe+" ["+c.Z()+"]",Ya(c)}}finally{Bs(c)}}}}function Bs(c,_){if(c.g){ni(c);const A=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||at(c,"ready");try{A.onreadystatechange=V}catch{}}}function ni(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Qt(_)}};function Wl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(c){const _={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(b(c[V]))continue;var A=x(c[V]);const oe=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=_[oe]||[];_[oe]=pe,pe.push(A)}O(_,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(c,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||_}function Co(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,c),this.cb=Jn("retryDelaySeedMs",1e4,c),this.Wa=Jn("forwardChannelMaxRetries",2,c),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Va(c&&c.concurrentRequestLimit),this.Da=new To,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Co.prototype,t.la=8,t.G=1,t.connect=function(c,_,A,V){Ge(0),this.W=c,this.H=_||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=m(this,null,this.W),Ro(this)};function Mi(c){if(Us(c),c.G==3){var _=c.U++,A=Tr(c.I);if(Vt(A,"SID",c.K),Vt(A,"RID",_),Vt(A,"TYPE","terminate"),ds(c,A),_=new bn(c,c.j,_),_.L=2,_.v=Ms(Tr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=_.v,A=!0),A||(_.g=C(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Eo(_)}Mo(c)}function Lo(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function Us(c){Lo(c),c.u&&(a.clearTimeout(c.u),c.u=null),Vi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ro(c){if(!Ml(c.h)&&!c.s){c.s=!0;var _=c.Ga;_e||he(),X||(_e(),X=!0),ue.add(_,c),c.B=0}}function Xa(c,_){return js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ur(y(c.Ga,c,_),Fo(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const oe=new bn(this,this.j,c);let pe=this.o;if(this.S&&(pe?(pe=I(pe),B(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=qs(this,oe,_),A=Tr(this.I),Vt(A,"RID",c),Vt(A,"CVER",22),this.D&&Vt(A,"X-HTTP-Session-Id",this.D),ds(this,A),pe&&(this.O?_="headers="+encodeURIComponent(String(Fi(pe)))+"&"+_:this.m&&Ga(A,this.m,pe)),tn(this.h,oe),this.Ua&&Vt(A,"TYPE","init"),this.P?(Vt(A,"$req",_),Vt(A,"SID","null"),oe.T=!0,as(oe,A,null)):as(oe,A,_),this.G=2}}else this.G==3&&(c?Do(this,c):this.i.length==0||Ml(this.h)||Do(this))};function Do(c,_){var A;_?A=_.l:A=c.U++;const V=Tr(c.I);Vt(V,"SID",c.K),Vt(V,"RID",A),Vt(V,"AID",c.T),ds(c,V),c.m&&c.o&&Ga(V,c.m,c.o),A=new bn(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),_&&(c.i=_.D.concat(c.i)),_=qs(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tn(c.h,A),as(A,V,_)}function ds(c,_){c.H&&re(c.H,function(A,V){Vt(_,V,A)}),c.l&&Bl({},function(A,V){Vt(_,V,A)})}function qs(c,_,A){A=Math.min(c.i.length,A);var V=c.l?y(c.l.Na,c.l,c):null;e:{var oe=c.i;let pe=-1;for(;;){const ke=["count="+A];pe==-1?0<A?(pe=oe[0].g,ke.push("ofs="+pe)):pe=0:ke.push("ofs="+pe);let mt=!0;for(let St=0;St<A;St++){let gt=oe[St].g;const Mt=oe[St].map;if(gt-=pe,0>gt)pe=Math.max(0,oe[St].g-100),mt=!1;else try{Ha(Mt,ke,"req"+gt+"_")}catch{V&&V(Mt)}}if(mt){V=ke.join("&");break e}}}return c=c.i.splice(0,A),_.D=c,V}function Oo(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;_e||he(),X||(_e(),X=!0),ue.add(_,c),c.v=0}}function zs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ur(y(c.Fa,c),Fo(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Hl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ur(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Lo(this),Hl(this))};function jo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Hl(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Tr(c.qa);Vt(_,"RID","rpc"),Vt(_,"SID",c.K),Vt(_,"AID",c.T),Vt(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Vt(_,"TO",c.ja),Vt(_,"TYPE","xmlhttp"),ds(c,_),c.m&&c.o&&Ga(_,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=Ms(Tr(_)),A.m=null,A.P=!0,Rs(A,c)}t.Za=function(){this.C!=null&&(this.C=null,Lo(this),zs(this),Ge(19))};function Vi(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ps(c,_){var A=null;if(c.g==_){Vi(c),jo(c),c.g=null;var V=2}else if(Ba(c.h,_))A=_.D,Ua(c.h,_),V=1;else return;if(c.G!=0){if(_.o)if(V==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var oe=c.B;V=gi(),at(V,new Fr(V,A)),Ro(c)}else Oo(c);else if(oe=_.s,oe==3||oe==0&&0<_.X||!(V==1&&Xa(c,_)||V==2&&zs(c)))switch(A&&0<A.length&&(_=c.h,_.i=_.i.concat(A)),oe){case 1:hr(c,5);break;case 4:hr(c,10);break;case 3:hr(c,6);break;default:hr(c,2)}}}function Fo(c,_){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*_}function hr(c,_){if(c.j.info("Error code "+_),_==2){var A=y(c.fb,c),V=c.Xa;const oe=!V;V=new gn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fs(V,"https"),Ms(V),oe?vi(V.toString(),A):zl(V.toString(),A)}else Ge(2);c.G=0,c.l&&c.l.sa(_),Mo(c),Us(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Mo(c){if(c.G=0,c.ka=[],c.l){const _=qa(c.h);(_.length!=0||c.i.length!=0)&&(R(c.ka,_),R(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function m(c,_,A){var V=A instanceof gn?Tr(A):new gn(A);if(V.g!="")_&&(V.g=_+"."+V.g),Ao(V,V.s);else{var oe=a.location;V=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new gn(null);V&&Fs(pe,V),_&&(pe.g=_),oe&&Ao(pe,oe),A&&(pe.l=A),V=pe}return A=c.D,_=c.ya,A&&_&&Vt(V,A,_),Vt(V,"VER",c.la),ds(c,V),V}function C(c,_,A){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ft(new No({eb:A})):new Ft(c.pa),_.Ha(c.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function G(){}t=G.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ee(){}ee.prototype.g=function(c,_){return new ae(c,_)};function ae(c,_){et.call(this),this.g=new Co(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!b(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!b(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ue(this)}N(ae,et),ae.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ae.prototype.close=function(){Mi(this.g)},ae.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=Ot(c),c=A);_.i.push(new wc(_.Ya++,c)),_.G==3&&Ro(_)},ae.prototype.N=function(){this.g.l=null,delete this.j,Mi(this.g),delete this.g,ae.aa.N.call(this)};function be(c){Jr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const A in _){c=A;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}N(be,Jr);function Pe(){Yt.call(this),this.status=1}N(Pe,Yt);function Ue(c){this.g=c}N(Ue,G),Ue.prototype.ua=function(){at(this.g,"a")},Ue.prototype.ta=function(c){at(this.g,new be(c))},Ue.prototype.sa=function(c){at(this.g,new Pe)},Ue.prototype.ra=function(){at(this.g,"b")},ee.prototype.createWebChannel=ee.prototype.g,ae.prototype.send=ae.prototype.o,ae.prototype.open=ae.prototype.m,ae.prototype.close=ae.prototype.close,rb=function(){return new ee},nb=function(){return gi()},tb=rt,V1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,xd=cr,Mr.COMPLETE="complete",eb=Mr,en.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",et.prototype.listen=et.prototype.K,th=en,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Z3=Ft}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});const P5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new h2("@firebase/firestore");function Hc(){return Il.logLevel}function Xe(t,...e){if(Il.logLevel<=Tt.DEBUG){const n=e.map(S2);Il.debug(`Firestore (${gc}): ${t}`,...n)}}function go(t,...e){if(Il.logLevel<=Tt.ERROR){const n=e.map(S2);Il.error(`Firestore (${gc}): ${t}`,...n)}}function Zu(t,...e){if(Il.logLevel<=Tt.WARN){const n=e.map(S2);Il.warn(`Firestore (${gc}): ${t}`,...n)}}function S2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+t;throw go(e),new Error(e)}function $t(t,e){t||ft()}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ok{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_r.UNAUTHENTICATED))}shutdown(){}}class ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lk{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new ib(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new _r(e)}}class uk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ck{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$t(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new hk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Dt(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new qn(0,0))}static max(){return new yt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ft(),r===void 0?r=e.length-n:r>e.length-n&&ft(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sn extends qh{construct(e,n,r){return new sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sn(n)}static emptyPath(){return new sn([])}}const pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends qh{construct(e,n,r){return new rr(e,n,r)}static isValidIdentifier(e){return pk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(n)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(sn.fromString(e))}static fromName(e){return new tt(sn.fromString(e).popFirst(5))}static empty(){return new tt(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new sn(e.slice()))}}function mk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new qn(n+1,0):new qn(n,r));return new Pa(i,tt.empty(),e)}function gk(t){return new Pa(t.readTime,t.key,-1)}class Pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pa(yt.min(),tt.empty(),-1)}static max(){return new Pa(yt.max(),tt.empty(),-1)}}function vk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=tt.comparator(t.documentKey,e.documentKey),n!==0?n:Dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==yk)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function wk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}A2.oe=-1;function em(t){return t==null}function gp(t){return t===0&&1/t==-1/0}function bk(t){return typeof t=="number"&&Number.isInteger(t)&&!gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ob(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nr.RED,this.left=i??nr.EMPTY,this.right=s??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C5(this.data.getIterator())}getIteratorFrom(e){return new C5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class C5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new li([])}unionWith(e){let n=new sr(rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ab("Invalid base64 string: "+s):s}}(e);return new ar(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const Ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(t){if($t(!!t),typeof t=="string"){let e=0;const n=Ek.exec(t);if($t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xl(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x2(t){const e=t.mapValue.fields.__previous_value__;return I2(e)?x2(e):e}function zh(t){const e=ka(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class $h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id={mapValue:{}};function Tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I2(t)?4:Ik(t)?9007199254740991:Ak(t)?10:11:ft()}function ks(t,e){if(t===e)return!0;const n=Tl(t);if(n!==Tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ka(i.timestampValue),a=ka(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xl(i.bytesValue).isEqual(xl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return An(i.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return An(i.integerValue)===An(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=An(i.doubleValue),a=An(s.doubleValue);return o===a?gp(o)===gp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(k5(o)!==k5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ks(o[l],a[l])))return!1;return!0}(t,e);default:return ft()}}function Wh(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function tc(t,e){if(t===e)return 0;const n=Tl(t),r=Tl(e);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=An(s.integerValue||s.doubleValue),l=An(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return L5(t.timestampValue,e.timestampValue);case 4:return L5(zh(t),zh(e));case 5:return Dt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=xl(s),l=xl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const d=Dt(a[h],l[h]);if(d!==0)return d}return Dt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Dt(An(s.latitude),An(o.latitude));return a!==0?a:Dt(An(s.longitude),An(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,d;const p=s.fields||{},y=o.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,N=(l=y.value)===null||l===void 0?void 0:l.arrayValue,T=Dt(((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:R5(g,N)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===id.mapValue&&o===id.mapValue)return 0;if(s===id.mapValue)return 1;if(o===id.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=Dt(l[p],d[p]);if(y!==0)return y;const g=tc(a[l[p]],h[d[p]]);if(g!==0)return g}return Dt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ft()}}function L5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dt(t,e);const n=ka(t),r=ka(e),i=Dt(n.seconds,r.seconds);return i!==0?i:Dt(n.nanos,r.nanos)}function R5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=tc(n[i],r[i]);if(s)return s}return Dt(n.length,r.length)}function nc(t){return B1(t)}function B1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ka(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return tt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=B1(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${B1(n.fields[o])}`;return i+"}"}(t.mapValue):ft()}function D5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U1(t){return!!t&&"integerValue"in t}function T2(t){return!!t&&"arrayValue"in t}function O5(t){return!!t&&"nullValue"in t}function j5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function Ak(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ik(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ll(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wr(mh(this.value))}}function lb(t){const e=[];return Ll(t.fields,(n,r)=>{const i=new rr([n]);if(Td(r)){const s=lb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new br(e,0,yt.min(),yt.min(),yt.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,i){return new br(e,1,n,yt.min(),r,i,0)}static newNoDocument(e,n){return new br(e,2,n,yt.min(),yt.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new br(e,3,n,yt.min(),yt.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.position=e,this.inclusive=n}}function F5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=tt.comparator(tt.fromName(o.referenceValue),n.key):r=tc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function M5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n="asc"){this.field=e,this.dir=n}}function xk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{}class jn extends ub{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nk(e,n,r):n==="array-contains"?new Ck(e,r):n==="in"?new Lk(e,r):n==="not-in"?new Rk(e,r):n==="array-contains-any"?new Dk(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pk(e,r):new kk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tc(n,this.value)):n!==null&&Tl(this.value)===Tl(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends ub{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new es(e,n)}matches(e){return cb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cb(t){return t.op==="and"}function hb(t){return Tk(t)&&cb(t)}function Tk(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function q1(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(hb(t))return t.filters.map(e=>q1(e)).join(",");{const e=t.filters.map(n=>q1(n)).join(",");return`${t.op}(${e})`}}function fb(t,e){return t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&ks(r.value,i.value)}(t,e):t instanceof es?function(r,i){return i instanceof es&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fb(o,i.filters[a]),!0):!1}(t,e):void ft()}function db(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(db).join(" ,")+"}"}(t):"Filter"}class Nk extends jn{constructor(e,n,r){super(e,n,r),this.key=tt.fromName(r.referenceValue)}matches(e){const n=tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pk extends jn{constructor(e,n){super(e,"in",n),this.keys=pb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kk extends jn{constructor(e,n){super(e,"not-in",n),this.keys=pb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>tt.fromName(r.referenceValue))}class Ck extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T2(n)&&Wh(n.arrayValue,this.value)}}class Lk extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wh(this.value.arrayValue,n)}}class Rk extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wh(this.value.arrayValue,n)}}class Dk extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function V5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ok(t,e,n,r,i,s,o)}function N2(t){const e=_t(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.ue=n}return e.ue}function P2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!M5(t.startAt,e.startAt)&&M5(t.endAt,e.endAt)}function z1(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jk(t,e,n,r,i,s,o,a){return new lf(t,e,n,r,i,s,o,a)}function k2(t){return new lf(t)}function B5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mb(t){return t.collectionGroup!==null}function gh(t){const e=_t(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new sr(rr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yp(s,r))}),n.has(rr.keyField().canonicalString())||e.ce.push(new yp(rr.keyField(),r))}return e.ce}function Ts(t){const e=_t(t);return e.le||(e.le=Fk(e,gh(t))),e.le}function Fk(t,e){if(t.limitType==="F")return V5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yp(i.field,s)});const n=t.endAt?new vp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vp(t.startAt.position,t.startAt.inclusive):null;return V5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $1(t,e){const n=t.filters.concat([e]);return new lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function W1(t,e,n){return new lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return P2(Ts(t),Ts(e))&&t.limitType===e.limitType}function gb(t){return`${N2(Ts(t))}|lt:${t.limitType}`}function cu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>db(i)).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(Ts(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):tt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const h=F5(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,gh(r),i)||r.endAt&&!function(o,a,l){const h=F5(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,gh(r),i))}(t,e)}function Mk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vb(t){return(e,n)=>{let r=!1;for(const i of gh(t)){const s=Vk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vk(t,e,n){const r=t.field.isKeyField()?tt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),h=a.data.field(s);return l!==null&&h!==null?tc(l,h):ft()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new dn(tt.comparator);function vo(){return Bk}const yb=new dn(tt.comparator);function nh(...t){let e=yb;for(const n of t)e=e.insert(n.key,n);return e}function _b(t){let e=yb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dl(){return vh()}function wb(){return vh()}function vh(){return new vc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Uk=new dn(tt.comparator),qk=new sr(tt.comparator);function It(...t){let e=qk;for(const n of t)e=e.add(n);return e}const zk=new sr(Dt);function $k(){return zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gp(e)?"-0":e}}function bb(t){return{integerValue:""+t}}function Wk(t,e){return bk(e)?bb(e):C2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function Hk(t,e,n){return t instanceof _p?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I2(s)&&(s=x2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hh?Sb(t,e):t instanceof Gh?Ab(t,e):function(i,s){const o=Eb(i,s),a=U5(o)+U5(i.Pe);return U1(o)&&U1(i.Pe)?bb(a):C2(i.serializer,a)}(t,e)}function Gk(t,e,n){return t instanceof Hh?Sb(t,e):t instanceof Gh?Ab(t,e):n}function Eb(t,e){return t instanceof wp?function(r){return U1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _p extends rm{}class Hh extends rm{constructor(e){super(),this.elements=e}}function Sb(t,e){const n=Ib(e);for(const r of t.elements)n.some(i=>ks(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gh extends rm{constructor(e){super(),this.elements=e}}function Ab(t,e){let n=Ib(e);for(const r of t.elements)n=n.filter(i=>!ks(i,r));return{arrayValue:{values:n}}}class wp extends rm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U5(t){return An(t.integerValue||t.doubleValue)}function Ib(t){return T2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hh&&i instanceof Hh||r instanceof Gh&&i instanceof Gh?ec(r.elements,i.elements,ks):r instanceof wp&&i instanceof wp?ks(r.Pe,i.Pe):r instanceof _p&&i instanceof _p}(t.transform,e.transform)}class Qk{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function xb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L2(t.key,Pi.none()):new uf(t.key,t.data,Pi.none());{const n=t.data,r=Wr.empty();let i=new sr(rr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ma(t.key,r,new li(i.toArray()),Pi.none())}}function Yk(t,e,n){t instanceof uf?function(i,s,o){const a=i.value.clone(),l=z5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(i,s,o){if(!Nd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=z5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Tb(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yh(t,e,n,r){return t instanceof uf?function(s,o,a,l){if(!Nd(s.precondition,o))return a;const h=s.value.clone(),d=$5(s.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ma?function(s,o,a,l){if(!Nd(s.precondition,o))return a;const h=$5(s.fieldTransforms,l,o),d=o.data;return d.setAll(Tb(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Nd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Jk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Eb(r.transform,i||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function q5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(s,o)=>Kk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uf extends im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ma extends im{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z5(t,e,n){const r=new Map;$t(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gk(o,a,n[i]))}return r}function $5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hk(s,o,e))}return r}class L2 extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),It())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>q5(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>q5(n,r))}}class R2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length);let i=function(){return Uk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new R2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Pt;function nC(t){switch(t){default:return ft();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Nb(t){if(t===void 0)return go("GRPC error has no .code"),Te.UNKNOWN;switch(t){case Dn.OK:return Te.OK;case Dn.CANCELLED:return Te.CANCELLED;case Dn.UNKNOWN:return Te.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return Te.INTERNAL;case Dn.UNAVAILABLE:return Te.UNAVAILABLE;case Dn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Dn.NOT_FOUND:return Te.NOT_FOUND;case Dn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Dn.ABORTED:return Te.ABORTED;case Dn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Dn.DATA_LOSS:return Te.DATA_LOSS;default:return ft()}}(Pt=Dn||(Dn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new gl([4294967295,4294967295],0);function W5(t){const e=rC().encode(t),n=new X3;return n.update(e),new Uint8Array(n.digest())}function H5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gl([n,r],0),new gl([i,s],0)]}class D2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=gl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(gl.fromNumber(r)));return i.compare(iC)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=W5(e),[r,i]=H5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new D2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=W5(e),[r,i]=H5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sm(yt.min(),i,new dn(Dt),vo(),It())}}class cf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Pb{constructor(e,n){this.targetId=e,this.me=n}}class kb{constructor(e,n,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G5{constructor(){this.fe=0,this.ge=Q5(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=It(),n=It(),r=It();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Q5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sC{constructor(e){this.Le=e,this.Be=new Map,this.ke=vo(),this.qe=K5(),this.Qe=new dn(Dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ft()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(z1(s))if(r===0){const o=new tt(s.path);this.Ue(n,o,br.newNoDocument(o,yt.min()))}else $t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=xl(r).toUint8Array()}catch(l){if(l instanceof ab)return Zu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new D2(o,i,s)}catch(l){return Zu(l instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&z1(a.target)){const l=new tt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,br.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=It();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new sm(e,n,this.Qe,this.ke,r);return this.ke=vo(),this.qe=K5(),this.Qe=new dn(Dt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new G5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new sr(Dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new G5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function K5(){return new dn(tt.comparator)}function Q5(){return new dn(tt.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lC={and:"AND",or:"OR"};class uC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H1(t,e){return t.useProto3Json||em(e)?e:{value:e}}function bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cC(t,e){return bp(t,e.toTimestamp())}function Ns(t){return $t(!!t),yt.fromTimestamp(function(n){const r=ka(n);return new qn(r.seconds,r.nanos)}(t))}function O2(t,e){return G1(t,e).canonicalString()}function G1(t,e){const n=function(i){return new sn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Lb(t){const e=sn.fromString(t);return $t(Fb(e)),e}function K1(t,e){return O2(t.databaseId,e.path)}function _g(t,e){const n=Lb(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tt(Db(n))}function Rb(t,e){return O2(t.databaseId,e)}function hC(t){const e=Lb(t);return e.length===4?sn.emptyPath():Db(e)}function Q1(t){return new sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Db(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y5(t,e,n){return{name:K1(t,e),fields:n.value.mapValue.fields}}function fC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?($t(d===void 0||typeof d=="string"),ar.fromBase64String(d||"")):($t(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ar.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const d=h.code===void 0?Te.UNKNOWN:Nb(h.code);return new Qe(d,h.message||"")}(o);n=new kb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_g(t,r.document.name),s=Ns(r.document.updateTime),o=r.document.createTime?Ns(r.document.createTime):yt.min(),a=new Wr({mapValue:{fields:r.document.fields}}),l=br.newFoundDocument(i,s,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Pd(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_g(t,r.document),s=r.readTime?Ns(r.readTime):yt.min(),o=br.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_g(t,r.document),s=r.removedTargetIds||[];n=new Pd([],s,i,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tC(i,s),a=r.targetId;n=new Pb(a,o)}}return n}function dC(t,e){let n;if(e instanceof uf)n={update:Y5(t,e.key,e.value)};else if(e instanceof L2)n={delete:K1(t,e.key)};else if(e instanceof Ma)n={update:Y5(t,e.key,e.data),updateMask:EC(e.fieldMask)};else{if(!(e instanceof Xk))return ft();n={verify:K1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof _p)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ft()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ft()}(t,e.precondition)),n}function pC(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ns(i.updateTime):Ns(s);return o.isEqual(yt.min())&&(o=Ns(s)),new Qk(o,i.transformResults||[])}(n,e))):[]}function mC(t,e){return{documents:[Rb(t,e.path)]}}function gC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rb(t,i);const s=function(h){if(h.length!==0)return jb(es.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(y){return{field:hu(y.field),direction:_C(y.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=H1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function vC(t){let e=hC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const y=Ob(p);return y instanceof es&&hb(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(N){return new yp(fu(N.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,em(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){const y=!!p.before,g=p.values||[];return new vp(g,y)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const y=!p.before,g=p.values||[];return new vp(g,y)}(n.endAt)),jk(e,i,o,s,a,"F",l,h)}function yC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ob(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fu(n.unaryFilter.field);return jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fu(n.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(t):t.fieldFilter!==void 0?function(n){return jn.create(fu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(r=>Ob(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ft()}}(n.compositeFilter.op))}(t):ft()}function _C(t){return oC[t]}function wC(t){return aC[t]}function bC(t){return lC[t]}function hu(t){return{fieldPath:t.canonicalString()}}function fu(t){return rr.fromServerFormat(t.fieldPath)}function jb(t){return t instanceof jn?function(n){if(n.op==="=="){if(j5(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NAN"}};if(O5(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j5(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NAN"}};if(O5(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(n.field),op:wC(n.op),value:n.value}}}(t):t instanceof es?function(n){const r=n.getFilters().map(i=>jb(i));return r.length===1?r[0]:{compositeFilter:{op:bC(n.op),filters:r}}}(t):ft()}function EC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,i,s=yt.min(),o=yt.min(),a=ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.ct=e}}function AC(t){const e=vC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.un=new xC}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(Pa.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class xC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sr(sn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rc(0)}static kn(){return new rc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.changes=new vc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yh(r.mutation,i,li.empty(),qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,It()).next(()=>r))}getLocalViewOfDocuments(e,n,r=It()){const i=dl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,It()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vo();const o=vh(),a=function(){return vh()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Ma)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),yh(d.mutation,h,d.mutation.getFieldMask(),qn.now())):o.set(h.key,li.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return a.set(h,new NC(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new dn((o,a)=>o-a),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||li.empty();d=a.applyToLocalView(h,d),r.set(l,d);const p=(i.get(a.batchId)||It()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,d=l.value,p=wb();d.forEach(y=>{if(!s.has(y)){const g=xb(n.get(y),r.get(y));g!==null&&p.set(y,g),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return tt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(dl());let a=-1,l=s;return o.next(h=>Ce.forEach(h,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?Ce.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,It())).next(d=>({batchId:a,changes:_b(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tt(n)).next(r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nh();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const h=function(p,y){return new lf(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,br.newInvalidDocument(d)))});let a=nh();return o.forEach((l,h)=>{const d=s.get(l);d!==void 0&&yh(d.mutation,h,li.empty(),qn.now()),nm(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ns(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:AC(i.bundledQuery),readTime:Ns(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.overlays=new dn(tt.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=dl(),s=n.length+1,o=new tt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dn((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=dl(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=dl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eC(n,r));let s=this.Ir.get(n);s===void 0&&(s=It(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Tr=new sr(Wn.Er),this.dr=new sr(Wn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new tt(new sn([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new tt(new sn([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=It();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return tt.comparator(e.key,n.key)||Dt(e.wr,n.wr)}static Ar(e,n){return Dt(e.wr,n.wr)||tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new sr(Wn.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Wn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(Dt);return n.forEach(i=>{const s=new Wn(i,0),o=new Wn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;tt.isDocumentKey(s)||(s=s.child(""));const o=new Wn(new tt(s),0);let a=new sr(Dt);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wn(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.Mr=e,this.docs=function(){return new dn(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():br.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():br.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vo();const o=n.path,a=new tt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||vk(gk(d),r)<=0||(i.has(d.key)||nm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ft()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OC(this)}getSize(e){return Ce.resolve(this.size)}}class OC extends TC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.persistence=e,this.Nr=new vc(n=>N2(n),P2),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new j2,this.targetCount=0,this.kr=rc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new A2(0),this.Kr=!1,this.Kr=!0,this.$r=new LC,this.referenceDelegate=e(this),this.Ur=new jC(this),this.indexManager=new IC,this.remoteDocumentCache=function(i){return new DC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new SC(n),this.Gr=new kC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new RC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new MC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class MC extends _k{constructor(e){super(),this.currentSequenceNumber=e}}class F2{constructor(e){this.persistence=e,this.Jr=new j2,this.Yr=null}static Zr(e){return new F2(e)}get Xr(){if(this.Yr)return this.Yr;throw ft()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=tt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,yt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new M2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PT()?8:wk(Ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VC;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Hc()<=Tt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(Hc()<=Tt.DEBUG&&Xe("QueryEngine","Query:",cu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Hc()<=Tt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(n))):Ce.resolve())}Yi(e,n){if(B5(n))return Ce.resolve(null);let r=Ts(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=W1(n,null,"F"),r=Ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=It(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,a);return this.ns(n,h,o,l.readTime)?this.Yi(e,W1(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,i){return B5(n)||i.isEqual(yt.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(Hc()<=Tt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cu(n)),this.rs(e,o,n,mk(i,-1)).next(a=>a))})}ts(e,n){let r=new sr(vb(e));return n.forEach((i,s)=>{nm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Hc()<=Tt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Pa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dn(Dt),this._s=new vc(s=>N2(s),P2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qC(t,e,n,r){return new UC(t,e,n,r)}async function Mb(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=It();for(const h of i){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of s){a.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:a}))})})}function zC(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,d){const p=h.batch,y=p.keys();let g=Ce.resolve();return y.forEach(N=>{g=g.next(()=>d.getEntry(l,N)).next(T=>{const R=h.docVersions.get(N);$t(R!==null),T.version.compareTo(R)<0&&(p.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=It();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Vb(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $C(t,e){const n=_t(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const y=i.get(p);if(!y)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let g=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(ar.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),function(T,R,w){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(y,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=vo(),h=It();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(WC(s,o,e.documentUpdates).next(d=>{l=d.Ps,h=d.Is})),!r.isEqual(yt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.os=i,s))}function WC(t,e,n){let r=It(),i=It();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vo();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(yt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function HC(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GC(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ha(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Y1(t,e,n){const r=_t(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!af(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function J5(t,e,n){const r=_t(t);let i=yt.min(),s=It();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,d){const p=_t(l),y=p._s.get(d);return y!==void 0?Ce.resolve(p.os.get(y)):p.Ur.getTargetData(h,d)}(r,o,Ts(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:yt.min(),n?s:It())).next(a=>(KC(r,Mk(e),a),{documents:a,Ts:s})))}function KC(t,e,n){let r=t.us.get(e)||yt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class X5{constructor(){this.activeTargetIds=$k()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this.so=new X5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new X5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd=null;function wg(){return sd===null?sd=function(){return 268435456+Math.round(2147483648*Math.random())}():sd++,"0x"+sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class ZC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=wg(),l=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,l,h,i).then(d=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Zu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=JC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=wg();return new Promise((o,a)=>{const l=new Z3;l.setWithCredentials(!0),l.listenOnce(eb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xd.NO_ERROR:const d=l.getResponseJson();Xe(pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case xd.TIMEOUT:Xe(pr,`RPC '${e}' ${s} timed out`),a(new Qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const p=l.getStatus();if(Xe(pr,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const g=y==null?void 0:y.error;if(g&&g.status&&g.message){const N=function(R){const w=R.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(w)>=0?w:Te.UNKNOWN}(g.status);a(new Qe(N,g.message))}else a(new Qe(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Qe(Te.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Xe(pr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Xe(pr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=wg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rb(),a=nb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Xe(pr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let y=!1,g=!1;const N=new XC({Io:R=>{g?Xe(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(Xe(pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Xe(pr,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),T=(R,w,b)=>{R.listen(w,k=>{try{b(k)}catch(H){setTimeout(()=>{throw H},0)}})};return T(p,th.EventType.OPEN,()=>{g||(Xe(pr,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),T(p,th.EventType.CLOSE,()=>{g||(g=!0,Xe(pr,`RPC '${e}' stream ${i} transport closed`),N.So())}),T(p,th.EventType.ERROR,R=>{g||(g=!0,Zu(pr,`RPC '${e}' stream ${i} transport errored:`,R),N.So(new Qe(Te.UNAVAILABLE,"The operation could not be completed")))}),T(p,th.EventType.MESSAGE,R=>{var w;if(!g){const b=R.data[0];$t(!!b);const k=b,H=k.error||((w=k[0])===null||w===void 0?void 0:w.error);if(H){Xe(pr,`RPC '${e}' stream ${i} received error:`,H);const Q=H.status;let re=function(j){const B=Dn[j];if(B!==void 0)return Nb(B)}(Q),O=H.message;re===void 0&&(re=Te.INTERNAL,O="Unknown error status: "+Q+" with message "+H.message),g=!0,N.So(new Qe(re,O)),p.close()}else Xe(pr,`RPC '${e}' stream ${i} received:`,b),N.bo(b)}}),T(a,tb.STAT_EVENT,R=>{R.stat===V1.PROXY?Xe(pr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===V1.NOPROXY&&Xe(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new uC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(go(n.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eL extends Ub{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fC(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Ns(o.readTime):yt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Q1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=z1(l)?{documents:mC(s,l)}:{query:gC(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Cb(s,o.resumeToken);const h=H1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(yt.min())>0){a.readTime=bp(s,o.snapshotVersion.toTimestamp());const h=H1(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=yC(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Q1(this.serializer),n.removeTarget=e,this.a_(n)}}class tL extends Ub{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pC(e.writeResults,e.commitTime),r=Ns(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Q1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dC(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,G1(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(Te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,G1(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(Te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(go(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Rl(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=_t(l);h.L_.add(4),await hf(h),h.q_.set("Unknown"),h.L_.delete(4),await am(h)}(this))})}),this.q_=new rL(r,i)}}async function am(t){if(Rl(t))for(const e of t.B_)await e(!0)}async function hf(t){for(const e of t.B_)await e(!1)}function qb(t,e){const n=_t(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),q2(n)?U2(n):yc(n).r_()&&B2(n,e))}function V2(t,e){const n=_t(t),r=yc(n);n.N_.delete(e),r.r_()&&zb(n,e),n.N_.size===0&&(r.r_()?r.o_():Rl(n)&&n.q_.set("Unknown"))}function B2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).A_(e)}function zb(t,e){t.Q_.xe(e),yc(t).R_(e)}function U2(t){t.Q_=new sC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.q_.v_()}function q2(t){return Rl(t)&&!yc(t).n_()&&t.N_.size>0}function Rl(t){return _t(t).L_.size===0}function $b(t){t.Q_=void 0}async function sL(t){t.q_.set("Online")}async function oL(t){t.N_.forEach((e,n)=>{B2(t,e)})}async function aL(t,e){$b(t),q2(t)?(t.q_.M_(e),U2(t)):t.q_.set("Unknown")}async function lL(t,e,n){if(t.q_.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof Pd?t.Q_.Ke(e):e instanceof Pb?t.Q_.He(e):t.Q_.We(e),!n.isEqual(yt.min()))try{const r=await Vb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(h);d&&s.N_.set(h,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ar.EMPTY_BYTE_STRING,d.snapshotVersion)),zb(s,l);const p=new ha(d.target,l,h,d.sequenceNumber);B2(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!af(e))throw e;t.L_.add(1),await hf(t),t.q_.set("Offline"),n||(n=()=>Vb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await am(t)})}function Wb(t,e){return e().catch(n=>Ep(t,n,e))}async function lm(t){const e=_t(t),n=Ca(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uL(e);)try{const i=await HC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,cL(e,i)}catch(i){await Ep(e,i)}Hb(e)&&Gb(e)}function uL(t){return Rl(t)&&t.O_.length<10}function cL(t,e){t.O_.push(e);const n=Ca(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Hb(t){return Rl(t)&&!Ca(t).n_()&&t.O_.length>0}function Gb(t){Ca(t).start()}async function hL(t){Ca(t).p_()}async function fL(t){const e=Ca(t);for(const n of t.O_)e.m_(n.mutations)}async function dL(t,e,n){const r=t.O_.shift(),i=R2.from(r,e,n);await Wb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lm(t)}async function pL(t,e){e&&Ca(t).V_&&await async function(r,i){if(function(o){return nC(o)&&o!==Te.ABORTED}(i.code)){const s=r.O_.shift();Ca(r).s_(),await Wb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lm(r)}}(t,e),Hb(t)&&Gb(t)}async function e_(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Rl(n);n.L_.add(3),await hf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await am(n)}async function mL(t,e){const n=_t(t);e?(n.L_.delete(2),await am(n)):e||(n.L_.add(2),await hf(n),n.q_.set("Unknown"))}function yc(t){return t.K_||(t.K_=function(n,r,i){const s=_t(n);return s.w_(),new eL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sL.bind(null,t),Ro:oL.bind(null,t),mo:aL.bind(null,t),d_:lL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),q2(t)?U2(t):t.q_.set("Unknown")):(await t.K_.stop(),$b(t))})),t.K_}function Ca(t){return t.U_||(t.U_=function(n,r,i){const s=_t(n);return s.w_(),new tL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hL.bind(null,t),mo:pL.bind(null,t),f_:fL.bind(null,t),g_:dL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lm(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new z2(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $2(t,e){if(go("AsyncQueue",`${e}: ${t}`),af(t))return new Qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||tt.comparator(n.key,r.key):(n,r)=>tt.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new dn(this.comparator)}static emptySet(e){return new Mu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.W_=new dn(tt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ft():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ic{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ic(e,n,Mu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vL{constructor(){this.queries=n_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_t(n),s=i.queries;i.queries=n_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Qe(Te.ABORTED,"Firestore shutting down"))}}function n_(){return new vc(t=>gb(t),tm)}async function Kb(t,e){const n=_t(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new gL,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=$2(o,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&W2(n)}async function Qb(t,e){const n=_t(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yL(t,e){const n=_t(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&W2(n)}function _L(t,e,n){const r=_t(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function W2(t){t.Y_.forEach(e=>{e.next()})}var J1,r_;(r_=J1||(J1={})).ea="default",r_.Cache="cache";class Yb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.key=e}}class Xb{constructor(e){this.key=e}}class wL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=It(),this.mutatedKeys=It(),this.Aa=vb(e),this.Ra=new Mu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new t_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const y=i.get(d),g=nm(this.query,p)?p:null,N=!!y&&this.mutatedKeys.has(y.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;y&&g?y.data.isEqual(g.data)?N!==T&&(r.track({type:3,doc:g}),R=!0):this.ga(y,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.Aa(g,l)>0||h&&this.Aa(g,h)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),R=!0):y&&!g&&(r.track({type:1,doc:y}),R=!0,(l||h)&&(a=!0)),R&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(g,N){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return T(g)-T(N)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new ic(this.query,e.Ra,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new t_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=It(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Xb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Jb(r))}),n}ba(e){this.Ta=e.Ts,this.da=It();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EL{constructor(e){this.key=e,this.va=!1}}class SL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vc(a=>gb(a),tm),this.Ma=new Map,this.xa=new Set,this.Oa=new dn(tt.comparator),this.Na=new Map,this.La=new j2,this.Ba={},this.ka=new Map,this.qa=rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function AL(t,e,n=!0){const r=iE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Zb(r,e,n,!0),i}async function IL(t,e){const n=iE(t);await Zb(n,e,!0,!1)}async function Zb(t,e,n,r){const i=await GC(t.localStore,Ts(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await xL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&qb(t.remoteStore,i),a}async function xL(t,e,n,r,i){t.Ka=(p,y,g)=>async function(T,R,w,b){let k=R.view.ma(w);k.ns&&(k=await J5(T.localStore,R.query,!1).then(({documents:O})=>R.view.ma(O,k)));const H=b&&b.targetChanges.get(R.targetId),Q=b&&b.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(k,T.isPrimaryClient,H,Q);return s_(T,R.targetId,re.wa),re.snapshot}(t,p,y,g);const s=await J5(t.localStore,e,!0),o=new wL(e,s.Ts),a=o.ma(s.documents),l=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);s_(t,n,h.wa);const d=new bL(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function TL(t,e,n){const r=_t(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!tm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Y1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&V2(r.remoteStore,i.targetId),X1(r,i.targetId)}).catch(of)):(X1(r,i.targetId),await Y1(r.localStore,i.targetId,!0))}async function NL(t,e){const n=_t(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),V2(n.remoteStore,r.targetId))}async function PL(t,e,n){const r=jL(t);try{const i=await function(o,a){const l=_t(o),h=qn.now(),d=a.reduce((g,N)=>g.add(N.key),It());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let N=vo(),T=It();return l.cs.getEntries(g,d).next(R=>{N=R,N.forEach((w,b)=>{b.isValidDocument()||(T=T.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,N)).next(R=>{p=R;const w=[];for(const b of a){const k=Jk(b,p.get(b.key).overlayedDocument);k!=null&&w.push(new Ma(b.key,k,lb(k.value.mapValue),Pi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,h,w,a)}).next(R=>{y=R;const w=R.applyToLocalDocumentSet(p,T);return l.documentOverlayCache.saveOverlays(g,R.batchId,w)})}).then(()=>({batchId:y.batchId,changes:_b(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new dn(Dt)),h=h.insert(a,l),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await ff(r,i.changes),await lm(r.remoteStore)}catch(i){const s=$2(i,"Failed to persist write");n.reject(s)}}async function eE(t,e){const n=_t(t);try{const r=await $C(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$t(o.va):i.removedDocuments.size>0&&($t(o.va),o.va=!1))}),await ff(n,r,e)}catch(r){await of(r)}}function i_(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_t(o);l.onlineState=a;let h=!1;l.queries.forEach((d,p)=>{for(const y of p.j_)y.Z_(a)&&(h=!0)}),h&&W2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kL(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dn(tt.comparator);o=o.insert(s,br.newNoDocument(s,yt.min()));const a=It().add(s),l=new sm(yt.min(),new Map,new dn(Dt),o,a);await eE(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),H2(r)}else await Y1(r.localStore,e,!1).then(()=>X1(r,e,n)).catch(of)}async function CL(t,e){const n=_t(t),r=e.batch.batchId;try{const i=await zC(n.localStore,e);nE(n,r,null),tE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ff(n,i)}catch(i){await of(i)}}async function LL(t,e,n){const r=_t(t);try{const i=await function(o,a){const l=_t(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,a).next(p=>($t(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);nE(r,e,n),tE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ff(r,i)}catch(i){await of(i)}}function tE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nE(t,e,n){const r=_t(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function X1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rE(t,r)})}function rE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(V2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),H2(t))}function s_(t,e,n){for(const r of n)r instanceof Jb?(t.La.addReference(r.key,e),RL(t,r)):r instanceof Xb?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rE(t,r.key)):ft()}function RL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),H2(t))}function H2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new tt(sn.fromString(e)),r=t.qa.next();t.Na.set(r,new EL(n)),t.Oa=t.Oa.insert(n,r),qb(t.remoteStore,new ha(Ts(k2(n.path)),r,"TargetPurposeLimboResolution",A2.oe))}}async function ff(t,e,n){const r=_t(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(h){i.push(h);const p=M2.Wi(l.targetId,h);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,h){const d=_t(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Ce.forEach(h,y=>Ce.forEach(y.$i,g=>d.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>Ce.forEach(y.Ui,g=>d.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!af(p))throw p;Xe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const g=d.os.get(y),N=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(N);d.os=d.os.insert(y,T)}}}(r.localStore,s))}async function DL(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await Mb(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Qe(Te.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ff(n,r.hs)}}function OL(t,e){const n=_t(t),r=n.Na.get(e);if(r&&r.va)return It().add(r.key);{let i=It();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function iE(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.Ca.d_=yL.bind(null,e.eventManager),e.Ca.$a=_L.bind(null,e.eventManager),e}function jL(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LL.bind(null,e),e}class Sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qC(this.persistence,new BC,e.initialUser,this.serializer)}Ga(e){return new FC(F2.Zr,this.serializer)}Wa(e){return new QC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sp.provider={build:()=>new Sp};class Z1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DL.bind(null,this.syncEngine),await mL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vL}()}createDatastore(e){const n=om(e.databaseInfo.databaseId),r=function(s){return new ZC(s)}(e.databaseInfo);return function(s,o,a,l){return new nL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new iL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>i_(this.syncEngine,n,0),function(){return Z5.D()?new Z5:new YC}())}createSyncEngine(e,n){return function(i,s,o,a,l,h,d){const p=new SL(i,s,o,a,l,h);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_t(i);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await hf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Z1.provider={build:()=>new Z1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eg(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ML(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>e_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>e_(e.remoteStore,i)),t._onlineComponents=e}async function ML(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Eg(t,new Sp)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await Eg(t,new Sp);return t._offlineComponents}async function oE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await o_(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await o_(t,new Z1))),t._onlineComponents}function VL(t){return oE(t).then(e=>e.syncEngine)}async function aE(t){const e=await oE(t),n=e.eventManager;return n.onListen=AL.bind(null,e.syncEngine),n.onUnlisten=TL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NL.bind(null,e.syncEngine),n}function BL(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,h){const d=new sE({next:y=>{d.Za(),o.enqueueAndForget(()=>Qb(s,p));const g=y.docs.has(a);!g&&y.fromCache?h.reject(new Qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&l&&l.source==="server"?h.reject(new Qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new Yb(k2(a.path),d,{includeMetadataChanges:!0,_a:!0});return Kb(s,p)}(await aE(t),t.asyncQueue,e,n,r)),r.promise}function UL(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,h){const d=new sE({next:y=>{d.Za(),o.enqueueAndForget(()=>Qb(s,p)),y.fromCache&&l.source==="server"?h.reject(new Qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new Yb(a,d,{includeMetadataChanges:!0,_a:!0});return Kb(s,p)}(await aE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e,n){if(!n)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qL(t,e,n,r){if(e===!0&&r===!0)throw new Qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l_(t){if(!tt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u_(t){if(tt.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new Qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ok;switch(r.type){case"firstParty":return new ck(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a_.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),a_.delete(n),r.terminate())}(this),Promise.resolve()}}function zL(t,e,n,r={}){var i;const s=(t=ts(t,cm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_r.MOCK_USER;else{a=ET(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _r(h)}t._authCredentials=new ak(new ib(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class xa extends _c{constructor(e,n,r){super(e,n,k2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new tt(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function Nl(t,e,...n){if(t=Qn(t),uE("collection","path",e),t instanceof cm){const r=sn.fromString(e,...n);return u_(r),new xa(t,null,r)}{if(!(t instanceof Rr||t instanceof xa))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return u_(r),new xa(t.firestore,null,r)}}function ui(t,e,...n){if(t=Qn(t),arguments.length===1&&(e=sb.newId()),uE("doc","path",e),t instanceof cm){const r=sn.fromString(e,...n);return l_(r),new Rr(t,null,new tt(r))}{if(!(t instanceof Rr||t instanceof xa))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return l_(r),new Rr(t.firestore,t instanceof xa?t.converter:null,new tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bb(this,"async_queue_retry"),this.Vu=()=>{const r=bg();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new lo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!af(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw go("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Dl extends cm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new h_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h_(e),this._firestoreClient=void 0,await e}}}function $L(t,e){const n=typeof t=="object"?t:g3(),r=typeof t=="string"?t:"(default)",i=d2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wT("firestore");s&&zL(i,...s)}return i}function G2(t){if(t._terminated)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WL(t),t._firestoreClient}function WL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,h,d){return new Sk(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sc(ar.fromBase64String(e))}catch(n){throw new Qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sc(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=/^__.*__$/;class GL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new uf(e,this.data,n,this.fieldTransforms)}}class cE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class J2{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new J2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ap(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hE(this.Cu)&&HL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class KL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||om(e)}Qu(e,n,r,i=!1){return new J2({Cu:e,methodName:n,qu:r,path:rr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new KL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fE(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);X2("Data must be an object, but it was:",o,r);const a=dE(r,o);let l,h;if(s.merge)l=new li(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const y=e0(e,p,n);if(!o.contains(y))throw new Qe(Te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);mE(d,y)||d.push(y)}l=new li(d),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new GL(new Wr(a),l,h)}class dm extends K2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}function QL(t,e,n,r){const i=t.Qu(1,e,n);X2("Data must be an object, but it was:",i,r);const s=[],o=Wr.empty();Ll(r,(l,h)=>{const d=Z2(e,l,n);h=Qn(h);const p=i.Nu(d);if(h instanceof dm)s.push(d);else{const y=df(h,p);y!=null&&(s.push(d),o.set(d,y))}});const a=new li(s);return new cE(o,a,i.fieldTransforms)}function YL(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[e0(e,r,n)],l=[i];if(s.length%2!=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(e0(e,s[y])),l.push(s[y+1]);const h=[],d=Wr.empty();for(let y=a.length-1;y>=0;--y)if(!mE(h,a[y])){const g=a[y];let N=l[y];N=Qn(N);const T=o.Nu(g);if(N instanceof dm)h.push(g);else{const R=df(N,T);R!=null&&(h.push(g),d.set(g,R))}}const p=new li(h);return new cE(d,p,o.fieldTransforms)}function JL(t,e,n,r=!1){return df(n,t.Qu(r?4:3,e))}function df(t,e){if(pE(t=Qn(t)))return X2("Unsupported field value:",e,t),dE(t,e);if(t instanceof K2)return function(r,i){if(!hE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=df(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qn.fromDate(r);return{timestampValue:bp(i.serializer,s)}}if(r instanceof qn){const s=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bp(i.serializer,s)}}if(r instanceof Q2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sc)return{bytesValue:Cb(i.serializer,r._byteString)};if(r instanceof Rr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Y2)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return C2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${um(r)}`)}(t,e)}function dE(t,e){const n={};return ob(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(r,i)=>{const s=df(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof Q2||t instanceof sc||t instanceof Rr||t instanceof K2||t instanceof Y2)}function X2(t,e,n){if(!pE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=um(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function e0(t,e,n){if((e=Qn(e))instanceof hm)return e._internalPath;if(typeof e=="string")return Z2(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const XL=new RegExp("[~\\*/\\[\\]]");function Z2(t,e,n){if(e.search(XL)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Qe(Te.INVALID_ARGUMENT,a+t+l)}function mE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZL extends gE{data(){return super.data()}}function ev(t,e){return typeof e=="string"?Z2(t,e):e instanceof hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class tR extends tv{}function nR(t,e,...n){let r=[];e instanceof tv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof nv).length,a=s.filter(l=>l instanceof pm).length;if(o>1||o>0&&a>0)throw new Qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pm extends tR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pm(e,n,r)}_apply(e){const n=this._parse(e);return vE(e._query,n),new _c(e.firestore,e.converter,$1(e._query,n))}_parse(e){const n=fm(e.firestore);return function(s,o,a,l,h,d,p){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){d_(p,d);const g=[];for(const N of p)g.push(f_(l,s,N));y={arrayValue:{values:g}}}else y=f_(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||d_(p,d),y=JL(a,o,p,d==="in"||d==="not-in");return jn.create(h,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rR(t,e,n){const r=e,i=ev("where",t);return pm._create(i,r,n)}class nv extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vE(o,l),o=$1(o,l)}(e._query,n),new _c(e.firestore,e.converter,$1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f_(t,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&n.indexOf("/")!==-1)throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(sn.fromString(n));if(!tt.isDocumentKey(r))throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D5(t,new tt(r))}if(n instanceof Rr)return D5(t,n._key);throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function d_(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vE(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iR{convertValue(e,n="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ll(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>An(o.doubleValue));return new Y2(s)}convertGeoPoint(e){return new Q2(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=x2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=ka(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sn.fromString(e);$t(Fb(r));const i=new $h(r.get(1),r.get(3)),s=new tt(r.popFirst(5));return i.isEqual(n)||go(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _E extends gE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kd extends _E{data(e={}){return super.data(e)}}class sR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ih(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ih(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oR(a.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){t=ts(t,Rr);const e=ts(t.firestore,Dl);return BL(G2(e),t._key).then(n=>aR(e,t,n))}class wE extends iR{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function mm(t){t=ts(t,_c);const e=ts(t.firestore,Dl),n=G2(e),r=new wE(e);return eR(t._query),UL(n,t._query).then(i=>new sR(e,r,t,i))}function t0(t,e,n){t=ts(t,Rr);const r=ts(t.firestore,Dl),i=yE(t.converter,e);return gm(r,[fE(fm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pi.none())])}function Ip(t,e,n,...r){t=ts(t,Rr);const i=ts(t.firestore,Dl),s=fm(i);let o;return o=typeof(e=Qn(e))=="string"||e instanceof hm?YL(s,"updateDoc",t._key,e,n,r):QL(s,"updateDoc",t._key,e),gm(i,[o.toMutation(t._key,Pi.exists(!0))])}function xp(t){return gm(ts(t.firestore,Dl),[new L2(t._key,Pi.none())])}function iv(t,e){const n=ts(t.firestore,Dl),r=ui(t),i=yE(t.converter,e);return gm(n,[fE(fm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}function gm(t,e){return function(r,i){const s=new lo;return r.asyncQueue.enqueueAndForget(async()=>PL(await VL(r),i,s)),s.promise}(G2(t),e)}function aR(t,e,n){const r=n.docs.get(e._key),i=new wE(t);return new _E(t,i,e._key,r,new ih(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gc=i})(dc),Ju(new Sl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Dl(new lk(r.getProvider("auth-internal")),new fk(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Aa(P5,"4.7.3",e),Aa(P5,"4.7.3","esm2017")})();const lR={apiKey:"AIzaSyAcdG_9cM9yzmeMOFx-fhL4QAf9_wM3Yjo",authDomain:"achandymand-145da.firebaseapp.com",projectId:"achandymand-145da",storageBucket:"achandymand-145da.firebasestorage.app",messagingSenderId:"865306374889",appId:"1:865306374889:web:be1bc2500f388596de7678"},bE=m3(lR),sv=nk(bE),Bn=$L(bE);function uR(){const[t,e]=Se.useState(""),[n,r]=Se.useState(""),[i,s]=Se.useState(""),[o,a]=Se.useState(!1),l=fc(),h=async d=>{d.preventDefault(),s(""),a(!0);try{await UP(sv,t,n),l("/timeregistrering")}catch(p){console.error("Login error:",p);let y="Der opstod en fejl ved login. Prv igen.";p.code==="auth/user-not-found"||p.code==="auth/wrong-password"?y="Forkert brugernavn eller adgangskode.":p.code==="auth/invalid-email"?y="Ugyldig e-mailadresse.":p.code==="auth/too-many-requests"&&(y="For mange forsg. Prv igen senere."),s(y)}finally{a(!1)}};return q.jsx("div",{className:"login-container",children:q.jsxs("div",{className:"login-box",children:[q.jsxs("div",{className:"login-logo",children:[q.jsx("h1",{children:"AC Handymand"}),q.jsx("p",{children:"Timeregistrering System"})]}),q.jsxs("form",{className:"login-form",onSubmit:h,children:[i&&q.jsx("div",{className:"error-message",children:i}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"email",children:"Brugernavn (E-mail)"}),q.jsx("input",{type:"email",id:"email",value:t,onChange:d=>e(d.target.value),required:!0,disabled:o,placeholder:"din@email.dk"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"password",children:"Adgangskode"}),q.jsx("input",{type:"password",id:"password",value:n,onChange:d=>r(d.target.value),required:!0,disabled:o,placeholder:""})]}),q.jsx("button",{type:"submit",className:"btn-login",disabled:o,children:o?"Logger ind...":"Log ind"})]})]})})}const cR=["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],Tp=["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"];function hR(t){return cR[t.getDay()]}function fR(t){const e=t.getDay();return e===0||e===6}function dR(t,e){const n=[];let r=new Date(t,e,20);const i=e===11?0:e+1,s=e===11?t+1:t,o=new Date(s,i,19);for(;r<=o;)n.push({date:new Date(r),dayOfMonth:r.getDate(),month:r.getMonth(),year:r.getFullYear(),weekday:hR(r),isWeekend:fR(r),formattedDate:`${String(r.getDate()).padStart(2,"0")}.${String(r.getMonth()+1).padStart(2,"0")}`}),r.setDate(r.getDate()+1);return n}function EE(t){const e=t===11?0:t+1;return`${Tp[t]} / ${Tp[e]}`}function SE(t,e){return e===11?`${t} / ${t+1}`:String(t)}function pR(){return Tp.map((t,e)=>{const n=e===11?0:e+1;return{value:e,label:`${t} / ${Tp[n]}`}})}const mR="modulepreload",gR=function(t){return"/"+t},p_={},n0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=gR(l),l in p_)return;p_[l]=!0;const h=l.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":mR,h||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),h)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function qt(t){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(t)}var Er=Uint8Array,ci=Uint16Array,ov=Int32Array,vm=new Er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ym=new Er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r0=new Er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AE=function(t,e){for(var n=new ci(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ov(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},IE=AE(vm,2),xE=IE.b,i0=IE.r;xE[28]=258,i0[258]=28;var TE=AE(ym,0),vR=TE.b,m_=TE.r,s0=new ci(32768);for(var on=0;on<32768;++on){var Xo=(on&43690)>>1|(on&21845)<<1;Xo=(Xo&52428)>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>4|(Xo&3855)<<4,s0[on]=((Xo&65280)>>8|(Xo&255)<<8)>>1}var Ps=function(t,e,n){for(var r=t.length,i=0,s=new ci(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ci(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ci(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],p=o[t[i]-1]++<<d,y=p|(1<<d)-1;p<=y;++p)a[s0[p]>>l]=h}else for(a=new ci(r),i=0;i<r;++i)t[i]&&(a[i]=s0[o[t[i]-1]++]>>15-t[i]);return a},La=new Er(288);for(var on=0;on<144;++on)La[on]=8;for(var on=144;on<256;++on)La[on]=9;for(var on=256;on<280;++on)La[on]=7;for(var on=280;on<288;++on)La[on]=8;var Kh=new Er(32);for(var on=0;on<32;++on)Kh[on]=5;var yR=Ps(La,9,0),_R=Ps(La,9,1),wR=Ps(Kh,5,0),bR=Ps(Kh,5,1),Sg=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},$i=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Ag=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},av=function(t){return(t+7)/8|0},NE=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Er(t.subarray(e,n))},ER=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gi=function(t,e,n){var r=new Error(e||ER[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Gi),!n)throw r;return r},SR=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Er(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Er(i*3));var h=function(Le){var Be=n.length;if(Le>Be){var Me=new Er(Math.max(Be*2,Le));Me.set(n),n=Me}},d=e.f||0,p=e.p||0,y=e.b||0,g=e.l,N=e.d,T=e.m,R=e.n,w=i*8;do{if(!g){d=$i(t,p,1);var b=$i(t,p+1,3);if(p+=3,b)if(b==1)g=_R,N=bR,T=9,R=5;else if(b==2){var re=$i(t,p,31)+257,O=$i(t,p+10,15)+4,I=re+$i(t,p+5,31)+1;p+=14;for(var j=new Er(I),B=new Er(19),x=0;x<O;++x)B[r0[x]]=$i(t,p+x*3,7);p+=O*3;for(var S=Sg(B),P=(1<<S)-1,K=Ps(B,S,1),x=0;x<I;){var me=K[$i(t,p,P)];p+=me&15;var k=me>>4;if(k<16)j[x++]=k;else{var ve=0,_e=0;for(k==16?(_e=3+$i(t,p,3),p+=2,ve=j[x-1]):k==17?(_e=3+$i(t,p,7),p+=3):k==18&&(_e=11+$i(t,p,127),p+=7);_e--;)j[x++]=ve}}var X=j.subarray(0,re),ue=j.subarray(re);T=Sg(X),R=Sg(ue),g=Ps(X,T,1),N=Ps(ue,R,1)}else Gi(1);else{var k=av(p)+4,H=t[k-4]|t[k-3]<<8,Q=k+H;if(Q>i){l&&Gi(0);break}a&&h(y+H),n.set(t.subarray(k,Q),y),e.b=y+=H,e.p=p=Q*8,e.f=d;continue}if(p>w){l&&Gi(0);break}}a&&h(y+131072);for(var he=(1<<T)-1,Re=(1<<R)-1,D=p;;D=p){var ve=g[Ag(t,p)&he],$=ve>>4;if(p+=ve&15,p>w){l&&Gi(0);break}if(ve||Gi(2),$<256)n[y++]=$;else if($==256){D=p,g=null;break}else{var Y=$-254;if($>264){var x=$-257,Z=vm[x];Y=$i(t,p,(1<<Z)-1)+xE[x],p+=Z}var ie=N[Ag(t,p)&Re],ce=ie>>4;ie||Gi(3),p+=ie&15;var ue=vR[ce];if(ce>3){var Z=ym[ce];ue+=Ag(t,p)&(1<<Z)-1,p+=Z}if(p>w){l&&Gi(0);break}a&&h(y+131072);var ge=y+Y;if(y<ue){var ye=s-ue,je=Math.min(ue,ge);for(ye+y<0&&Gi(3);y<je;++y)n[y]=r[ye+y]}for(;y<ge;++y)n[y]=n[y-ue]}}e.l=g,e.p=D,e.b=y,e.f=d,g&&(d=1,e.m=T,e.d=N,e.n=R)}while(!d);return y!=n.length&&o?NE(n,0,y):n.subarray(0,y)},Js=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Gc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Ig=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:kE,l:0};if(i==1){var o=new Er(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Q,re){return Q.f-re.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,d=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[h].f<n[p].f?h++:p++],l=n[h!=d&&n[h].f<n[p].f?h++:p++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var g=new ci(y+1),N=o0(n[d-1],g,0);if(N>e){var r=0,T=0,R=N-e,w=1<<R;for(s.sort(function(re,O){return g[O.s]-g[re.s]||re.f-O.f});r<i;++r){var b=s[r].s;if(g[b]>e)T+=w-(1<<N-g[b]),g[b]=e;else break}for(T>>=R;T>0;){var k=s[r].s;g[k]<e?T-=1<<e-g[k]++-1:++r}for(;r>=0&&T;--r){var H=s[r].s;g[H]==e&&(--g[H],++T)}N=e}return{t:new Er(g),l:N}},o0=function(t,e,n){return t.s==-1?Math.max(o0(t.l,e,n+1),o0(t.r,e,n+1)):e[t.s]=n},g_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ci(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Kc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},PE=function(t,e,n){var r=n.length,i=av(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},v_=function(t,e,n,r,i,s,o,a,l,h,d){Js(e,d++,n),++i[256];for(var p=Ig(i,15),y=p.t,g=p.l,N=Ig(s,15),T=N.t,R=N.l,w=g_(y),b=w.c,k=w.n,H=g_(T),Q=H.c,re=H.n,O=new ci(19),I=0;I<b.length;++I)++O[b[I]&31];for(var I=0;I<Q.length;++I)++O[Q[I]&31];for(var j=Ig(O,7),B=j.t,x=j.l,S=19;S>4&&!B[r0[S-1]];--S);var P=h+5<<3,K=Kc(i,La)+Kc(s,Kh)+o,me=Kc(i,y)+Kc(s,T)+o+14+3*S+Kc(O,B)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&P<=K&&P<=me)return PE(e,d,t.subarray(l,l+h));var ve,_e,X,ue;if(Js(e,d,1+(me<K)),d+=2,me<K){ve=Ps(y,g,0),_e=y,X=Ps(T,R,0),ue=T;var he=Ps(B,x,0);Js(e,d,k-257),Js(e,d+5,re-1),Js(e,d+10,S-4),d+=14;for(var I=0;I<S;++I)Js(e,d+3*I,B[r0[I]]);d+=3*S;for(var Re=[b,Q],D=0;D<2;++D)for(var $=Re[D],I=0;I<$.length;++I){var Y=$[I]&31;Js(e,d,he[Y]),d+=B[Y],Y>15&&(Js(e,d,$[I]>>5&127),d+=$[I]>>12)}}else ve=yR,_e=La,X=wR,ue=Kh;for(var I=0;I<a;++I){var Z=r[I];if(Z>255){var Y=Z>>18&31;Gc(e,d,ve[Y+257]),d+=_e[Y+257],Y>7&&(Js(e,d,Z>>23&31),d+=vm[Y]);var ie=Z&31;Gc(e,d,X[ie]),d+=ue[ie],ie>3&&(Gc(e,d,Z>>5&8191),d+=ym[ie])}else Gc(e,d,ve[Z]),d+=_e[Z]}return Gc(e,d,ve[256]),d+_e[256]},AR=new ov([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kE=new Er(0),IR=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Er(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var p=AR[e-1],y=p>>13,g=p&8191,N=(1<<n)-1,T=s.p||new ci(32768),R=s.h||new ci(N+1),w=Math.ceil(n/3),b=2*w,k=function(nt){return(t[nt]^t[nt+1]<<w^t[nt+2]<<b)&N},H=new ov(25e3),Q=new ci(288),re=new ci(32),O=0,I=0,j=s.i||0,B=0,x=s.w||0,S=0;j+2<o;++j){var P=k(j),K=j&32767,me=R[P];if(T[K]=me,R[P]=K,x<=j){var ve=o-j;if((O>7e3||B>24576)&&(ve>423||!h)){d=v_(t,l,0,H,Q,re,I,B,S,j-S,d),B=O=I=0,S=j;for(var _e=0;_e<286;++_e)Q[_e]=0;for(var _e=0;_e<30;++_e)re[_e]=0}var X=2,ue=0,he=g,Re=K-me&32767;if(ve>2&&P==k(j-Re))for(var D=Math.min(y,ve)-1,$=Math.min(32767,j),Y=Math.min(258,ve);Re<=$&&--he&&K!=me;){if(t[j+X]==t[j+X-Re]){for(var Z=0;Z<Y&&t[j+Z]==t[j+Z-Re];++Z);if(Z>X){if(X=Z,ue=Re,Z>D)break;for(var ie=Math.min(Re,Z-2),ce=0,_e=0;_e<ie;++_e){var ge=j-Re+_e&32767,ye=T[ge],je=ge-ye&32767;je>ce&&(ce=je,me=ge)}}}K=me,me=T[K],Re+=K-me&32767}if(ue){H[B++]=268435456|i0[X]<<18|m_[ue];var Le=i0[X]&31,Be=m_[ue]&31;I+=vm[Le]+ym[Be],++Q[257+Le],++re[Be],x=j+X,++O}else H[B++]=t[j],++Q[t[j]]}}for(j=Math.max(j,x);j<o;++j)H[B++]=t[j],++Q[t[j]];d=v_(t,l,h,H,Q,re,I,B,S,j-S,d),h||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=R,s.p=T,s.i=j,s.w=x)}else{for(var j=s.w||0;j<o+h;j+=65535){var Me=j+65535;Me>=o&&(l[d/8|0]=h,Me=o),d=PE(l,d+1,t.subarray(j,Me))}s.i=o}return NE(a,0,r+av(d)+i)},CE=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xR=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Er(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return IR(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},LE=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},TR=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=CE();i.p(e.dictionary),LE(t,2,i.d())}},NR=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Gi(6,"invalid zlib data"),(t[1]>>5&1)==1&&Gi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function a0(t,e){e||(e={});var n=CE();n.p(t);var r=xR(t,e,e.dictionary?6:2,4);return TR(r,e),LE(r,r.length-4,n.d()),r}function PR(t,e){return SR(t.subarray(NR(t),-4),{i:2},e,e)}var kR=typeof TextDecoder<"u"&&new TextDecoder,CR=0;try{kR.decode(kE,{stream:!0}),CR=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xg(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:xg,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):xg.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):xg(t))}};function Tg(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ll(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function y_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function od(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _h,l0,ll=lt.saveAs||((typeof window>"u"?"undefined":qt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?y_(i.href)?Tg(t,e,n):od(i,i.target="_blank"):od(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){od(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(y_(t))Tg(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){od(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:qt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Tg(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":qt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ng(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=mr(n,r,i,s,e[0],7,-680876936),s=mr(s,n,r,i,e[1],12,-389564586),i=mr(i,s,n,r,e[2],17,606105819),r=mr(r,i,s,n,e[3],22,-1044525330),n=mr(n,r,i,s,e[4],7,-176418897),s=mr(s,n,r,i,e[5],12,1200080426),i=mr(i,s,n,r,e[6],17,-1473231341),r=mr(r,i,s,n,e[7],22,-45705983),n=mr(n,r,i,s,e[8],7,1770035416),s=mr(s,n,r,i,e[9],12,-1958414417),i=mr(i,s,n,r,e[10],17,-42063),r=mr(r,i,s,n,e[11],22,-1990404162),n=mr(n,r,i,s,e[12],7,1804603682),s=mr(s,n,r,i,e[13],12,-40341101),i=mr(i,s,n,r,e[14],17,-1502002290),n=gr(n,r=mr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gr(s,n,r,i,e[6],9,-1069501632),i=gr(i,s,n,r,e[11],14,643717713),r=gr(r,i,s,n,e[0],20,-373897302),n=gr(n,r,i,s,e[5],5,-701558691),s=gr(s,n,r,i,e[10],9,38016083),i=gr(i,s,n,r,e[15],14,-660478335),r=gr(r,i,s,n,e[4],20,-405537848),n=gr(n,r,i,s,e[9],5,568446438),s=gr(s,n,r,i,e[14],9,-1019803690),i=gr(i,s,n,r,e[3],14,-187363961),r=gr(r,i,s,n,e[8],20,1163531501),n=gr(n,r,i,s,e[13],5,-1444681467),s=gr(s,n,r,i,e[2],9,-51403784),i=gr(i,s,n,r,e[7],14,1735328473),n=vr(n,r=gr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=vr(s,n,r,i,e[8],11,-2022574463),i=vr(i,s,n,r,e[11],16,1839030562),r=vr(r,i,s,n,e[14],23,-35309556),n=vr(n,r,i,s,e[1],4,-1530992060),s=vr(s,n,r,i,e[4],11,1272893353),i=vr(i,s,n,r,e[7],16,-155497632),r=vr(r,i,s,n,e[10],23,-1094730640),n=vr(n,r,i,s,e[13],4,681279174),s=vr(s,n,r,i,e[0],11,-358537222),i=vr(i,s,n,r,e[3],16,-722521979),r=vr(r,i,s,n,e[6],23,76029189),n=vr(n,r,i,s,e[9],4,-640364487),s=vr(s,n,r,i,e[12],11,-421815835),i=vr(i,s,n,r,e[15],16,530742520),n=yr(n,r=vr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=yr(s,n,r,i,e[7],10,1126891415),i=yr(i,s,n,r,e[14],15,-1416354905),r=yr(r,i,s,n,e[5],21,-57434055),n=yr(n,r,i,s,e[12],6,1700485571),s=yr(s,n,r,i,e[3],10,-1894986606),i=yr(i,s,n,r,e[10],15,-1051523),r=yr(r,i,s,n,e[1],21,-2054922799),n=yr(n,r,i,s,e[8],6,1873313359),s=yr(s,n,r,i,e[15],10,-30611744),i=yr(i,s,n,r,e[6],15,-1560198380),r=yr(r,i,s,n,e[13],21,1309151649),n=yr(n,r,i,s,e[4],6,-145523070),s=yr(s,n,r,i,e[11],10,-1120210379),i=yr(i,s,n,r,e[2],15,718787259),r=yr(r,i,s,n,e[9],21,-343485551),t[0]=fa(n,t[0]),t[1]=fa(r,t[1]),t[2]=fa(i,t[2]),t[3]=fa(s,t[3])}function _m(t,e,n,r,i,s){return e=fa(fa(e,t),fa(r,s)),fa(e<<i|e>>>32-i,n)}function mr(t,e,n,r,i,s,o){return _m(e&n|~e&r,t,e,i,s,o)}function gr(t,e,n,r,i,s,o){return _m(e&r|n&~r,t,e,i,s,o)}function vr(t,e,n,r,i,s,o){return _m(e^n^r,t,e,i,s,o)}function yr(t,e,n,r,i,s,o){return _m(n^(e|~r),t,e,i,s,o)}function DE(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ng(r,LR(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ng(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Ng(r,i),r}function LR(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}_h=lt.atob.bind(lt),l0=lt.btoa.bind(lt);var __="0123456789abcdef".split("");function RR(t){for(var e="",n=0;n<4;n++)e+=__[t>>8*n+4&15]+__[t>>8*n&15];return e}function DR(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function u0(t){return DE(t).map(DR).join("")}var OR=function(t){for(var e=0;e<t.length;e++)t[e]=RR(t[e]);return t.join("")}(DE("hello"))!="5d41402abc4b2a76b9719d911017c592";function fa(t,e){if(OR){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c0(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var d=a[l];h=(h+d+o.charCodeAt(l))%256,a[l]=a[h],a[h]=d}n=t,r=a}else a=r;var p=e.length,y=0,g=0,N="";for(l=0;l<p;l++)g=(g+(d=a[y=(y+1)%256]))%256,a[y]=a[g],a[g]=d,o=a[(a[y]+a[g])%256],N+=String.fromCharCode(e.charCodeAt(l)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var w_={print:4,modify:8,copy:16,"annot-forms":32};function du(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(w_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=w_[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=u0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c0(this.encryptionKey,this.padding)}function pu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function b_(t){if(qt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){lt.console&&Kt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Np(t){if(!(this instanceof Np))return new Np(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function OE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ul(t,e,n,r,i){if(!(this instanceof ul))return new ul(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,OE.call(this,r,i)}function Nu(t,e,n,r,i){if(!(this instanceof Nu))return new Nu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,OE.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,h="S",d=null;qt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=b_;var N="1.3",T=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(m){N=m};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return R};var w=g.__private__.getPageFormat=function(m){return R[m]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},k=b.COMPAT;function H(){this.saveGraphicsState(),J(new Ge(We,0,0,-We,0,hr()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),h="n",k=b.ADVANCED}function Q(){this.restoreGraphicsState(),h="S",k=b.COMPAT}var re=g.__private__.combineFontStyleAndFontWeight=function(m,C){if(m=="bold"&&C=="normal"||m=="bold"&&C==400||m=="normal"&&C=="italic"||m=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(m=C==400||C==="normal"?m==="italic"?"italic":"normal":C!=700&&C!=="bold"||m!=="normal"?(C==700?"bold":C)+""+m:"bold"),m};g.advancedAPI=function(m){var C=k===b.COMPAT;return C&&H.call(this),typeof m!="function"||(m(this),C&&Q.call(this)),this},g.compatAPI=function(m){var C=k===b.ADVANCED;return C&&Q.call(this),typeof m!="function"||(m(this),C&&H.call(this)),this},g.isAdvancedAPI=function(){return k===b.ADVANCED};var O,I=function(m){if(k!==b.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=g.roundToPrecision=g.__private__.roundToPrecision=function(m,C){var G=e||C;if(isNaN(m)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(G).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return j(m,16)};var B=g.f2=g.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return j(m,2)},x=g.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return j(m,3)},S=g.scale=g.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return k===b.COMPAT?m*We:k===b.ADVANCED?m:void 0},P=function(m){return k===b.COMPAT?hr()-m:k===b.ADVANCED?m:void 0},K=function(m){return S(P(m))};g.__private__.setPrecision=g.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var me,ve="00000000000000000000000000000000",_e=g.__private__.getFileId=function(){return ve},X=g.__private__.setFileId=function(m){return ve=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(nn=new du(d.userPermissions,d.userPassword,d.ownerPassword,ve)),ve};g.setFileId=function(m){return X(m),this},g.getFileId=function(){return _e()};var ue=g.__private__.convertDateToPDFDate=function(m){var C=m.getTimezoneOffset(),G=C<0?"+":"-",ee=Math.floor(Math.abs(C/60)),ae=Math.abs(C%60),be=[G,Y(ee),"'",Y(ae),"'"].join("");return["D:",m.getFullYear(),Y(m.getMonth()+1),Y(m.getDate()),Y(m.getHours()),Y(m.getMinutes()),Y(m.getSeconds()),be].join("")},he=g.__private__.convertPDFDateToDate=function(m){var C=parseInt(m.substr(2,4),10),G=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),ae=parseInt(m.substr(10,2),10),be=parseInt(m.substr(12,2),10),Pe=parseInt(m.substr(14,2),10);return new Date(C,G,ee,ae,be,Pe,0)},Re=g.__private__.setCreationDate=function(m){var C;if(m===void 0&&(m=new Date),m instanceof Date)C=ue(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=m}return me=C},D=g.__private__.getCreationDate=function(m){var C=me;return m==="jsDate"&&(C=he(me)),C};g.setCreationDate=function(m){return Re(m),this},g.getCreationDate=function(m){return D(m)};var $,Y=g.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Z=g.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ie=0,ce=[],ge=[],ye=0,je=[],Le=[],Be=!1,Me=ge,nt=function(){ie=0,ye=0,ge=[],ce=[],je=[],Li=mn(),cr=mn()};g.__private__.setCustomOutputDestination=function(m){Be=!0,Me=m};var Ee=function(m){Be||(Me=m)};g.__private__.resetCustomOutputDestination=function(){Be=!1,Me=ge};var J=g.__private__.out=function(m){return m=m.toString(),ye+=m.length+1,Me.push(m),Me},dt=g.__private__.write=function(m){return J(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Je=g.__private__.getArrayBuffer=function(m){for(var C=m.length,G=new ArrayBuffer(C),ee=new Uint8Array(G);C--;)ee[C]=m.charCodeAt(C);return G},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return De};var Fe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(m){return Fe=k===b.ADVANCED?m/We:m,this};var $e,qe=g.__private__.getFontSize=g.getFontSize=function(){return k===b.COMPAT?Fe:Fe*We},Ze=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(m){return Ze=m,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var ut,pt=g.__private__.setZoomMode=function(m){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))$e=m;else if(isNaN(m)){if(C.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');$e=m}else $e=parseInt(m,10)};g.__private__.getZoomMode=function(){return $e};var et,at=g.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');ut=m};g.__private__.getPageMode=function(){return ut};var kt=g.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');et=m};g.__private__.getLayoutMode=function(){return et},g.__private__.setDisplayMode=g.setDisplayMode=function(m,C,G){return pt(m),kt(C),at(G),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(m){if(Object.keys(st).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[m]},g.__private__.getDocumentProperties=function(){return st},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(m){for(var C in st)st.hasOwnProperty(C)&&m[C]&&(st[C]=m[C]);return this},g.__private__.setDocumentProperty=function(m,C){if(Object.keys(st).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[m]=C};var bt,We,pn,xt,jr,Ot={},Qt={},mi=[],Nt={},is={},en={},Yn={},Jr=null,Yt=0,rt=[],Ct=new b_(g),gi=t.hotfixes||[],Pn={},lr={},Xr=[],Ge=function m(C,G,ee,ae,be,Pe){if(!(this instanceof m))return new m(C,G,ee,ae,be,Pe);isNaN(C)&&(C=1),isNaN(G)&&(G=0),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=1),isNaN(be)&&(be=0),isNaN(Pe)&&(Pe=0),this._matrix=[C,G,ee,ae,be,Pe]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(m)},Ge.prototype.multiply=function(m){var C=m.sx*this.sx+m.shy*this.shx,G=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,ae=m.shx*this.shy+m.sy*this.sy,be=m.tx*this.sx+m.ty*this.shx+this.tx,Pe=m.tx*this.shy+m.ty*this.sy+this.ty;return new Ge(C,G,ee,ae,be,Pe)},Ge.prototype.decompose=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,be=this.ty,Pe=Math.sqrt(m*m+C*C),Ue=(m/=Pe)*G+(C/=Pe)*ee;G-=m*Ue,ee-=C*Ue;var c=Math.sqrt(G*G+ee*ee);return Ue/=c,m*(ee/=c)<C*(G/=c)&&(m=-m,C=-C,Ue=-Ue,Pe=-Pe),{scale:new Ge(Pe,0,0,c,0,0),translate:new Ge(1,0,0,1,ae,be),rotate:new Ge(m,C,-C,m,0,0),skew:new Ge(1,0,Ue,1,0,0)}},Ge.prototype.toString=function(m){return this.join(" ")},Ge.prototype.inversed=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,be=this.ty,Pe=1/(m*ee-C*G),Ue=ee*Pe,c=-C*Pe,_=-G*Pe,A=m*Pe;return new Ge(Ue,c,_,A,-Ue*ae-_*be,-c*ae-A*be)},Ge.prototype.applyToPoint=function(m){var C=m.x*this.sx+m.y*this.shx+this.tx,G=m.x*this.shy+m.y*this.sy+this.ty;return new qs(C,G)},Ge.prototype.applyToRectangle=function(m){var C=this.applyToPoint(m),G=this.applyToPoint(new qs(m.x+m.w,m.y+m.h));return new Oo(C.x,C.y,G.x-C.x,G.y-C.y)},Ge.prototype.clone=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,be=this.ty;return new Ge(m,C,G,ee,ae,be)},g.Matrix=Ge;var Fr=g.matrixMult=function(m,C){return C.multiply(m)},ur=new Ge(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ur;var kn=function(m,C){if(!is[m]){var G=(C instanceof ul?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);C.id=G,is[m]=G,Nt[G]=C,Ct.publish("addPattern",C)}};g.ShadingPattern=ul,g.TilingPattern=Nu,g.addShadingPattern=function(m,C){return I("addShadingPattern()"),kn(m,C),this},g.beginTilingPattern=function(m){I("beginTilingPattern()"),jo(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},g.endTilingPattern=function(m,C){I("endTilingPattern()"),C.stream=Le[$].join(`
`),kn(m,C),Ct.publish("endTilingPattern",C),Xr.pop().restore()};var wn=g.__private__.newObject=function(){var m=mn();return Cn(m,!0),m},mn=g.__private__.newObjectDeferred=function(){return ie++,ce[ie]=function(){return ye},ie},Cn=function(m,C){return C=typeof C=="boolean"&&C,ce[m]=ye,C&&J(m+" 0 obj"),m},bo=g.__private__.newAdditionalObject=function(){var m={objId:mn(),content:""};return je.push(m),m},Li=mn(),cr=mn(),Mr=g.__private__.decodeColorString=function(m){var C=m.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var G=parseFloat(C[0]);C=[G,G,G,"r"]}for(var ee="#",ae=0;ae<3;ae++)ee+=("0"+Math.floor(255*parseFloat(C[ae])).toString(16)).slice(-2);return ee},Ir=g.__private__.encodeColorString=function(m){var C;typeof m=="string"&&(m={ch1:m});var G=m.ch1,ee=m.ch2,ae=m.ch3,be=m.ch4,Pe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Ue=new RE(G);if(Ue.ok)G=Ue.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var c=parseInt(G.substr(1),16);G=c>>16&255,ee=c>>8&255,ae=255&c}if(ee===void 0||be===void 0&&G===ee&&ee===ae)if(typeof G=="string")C=G+" "+Pe[0];else switch(m.precision){case 2:C=B(G/255)+" "+Pe[0];break;case 3:default:C=x(G/255)+" "+Pe[0]}else if(be===void 0||qt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return C=["1.","1.","1.",Pe[1]].join(" ");if(typeof G=="string")C=[G,ee,ae,Pe[1]].join(" ");else switch(m.precision){case 2:C=[B(G/255),B(ee/255),B(ae/255),Pe[1]].join(" ");break;default:case 3:C=[x(G/255),x(ee/255),x(ae/255),Pe[1]].join(" ")}}else if(typeof G=="string")C=[G,ee,ae,be,Pe[2]].join(" ");else switch(m.precision){case 2:C=[B(G),B(ee),B(ae),B(be),Pe[2]].join(" ");break;case 3:default:C=[x(G),x(ee),x(ae),x(be),Pe[2]].join(" ")}return C},xr=g.__private__.getFilters=function(){return o},bn=g.__private__.putStream=function(m){var C=(m=m||{}).data||"",G=m.filters||xr(),ee=m.alreadyAppliedFilters||[],ae=m.addLength1||!1,be=C.length,Pe=m.objectId,Ue=function(mt){return mt};if(d!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ue=nn.encryptor(Pe,0));var c={};G===!0&&(G=["FlateEncode"]);var _=m.additionalKeyValues||[],A=(c=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(C,G):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(c.data.length!==0&&(_.push({key:"Length",value:c.data.length}),ae===!0&&_.push({key:"Length1",value:be})),A.length!=0)if(A.split("/").length-1==1)_.push({key:"Filter",value:A});else{_.push({key:"Filter",value:"["+A+"]"});for(var V=0;V<_.length;V+=1)if(_[V].key==="DecodeParms"){for(var oe=[],pe=0;pe<c.reverseChain.split("/").length-1;pe+=1)oe.push("null");oe.push(_[V].value),_[V].value="["+oe.join(" ")+"]"}}J("<<");for(var ke=0;ke<_.length;ke++)J("/"+_[ke].key+" "+_[ke].value);J(">>"),c.data.length!==0&&(J("stream"),J(Ue(c.data)),J("endstream"))},Zr=g.__private__.putPage=function(m){var C=m.number,G=m.data,ee=m.objId,ae=m.contentsObjId;Cn(ee,!0),J("<</Type /Page"),J("/Parent "+m.rootDictionaryObjId+" 0 R"),J("/Resources "+m.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(O(m.mediaBox.bottomLeftX))+" "+parseFloat(O(m.mediaBox.bottomLeftY))+" "+O(m.mediaBox.topRightX)+" "+O(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&J("/CropBox ["+O(m.cropBox.bottomLeftX)+" "+O(m.cropBox.bottomLeftY)+" "+O(m.cropBox.topRightX)+" "+O(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&J("/BleedBox ["+O(m.bleedBox.bottomLeftX)+" "+O(m.bleedBox.bottomLeftY)+" "+O(m.bleedBox.topRightX)+" "+O(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&J("/TrimBox ["+O(m.trimBox.bottomLeftX)+" "+O(m.trimBox.bottomLeftY)+" "+O(m.trimBox.topRightX)+" "+O(m.trimBox.topRightY)+"]"),m.artBox!==null&&J("/ArtBox ["+O(m.artBox.bottomLeftX)+" "+O(m.artBox.bottomLeftY)+" "+O(m.artBox.topRightX)+" "+O(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&J("/UserUnit "+m.userUnit),Ct.publish("putPage",{objId:ee,pageContext:rt[C],pageNumber:C,page:G}),J("/Contents "+ae+" 0 R"),J(">>"),J("endobj");var be=G.join(`
`);return k===b.ADVANCED&&(be+=`
Q`),Cn(ae,!0),bn({data:be,filters:xr(),objectId:ae}),J("endobj"),ee},ss=g.__private__.putPages=function(){var m,C,G=[];for(m=1;m<=Yt;m++)rt[m].objId=mn(),rt[m].contentsObjId=mn();for(m=1;m<=Yt;m++)G.push(Zr({number:m,data:Le[m],objId:rt[m].objId,contentsObjId:rt[m].contentsObjId,mediaBox:rt[m].mediaBox,cropBox:rt[m].cropBox,bleedBox:rt[m].bleedBox,trimBox:rt[m].trimBox,artBox:rt[m].artBox,userUnit:rt[m].userUnit,rootDictionaryObjId:Li,resourceDictionaryObjId:cr}));Cn(Li,!0),J("<</Type /Pages");var ee="/Kids [";for(C=0;C<Yt;C++)ee+=G[C]+" 0 R ";J(ee+"]"),J("/Count "+Yt),J(">>"),J("endobj"),Ct.publish("postPutPages")},os=function(m){Ct.publish("putFont",{font:m,out:J,newObject:wn,putStream:bn}),m.isAlreadyPutted!==!0&&(m.objectNumber=wn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+pu(m.postScriptName)),J("/Subtype /Type1"),typeof m.encoding=="string"&&J("/Encoding /"+m.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},as=function(){for(var m in Ot)Ot.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&os(Ot[m])},Rs=function(m){m.objectNumber=wn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[O(m.x),O(m.y),O(m.x+m.width),O(m.y+m.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var G=m.pages[1].join(`
`);bn({data:G,additionalKeyValues:C,objectId:m.objectNumber}),J("endobj")},Ds=function(){for(var m in Pn)Pn.hasOwnProperty(m)&&Rs(Pn[m])},jl=function(m,C){var G,ee=[],ae=1/(C-1);for(G=0;G<1;G+=ae)ee.push(G);if(ee.push(1),m[0].offset!=0){var be={offset:0,color:m[0].color};m.unshift(be)}if(m[m.length-1].offset!=1){var Pe={offset:1,color:m[m.length-1].color};m.push(Pe)}for(var Ue="",c=0,_=0;_<ee.length;_++){for(G=ee[_];G>m[c+1].offset;)c++;var A=m[c].offset,V=(G-A)/(m[c+1].offset-A),oe=m[c].color,pe=m[c+1].color;Ue+=Z(Math.round((1-V)*oe[0]+V*pe[0]).toString(16))+Z(Math.round((1-V)*oe[1]+V*pe[1]).toString(16))+Z(Math.round((1-V)*oe[2]+V*pe[2]).toString(16))}return Ue.trim()},Eo=function(m,C){C||(C=21);var G=wn(),ee=jl(m.colors,C),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+C+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:ee,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),J("endobj"),m.objectNumber=wn(),J("<< /ShadingType "+m.type),J("/ColorSpace /DeviceRGB");var be="/Coords ["+O(parseFloat(m.coords[0]))+" "+O(parseFloat(m.coords[1]))+" ";m.type===2?be+=O(parseFloat(m.coords[2]))+" "+O(parseFloat(m.coords[3])):be+=O(parseFloat(m.coords[2]))+" "+O(parseFloat(m.coords[3]))+" "+O(parseFloat(m.coords[4]))+" "+O(parseFloat(m.coords[5])),J(be+="]"),m.matrix&&J("/Matrix ["+m.matrix.toString()+"]"),J("/Function "+G+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Fl=function(m,C){var G=mn(),ee=wn();C.push({resourcesOid:G,objectOid:ee}),m.objectNumber=ee;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+m.boundingBox.map(O).join(" ")+"]"}),ae.push({key:"XStep",value:O(m.xStep)}),ae.push({key:"YStep",value:O(m.yStep)}),ae.push({key:"Resources",value:G+" 0 R"}),m.matrix&&ae.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),bn({data:m.stream,additionalKeyValues:ae,objectId:m.objectNumber}),J("endobj")},ls=function(m){var C;for(C in Nt)Nt.hasOwnProperty(C)&&(Nt[C]instanceof ul?Eo(Nt[C]):Nt[C]instanceof Nu&&Fl(Nt[C],m))},us=function(m){for(var C in m.objectNumber=wn(),J("<<"),m)switch(C){case"opacity":J("/ca "+B(m[C]));break;case"stroke-opacity":J("/CA "+B(m[C]))}J(">>"),J("endobj")},Ri=function(){var m;for(m in en)en.hasOwnProperty(m)&&us(en[m])},Os=function(){for(var m in J("/XObject <<"),Pn)Pn.hasOwnProperty(m)&&Pn[m].objectNumber>=0&&J("/"+m+" "+Pn[m].objectNumber+" 0 R");Ct.publish("putXobjectDict"),J(">>")},wc=function(){nn.oid=wn(),J("<<"),J("/Filter /Standard"),J("/V "+nn.v),J("/R "+nn.r),J("/U <"+nn.toHexString(nn.U)+">"),J("/O <"+nn.toHexString(nn.O)+">"),J("/P "+nn.P),J(">>"),J("endobj")},Va=function(){for(var m in J("/Font <<"),Ot)Ot.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&J("/"+m+" "+Ot[m].objectNumber+" 0 R");J(">>")},Ml=function(){if(Object.keys(Nt).length>0){for(var m in J("/Shading <<"),Nt)Nt.hasOwnProperty(m)&&Nt[m]instanceof ul&&Nt[m].objectNumber>=0&&J("/"+m+" "+Nt[m].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),J(">>")}},js=function(m){if(Object.keys(Nt).length>0){for(var C in J("/Pattern <<"),Nt)Nt.hasOwnProperty(C)&&Nt[C]instanceof g.TilingPattern&&Nt[C].objectNumber>=0&&Nt[C].objectNumber<m&&J("/"+C+" "+Nt[C].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),J(">>")}},Ba=function(){if(Object.keys(en).length>0){var m;for(m in J("/ExtGState <<"),en)en.hasOwnProperty(m)&&en[m].objectNumber>=0&&J("/"+m+" "+en[m].objectNumber+" 0 R");Ct.publish("putGStateDict"),J(">>")}},tn=function(m){Cn(m.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Va(),Ml(),js(m.objectOid),Ba(),Os(),J(">>"),J("endobj")},Ua=function(){var m=[];as(),Ri(),Ds(),ls(m),Ct.publish("putResources"),m.forEach(tn),tn({resourcesOid:cr,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},qa=function(){Ct.publish("putAdditionalObjects");for(var m=0;m<je.length;m++){var C=je[m];Cn(C.objId,!0),J(C.content),J("endobj")}Ct.publish("postPutAdditionalObjects")},Vl=function(m){Qt[m.fontName]=Qt[m.fontName]||{},Qt[m.fontName][m.fontStyle]=m.id},za=function(m,C,G,ee,ae){var be={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:m,fontName:C,fontStyle:G,encoding:ee,isStandardFont:ae||!1,metadata:{}};return Ct.publish("addFont",{font:be,instance:this}),Ot[be.id]=be,Vl(be),be.id},Bl=function(m){for(var C=0,G=De.length;C<G;C++){var ee=za.call(this,m[C][0],m[C][1],m[C][2],De[C][3],!0);p===!1&&(y[ee]=!0);var ae=m[C][0].split("-");Vl({id:ee,fontName:ae[0],fontStyle:ae[1]||""})}Ct.publish("addFonts",{fonts:Ot,dictionary:Qt})},Vr=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ee){var C=ee.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var G="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ee.message;if(!lt.console)throw new Error(G);lt.console.error(G,ee),lt.alert&&alert(G)}},m.foo.bar=m,m.foo},So=function(m,C){var G,ee,ae,be,Pe,Ue,c,_,A;if(ae=(C=C||{}).sourceEncoding||"Unicode",Pe=C.outputEncoding,(C.autoencode||Pe)&&Ot[bt].metadata&&Ot[bt].metadata[ae]&&Ot[bt].metadata[ae].encoding&&(be=Ot[bt].metadata[ae].encoding,!Pe&&Ot[bt].encoding&&(Pe=Ot[bt].encoding),!Pe&&be.codePages&&(Pe=be.codePages[0]),typeof Pe=="string"&&(Pe=be[Pe]),Pe)){for(c=!1,Ue=[],G=0,ee=m.length;G<ee;G++)(_=Pe[m.charCodeAt(G)])?Ue.push(String.fromCharCode(_)):Ue.push(m[G]),Ue[G].charCodeAt(0)>>8&&(c=!0);m=Ue.join("")}for(G=m.length;c===void 0&&G!==0;)m.charCodeAt(G-1)>>8&&(c=!0),G--;if(!c)return m;for(Ue=C.noBOM?[]:[254,255],G=0,ee=m.length;G<ee;G++){if((A=(_=m.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ue.push(A),Ue.push(_-(A<<8))}return String.fromCharCode.apply(void 0,Ue)},gn=g.__private__.pdfEscape=g.pdfEscape=function(m,C){return So(m,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=g.__private__.beginPage=function(m){Le[++Yt]=[],rt[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},$a(Yt),Ee(Le[$])},Fs=function(m,C){var G,ee,ae;switch(n=C||n,typeof m=="string"&&(G=w(m.toLowerCase()),Array.isArray(G)&&(ee=G[0],ae=G[1])),Array.isArray(m)&&(ee=m[0]*We,ae=m[1]*We),isNaN(ee)&&(ee=i[0],ae=i[1]),(ee>14400||ae>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ae=Math.min(14400,ae)),i=[ee,ae],n.substr(0,1)){case"l":ae>ee&&(i=[ae,ee]);break;case"p":ee>ae&&(i=[ae,ee])}Tr(i),Qa(Ka),J(Jn),Xa!==0&&J(Xa+" J"),Do!==0&&J(Do+" j"),Ct.publish("addPage",{pageNumber:Yt})},Ao=function(m){m>0&&m<=Yt&&(Le.splice(m,1),rt.splice(m,1),Yt--,$>Yt&&($=Yt),this.setPage($))},$a=function(m){m>0&&m<=Yt&&($=m)},Vt=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Le.length-1},Ms=function(m,C,G){var ee,ae=void 0;return G=G||{},m=m!==void 0?m:Ot[bt].fontName,C=C!==void 0?C:Ot[bt].fontStyle,ee=m.toLowerCase(),Qt[ee]!==void 0&&Qt[ee][C]!==void 0?ae=Qt[ee][C]:Qt[m]!==void 0&&Qt[m][C]!==void 0?ae=Qt[m][C]:G.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+m+"', '"+C+"'. Refer to getFontList() for available fonts."),ae||G.noFallback||(ae=Qt.times[C])==null&&(ae=Qt.times.normal),ae},Vs=g.__private__.putInfo=function(){var m=wn(),C=function(ee){return ee};for(var G in d!==null&&(C=nn.encryptor(m,0)),J("<<"),J("/Producer ("+gn(C("jsPDF "+ot.version))+")"),st)st.hasOwnProperty(G)&&st[G]&&J("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+gn(C(st[G]))+")");J("/CreationDate ("+gn(C(me))+")"),J(">>"),J("endobj")},Di=g.__private__.putCatalog=function(m){var C=(m=m||{}).rootDictionaryObjId||Li;switch(wn(),J("<<"),J("/Type /Catalog"),J("/Pages "+C+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+$e;G.substr(G.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&J("/OpenAction [3 0 R /XYZ null null "+B($e)+"]")}switch(et||(et="continuous"),et){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ut&&J("/PageMode /"+ut),Ct.publish("putCatalog"),J(">>"),J("endobj")},bc=g.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ie+1)),J("/Root "+ie+" 0 R"),J("/Info "+(ie-1)+" 0 R"),d!==null&&J("/Encrypt "+nn.oid+" 0 R"),J("/ID [ <"+ve+"> <"+ve+"> ]"),J(">>")},Ul=g.__private__.putHeader=function(){J("%PDF-"+N),J("%")},Ec=g.__private__.putXRef=function(){var m="0000000000";J("xref"),J("0 "+(ie+1)),J("0000000000 65535 f ");for(var C=1;C<=ie;C++)typeof ce[C]=="function"?J((m+ce[C]()).slice(-10)+" 00000 n "):ce[C]!==void 0?J((m+ce[C]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Oi=g.__private__.buildDocument=function(){nt(),Ee(ge),Ct.publish("buildDocument"),Ul(),ss(),qa(),Ua(),d!==null&&wc(),Vs(),Di();var m=ye;return Ec(),bc(),J("startxref"),J(""+m),J("%%EOF"),Ee(Le[$]),ge.join(`
`)},Io=g.__private__.getBlob=function(m){return new Blob([Je(m)],{type:"application/pdf"})},xo=g.output=g.__private__.output=Vr(function(m,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",m){case void 0:return Oi();case"save":g.save(C.filename);break;case"arraybuffer":return Je(Oi());case"blob":return Io(Oi());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Io(Oi()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ee=Oi();try{G=l0(ee)}catch{G=l0(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+C.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ae=C.pdfObjectUrl,be="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Ue=lt.open();return Ue!==null&&Ue.document.write(Pe),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',_=lt.open();if(_!==null){_.document.write(c);var A=this;_.document.documentElement.querySelector("#pdfViewer").onload=function(){_.document.title=C.filename,_.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return _}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',oe=lt.open();if(oe!==null&&(oe.document.write(V),oe.document.title=C.filename),oe||typeof safari>"u")return oe;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",C);default:return null}}),cs=function(m){return Array.isArray(gi)===!0&&gi.indexOf(m)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=cs("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var nn=null;Re(),X();var ql=function(m){return d!==null?nn.encryptor(m,0):function(C){return C}},Wa=g.__private__.getPageInfo=g.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[m].objId,pageNumber:m,pageContext:rt[m]}},ct=g.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in rt)if(rt[C].objId===m)break;return Wa(C)},hs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:rt[$].objId,pageNumber:$,pageContext:rt[$]}};g.addPage=function(){return Fs.apply(this,arguments),this},g.setPage=function(){return $a.apply(this,arguments),Ee.call(this,Le[$]),this},g.insertPage=function(m){return this.addPage(),this.movePage($,m),this},g.movePage=function(m,C){var G,ee;if(m>C){G=Le[m],ee=rt[m];for(var ae=m;ae>C;ae--)Le[ae]=Le[ae-1],rt[ae]=rt[ae-1];Le[C]=G,rt[C]=ee,this.setPage(C)}else if(m<C){G=Le[m],ee=rt[m];for(var be=m;be<C;be++)Le[be]=Le[be+1],rt[be]=rt[be+1];Le[C]=G,rt[C]=ee,this.setPage(C)}return this},g.deletePage=function(){return Ao.apply(this,arguments),this},g.__private__.text=g.text=function(m,C,G,ee,ae){var be,Pe,Ue,c,_,A,V,oe,pe,ke=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof C=="number"&&(typeof G=="string"||Array.isArray(G))){var mt=G;G=C,C=m,m=mt}if(arguments[3]instanceof Ge?(I("The transform parameter of text() with a Matrix value"),pe=ae):(Ue=arguments[4],c=arguments[5],qt(V=arguments[3])==="object"&&V!==null||(typeof Ue=="string"&&(c=Ue,Ue=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Ue=V,V=null),ee={flags:V,angle:Ue,align:c})),isNaN(C)||isNaN(G)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return ke;var St="",gt=!1,Mt=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Ft,Ht=ke.internal.scaleFactor;function Bi(Jt){return Jt=Jt.split("	").join(Array(ee.TabLen||9).join(" ")),gn(Jt,V)}function Xn(Jt){for(var Xt,Sn=Jt.concat(),Mn=[],Gs=Sn.length;Gs--;)typeof(Xt=Sn.shift())=="string"?Mn.push(Xt):Array.isArray(Jt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?Mn.push(Xt[0]):Mn.push([Xt[0],Xt[1],Xt[2]]);return Mn}function ms(Jt,Xt){var Sn;if(typeof Jt=="string")Sn=Xt(Jt)[0];else if(Array.isArray(Jt)){for(var Mn,Gs,Cc=Jt.concat(),tu=[],yf=Cc.length;yf--;)typeof(Mn=Cc.shift())=="string"?tu.push(Xt(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(Gs=Xt(Mn[0],Mn[1],Mn[2]),tu.push([Gs[0],Gs[1],Gs[2]]));Sn=tu}return Sn}var gs=!1,Ac=!0;if(typeof m=="string")gs=!0;else if(Array.isArray(m)){var Ic=m.concat();Pe=[];for(var Gl,Zn=Ic.length;Zn--;)(typeof(Gl=Ic.shift())!="string"||Array.isArray(Gl)&&typeof Gl[0]!="string")&&(Ac=!1);gs=Ac}if(gs===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Kl=Fe/ke.internal.scaleFactor,Ql=Kl*(Mt-1);switch(ee.baseline){case"bottom":G-=Ql;break;case"top":G+=Kl-Ql;break;case"hanging":G+=Kl-2*Ql;break;case"middle":G+=Kl/2-Ql}if((A=ee.maxWidth||0)>0&&(typeof m=="string"?m=ke.splitTextToSize(m,A):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Jt,Xt){return Jt.concat(ke.splitTextToSize(Xt,A))},[]))),be={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:gn,activeFontKey:bt,fonts:Ot,activeFontSize:Fe}},Ct.publish("preProcessText",be),m=be.text,Ue=(ee=be.options).angle,!(pe instanceof Ge)&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,ee.rotationDirection===0&&(Ue=-Ue),k===b.ADVANCED&&(Ue=-Ue);var Yl=Math.cos(Ue),xc=Math.sin(Ue);pe=new Ge(Yl,xc,-xc,Yl,0,0)}else Ue&&Ue instanceof Ge&&(pe=Ue);k!==b.ADVANCED||pe||(pe=ur),(_=ee.charSpace||Us)!==void 0&&(St+=O(S(_))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oe=ee.horizontalScale)!==void 0&&(St+=O(100*oe)+` Tz
`),ee.lang;var Br=-1,wm=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Tc=ke.internal.getCurrentPageInfo().pageContext;switch(wm){case 0:case!1:case"fill":Br=0;break;case 1:case!0:case"stroke":Br=1;break;case 2:case"fillThenStroke":Br=2;break;case 3:case"invisible":Br=3;break;case 4:case"fillAndAddForClipping":Br=4;break;case 5:case"strokeAndAddPathForClipping":Br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Br=6;break;case 7:case"addToPathForClipping":Br=7}var pf=Tc.usedRenderingMode!==void 0?Tc.usedRenderingMode:-1;Br!==-1?St+=Br+` Tr
`:pf!==-1&&(St+=`0 Tr
`),Br!==-1&&(Tc.usedRenderingMode=Br),c=ee.align||"left";var yi,Jl=Fe*Mt,mf=ke.internal.pageSize.getWidth(),gf=Ot[bt];_=ee.charSpace||Us,A=ee.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Vo=[],Za=function(Jt){return ke.getStringUnitWidth(Jt,{font:gf,charSpace:_,fontSize:Fe,doKerning:!1})*Fe/Ht};if(Object.prototype.toString.call(m)==="[object Array]"){var Ur;Pe=Xn(m),c!=="left"&&(yi=Pe.map(Za));var Nr,Bo=0;if(c==="right"){C-=yi[0],m=[],Zn=Pe.length;for(var $s=0;$s<Zn;$s++)$s===0?(Nr=ni(C),Ur=Fn(G)):(Nr=S(Bo-yi[$s]),Ur=-Jl),m.push([Pe[$s],Nr,Ur]),Bo=yi[$s]}else if(c==="center"){C-=yi[0]/2,m=[],Zn=Pe.length;for(var Ws=0;Ws<Zn;Ws++)Ws===0?(Nr=ni(C),Ur=Fn(G)):(Nr=S((Bo-yi[Ws])/2),Ur=-Jl),m.push([Pe[Ws],Nr,Ur]),Bo=yi[Ws]}else if(c==="left"){m=[],Zn=Pe.length;for(var Xl=0;Xl<Zn;Xl++)m.push(Pe[Xl])}else if(c==="justify"&&gf.encoding==="Identity-H"){m=[],Zn=Pe.length,A=A!==0?A:mf;for(var Hs=0,En=0;En<Zn;En++)if(Ur=En===0?Fn(G):-Jl,Nr=En===0?ni(C):Hs,En<Zn-1){var Nc=S((A-yi[En])/(Pe[En].split(" ").length-1)),Pr=Pe[En].split(" ");m.push([Pr[0]+" ",Nr,Ur]),Hs=0;for(var _i=1;_i<Pr.length;_i++){var Zl=(Za(Pr[_i-1]+" "+Pr[_i])-Za(Pr[_i]))*Ht+Nc;_i==Pr.length-1?m.push([Pr[_i],Zl,0]):m.push([Pr[_i]+" ",Zl,0]),Hs-=Zl}}else m.push([Pe[En],Nr,Ur]);m.push(["",Hs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Zn=Pe.length,A=A!==0?A:mf,En=0;En<Zn;En++)Ur=En===0?Fn(G):-Jl,Nr=En===0?ni(C):0,En<Zn-1?Vo.push(O(S((A-yi[En])/(Pe[En].split(" ").length-1)))):Vo.push(0),m.push([Pe[En],Nr,Ur])}}var vf=typeof ee.R2L=="boolean"?ee.R2L:Ze;vf===!0&&(m=ms(m,function(Jt,Xt,Sn){return[Jt.split("").reverse().join(""),Xt,Sn]})),be={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:gn,activeFontKey:bt,fonts:Ot,activeFontSize:Fe}},Ct.publish("postProcessText",be),m=be.text,gt=be.mutex.isHex||!1;var Pc=Ot[bt].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(m=ms(m,function(Jt,Xt,Sn){return[Bi(Jt),Xt,Sn]})),Pe=Xn(m),m=[];for(var el,tl,Uo,nl=0,eu=1,rl=Array.isArray(Pe[0])?eu:nl,qo="",kc=function(Jt,Xt,Sn){var Mn="";return Sn instanceof Ge?(Sn=typeof ee.angle=="number"?Fr(Sn,new Ge(1,0,0,1,Jt,Xt)):Fr(new Ge(1,0,0,1,Jt,Xt),Sn),k===b.ADVANCED&&(Sn=Fr(new Ge(1,0,0,-1,0,0),Sn)),Mn=Sn.join(" ")+` Tm
`):Mn=O(Jt)+" "+O(Xt)+` Td
`,Mn},wi=0;wi<Pe.length;wi++){switch(qo="",rl){case eu:Uo=(gt?"<":"(")+Pe[wi][0]+(gt?">":")"),el=parseFloat(Pe[wi][1]),tl=parseFloat(Pe[wi][2]);break;case nl:Uo=(gt?"<":"(")+Pe[wi]+(gt?">":")"),el=ni(C),tl=Fn(G)}Vo!==void 0&&Vo[wi]!==void 0&&(qo=Vo[wi]+` Tw
`),wi===0?m.push(qo+kc(el,tl,pe)+Uo):rl===nl?m.push(qo+Uo):rl===eu&&m.push(qo+kc(el,tl,pe)+Uo)}m=rl===nl?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var bi=`BT
/`;return bi+=bt+" "+Fe+` Tf
`,bi+=O(Fe*Mt)+` TL
`,bi+=Mi+`
`,bi+=St,bi+=m,J(bi+="ET"),y[bt]=!0,ke};var Sc=g.__private__.clip=g.clip=function(m){return J(m==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Sc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return J("n"),this};var vi=g.__private__.isValidStyle=function(m){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(C=!0),C};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(m){return vi(m)&&(h=m),this};var zl=g.__private__.getStyle=g.getStyle=function(m){var C=h;switch(m){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=m}return C},ei=g.close=function(){return J("h"),this};g.stroke=function(){return J("S"),this},g.fill=function(m){return To("f",m),this},g.fillEvenOdd=function(m){return To("f*",m),this},g.fillStroke=function(m){return To("B",m),this},g.fillStrokeEvenOdd=function(m){return To("B*",m),this};var To=function(m,C){qt(C)==="object"?Po(C,m):J(m)},Ha=function(m){m===null||k===b.ADVANCED&&m===void 0||(m=zl(m),J(m))};function No(m,C,G,ee,ae){var be=new Nu(C||this.boundingBox,G||this.xStep,ee||this.yStep,this.gState,ae||this.matrix);be.stream=this.stream;var Pe=m+"$$"+this.cloneIndex+++"$$";return kn(Pe,be),be}var Po=function(m,C){var G=is[m.key],ee=Nt[G];if(ee instanceof ul)J("q"),J($l(C)),ee.gState&&g.setGState(ee.gState),J(m.matrix.toString()+" cm"),J("/"+G+" sh"),J("Q");else if(ee instanceof Nu){var ae=new Ge(1,0,0,-1,0,hr());m.matrix&&(ae=ae.multiply(m.matrix||ur),G=No.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,ae).id),J("q"),J("/Pattern cs"),J("/"+G+" scn"),ee.gState&&g.setGState(ee.gState),J(C),J("Q")}},$l=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ji=g.moveTo=function(m,C){return J(O(S(m))+" "+O(K(C))+" m"),this},ti=g.lineTo=function(m,C){return J(O(S(m))+" "+O(K(C))+" l"),this},Fi=g.curveTo=function(m,C,G,ee,ae,be){return J([O(S(m)),O(K(C)),O(S(G)),O(K(ee)),O(S(ae)),O(K(be)),"c"].join(" ")),this};g.__private__.line=g.line=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!vi(ae))throw new Error("Invalid arguments passed to jsPDF.line");return k===b.COMPAT?this.lines([[G-m,ee-C]],m,C,[1,1],ae||"S"):this.lines([[G-m,ee-C]],m,C,[1,1]).stroke()},g.__private__.lines=g.lines=function(m,C,G,ee,ae,be){var Pe,Ue,c,_,A,V,oe,pe,ke,mt,St,gt;if(typeof m=="number"&&(gt=G,G=C,C=m,m=gt),ee=ee||[1,1],be=be||!1,isNaN(C)||isNaN(G)||!Array.isArray(m)||!Array.isArray(ee)||!vi(ae)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ji(C,G),Pe=ee[0],Ue=ee[1],_=m.length,mt=C,St=G,c=0;c<_;c++)(A=m[c]).length===2?(mt=A[0]*Pe+mt,St=A[1]*Ue+St,ti(mt,St)):(V=A[0]*Pe+mt,oe=A[1]*Ue+St,pe=A[2]*Pe+mt,ke=A[3]*Ue+St,mt=A[4]*Pe+mt,St=A[5]*Ue+St,Fi(V,oe,pe,ke,mt,St));return be&&ei(),Ha(ae),this},g.path=function(m){for(var C=0;C<m.length;C++){var G=m[C],ee=G.c;switch(G.op){case"m":ji(ee[0],ee[1]);break;case"l":ti(ee[0],ee[1]);break;case"c":Fi.apply(this,ee);break;case"h":ei()}}return this},g.__private__.rect=g.rect=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!vi(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return k===b.COMPAT&&(ee=-ee),J([O(S(m)),O(K(C)),O(S(G)),O(S(ee)),"re"].join(" ")),Ha(ae),this},g.__private__.triangle=g.triangle=function(m,C,G,ee,ae,be,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(be)||!vi(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-m,ee-C],[ae-G,be-ee],[m-ae,C-be]],m,C,[1,1],Pe,!0),this},g.__private__.roundedRect=g.roundedRect=function(m,C,G,ee,ae,be,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(be)||!vi(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*G),be=Math.min(be,.5*ee),this.lines([[G-2*ae,0],[ae*Ue,0,ae,be-be*Ue,ae,be],[0,ee-2*be],[0,be*Ue,-ae*Ue,be,-ae,be],[2*ae-G,0],[-ae*Ue,0,-ae,-be*Ue,-ae,-be],[0,2*be-ee],[0,-be*Ue,ae*Ue,-be,ae,-be]],m+ae,C,[1,1],Pe,!0),this},g.__private__.ellipse=g.ellipse=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!vi(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*ee;return ji(m+G,C),Fi(m+G,C-Pe,m+be,C-ee,m,C-ee),Fi(m-be,C-ee,m-G,C-Pe,m-G,C),Fi(m-G,C+Pe,m-be,C+ee,m,C+ee),Fi(m+be,C+ee,m+G,C+Pe,m+G,C),Ha(ae),this},g.__private__.circle=g.circle=function(m,C,G,ee){if(isNaN(m)||isNaN(C)||isNaN(G)||!vi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,C,G,G,ee)},g.setFont=function(m,C,G){return G&&(C=re(C,G)),bt=Ms(m,C,{disableWarning:!1}),this};var Ga=g.__private__.getFont=g.getFont=function(){return Ot[Ms.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var m,C,G={};for(m in Qt)if(Qt.hasOwnProperty(m))for(C in G[m]=[],Qt[m])Qt[m].hasOwnProperty(C)&&G[m].push(C);return G},g.addFont=function(m,C,G,ee,ae){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(G=re(G,ee)),ae=ae||"Identity-H",za.call(this,m,C,G,ae)};var Ft,Ka=t.lineWidth||.200025,ko=g.__private__.getLineWidth=g.getLineWidth=function(){return Ka},Qa=g.__private__.setLineWidth=g.setLineWidth=function(m){return Ka=m,J(O(S(m))+" w"),this};g.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(m,C){if(m=m||[],C=C||0,isNaN(C)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(G){return O(S(G))}).join(" "),C=O(S(C)),J("["+m+"] "+C+" d"),this};var Ya=g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ft};g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ft};var Ja=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Ft=m),this},Bs=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ft};Ja(t.lineHeight);var ni=g.__private__.getHorizontalCoordinate=function(m){return S(m)},Fn=g.__private__.getVerticalCoordinate=function(m){return k===b.ADVANCED?m:rt[$].mediaBox.topRightY-rt[$].mediaBox.bottomLeftY-S(m)},Wl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(m){return O(ni(m))},fs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(m){return O(Fn(m))},Jn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Mr(Jn)},g.__private__.setStrokeColor=g.setDrawColor=function(m,C,G,ee){return Jn=Ir({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"draw",precision:2}),J(Jn),this};var Co=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Mr(Co)},g.__private__.setFillColor=g.setFillColor=function(m,C,G,ee){return Co=Ir({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"fill",precision:2}),J(Co),this};var Mi=t.textColor||"0 g",Lo=g.__private__.getTextColor=g.getTextColor=function(){return Mr(Mi)};g.__private__.setTextColor=g.setTextColor=function(m,C,G,ee){return Mi=Ir({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"text",precision:3}),this};var Us=t.charSpace,Ro=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Us||0)};g.__private__.setCharSpace=g.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Us=m,this};var Xa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(m){var C=g.CapJoinStyles[m];if(C===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xa=C,J(C+" J"),this};var Do=0;g.__private__.setLineJoin=g.setLineJoin=function(m){var C=g.CapJoinStyles[m];if(C===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Do=C,J(C+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(O(S(m))+" M"),this},g.GState=Np,g.setGState=function(m){(m=typeof m=="string"?en[Yn[m]]:ds(null,m)).equals(Jr)||(J("/"+m.id+" gs"),Jr=m)};var ds=function(m,C){if(!m||!Yn[m]){var G=!1;for(var ee in en)if(en.hasOwnProperty(ee)&&en[ee].equals(C)){G=!0;break}if(G)C=en[ee];else{var ae="GS"+(Object.keys(en).length+1).toString(10);en[ae]=C,C.id=ae}return m&&(Yn[m]=C.id),Ct.publish("addGState",C),C}};g.addGState=function(m,C){return ds(m,C),this},g.saveGraphicsState=function(){return J("q"),mi.push({key:bt,size:Fe,color:Mi}),this},g.restoreGraphicsState=function(){J("Q");var m=mi.pop();return bt=m.key,Fe=m.size,Mi=m.color,Jr=null,this},g.setCurrentTransformationMatrix=function(m){return J(m.toString()+" cm"),this},g.comment=function(m){return J("#"+m),this};var qs=function(m,C){var G=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(be){isNaN(be)||(G=parseFloat(be))}});var ee=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(be){isNaN(be)||(ee=parseFloat(be))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(be){ae=be.toString()}}),this},Oo=function(m,C,G,ee){qs.call(this,m,C),this.type="rect";var ae=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Pe){isNaN(Pe)||(ae=parseFloat(Pe))}});var be=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Pe){isNaN(Pe)||(be=parseFloat(Pe))}}),this},zs=function(){this.page=Yt,this.currentPage=$,this.pages=Le.slice(0),this.pagesContext=rt.slice(0),this.x=pn,this.y=xt,this.matrix=jr,this.width=ps($),this.height=hr($),this.outputDestination=Me,this.id="",this.objectNumber=-1};zs.prototype.restore=function(){Yt=this.page,$=this.currentPage,rt=this.pagesContext,Le=this.pages,pn=this.x,xt=this.y,jr=this.matrix,Fo($,this.width),Mo($,this.height),Me=this.outputDestination};var jo=function(m,C,G,ee,ae){Xr.push(new zs),Yt=$=0,Le=[],pn=m,xt=C,jr=ae,Tr([G,ee])},Hl=function(m){if(lr[m])Xr.pop().restore();else{var C=new zs,G="Xo"+(Object.keys(Pn).length+1).toString(10);C.id=G,lr[m]=G,Pn[G]=C,Ct.publish("addFormObject",C),Xr.pop().restore()}};for(var Vi in g.beginFormObject=function(m,C,G,ee,ae){return jo(m,C,G,ee,ae),this},g.endFormObject=function(m){return Hl(m),this},g.doFormObject=function(m,C){var G=Pn[lr[m]];return J("q"),J(C.toString()+" cm"),J("/"+G.id+" Do"),J("Q"),this},g.getFormObject=function(m){var C=Pn[lr[m]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},g.save=function(m,C){return m=m||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(ll(Io(Oi()),m),typeof ll.unload=="function"&&lt.setTimeout&&setTimeout(ll.unload,911),this):new Promise(function(G,ee){try{var ae=ll(Io(Oi()),m);typeof ll.unload=="function"&&lt.setTimeout&&setTimeout(ll.unload,911),G(ae)}catch(be){ee(be.message)}})},ot.API)ot.API.hasOwnProperty(Vi)&&(Vi==="events"&&ot.API.events.length?function(m,C){var G,ee,ae;for(ae=C.length-1;ae!==-1;ae--)G=C[ae][0],ee=C[ae][1],m.subscribe.apply(m,[G].concat(typeof ee=="function"?[ee]:ee))}(Ct,ot.API.events):g[Vi]=ot.API[Vi]);var ps=g.getPageWidth=function(m){return(rt[m=m||$].mediaBox.topRightX-rt[m].mediaBox.bottomLeftX)/We},Fo=g.setPageWidth=function(m,C){rt[m].mediaBox.topRightX=C*We+rt[m].mediaBox.bottomLeftX},hr=g.getPageHeight=function(m){return(rt[m=m||$].mediaBox.topRightY-rt[m].mediaBox.bottomLeftY)/We},Mo=g.setPageHeight=function(m,C){rt[m].mediaBox.topRightY=C*We+rt[m].mediaBox.bottomLeftY};return g.internal={pdfEscape:gn,getStyle:zl,getFont:Ga,getFontSize:qe,getCharSpace:Ro,getTextColor:Lo,getLineHeight:Ya,getLineHeightFactor:Bs,getLineWidth:ko,write:dt,getHorizontalCoordinate:ni,getVerticalCoordinate:Fn,getCoordinateString:Wl,getVerticalCoordinateString:fs,collections:{},newObject:wn,newAdditionalObject:bo,newObjectDeferred:mn,newObjectDeferredBegin:Cn,getFilters:xr,putStream:bn,events:Ct,scaleFactor:We,pageSize:{getWidth:function(){return ps($)},setWidth:function(m){Fo($,m)},getHeight:function(){return hr($)},setHeight:function(m){Mo($,m)}},encryptionOptions:d,encryption:nn,getEncryptor:ql,output:xo,getNumberOfPages:Vt,pages:Le,out:J,f2:B,f3:x,getPageInfo:Wa,getPageInfoByObjId:ct,getCurrentPageInfo:hs,getPDFVersion:T,Point:qs,Rectangle:Oo,Matrix:Ge,hasHotfix:cs},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ps($)},set:function(m){Fo($,m)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return hr($)},set:function(m){Mo($,m)},enumerable:!0,configurable:!0}),Bl.call(g,De),bt="F1",Fs(i,n),Ct.publish("initialized"),g}du.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},du.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},du.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},du.prototype.processOwnerPassword=function(t,e){return c0(u0(e).substr(0,5),t)},du.prototype.encryptor=function(t,e){var n=u0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return c0(n,r)}},Np.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||qt(t)!==qt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="2.5.2";var yn=ot.API,lv=1,Ol=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},Zo=function(t){return t.toFixed(5)};yn.__acroform__={};var Yr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},E_=function(t){return t*lv},_s=function(t){var e=new FE,n=Ye.internal.getHeight(t)||0,r=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(r)),Number(vt(n))],e},jR=yn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},FR=yn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},MR=yn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xn=yn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MR(t,e-1)},Tn=yn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jR(t,e-1)},Nn=yn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FR(t,e-1)},VR=yn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},BR=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=h0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=_s(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},h0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,o=Ye.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ye.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(x,S,P){if(x+1<i.length){var K=S+" "+i[x+1][0];return ad(K,t,P).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,p=ad("3",t,s).height,y=t.multiline?o-s:(o-p)/2,g=y+=2,N=0,T=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ad(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",b=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var H=!1;if(i[k].length!==1&&R!==i[k].length-1){if((p+2)*(b+2)+2>o)continue e;w+=i[k][R],H=!0,T=k,k--}else{w=(w+=i[k][R]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var Q=parseInt(k),re=l(Q,w,s),O=k>=i.length-1;if(re&&!O){w+=" ",R=0;continue}if(re||O){if(O)T=Q;else if(t.multiline&&(p+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(b+2)+2>o)continue e;T=Q}}for(var I="",j=N;j<=T;j++){var B=i[j];if(t.multiline){if(j===T){I+=B[R]+" ",R=(R+1)%B.length;continue}if(j===N){I+=B[B.length-1]+" ";continue}}I+=B[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=ad(I,t,s).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}e+=vt(h)+" "+vt(g)+` Td
`,e+="("+Ol(I)+`) Tj
`,e+=-vt(h)+` 0 Td
`,g=-(s+2),d=0,N=H?T:T+1,b++,w=""}break}return r.text=e,r.fontSize=s,r},ad=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},UR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qR=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},zR=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),qt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},$R=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ns.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(UR)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ME,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&qR(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],h=a.Rect;if(a.Rect&&(a.Rect=VR(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ye.createDefaultAppearanceStream(a),qt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=BR(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var p="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var g=a.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var N=g[o];typeof N=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(i,a)),p+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&zR(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},jE=yn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),qt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ol(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ol(r(t))+")"},Es=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Es.prototype.toString=function(){return this.objId+" 0 R"},Es.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Es.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:jE(i,this.objId,this.scope)}):i instanceof Es?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var FE=function(){Es.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Yr(FE,Es);var ME=function(){Es.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ol(n(t))+")"}},set:function(n){t=n}})};Yr(ME,Es);var ns=function t(){Es.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xn(e,3)},set:function(w){w?this.F=Tn(e,3):this.F=Nn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Pp)return;s="FieldObject"+t.FieldNum++}var w=function(b){return b};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Ol(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/lv:h},set:function(w){h=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Pp||this instanceof vl))return Pg(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Gn?y:Pg(y,this.objId,this.scope)},set:function(w){w=w.toString(),y=this instanceof Gn?w:w.substr(0,1)==="("?au(w.substr(1,w.length-2)):au(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?au(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof Gn?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Gn?g:Pg(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Gn?w:w.substr(0,1)==="("?au(w.substr(1,w.length-2)):au(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?au(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Gn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(w){w=!!w,T=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(w){N=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,1)},set:function(w){w?this.Ff=Tn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,2)},set:function(w){w?this.Ff=Tn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,3)},set:function(w){w?this.Ff=Tn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');R=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(R){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};Yr(ns,Es);var Vu=function(){ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jE(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,h=[];l=o.exec(s);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,18)},set:function(n){n?this.Ff=Tn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,20)},set:function(n){n?(this.Ff=Tn(this.Ff,20),e.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,22)},set:function(n){n?this.Ff=Tn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(n){n?this.Ff=Tn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,27)},set:function(n){n?this.Ff=Tn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Yr(Vu,ns);var Bu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};Yr(Bu,Vu);var Uu=function(){Bu.call(this),this.combo=!0};Yr(Uu,Bu);var Cd=function(){Uu.call(this),this.edit=!0};Yr(Cd,Uu);var Gn=function(){ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,15)},set:function(n){n?this.Ff=Tn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,16)},set:function(n){n?this.Ff=Tn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,17)},set:function(n){n?this.Ff=Tn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(n){n?this.Ff=Tn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ol(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){qt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Yr(Gn,ns);var Ld=function(){Gn.call(this),this.pushButton=!0};Yr(Ld,Gn);var qu=function(){Gn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Yr(qu,Gn);var Pp=function(){var t,e;ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ol(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){qt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yr(Pp,ns),qu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},qu.prototype.createOption=function(t){var e=new Pp;return e.Parent=this,e.optionName=t,this.Kids.push(e),WR.call(this.scope,e),e};var Rd=function(){Gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};Yr(Rd,Gn);var vl=function(){ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,13)},set:function(e){e?this.Ff=Tn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,21)},set:function(e){e?this.Ff=Tn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(e){e?this.Ff=Tn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,24)},set:function(e){e?this.Ff=Tn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,25)},set:function(e){e?this.Ff=Tn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(e){e?this.Ff=Tn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yr(vl,ns);var Dd=function(){vl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,14)},set:function(t){t?this.Ff=Tn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Yr(Dd,vl);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=h0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+vt(Ye.internal.getWidth(t))+" "+vt(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+vt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=_s(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ye.internal.getHeight(t),o=Ye.internal.getWidth(t),a=h0(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(o)+" "+vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(o-1)+" "+vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+vt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Ye.internal.getWidth(t))+" "+vt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=_s(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ye.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5)),o=Number((r*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zo(Ye.internal.getWidth(t)/2)+" "+Zo(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=_s(t);e.scope=t.scope;var n=[],r=Ye.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+vt(Ye.internal.getWidth(t)-2)+" "+vt(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=Ye.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Ye.internal.getWidth(t))+" "+vt(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vt(Ye.internal.getWidth(t)-2)+" "+vt(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=_s(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Ye.internal.getWidth(t))+" "+vt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),n=Ye.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ye.internal.getWidth=function(t){var e=0;return qt(t)==="object"&&(e=E_(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return qt(t)==="object"&&(e=E_(t.Rect[3])),e};var WR=yn.addField=function(t){if($R(this,t),!(t instanceof ns))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=Vu,yn.AcroFormListBox=Bu,yn.AcroFormComboBox=Uu,yn.AcroFormEditBox=Cd,yn.AcroFormButton=Gn,yn.AcroFormPushButton=Ld,yn.AcroFormRadioButton=qu,yn.AcroFormCheckBox=Rd,yn.AcroFormTextField=vl,yn.AcroFormPasswordField=Dd,yn.AcroFormAppearance=Ye,yn.AcroForm={ChoiceField:Vu,ListBox:Bu,ComboBox:Uu,EditBox:Cd,Button:Gn,PushButton:Ld,RadioButton:qu,CheckBox:Rd,TextField:vl,PasswordField:Dd,Appearance:Ye},ot.AcroForm={ChoiceField:Vu,ListBox:Bu,ComboBox:Uu,EditBox:Cd,Button:Gn,PushButton:Ld,RadioButton:qu,CheckBox:Rd,TextField:vl,PasswordField:Dd,Appearance:Ye};ot.AcroForm;function VE(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(x,S){var P,K,me,ve,_e,X=e;if((S=S||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(re(x))for(_e in n)for(me=n[_e],P=0;P<me.length;P+=1){for(ve=!0,K=0;K<me[P].length;K+=1)if(me[P][K]!==void 0&&me[P][K]!==x[K]){ve=!1;break}if(ve===!0){X=_e;break}}else for(_e in n)for(me=n[_e],P=0;P<me.length;P+=1){for(ve=!0,K=0;K<me[P].length;K+=1)if(me[P][K]!==void 0&&me[P][K]!==x.charCodeAt(K)){ve=!1;break}if(ve===!0){X=_e;break}}return X===e&&S!==e&&(X=S),X},i=function x(S){for(var P=this.internal.write,K=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:S.width}),ve.push({key:"Height",value:S.height}),S.colorSpace===R.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===R.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var _e="",X=0,ue=S.transparency.length;X<ue;X++)_e+=S.transparency[X]+" "+S.transparency[X]+" ";ve.push({key:"Mask",value:"["+_e+"]"})}S.sMask!==void 0&&ve.push({key:"SMask",value:S.objectId+1+" 0 R"});var he=S.filter!==void 0?["/"+S.filter]:void 0;if(K({data:S.data,additionalKeyValues:ve,alreadyAppliedFilters:he,objectId:S.objectId}),P("endobj"),"sMask"in S&&S.sMask!==void 0){var Re="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,D={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:Re,data:S.sMask};"filter"in S&&(D.filter=S.filter),x.call(this,D)}if(S.colorSpace===R.INDEXED){var $=this.internal.newObject();K({data:I(new Uint8Array(S.palette)),objectId:$}),P("endobj")}},s=function(){var x=this.internal.collections.addImage_images;for(var S in x)i.call(this,x[S])},o=function(){var x,S=this.internal.collections.addImage_images,P=this.internal.write;for(var K in S)P("/I"+(x=S[K]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(x){return typeof t["process"+x.toUpperCase()]=="function"},p=function(x){return qt(x)==="object"&&x.nodeType===1},y=function(x,S){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var P=""+x.getAttribute("src");if(P.indexOf("data:image/")===0)return _h(unescape(P).split("base64,").pop());var K=t.loadFile(P,!0);if(K!==void 0)return K}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var me;switch(S){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return _h(x.toDataURL(me,1).split("base64,").pop())}},g=function(x){var S=this.internal.collections.addImage_images;if(S){for(var P in S)if(x===S[P].alias)return S[P]}},N=function(x,S,P){return x||S||(x=-96,S=-96),x<0&&(x=-1*P.width*72/x/this.internal.scaleFactor),S<0&&(S=-1*P.height*72/S/this.internal.scaleFactor),x===0&&(x=S*P.width/P.height),S===0&&(S=x*P.height/P.width),[x,S]},T=function(x,S,P,K,me,ve){var _e=N.call(this,P,K,me),X=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,he=l.call(this);if(P=_e[0],K=_e[1],he[me.index]=me,ve){ve*=Math.PI/180;var Re=Math.cos(ve),D=Math.sin(ve),$=function(Z){return Z.toFixed(4)},Y=[$(Re),$(D),$(-1*D),$(Re),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,X(x),ue(S+K),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([X(P),"0","0",X(K),"0","0","cm"].join(" "))):this.internal.write([X(P),"0","0",X(K),X(x),ue(S+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},R=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(x){var S,P,K=0;if(typeof x=="string")for(P=x.length,S=0;S<P;S++)K=(K<<5)-K+x.charCodeAt(S),K|=0;else if(re(x))for(P=x.byteLength/2,S=0;S<P;S++)K=(K<<5)-K+x[S],K|=0;return K},k=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var S=!0;return x.length===0&&(S=!1),x.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(S=!1),S},H=t.__addimage__.extractImageFromDataUrl=function(x){var S=(x=x||"").split("base64,"),P=null;if(S.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(S[0]);Array.isArray(K)&&(P={mimeType:K[1],charset:K[2],data:S[1]})}return P},Q=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return Q()&&x instanceof ArrayBuffer};var re=t.__addimage__.isArrayBufferView=function(x){return Q()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(x){for(var S=x.length,P=new Uint8Array(S),K=0;K<S;K++)P[K]=x.charCodeAt(K);return P},I=t.__addimage__.arrayBufferToBinaryString=function(x){for(var S="",P=re(x)?x:new Uint8Array(x),K=0;K<P.length;K+=8192)S+=String.fromCharCode.apply(null,P.subarray(K,K+8192));return S};t.addImage=function(){var x,S,P,K,me,ve,_e,X,ue;if(typeof arguments[1]=="number"?(S=e,P=arguments[1],K=arguments[2],me=arguments[3],ve=arguments[4],_e=arguments[5],X=arguments[6],ue=arguments[7]):(S=arguments[1],P=arguments[2],K=arguments[3],me=arguments[4],ve=arguments[5],_e=arguments[6],X=arguments[7],ue=arguments[8]),qt(x=arguments[0])==="object"&&!p(x)&&"imageData"in x){var he=x;x=he.imageData,S=he.format||S||e,P=he.x||P||0,K=he.y||K||0,me=he.w||he.width||me,ve=he.h||he.height||ve,_e=he.alias||_e,X=he.compression||X,ue=he.rotation||he.angle||ue}var Re=this.internal.getFilters();if(X===void 0&&Re.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(P)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var D=j.call(this,x,S,_e,X);return T.call(this,P,K,me,ve,D,ue),this};var j=function(x,S,P,K){var me,ve,_e;if(typeof x=="string"&&r(x)===e){x=unescape(x);var X=B(x,!1);(X!==""||(X=t.loadFile(x,!0))!==void 0)&&(x=X)}if(p(x)&&(x=y(x,S)),S=r(x,S),!d(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((_e=P)==null||_e.length===0)&&(P=function(ue){return typeof ue=="string"||re(ue)?b(ue):re(ue.data)?b(ue.data):null}(x)),(me=g.call(this,P))||(Q()&&(x instanceof Uint8Array||S==="RGBA"||(ve=x,x=O(x))),me=this["process"+S.toUpperCase()](x,h.call(this),P,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:w.NONE}(K),ve)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},B=t.__addimage__.convertBase64ToBinaryString=function(x,S){var P;S=typeof S!="boolean"||S;var K,me="";if(typeof x=="string"){K=(P=H(x))!==null?P.data:x;try{me=_h(K)}catch(ve){if(S)throw k(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};t.getImageProperties=function(x){var S,P,K="";if(p(x)&&(x=y(x)),typeof x=="string"&&r(x)===e&&((K=B(x,!1))===""&&(K=t.loadFile(x)||""),x=K),P=r(x),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!Q()||x instanceof Uint8Array||(x=O(x)),!(S=this["process"+P.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=P,S}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,p=0;p<h.length&&!d;p++)switch((r=h[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(T.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(w(r.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(w(b))+") >>",T.content=s;var k=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(T.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Q=this.annotations._nameMap[r.options.name];r.options.pageNumber=Q.page,r.options.top=Q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var re=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(h*d)}else a=l,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-h,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=t.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(T){var R=0,w=n,b="",k=0;for(R=0;R<T.length;R+=1)w[T.charCodeAt(R)]!==void 0?(k++,typeof(w=w[T.charCodeAt(R)])=="number"&&(b+=String.fromCharCode(w),w=n,k=0),R===T.length-1&&(w=n,b+=T.charAt(R-(k-1)),R-=k-1,k=0)):(w=n,b+=T.charAt(R-k),R-=k,k=0);return b};t.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(T,R,w){return o(T)?s(T)===!1?-1:!h(T)||!o(R)&&!o(w)||!o(w)&&a(R)||a(T)&&!o(R)||a(T)&&l(R)||a(T)&&a(R)?0:d(T)&&o(R)&&!a(R)&&o(w)&&h(w)?3:a(T)||!o(w)?1:2:-1},g=function(T){var R=0,w=0,b=0,k="",H="",Q="",re=(T=T||"").split("\\s+"),O=[];for(R=0;R<re.length;R+=1){for(O.push(""),w=0;w<re[R].length;w+=1)k=re[R][w],H=re[R][w-1],Q=re[R][w+1],o(k)?(b=y(k,H,Q),O[R]+=b!==-1?String.fromCharCode(e[k.charCodeAt(0)][b]):k):O[R]+=k;O[R]=p(O[R])}return O.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var T,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(R)){var b=0;for(w=[],b=0;b<R.length;b+=1)Array.isArray(R[b])?w.push([g(R[b][0]),R[b][1],R[b][2]]):w.push([g(R[b])]);T=w}else T=g(R);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};t.events.push(["preProcessText",N])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(T){l=T}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(T){d=T}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,N=0,T=0,R=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=h.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,H){return k.concat(R.splitTextToSize(H,w))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)g<(T=this.getStringUnitWidth(l[b],{font:p})*d)&&(g=T);return g!==0&&(N=l.length),{w:g/=y,h:Math.max((N*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,g&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,d,p,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,N,T,R,w=[],b=[],k=[],H={},Q={},re=[],O=[],I=(y=y||{}).autoSize||!1,j=y.printHeaders!==!1,B=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,x=y.margins||Object.assign({width:this.getPageWidth()},e),S=typeof y.padding=="number"?y.padding:3,P=y.headerBackgroundColor||"#c8c8c8",K=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=K,this.setFontSize(B),p==null)b=w=Object.keys(d[0]),k=w.map(function(){return"left"});else if(Array.isArray(p)&&qt(p[0])==="object")for(w=p.map(function(he){return he.name}),b=p.map(function(he){return he.prompt||he.name||""}),k=p.map(function(he){return he.align||"left"}),g=0;g<p.length;g+=1)Q[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(b=w=p,k=w.map(function(){return"left"}));if(I||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<w.length;g+=1){for(H[R=w[g]]=d.map(function(he){return he[R]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(b[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=H[R],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)re.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[R]=Math.max.apply(null,re)+S+S,re=[]}if(j){var me={};for(g=0;g<w.length;g+=1)me[w[g]]={},me[w[g]].text=b[g],me[w[g]].align=k[g];var ve=a.call(this,me,Q);O=w.map(function(he){return new s(l,h,Q[he],ve,me[he].text,void 0,me[he].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var _e=p.reduce(function(he,Re){return he[Re.name]=Re.align,he},{});for(g=0;g<d.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:d[g]},this);var X=a.call(this,d[g],Q);for(T=0;T<w.length;T+=1){var ue=d[g][w[T]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:T,data:ue},this),o.call(this,new s(l,h,Q[w[T]],X,ue,g+2,_e[w[T]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(g){var N=l[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,h[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/y+d+d},this).reduce(function(g,N){return Math.max(g,N)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=l;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(ot.API);var BE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f0=VE(UE),qE=[100,200,300,400,500,600,700,800,900],HR=VE(qE);function d0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return BE[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof f0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function S_(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var GR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function KR(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},GR,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=d0(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+I_(s)+"' and default family '"+r+"'.");if(o=function(l,h){if(h[l])return h[l];var d=f0[l],p=d<=f0.normal?-1:1,y=S_(h,UE,d,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(s.stretch,o),o=function(l,h){if(h[l])return h[l];for(var d=BE[l],p=0;p<d.length;++p)if(h[d[p]])return h[d[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var d=HR[l],p=S_(h,qE,d,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+I_(s)+"'.");return o}function x_(t){return t.trimLeft()}function QR(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function YR(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ld,T_,N_,kg=["times"];(function(t){var e,n,r,i,s,o,a,l,h,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new d}]);var p=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=D;Object.defineProperty(this,"pdf",{get:function(){return $}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Ee){Y=!!Ee}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Ee){Z=!!Ee}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=Ee)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var J;typeof Ee=="number"?J=[Ee,Ee,Ee,Ee]:((J=new Array(4))[0]=Ee[0],J[1]=Ee.length>=2?Ee[1]:J[0],J[2]=Ee.length>=3?Ee[2]:J[0],J[3]=Ee.length>=4?Ee[3]:J[1]),h.margin=J}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Ee){ge=Ee}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Ee){ye=Ee}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ee){je=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof d&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Ee){Le=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var J;J=y(Ee),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var J=y(Ee);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Be=null;function Me(Ee,J){if(Be===null){var dt=function(Je){var De=[];return Object.keys(Je).forEach(function(Fe){Je[Fe].forEach(function($e){var qe=null;switch($e){case"bold":qe={family:Fe,weight:"bold"};break;case"italic":qe={family:Fe,style:"italic"};break;case"bolditalic":qe={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Fe}}qe!==null&&(qe.ref={name:Fe,style:$e},De.push(qe))})}),De}(Ee.getFontList());Be=function(Je){for(var De={},Fe=0;Fe<Je.length;++Fe){var $e=d0(Je[Fe]),qe=$e.family,Ze=$e.stretch,ut=$e.style,pt=$e.weight;De[qe]=De[qe]||{},De[qe][Ze]=De[qe][Ze]||{},De[qe][Ze][ut]=De[qe][Ze][ut]||{},De[qe][Ze][ut][pt]=$e}return De}(dt.concat(J))}return Be}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(Ee){Be=null,nt=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var J;if(this.ctx.font=Ee,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var dt=J[1],Je=(J[2],J[3]),De=J[4],Fe=(J[5],J[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor($e==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var qe=function(st){var bt,We,pn=[],xt=st.trim();if(xt==="")return kg;if(xt in A_)return[A_[xt]];for(;xt!=="";){switch(We=null,bt=(xt=x_(xt)).charAt(0)){case'"':case"'":We=QR(xt.substring(1),bt);break;default:We=YR(xt)}if(We===null||(pn.push(We[0]),(xt=x_(We[1]))!==""&&xt.charAt(0)!==","))return kg;xt=xt.replace(/^,/,"")}return pn}(Fe);if(this.fontFaces){var Ze=KR(Me(this.pdf,this.fontFaces),qe.map(function(st){return{family:st,stretch:"normal",weight:Je,style:dt}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var ut="";(Je==="bold"||parseInt(Je,10)>=700||dt==="bold")&&(ut="bold"),dt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var pt="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<qe.length;at++){if(this.pdf.internal.getFont(qe[at],ut,{noFallback:!0,disableWarning:!0})!==void 0){pt=qe[at];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(qe[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=qe[at],ut="bold";else if(this.pdf.internal.getFont(qe[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=qe[at],ut="normal";break}}if(pt===""){for(var kt=0;kt<qe.length;kt++)if(et[qe[kt]]){pt=et[qe[kt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};p.prototype.setLineDash=function(D){this.lineDash=D},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){H.call(this,"fill",!1)},p.prototype.stroke=function(){H.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(D,$)},p.prototype.closePath=function(){var D=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&qt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){D=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},p.prototype.lineTo=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},p.prototype.quadraticCurveTo=function(D,$,Y,Z){if(isNaN(Y)||isNaN(Z)||isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Y,Z)),ce=this.ctx.transform.applyToPoint(new o(D,$));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},p.prototype.bezierCurveTo=function(D,$,Y,Z,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ie,ce)),ye=this.ctx.transform.applyToPoint(new o(D,$)),je=this.ctx.transform.applyToPoint(new o(Y,Z));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:je.x,y2:je.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},p.prototype.arc=function(D,$,Y,Z,ie,ce){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z)||isNaN(ie))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(D,$));D=ge.x,$=ge.y;var ye=this.ctx.transform.applyToPoint(new o(0,Y)),je=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(ye.x-je.x,2)+Math.pow(ye.y-je.y,2))}Math.abs(ie-Z)>=2*Math.PI&&(Z=0,ie=2*Math.PI),this.path.push({type:"arc",x:D,y:$,radius:Y,startAngle:Z,endAngle:ie,counterclockwise:ce})},p.prototype.arcTo=function(D,$,Y,Z,ie){throw new Error("arcTo not implemented.")},p.prototype.rect=function(D,$,Y,Z){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,$),this.lineTo(D+Y,$),this.lineTo(D+Y,$+Z),this.lineTo(D,$+Z),this.lineTo(D,$),this.lineTo(D+Y,$),this.lineTo(D,$)},p.prototype.fillRect=function(D,$,Y,Z){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,$,Y,Z),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},p.prototype.strokeRect=function(D,$,Y,Z){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(D,$,Y,Z),this.stroke())},p.prototype.clearRect=function(D,$,Y,Z){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,$,Y,Z))},p.prototype.save=function(D){D=typeof D!="boolean"||D;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage($),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage($),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(D){var $,Y,Z,ie;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))$=0,Y=0,Z=0,ie=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ce!==null)$=parseInt(ce[1]),Y=parseInt(ce[2]),Z=parseInt(ce[3]),ie=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)$=parseInt(ce[1]),Y=parseInt(ce[2]),Z=parseInt(ce[3]),ie=parseFloat(ce[4]);else{if(ie=1,typeof D=="string"&&D.charAt(0)!=="#"){var ge=new RE(D);D=ge.ok?ge.toHex():"#000000"}D.length===4?($=D.substring(1,2),$+=$,Y=D.substring(2,3),Y+=Y,Z=D.substring(3,4),Z+=Z):($=D.substring(1,3),Y=D.substring(3,5),Z=D.substring(5,7)),$=parseInt($,16),Y=parseInt(Y,16),Z=parseInt(Z,16)}}return{r:$,g:Y,b:Z,a:ie,style:D}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(D,$,Y,Z){if(isNaN($)||isNaN(Y)||typeof D!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!g.call(this)){var ie=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;S.call(this,{text:D,x:$,y:Y,scale:ce,angle:ie,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(D,$,Y,Z){if(isNaN($)||isNaN(Y)||typeof D!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var ie=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;S.call(this,{text:D,x:$,y:Y,scale:ce,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(D){if(typeof D!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Y=this.pdf.internal.scaleFactor,Z=$.internal.getFontSize(),ie=$.getStringUnitWidth(D)*Z/$.internal.scaleFactor,ce=function(ge){var ye=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new ce({width:ie*=Math.round(96*Y/72*1e4)/1e4})},p.prototype.scale=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(D,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.rotate=function(D){if(isNaN(D))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.translate=function(D,$){if(isNaN(D)||isNaN($))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,D,$);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.transform=function(D,$,Y,Z,ie,ce){if(isNaN(D)||isNaN($)||isNaN(Y)||isNaN(Z)||isNaN(ie)||isNaN(ce))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(D,$,Y,Z,ie,ce);this.ctx.transform=this.ctx.transform.multiply(ge)},p.prototype.setTransform=function(D,$,Y,Z,ie,ce){D=isNaN(D)?1:D,$=isNaN($)?0:$,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?1:Z,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(D,$,Y,Z,ie,ce)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(D,$,Y,Z,ie,ce,ge,ye,je){var Le=this.pdf.getImageProperties(D),Be=1,Me=1,nt=1,Ee=1;Z!==void 0&&ye!==void 0&&(nt=ye/Z,Ee=je/ie,Be=Le.width/Z*ye/Z,Me=Le.height/ie*je/ie),ce===void 0&&(ce=$,ge=Y,$=0,Y=0),Z!==void 0&&ye===void 0&&(ye=Z,je=ie),Z===void 0&&ye===void 0&&(ye=Le.width,je=Le.height);for(var J,dt=this.ctx.transform.decompose(),Je=X(dt.rotate.shx),De=new l,Fe=(De=(De=(De=De.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new a(ce-$*nt,ge-Y*Ee,Z*Be,ie*Me)),$e=R.call(this,Fe),qe=[],Ze=0;Ze<$e.length;Ze+=1)qe.indexOf($e[Ze])===-1&&qe.push($e[Ze]);if(k(qe),this.autoPaging)for(var ut=qe[0],pt=qe[qe.length-1],et=ut;et<pt+1;et++){this.pdf.setPage(et);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=et===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=et===1?0:st+(et-2)*bt;if(this.ctx.clip_path.length!==0){var pn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(J,this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=pn}var xt=JSON.parse(JSON.stringify(Fe));xt=b([xt],this.posX+this.margin[3],-We+kt+this.ctx.prevPageLastElemOffset)[0];var jr=(et>ut||et<pt)&&T.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,bt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,Je),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Je)};var R=function(D,$,Y){var Z=[];$=$||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Z.push(Math.floor((D.y+ie)/Y)+1);break;case"arc":Z.push(Math.floor((D.y+ie-D.radius)/Y)+1),Z.push(Math.floor((D.y+ie+D.radius)/Y)+1);break;case"qct":var ce=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Z.push(Math.floor((ce.y+ie)/Y)+1),Z.push(Math.floor((ce.y+ce.h+ie)/Y)+1);break;case"bct":var ge=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Z.push(Math.floor((ge.y+ie)/Y)+1),Z.push(Math.floor((ge.y+ge.h+ie)/Y)+1);break;case"rect":Z.push(Math.floor((D.y+ie)/Y)+1),Z.push(Math.floor((D.y+D.h+ie)/Y)+1)}for(var ye=0;ye<Z.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ye];)w.call(this);return Z},w=function(){var D=this.fillStyle,$=this.strokeStyle,Y=this.font,Z=this.lineCap,ie=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=$,this.font=Y,this.lineCap=Z,this.lineWidth=ie,this.lineJoin=ce},b=function(D,$,Y){for(var Z=0;Z<D.length;Z++)switch(D[Z].type){case"bct":D[Z].x2+=$,D[Z].y2+=Y;case"qct":D[Z].x1+=$,D[Z].y1+=Y;case"mt":case"lt":case"arc":default:D[Z].x+=$,D[Z].y+=Y}return D},k=function(D){return D.sort(function($,Y){return $-Y})},H=function(D,$){for(var Y,Z,ie=this.fillStyle,ce=this.strokeStyle,ge=this.lineCap,ye=this.lineWidth,je=Math.abs(ye*this.ctx.transform.scaleX),Le=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),nt=[],Ee=0;Ee<Me.length;Ee++)if(Me[Ee].x!==void 0)for(var J=R.call(this,Me[Ee]),dt=0;dt<J.length;dt+=1)nt.indexOf(J[dt])===-1&&nt.push(J[dt]);for(var Je=0;Je<nt.length;Je++)for(;this.pdf.internal.getNumberOfPages()<nt[Je];)w.call(this);if(k(nt),this.autoPaging)for(var De=nt[0],Fe=nt[nt.length-1],$e=De;$e<Fe+1;$e++){this.pdf.setPage($e),this.fillStyle=ie,this.strokeStyle=ce,this.lineCap=ge,this.lineWidth=je,this.lineJoin=Le;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=$e===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=$e===1?0:ut+($e-2)*pt;if(this.ctx.clip_path.length!==0){var at=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-et+Ze+this.ctx.prevPageLastElemOffset),Q.call(this,D,!0),this.path=at}if(Z=JSON.parse(JSON.stringify(Be)),this.path=b(Z,this.posX+this.margin[3],-et+Ze+this.ctx.prevPageLastElemOffset),$===!1||$e===0){var kt=($e>De||$e<Fe)&&T.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,pt,null).clip().discardPath()),Q.call(this,D,$),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=je,Q.call(this,D,$),this.lineWidth=ye;this.path=Be},Q=function(D,$){if((D!=="stroke"||$||!N.call(this))&&(D==="stroke"||$||!g.call(this))){for(var Y,Z,ie=[],ce=this.path,ge=0;ge<ce.length;ge++){var ye=ce[ge];switch(ye.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ye,deltas:[],abs:[]});break;case"lt":var je=ie.length;if(ce[ge-1]&&!isNaN(ce[ge-1].x)&&(Y=[ye.x-ce[ge-1].x,ye.y-ce[ge-1].y],je>0)){for(;je>=0;je--)if(ie[je-1].close!==!0&&ie[je-1].begin!==!0){ie[je-1].deltas.push(Y),ie[je-1].abs.push(ye);break}}break;case"bct":Y=[ye.x1-ce[ge-1].x,ye.y1-ce[ge-1].y,ye.x2-ce[ge-1].x,ye.y2-ce[ge-1].y,ye.x-ce[ge-1].x,ye.y-ce[ge-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var Le=ce[ge-1].x+2/3*(ye.x1-ce[ge-1].x),Be=ce[ge-1].y+2/3*(ye.y1-ce[ge-1].y),Me=ye.x+2/3*(ye.x1-ye.x),nt=ye.y+2/3*(ye.y1-ye.y),Ee=ye.x,J=ye.y;Y=[Le-ce[ge-1].x,Be-ce[ge-1].y,Me-ce[ge-1].x,nt-ce[ge-1].y,Ee-ce[ge-1].x,J-ce[ge-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ye)}}Z=$?null:D==="stroke"?"stroke":"fill";for(var dt=!1,Je=0;Je<ie.length;Je++)if(ie[Je].arc)for(var De=ie[Je].abs,Fe=0;Fe<De.length;Fe++){var $e=De[Fe];$e.type==="arc"?I.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,$,!dt):P.call(this,$e.x,$e.y),dt=!0}else if(ie[Je].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ie[Je].begin!==!0){var qe=ie[Je].start.x,Ze=ie[Je].start.y;K.call(this,ie[Je].deltas,qe,Ze),dt=!0}Z&&j.call(this,Z),$&&B.call(this)}},re=function(D){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Y;case"top":return D+$-Y;case"hanging":return D+$-2*Y;case"middle":return D+$/2-Y;case"ideographic":return D;case"alphabetic":default:return D}},O=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function($,Y){this.colorStops.push([$,Y])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(D,$,Y,Z,ie,ce,ge,ye,je){for(var Le=ve.call(this,Y,Z,ie,ce),Be=0;Be<Le.length;Be++){var Me=Le[Be];Be===0&&(je?x.call(this,Me.x1+D,Me.y1+$):P.call(this,Me.x1+D,Me.y1+$)),me.call(this,D,$,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ye?B.call(this):j.call(this,ge)},j=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(D,$){this.pdf.internal.out(n(D)+" "+r($)+" m")},S=function(D){var $;switch(D.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var Y=this.pdf.getTextDimensions(D.text),Z=re.call(this,D.y),ie=O.call(this,Z)-Y.h,ce=this.ctx.transform.applyToPoint(new o(D.x,Z)),ge=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var je,Le,Be,Me=this.ctx.transform.applyToRectangle(new a(D.x,Z,Y.w,Y.h)),nt=ye.applyToRectangle(new a(D.x,ie,Y.w,Y.h)),Ee=R.call(this,nt),J=[],dt=0;dt<Ee.length;dt+=1)J.indexOf(Ee[dt])===-1&&J.push(Ee[dt]);if(k(J),this.autoPaging)for(var Je=J[0],De=J[J.length-1],Fe=Je;Fe<De+1;Fe++){this.pdf.setPage(Fe);var $e=Fe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],ut=Ze-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],et=pt-this.margin[3],at=Fe===1?0:qe+(Fe-2)*ut;if(this.ctx.clip_path.length!==0){var kt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(je,this.posX+this.margin[3],-1*at+$e),Q.call(this,"fill",!0),this.path=kt}var st=b([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-at+$e+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*D.scale),Be=this.lineWidth,this.lineWidth=Be*D.scale);var bt=this.autoPaging!=="text";if(bt||st.y+st.h<=Ze){if(bt||st.y>=$e&&st.x<=pt){var We=bt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||pt-st.x)[0],pn=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-at+$e+this.ctx.prevPageLastElemOffset)[0],xt=bt&&(Fe>Je||Fe<De)&&T.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,ut,null).clip().discardPath()),this.pdf.text(We,pn.x,pn.y,{angle:D.angle,align:$,renderingMode:D.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else st.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-st.y);D.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Be)}else D.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*D.scale),Be=this.lineWidth,this.lineWidth=Be*D.scale),this.pdf.text(D.text,ce.x+this.posX,ce.y+this.posY,{angle:D.angle,align:$,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Be)},P=function(D,$,Y,Z){Y=Y||0,Z=Z||0,this.pdf.internal.out(n(D+Y)+" "+r($+Z)+" l")},K=function(D,$,Y){return this.pdf.lines(D,$,Y,null,null)},me=function(D,$,Y,Z,ie,ce,ge,ye){this.pdf.internal.out([e(i(Y+D)),e(s(Z+$)),e(i(ie+D)),e(s(ce+$)),e(i(ge+D)),e(s(ye+$)),"c"].join(" "))},ve=function(D,$,Y,Z){for(var ie=2*Math.PI,ce=Math.PI/2;$>Y;)$-=ie;var ge=Math.abs(Y-$);ge<ie&&Z&&(ge=ie-ge);for(var ye=[],je=Z?-1:1,Le=$;ge>1e-5;){var Be=Le+je*Math.min(ge,ce);ye.push(_e.call(this,D,Le,Be)),ge-=Math.abs(Be-Le),Le=Be}return ye},_e=function(D,$,Y){var Z=(Y-$)/2,ie=D*Math.cos(Z),ce=D*Math.sin(Z),ge=ie,ye=-ce,je=ge*ge+ye*ye,Le=je+ge*ie+ye*ce,Be=4/3*(Math.sqrt(2*je*Le)-Le)/(ge*ce-ye*ie),Me=ge-Be*ye,nt=ye+Be*ge,Ee=Me,J=-nt,dt=Z+$,Je=Math.cos(dt),De=Math.sin(dt);return{x1:D*Math.cos($),y1:D*Math.sin($),x2:Me*Je-nt*De,y2:Me*De+nt*Je,x3:Ee*Je-J*De,y3:Ee*De+J*Je,x4:D*Math.cos(Y),y4:D*Math.sin(Y)}},X=function(D){return 180*D/Math.PI},ue=function(D,$,Y,Z,ie,ce){var ge=D+.5*(Y-D),ye=$+.5*(Z-$),je=ie+.5*(Y-ie),Le=ce+.5*(Z-ce),Be=Math.min(D,ie,ge,je),Me=Math.max(D,ie,ge,je),nt=Math.min($,ce,ye,Le),Ee=Math.max($,ce,ye,Le);return new a(Be,nt,Me-Be,Ee-nt)},he=function(D,$,Y,Z,ie,ce,ge,ye){var je,Le,Be,Me,nt,Ee,J,dt,Je,De,Fe,$e,qe,Ze,ut=Y-D,pt=Z-$,et=ie-Y,at=ce-Z,kt=ge-ie,st=ye-ce;for(Le=0;Le<41;Le++)Je=(J=(Be=D+(je=Le/40)*ut)+je*((nt=Y+je*et)-Be))+je*(nt+je*(ie+je*kt-nt)-J),De=(dt=(Me=$+je*pt)+je*((Ee=Z+je*at)-Me))+je*(Ee+je*(ce+je*st-Ee)-dt),Le==0?(Fe=Je,$e=De,qe=Je,Ze=De):(Fe=Math.min(Fe,Je),$e=Math.min($e,De),qe=Math.max(qe,Je),Ze=Math.max(Ze,De));return new a(Math.round(Fe),Math.round($e),Math.round(qe-Fe),Math.round(Ze-$e))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,$,Y=(D=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:$}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ot.API),function(t){var e=function(s){var o,a,l,h,d,p,y,g,N,T;for(a=[],l=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(d=((d=((d=((d=(d-(T=d%85))/85)-(N=d%85))/85)-(g=d%85))/85)-(y=d%85))/85)%85,a.push(p+33,y+33,g+33,N+33,T+33)):a.push(122);return function(R,w){for(var b=w;b>0;b--)R.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,h,d,p=String,y="length",g=255,N="charCodeAt",T="slice",R="replace";for(s[T](-2),s=s[T](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),l=[],h=0,d=(s+=o="uuuuu"[T](s[y]%5||5))[y];d>h;h+=5)a=52200625*(s[N](h)-33)+614125*(s[N](h+1)-33)+7225*(s[N](h+2)-33)+85*(s[N](h+3)-33)+(s[N](h+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(w,b){for(var k=b;k>0;k--)w.pop()}(l,o[y]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=a0(o)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,h,d){var p=new XMLHttpRequest,y=0,g=function(N){var T=N.length,R=[],w=String.fromCharCode;for(y=0;y<T;y+=1)R.push(w(255&N.charCodeAt(y)));return R.join("")};if(p.open("GET",l,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?d(g(this.responseText)):d(void 0)}),p.send(null),h&&p.status===200)return g(p.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):n0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):n0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=qt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,d){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(l(y,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var g=h[y],N=g.src.find(function(T){return T.format==="truetype"});N&&l.addFont(N.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(o=o||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,h){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(h,d){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,h),p}).then(h,d).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(h,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(o,a,l){if(qt(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,N=0,T=0;if(y.hasOwnProperty(p))N=y[p][1]/d,T=y[p][0]/d;else try{N=l[1],T=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",T>N&&(g=T,T=N,N=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>T&&(g=T,T=N,N=g)}return{width:T,height:N,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(d0):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ot.API),ot.API.addJS=function(t){return N_=t,this.internal.events.subscribe("postPutResources",function(){ld=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ld+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ld!==void 0&&T_!==void 0&&this.internal.out("/Names <</JavaScript "+ld+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var p=n.internal.newObject();d.push(p);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var y,g=256*p.charCodeAt(4)+p.charCodeAt(5),N=p.length,T={width:0,height:0,numcomponents:1},R=4;R<N;R+=2){if(R+=g,e.indexOf(p.charCodeAt(R+1))!==-1){y=256*p.charCodeAt(R+5)+p.charCodeAt(R+6),T={width:256*p.charCodeAt(R+7)+p.charCodeAt(R+8),height:y,numcomponents:p.charCodeAt(R+9)};break}g=256*p.charCodeAt(R+2)+p.charCodeAt(R+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(ot.API);var lu,ud,P_,k_,C_,JR=function(){var t,e,n;function r(s){var o,a,l,h,d,p,y,g,N,T,R,w,b,k;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),N=(function(){var H,Q;for(Q=[],H=0;H<4;++H)Q.push(String.fromCharCode(this.data[this.pos++]));return Q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*d/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((T=l-this.transparency.indexed.length)>0)for(b=0;0<=T?b<T:b>T;0<=T?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(R=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,R.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,R.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(p,y,g,N){var T,R,w,b,k,H,Q,re,O,I,j,B,x,S,P,K,me,ve,_e,X,ue,he=Math.ceil((h.width-p)/g),Re=Math.ceil((h.height-y)/N),D=h.width==he&&h.height==Re;for(S=o*he,B=D?a:new Uint8Array(S*Re),H=s.length,x=0,R=0;x<Re&&l<H;){switch(s[l++]){case 0:for(b=me=0;me<S;b=me+=1)B[R++]=s[l++];break;case 1:for(b=ve=0;ve<S;b=ve+=1)T=s[l++],k=b<o?0:B[R-o],B[R++]=(T+k)%256;break;case 2:for(b=_e=0;_e<S;b=_e+=1)T=s[l++],w=(b-b%o)/o,P=x&&B[(x-1)*S+w*o+b%o],B[R++]=(P+T)%256;break;case 3:for(b=X=0;X<S;b=X+=1)T=s[l++],w=(b-b%o)/o,k=b<o?0:B[R-o],P=x&&B[(x-1)*S+w*o+b%o],B[R++]=(T+Math.floor((k+P)/2))%256;break;case 4:for(b=ue=0;ue<S;b=ue+=1)T=s[l++],w=(b-b%o)/o,k=b<o?0:B[R-o],x===0?P=K=0:(P=B[(x-1)*S+w*o+b%o],K=w&&B[(x-1)*S+(w-1)*o+b%o]),Q=k+P-K,re=Math.abs(Q-k),I=Math.abs(Q-P),j=Math.abs(Q-K),O=re<=I&&re<=j?k:I<=j?P:K,B[R++]=(T+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!D){var $=((y+x*N)*h.width+p)*o,Y=x*S;for(b=0;b<he;b+=1){for(var Z=0;Z<o;Z+=1)a[$++]=B[Y++];$+=(g-1)*o}}x++}}return s=PR(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,h,d,p,y,g;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=p=0,y=a.length;p<y;o=p+=3)h[l++]=a[o],h[l++]=a[o+1],h[l++]=a[o+2],h[l++]=(g=d[s++])!=null?g:255;return h},r.prototype.copyToImageData=function(s,o){var a,l,h,d,p,y,g,N,T,R,w;if(l=this.colors,T=null,a=this.hasAlphaChannel,this.palette.length&&(T=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),N=(h=s.data||s).length,p=T||o,d=y=0,l===1)for(;d<N;)g=T?4*o[d/4]:y,R=p[g++],h[d++]=R,h[d++]=R,h[d++]=R,h[d++]=a?p[g++]:255,y=g;else for(;d<N;)g=T?4*o[d/4]:y,h[d++]=p[g++],h[d++]=p[g++],h[d++]=p[g++],h[d++]=a?p[g++]:255,y=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,h,d,p,y,g;if(this.animation){for(g=[],a=d=0,p=(y=this.animation.frames).length;d<p;a=++d)o=y[a],l=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,h),o.imageData=l,g.push(o.image=t(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,h;return a=(l=this.animation.frames)[o],h=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,h,d,p,y=this;return a=0,p=this.animation,h=p.numFrames,l=p.frames,d=p.numPlays,(o=function(){var g,N;if(g=a++%h,N=l[g],y.renderFrame(s,g),h>1&&a/h<d)return y.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function XR(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var h=!0,d=[],p=0,y=null,g=0,N=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=t[e++];p=t[e++]|t[e++]<<8,y=t[e++],!(1&T)&&(y=null),g=T>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,H=t[e++],Q=H>>6&1,re=1<<(7&H)+1,O=a,I=l,j=!1;H>>7&&(j=!0,O=e,I=re,e+=3*re);var B=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}d.push({x:R,y:w,width:b,height:k,has_local_palette:j,palette_offset:O,palette_size:I,data_offset:B,data_length:e-B,transparent_index:y,interlaced:!!Q,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return N},this.frameInfo=function(S){if(S<0||S>=d.length)throw new Error("Frame index out of range.");return d[S]},this.decodeAndBlitFrameBGRA=function(S,P){var K=this.frameInfo(S),me=K.width*K.height,ve=new Uint8Array(me);L_(t,K.data_offset,ve,me);var _e=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var ue=K.width,he=n-ue,Re=ue,D=4*(K.y*n+K.x),$=4*((K.y+K.height)*n+K.x),Y=D,Z=4*he;K.interlaced===!0&&(Z+=4*n*7);for(var ie=8,ce=0,ge=ve.length;ce<ge;++ce){var ye=ve[ce];if(Re===0&&(Re=ue,(Y+=Z)>=$&&(Z=4*he+4*n*(ie-1),Y=D+(ue+he)*(ie<<1),ie>>=1)),ye===X)Y+=4;else{var je=t[_e+3*ye],Le=t[_e+3*ye+1],Be=t[_e+3*ye+2];P[Y++]=Be,P[Y++]=Le,P[Y++]=je,P[Y++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(S,P){var K=this.frameInfo(S),me=K.width*K.height,ve=new Uint8Array(me);L_(t,K.data_offset,ve,me);var _e=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var ue=K.width,he=n-ue,Re=ue,D=4*(K.y*n+K.x),$=4*((K.y+K.height)*n+K.x),Y=D,Z=4*he;K.interlaced===!0&&(Z+=4*n*7);for(var ie=8,ce=0,ge=ve.length;ce<ge;++ce){var ye=ve[ce];if(Re===0&&(Re=ue,(Y+=Z)>=$&&(Z=4*he+4*n*(ie-1),Y=D+(ue+he)*(ie<<1),ie>>=1)),ye===X)Y+=4;else{var je=t[_e+3*ye],Le=t[_e+3*ye+1],Be=t[_e+3*ye+2];P[Y++]=je,P[Y++]=Le,P[Y++]=Be,P[Y++]=255}--Re}}}function L_(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,h=(1<<l)-1,d=0,p=0,y=0,g=t[e++],N=new Int32Array(4096),T=null;;){for(;d<16&&g!==0;)p|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<l)break;var R=p&h;if(p>>=l,d-=l,R!==s){if(R===o)break;for(var w=R<a?R:T,b=0,k=w;k>s;)k=N[k]>>8,++b;var H=k;if(y+b+(w!==R?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[y++]=H;var Q=y+=b;for(w!==R&&(n[y++]=H),k=w;b--;)k=N[k],n[--Q]=255&k,k>>=8;T!==null&&a<4096&&(N[a++]=T<<8|H,a>=h+1&&l<12&&(++l,h=h<<1|1)),T=R}else a=o+1,h=(1<<(l=i+1))-1,T=null}return y!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cg(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),d=new Array(64),p=new Array(65535),y=new Array(65535),g=new Array(64),N=new Array(64),T=[],R=0,w=7,b=new Array(64),k=new Array(64),H=new Array(64),Q=new Array(256),re=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(D,$){for(var Y=0,Z=0,ie=new Array,ce=1;ce<=16;ce++){for(var ge=1;ge<=D[ce];ge++)ie[$[Z]]=[],ie[$[Z]][0]=Y,ie[$[Z]][1]=ce,Z++,Y++;Y*=2}return ie}function _e(D){for(var $=D[0],Y=D[1]-1;Y>=0;)$&1<<Y&&(R|=1<<w),Y--,--w<0&&(R==255?(X(255),X(0)):X(R),w=7,R=0)}function X(D){T.push(D)}function ue(D){X(D>>8&255),X(255&D)}function he(D,$,Y,Z,ie){for(var ce,ge=ie[0],ye=ie[240],je=function(De,Fe){var $e,qe,Ze,ut,pt,et,at,kt,st,bt,We=0;for(st=0;st<8;++st){$e=De[We],qe=De[We+1],Ze=De[We+2],ut=De[We+3],pt=De[We+4],et=De[We+5],at=De[We+6];var pn=$e+(kt=De[We+7]),xt=$e-kt,jr=qe+at,Ot=qe-at,Qt=Ze+et,mi=Ze-et,Nt=ut+pt,is=ut-pt,en=pn+Nt,Yn=pn-Nt,Jr=jr+Qt,Yt=jr-Qt;De[We]=en+Jr,De[We+4]=en-Jr;var rt=.707106781*(Yt+Yn);De[We+2]=Yn+rt,De[We+6]=Yn-rt;var Ct=.382683433*((en=is+mi)-(Yt=Ot+xt)),gi=.5411961*en+Ct,Pn=1.306562965*Yt+Ct,lr=.707106781*(Jr=mi+Ot),Xr=xt+lr,Ge=xt-lr;De[We+5]=Ge+gi,De[We+3]=Ge-gi,De[We+1]=Xr+Pn,De[We+7]=Xr-Pn,We+=8}for(We=0,st=0;st<8;++st){$e=De[We],qe=De[We+8],Ze=De[We+16],ut=De[We+24],pt=De[We+32],et=De[We+40],at=De[We+48];var Fr=$e+(kt=De[We+56]),ur=$e-kt,kn=qe+at,wn=qe-at,mn=Ze+et,Cn=Ze-et,bo=ut+pt,Li=ut-pt,cr=Fr+bo,Mr=Fr-bo,Ir=kn+mn,xr=kn-mn;De[We]=cr+Ir,De[We+32]=cr-Ir;var bn=.707106781*(xr+Mr);De[We+16]=Mr+bn,De[We+48]=Mr-bn;var Zr=.382683433*((cr=Li+Cn)-(xr=wn+ur)),ss=.5411961*cr+Zr,os=1.306562965*xr+Zr,as=.707106781*(Ir=Cn+wn),Rs=ur+as,Ds=ur-as;De[We+40]=Ds+ss,De[We+24]=Ds-ss,De[We+8]=Rs+os,De[We+56]=Rs-os,We++}for(st=0;st<64;++st)bt=De[st]*Fe[st],g[st]=bt>0?bt+.5|0:bt-.5|0;return g}(D,$),Le=0;Le<64;++Le)N[O[Le]]=je[Le];var Be=N[0]-Y;Y=N[0],Be==0?_e(Z[0]):(_e(Z[y[ce=32767+Be]]),_e(p[ce]));for(var Me=63;Me>0&&N[Me]==0;)Me--;if(Me==0)return _e(ge),Y;for(var nt,Ee=1;Ee<=Me;){for(var J=Ee;N[Ee]==0&&Ee<=Me;)++Ee;var dt=Ee-J;if(dt>=16){nt=dt>>4;for(var Je=1;Je<=nt;++Je)_e(ye);dt&=15}ce=32767+N[Ee],_e(ie[(dt<<4)+y[ce]]),_e(p[ce]),Ee++}return Me!=63&&_e(ge),Y}function Re(D){D=Math.min(Math.max(D,1),100),s!=D&&(function($){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ie=o((Y[Z]*$+50)/100);ie=Math.min(Math.max(ie,1),255),a[O[Z]]=ie}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ye=o((ce[ge]*$+50)/100);ye=Math.min(Math.max(ye,1),255),l[O[ge]]=ye}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Be=0;Be<8;Be++)for(var Me=0;Me<8;Me++)h[Le]=1/(a[O[Le]]*je[Be]*je[Me]*8),d[Le]=1/(l[O[Le]]*je[Be]*je[Me]*8),Le++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,$){$&&Re($),T=new Array,R=0,w=7,ue(65496),ue(65504),ue(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ue(1),ue(1),X(0),X(0),function(){ue(65499),ue(132),X(0);for(var qe=0;qe<64;qe++)X(a[qe]);X(1);for(var Ze=0;Ze<64;Ze++)X(l[Ze])}(),function(qe,Ze){ue(65472),ue(17),X(8),ue(Ze),ue(qe),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(D.width,D.height),function(){ue(65476),ue(418),X(0);for(var qe=0;qe<16;qe++)X(I[qe+1]);for(var Ze=0;Ze<=11;Ze++)X(j[Ze]);X(16);for(var ut=0;ut<16;ut++)X(B[ut+1]);for(var pt=0;pt<=161;pt++)X(x[pt]);X(1);for(var et=0;et<16;et++)X(S[et+1]);for(var at=0;at<=11;at++)X(P[at]);X(17);for(var kt=0;kt<16;kt++)X(K[kt+1]);for(var st=0;st<=161;st++)X(me[st])}(),ue(65498),ue(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Y=0,Z=0,ie=0;R=0,w=7,this.encode.displayName="_encode_";for(var ce,ge,ye,je,Le,Be,Me,nt,Ee,J=D.data,dt=D.width,Je=D.height,De=4*dt,Fe=0;Fe<Je;){for(ce=0;ce<De;){for(Le=De*Fe+ce,Me=-1,nt=0,Ee=0;Ee<64;Ee++)Be=Le+(nt=Ee>>3)*De+(Me=4*(7&Ee)),Fe+nt>=Je&&(Be-=De*(Fe+1+nt-Je)),ce+Me>=De&&(Be-=ce+Me-De+4),ge=J[Be++],ye=J[Be++],je=J[Be++],b[Ee]=(re[ge]+re[ye+256>>0]+re[je+512>>0]>>16)-128,k[Ee]=(re[ge+768>>0]+re[ye+1024>>0]+re[je+1280>>0]>>16)-128,H[Ee]=(re[ge+1280>>0]+re[ye+1536>>0]+re[je+1792>>0]>>16)-128;Y=he(b,h,Y,e,r),Z=he(k,d,Z,n,i),ie=he(H,d,ie,n,i),ce+=32}Fe+=8}if(w>=0){var $e=[];$e[1]=w+1,$e[0]=(1<<w+1)-1,_e($e)}return ue(65497),new Uint8Array(T)},t=t||50,function(){for(var D=String.fromCharCode,$=0;$<256;$++)Q[$]=D($)}(),e=ve(I,j),n=ve(S,P),r=ve(B,x),i=ve(K,me),function(){for(var D=1,$=2,Y=1;Y<=15;Y++){for(var Z=D;Z<$;Z++)y[32767+Z]=Y,p[32767+Z]=[],p[32767+Z][1]=Y,p[32767+Z][0]=Z;for(var ie=-($-1);ie<=-D;ie++)y[32767+ie]=Y,p[32767+ie]=[],p[32767+ie][1]=Y,p[32767+ie][0]=$-1+ie;D<<=1,$<<=1}}(),function(){for(var D=0;D<256;D++)re[D]=19595*D,re[D+256>>0]=38470*D,re[D+512>>0]=7471*D+32768,re[D+768>>0]=-11059*D,re[D+1024>>0]=-21709*D,re[D+1280>>0]=32768*D+8421375,re[D+1536>>0]=-27439*D,re[D+1792>>0]=-5329*D}(),Re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function R_(t){function e(I){if(!I)throw Error("assert :P")}function n(I,j,B){for(var x=0;4>x;x++)if(I[j+x]!=B.charCodeAt(x))return!0;return!1}function r(I,j,B,x,S){for(var P=0;P<S;P++)I[j+P]=B[x+P]}function i(I,j,B,x){for(var S=0;S<x;S++)I[j+S]=B}function s(I){return new Int32Array(I)}function o(I,j){for(var B=[],x=0;x<I;x++)B.push(new j);return B}function a(I,j){var B=[];return function x(S,P,K){for(var me=K[P],ve=0;ve<me&&(S.push(K.length>P+1?[]:new j),!(K.length<P+1));ve++)x(S[ve],P+1,K)}(B,0,I),B}var l=function(){var I=this;function j(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function B(u,f,v,E,L){e(!(E%v));do u[f+(E-=v)]=L;while(0<E)}function x(u,f,v,E,L){if(e(2328>=L),512>=L)var F=s(512);else if((F=s(L))==null)return 0;return function(M,U,z,W,te,fe){var de,le,xe=U,we=1<<z,ne=s(16),se=s(16);for(e(te!=0),e(W!=null),e(M!=null),e(0<z),le=0;le<te;++le){if(15<W[le])return 0;++ne[W[le]]}if(ne[0]==te)return 0;for(se[1]=0,de=1;15>de;++de){if(ne[de]>1<<de)return 0;se[de+1]=se[de]+ne[de]}for(le=0;le<te;++le)de=W[le],0<W[le]&&(fe[se[de]++]=le);if(se[15]==1)return(W=new S).g=0,W.value=fe[0],B(M,xe,1,we,W),we;var Ae,Ne=-1,Ie=we-1,He=0,Ve=1,it=1,ze=1<<z;for(le=0,de=1,te=2;de<=z;++de,te<<=1){if(Ve+=it<<=1,0>(it-=ne[de]))return 0;for(;0<ne[de];--ne[de])(W=new S).g=de,W.value=fe[le++],B(M,xe+He,te,ze,W),He=j(He,de)}for(de=z+1,te=2;15>=de;++de,te<<=1){if(Ve+=it<<=1,0>(it-=ne[de]))return 0;for(;0<ne[de];--ne[de]){if(W=new S,(He&Ie)!=Ne){for(xe+=ze,Ae=1<<(Ne=de)-z;15>Ne&&!(0>=(Ae-=ne[Ne]));)++Ne,Ae<<=1;we+=ze=1<<(Ae=Ne-z),M[U+(Ne=He&Ie)].g=Ae+z,M[U+Ne].value=xe-U-Ne}W.g=de-z,W.value=fe[le++],B(M,xe+(He>>z),te,ze,W),He=j(He,de)}}return Ve!=2*se[15]-1?0:we}(u,f,v,E,L,F)}function S(){this.value=this.g=0}function P(){this.value=this.g=0}function K(){this.G=o(5,S),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Zn,P)}function me(u,f,v,E){e(u!=null),e(f!=null),e(2147483648>E),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+E,u.Zc=4<=E?v+E-4+1:v,ce(u)}function ve(u,f){for(var v=0;0<f--;)v|=ye(u,128)<<f;return v}function _e(u,f){var v=ve(u,f);return ge(u)?-v:v}function X(u,f,v,E){var L,F=0;for(e(u!=null),e(f!=null),e(4294967288>E),u.Sb=E,u.Ra=0,u.u=0,u.h=0,4<E&&(E=4),L=0;L<E;++L)F+=f[v+L]<<8*L;u.Ra=F,u.bb=E,u.oa=f,u.pa=v}function ue(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Yl-8>>>0,++u.bb,u.u-=8;Y(u)&&(u.h=1,u.u=0)}function he(u,f){if(e(0<=f),!u.h&&f<=Ql){var v=$(u)&Kl[f];return u.u+=f,ue(u),v}return u.h=1,u.u=0}function Re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&Yl-1)>>>0}function Y(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Yl}function Z(u,f){u.u=f,u.h=Y(u)}function ie(u){u.u>=xc&&(e(u.u>=xc),ue(u))}function ce(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return ve(u,1)}function ye(u,f){var v=u.Ca;0>u.b&&ce(u);var E=u.b,L=v*f>>>8,F=(u.I>>>E>L)+0;for(F?(v-=L,u.I-=L+1<<E>>>0):v=L+1,E=v,L=0;256<=E;)L+=8,E>>=8;return E=7^L+Br[E],u.b-=E,u.Ca=(v<<E)-1,F}function je(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=v>>0&255}function Le(u,f){return u[f+0]<<0|u[f+1]<<8}function Be(u,f){return Le(u,f)|u[f+2]<<16}function Me(u,f){return Le(u,f)|Le(u,f+2)<<16}function nt(u,f){var v=1<<f;return e(u!=null),e(0<f),u.X=s(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ee(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function dt(u,f,v,E){e(v!=null),e(E!=null);var L=v[0],F=E[0];return L==0&&(L=(u*F+f/2)/f),F==0&&(F=(f*L+u/2)/u),0>=L||0>=F?0:(v[0]=L,E[0]=F,1)}function Je(u,f){return u+(1<<f)-1>>>f}function De(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Fe(u,f){I[f]=function(v,E,L,F,M,U,z){var W;for(W=0;W<M;++W){var te=I[u](U[z+W-1],L,F+W);U[z+W]=De(v[E+W],te)}}}function $e(){this.ud=this.hd=this.jd=0}function qe(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Ze(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ut(u,f){return Ze(u+(u-f+.5>>1))}function pt(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function et(u,f,v,E,L,F,M){for(E=F[M-1],v=0;v<L;++v)F[M+v]=E=De(u[f+v],E)}function at(u,f,v,E,L){var F;for(F=0;F<v;++F){var M=u[f+F],U=M>>8&255,z=16711935&(z=(z=16711935&M)+((U<<16)+U));E[L+F]=(4278255360&M)+z>>>0}}function kt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function st(u,f,v,E,L,F){var M;for(M=0;M<E;++M){var U=f[v+M],z=U>>>8,W=U,te=255&(te=(te=U>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));W=255&(W=(W=W+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),L[F+M]=(4278255360&U)+(te<<16)+W}}function bt(u,f,v,E,L){I[f]=function(F,M,U,z,W,te,fe,de,le){for(z=fe;z<de;++z)for(fe=0;fe<le;++fe)W[te++]=L(U[E(F[M++])])},I[u]=function(F,M,U,z,W,te,fe){var de=8>>F.b,le=F.Ea,xe=F.K[0],we=F.w;if(8>de)for(F=(1<<F.b)-1,we=(1<<de)-1;M<U;++M){var ne,se=0;for(ne=0;ne<le;++ne)ne&F||(se=E(z[W++])),te[fe++]=L(xe[se&we]),se>>=de}else I["VP8LMapColor"+v](z,W,xe,we,te,fe,M,U,le)}}function We(u,f,v,E,L){for(v=f+v;f<v;){var F=u[f++];E[L++]=F>>16&255,E[L++]=F>>8&255,E[L++]=F>>0&255}}function pn(u,f,v,E,L){for(v=f+v;f<v;){var F=u[f++];E[L++]=F>>16&255,E[L++]=F>>8&255,E[L++]=F>>0&255,E[L++]=F>>24&255}}function xt(u,f,v,E,L){for(v=f+v;f<v;){var F=(M=u[f++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;E[L++]=F,E[L++]=M}}function jr(u,f,v,E,L){for(v=f+v;f<v;){var F=(M=u[f++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;E[L++]=F,E[L++]=M}}function Ot(u,f,v,E,L){for(v=f+v;f<v;){var F=u[f++];E[L++]=F>>0&255,E[L++]=F>>8&255,E[L++]=F>>16&255}}function Qt(u,f,v,E,L,F){if(F==0)for(v=f+v;f<v;)je(E,((F=u[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),L+=32;else r(E,L,u,f,v)}function mi(u,f){I[f][0]=I[u+"0"],I[f][1]=I[u+"1"],I[f][2]=I[u+"2"],I[f][3]=I[u+"3"],I[f][4]=I[u+"4"],I[f][5]=I[u+"5"],I[f][6]=I[u+"6"],I[f][7]=I[u+"7"],I[f][8]=I[u+"8"],I[f][9]=I[u+"9"],I[f][10]=I[u+"10"],I[f][11]=I[u+"11"],I[f][12]=I[u+"12"],I[f][13]=I[u+"13"],I[f][14]=I[u+"0"],I[f][15]=I[u+"0"]}function Nt(u){return u==Sm||u==Am||u==Af||u==Im}function is(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new is,this.f.kb=new en,this.sd=null}function Jr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ct(u,f){var v=u.T,E=f.ba.f.RGBA,L=E.eb,F=E.fb+u.ka*E.A,M=Si[f.ba.S],U=u.y,z=u.O,W=u.f,te=u.N,fe=u.ea,de=u.W,le=f.cc,xe=f.dc,we=f.Mc,ne=f.Nc,se=u.ka,Ae=u.ka+u.T,Ne=u.U,Ie=Ne+1>>1;for(se==0?M(U,z,null,null,W,te,fe,de,W,te,fe,de,L,F,null,null,Ne):(M(f.ec,f.fc,U,z,le,xe,we,ne,W,te,fe,de,L,F-E.A,L,F,Ne),++v);se+2<Ae;se+=2)le=W,xe=te,we=fe,ne=de,te+=u.Rc,de+=u.Rc,F+=2*E.A,M(U,(z+=2*u.fa)-u.fa,U,z,le,xe,we,ne,W,te,fe,de,L,F-E.A,L,F,Ne);return z+=u.fa,u.j+Ae<u.o?(r(f.ec,f.fc,U,z,Ne),r(f.cc,f.dc,W,te,Ie),r(f.Mc,f.Nc,fe,de,Ie),v--):1&Ae||M(U,z,null,null,W,te,fe,de,W,te,fe,de,L,F+E.A,null,null,Ne),v}function gi(u,f,v){var E=u.F,L=[u.J];if(E!=null){var F=u.U,M=f.ba.S,U=M==Sf||M==Af;f=f.ba.f.RGBA;var z=[0],W=u.ka;z[0]=u.T,u.Kb&&(W==0?--z[0]:(--W,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-W));var te=f.eb;W=f.fb+W*f.A,u=Xt(E,L[0],u.width,F,z,te,W+(U?0:3),f.A),e(v==z),u&&Nt(M)&&bi(te,W,U,F,z,f.A)}return 0}function Pn(u){var f=u.ma,v=f.ba.S,E=11>v,L=v==bf||v==Ef||v==Sf||v==Em||v==12||Nt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ac(f.Oa,u,L?11:12))return 0;if(L&&Nt(v)&&Pe(),u.da)alert("todo:use_scaling");else{if(E){if(f.Ib=rt,u.Kb){if(v=u.U+1>>1,f.memory=s(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=Ct,Pe()}}else alert("todo:EmitYUV");L&&(f.Jb=gi,E&&ae())}if(E&&!yv){for(u=0;256>u;++u)fS[u]=89858*(u-128)+xf>>If,mS[u]=-22014*(u-128)+xf,pS[u]=-45773*(u-128),dS[u]=113618*(u-128)+xf>>If;for(u=Rc;u<Nm;++u)f=76283*(u-16)+xf>>If,gS[u-Rc]=Mt(f,255),vS[u-Rc]=Mt(f+8>>4,15);yv=1}return 1}function lr(u){var f=u.ma,v=u.U,E=u.T;return e(!(1&u.ka)),0>=v||0>=E?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function Xr(u){u.ma.memory=null}function Ge(u,f,v,E){return he(u,8)!=47?0:(f[0]=he(u,14)+1,v[0]=he(u,14)+1,E[0]=he(u,1),he(u,3)!=0?0:!u.h)}function Fr(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+he(f,v)+1}function ur(u,f){return 120<f?f-120:1<=(v=((v=XE[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function kn(u,f,v){var E=$(v),L=u[f+=255&E].g-8;return 0<L&&(Z(v,v.u+8),E=$(v),f+=u[f].value,f+=E&(1<<L)-1),Z(v,v.u+u[f].g),u[f].value}function wn(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,e(8>=v.g),u.g}function mn(u,f,v){var E=u.xc;return e((f=E==0?0:u.vc[u.md*(v>>E)+(f>>E)])<u.Wb),u.Ya[f]}function Cn(u,f,v,E){var L=u.ab,F=u.c*f,M=u.C;f=M+f;var U=v,z=E;for(E=u.Ta,v=u.Ua;0<L--;){var W=u.gc[L],te=M,fe=f,de=U,le=z,xe=(z=E,U=v,W.Ea);switch(e(te<fe),e(fe<=W.nc),W.hc){case 2:pf(de,le,(fe-te)*xe,z,U);break;case 0:var we=te,ne=fe,se=z,Ae=U,Ne=(ze=W).Ea;we==0&&(wm(de,le,null,null,1,se,Ae),et(de,le+1,0,0,Ne-1,se,Ae+1),le+=Ne,Ae+=Ne,++we);for(var Ie=1<<ze.b,He=Ie-1,Ve=Je(Ne,ze.b),it=ze.K,ze=ze.w+(we>>ze.b)*Ve;we<ne;){var jt=it,Bt=ze,Lt=1;for(Tc(de,le,se,Ae-Ne,1,se,Ae);Lt<Ne;){var At=(Lt&~He)+Ie;At>Ne&&(At=Ne),(0,Vo[jt[Bt++]>>8&15])(de,le+ +Lt,se,Ae+Lt-Ne,At-Lt,se,Ae+Lt),Lt=At}le+=Ne,Ae+=Ne,++we&He||(ze+=Ve)}fe!=W.nc&&r(z,U-xe,z,U+(fe-te-1)*xe,xe);break;case 1:for(xe=de,ne=le,Ne=(de=W.Ea)-(Ae=de&~(se=(le=1<<W.b)-1)),we=Je(de,W.b),Ie=W.K,W=W.w+(te>>W.b)*we;te<fe;){for(He=Ie,Ve=W,it=new $e,ze=ne+Ae,jt=ne+de;ne<ze;)kt(He[Ve++],it),Za(it,xe,ne,le,z,U),ne+=le,U+=le;ne<jt&&(kt(He[Ve++],it),Za(it,xe,ne,Ne,z,U),ne+=Ne,U+=Ne),++te&se||(W+=we)}break;case 3:if(de==z&&le==U&&0<W.b){for(ne=z,de=xe=U+(fe-te)*xe-(Ae=(fe-te)*Je(W.Ea,W.b)),le=z,se=U,we=[],Ae=(Ne=Ae)-1;0<=Ae;--Ae)we[Ae]=le[se+Ae];for(Ae=Ne-1;0<=Ae;--Ae)ne[de+Ae]=we[Ae];yi(W,te,fe,z,xe,z,U)}else yi(W,te,fe,de,le,z,U)}U=E,z=v}z!=v&&r(E,v,U,z,F)}function bo(u,f){var v=u.V,E=u.Ba+u.c*u.C,L=f-u.C;if(e(f<=u.l.o),e(16>=L),0<L){var F=u.l,M=u.Ta,U=u.Ua,z=F.width;if(Cn(u,L,v,E),L=U=[U],e((v=u.C)<(E=f)),e(F.v<F.va),E>F.o&&(E=F.o),v<F.j){var W=F.j-v;v=F.j,L[0]+=W*z}if(v>=E?v=0:(L[0]+=4*F.v,F.ka=v-F.j,F.U=F.va-F.v,F.T=E-v,v=1),v){if(U=U[0],11>(v=u.ca).S){var te=v.f.RGBA,fe=(E=v.S,L=F.U,F=F.T,W=te.eb,te.A),de=F;for(te=te.fb+u.Ma*te.A;0<de--;){var le=M,xe=U,we=L,ne=W,se=te;switch(E){case wf:Ur(le,xe,we,ne,se);break;case bf:Nr(le,xe,we,ne,se);break;case Sm:Nr(le,xe,we,ne,se),bi(ne,se,0,we,1,0);break;case uv:Ws(le,xe,we,ne,se);break;case Ef:Qt(le,xe,we,ne,se,1);break;case Am:Qt(le,xe,we,ne,se,1),bi(ne,se,0,we,1,0);break;case Sf:Qt(le,xe,we,ne,se,0);break;case Af:Qt(le,xe,we,ne,se,0),bi(ne,se,1,we,1,0);break;case Em:Bo(le,xe,we,ne,se);break;case Im:Bo(le,xe,we,ne,se),Jt(ne,se,we,1,0);break;case cv:$s(le,xe,we,ne,se);break;default:e(0)}U+=z,te+=fe}u.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=f,e(u.C<=u.i)}function Li(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,E=u.Ya[f].H;if(0<v[1][E[1]+0].g||0<v[2][E[2]+0].g||0<v[3][E[3]+0].g)return 0}return 1}function cr(u,f,v,E,L,F){if(u.Z!=0){var M=u.qd,U=u.rd;for(e($o[u.Z]!=null);f<v;++f)$o[u.Z](M,U,E,L,E,L,F),M=E,U=L,L+=F;u.qd=M,u.rd=U}}function Mr(u,f){var v=u.l.ma,E=v.Z==0||v.Z==1?u.l.j:u.C;if(E=u.C<E?E:u.C,e(f<=u.l.o),f>E){var L=u.l.width,F=v.ca,M=v.tb+L*E,U=u.V,z=u.Ba+u.c*E,W=u.gc;e(u.ab==1),e(W[0].hc==3),mf(W[0],E,f,U,z,F,M),cr(v,E,f,F,M,L)}u.C=u.Ma=f}function Ir(u,f,v,E,L,F,M){var U=u.$/E,z=u.$%E,W=u.m,te=u.s,fe=v+u.$,de=fe;L=v+E*L;var le=v+E*F,xe=280+te.ua,we=u.Pb?U:16777216,ne=0<te.ua?te.Wa:null,se=te.wc,Ae=fe<le?mn(te,z,U):null;e(u.C<F),e(le<=L);var Ne=!1;e:for(;;){for(;Ne||fe<le;){var Ie=0;if(U>=we){var He=fe-v;e((we=u).Pb),we.wd=we.m,we.xd=He,0<we.s.ua&&Ee(we.s.Wa,we.s.vb),we=U+eS}if(z&se||(Ae=mn(te,z,U)),e(Ae!=null),Ae.Qb&&(f[fe]=Ae.qb,Ne=!0),!Ne)if(ie(W),Ae.jc){Ie=W,He=f;var Ve=fe,it=Ae.pd[$(Ie)&Zn-1];e(Ae.jc),256>it.g?(Z(Ie,Ie.u+it.g),He[Ve]=it.value,Ie=0):(Z(Ie,Ie.u+it.g-256),e(256<=it.value),Ie=it.value),Ie==0&&(Ne=!0)}else Ie=kn(Ae.G[0],Ae.H[0],W);if(W.h)break;if(Ne||256>Ie){if(!Ne)if(Ae.nd)f[fe]=(Ae.qb|Ie<<8)>>>0;else{if(ie(W),Ne=kn(Ae.G[1],Ae.H[1],W),ie(W),He=kn(Ae.G[2],Ae.H[2],W),Ve=kn(Ae.G[3],Ae.H[3],W),W.h)break;f[fe]=(Ve<<24|Ne<<16|Ie<<8|He)>>>0}if(Ne=!1,++fe,++z>=E&&(z=0,++U,M!=null&&U<=F&&!(U%16)&&M(u,U),ne!=null))for(;de<fe;)Ie=f[de++],ne.X[(506832829*Ie&4294967295)>>>ne.Mb]=Ie}else if(280>Ie){if(Ie=Fr(Ie-256,W),He=kn(Ae.G[4],Ae.H[4],W),ie(W),He=ur(E,He=Fr(He,W)),W.h)break;if(fe-v<He||L-fe<Ie)break e;for(Ve=0;Ve<Ie;++Ve)f[fe+Ve]=f[fe+Ve-He];for(fe+=Ie,z+=Ie;z>=E;)z-=E,++U,M!=null&&U<=F&&!(U%16)&&M(u,U);if(e(fe<=L),z&se&&(Ae=mn(te,z,U)),ne!=null)for(;de<fe;)Ie=f[de++],ne.X[(506832829*Ie&4294967295)>>>ne.Mb]=Ie}else{if(!(Ie<xe))break e;for(Ne=Ie-280,e(ne!=null);de<fe;)Ie=f[de++],ne.X[(506832829*Ie&4294967295)>>>ne.Mb]=Ie;Ie=fe,e(!(Ne>>>(He=ne).Xa)),f[Ie]=He.X[Ne],Ne=!0}Ne||e(W.h==Y(W))}if(u.Pb&&W.h&&fe<L)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ee(u.s.vb,u.s.Wa);else{if(W.h)break e;M!=null&&M(u,U>F?F:U),u.a=0,u.$=fe-v}return 1}return u.a=3,0}function xr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function bn(){var u=new Hl;return u==null?null:(u.a=0,u.xb=dv,mi("Predictor","VP8LPredictors"),mi("Predictor","VP8LPredictors_C"),mi("PredictorAdd","VP8LPredictorsAdd"),mi("PredictorAdd","VP8LPredictorsAdd_C"),pf=at,Za=st,Ur=We,Nr=pn,Bo=xt,$s=jr,Ws=Ot,I.VP8LMapColor32b=Jl,I.VP8LMapColor8b=gf,u)}function Zr(u,f,v,E,L){var F=1,M=[u],U=[f],z=E.m,W=E.s,te=null,fe=0;e:for(;;){if(v)for(;F&&he(z,1);){var de=M,le=U,xe=E,we=1,ne=xe.m,se=xe.gc[xe.ab],Ae=he(ne,2);if(xe.Oc&1<<Ae)F=0;else{switch(xe.Oc|=1<<Ae,se.hc=Ae,se.Ea=de[0],se.nc=le[0],se.K=[null],++xe.ab,e(4>=xe.ab),Ae){case 0:case 1:se.b=he(ne,3)+2,we=Zr(Je(se.Ea,se.b),Je(se.nc,se.b),0,xe,se.K),se.K=se.K[0];break;case 3:var Ne,Ie=he(ne,8)+1,He=16<Ie?0:4<Ie?1:2<Ie?2:3;if(de[0]=Je(se.Ea,He),se.b=He,Ne=we=Zr(Ie,1,0,xe,se.K)){var Ve,it=Ie,ze=se,jt=1<<(8>>ze.b),Bt=s(jt);if(Bt==null)Ne=0;else{var Lt=ze.K[0],At=ze.w;for(Bt[0]=ze.K[0][0],Ve=1;Ve<1*it;++Ve)Bt[Ve]=De(Lt[At+Ve],Bt[Ve-1]);for(;Ve<4*jt;++Ve)Bt[Ve]=0;ze.K[0]=null,ze.K[0]=Bt,Ne=1}}we=Ne;break;case 2:break;default:e(0)}F=we}}if(M=M[0],U=U[0],F&&he(z,1)&&!(F=1<=(fe=he(z,4))&&11>=fe)){E.a=3;break e}var Gt;if(Gt=F)t:{var Wt,wt,Ln,qr=E,Rn=M,zr=U,Ut=fe,ii=v,si=qr.m,zn=qr.s,er=[null],kr=1,Ai=0,vs=ZE[Ut];n:for(;;){if(ii&&he(si,1)){var $n=he(si,3)+2,Qs=Je(Rn,$n),il=Je(zr,$n),nu=Qs*il;if(!Zr(Qs,il,0,qr,er))break n;for(er=er[0],zn.xc=$n,Wt=0;Wt<nu;++Wt){var Wo=er[Wt]>>8&65535;er[Wt]=Wo,Wo>=kr&&(kr=Wo+1)}}if(si.h)break n;for(wt=0;5>wt;++wt){var vn=hv[wt];!wt&&0<Ut&&(vn+=1<<Ut),Ai<vn&&(Ai=vn)}var Pm=o(kr*vs,S),bv=kr,Ev=o(bv,K);if(Ev==null)var Nf=null;else e(65536>=bv),Nf=Ev;var Dc=s(Ai);if(Nf==null||Dc==null||Pm==null){qr.a=1;break n}var Pf=Pm;for(Wt=Ln=0;Wt<kr;++Wt){var qi=Nf[Wt],ru=qi.G,iu=qi.H,Sv=0,kf=1,Av=0;for(wt=0;5>wt;++wt){vn=hv[wt],ru[wt]=Pf,iu[wt]=Ln,!wt&&0<Ut&&(vn+=1<<Ut);i:{var Cf,km=vn,Lf=qr,Oc=Dc,wS=Pf,bS=Ln,Cm=0,Ho=Lf.m,ES=he(Ho,1);if(i(Oc,0,0,km),ES){var SS=he(Ho,1)+1,AS=he(Ho,1),Iv=he(Ho,AS==0?1:8);Oc[Iv]=1,SS==2&&(Oc[Iv=he(Ho,8)]=1);var Rf=1}else{var xv=s(19),Tv=he(Ho,4)+4;if(19<Tv){Lf.a=3;var Df=0;break i}for(Cf=0;Cf<Tv;++Cf)xv[JE[Cf]]=he(Ho,3);var Lm=void 0,jc=void 0,Nv=Lf,IS=xv,Of=km,Pv=Oc,Rm=0,Go=Nv.m,kv=8,Cv=o(128,S);r:for(;x(Cv,0,7,IS,19);){if(he(Go,1)){var xS=2+2*he(Go,3);if((Lm=2+he(Go,xS))>Of)break r}else Lm=Of;for(jc=0;jc<Of&&Lm--;){ie(Go);var Lv=Cv[0+(127&$(Go))];Z(Go,Go.u+Lv.g);var su=Lv.value;if(16>su)Pv[jc++]=su,su!=0&&(kv=su);else{var TS=su==16,Rv=su-16,NS=QE[Rv],Dv=he(Go,KE[Rv])+NS;if(jc+Dv>Of)break r;for(var PS=TS?kv:0;0<Dv--;)Pv[jc++]=PS}}Rm=1;break r}Rm||(Nv.a=3),Rf=Rm}(Rf=Rf&&!Ho.h)&&(Cm=x(wS,bS,8,Oc,km)),Rf&&Cm!=0?Df=Cm:(Lf.a=3,Df=0)}if(Df==0)break n;if(kf&&YE[wt]==1&&(kf=Pf[Ln].g==0),Sv+=Pf[Ln].g,Ln+=Df,3>=wt){var Fc,Dm=Dc[0];for(Fc=1;Fc<vn;++Fc)Dc[Fc]>Dm&&(Dm=Dc[Fc]);Av+=Dm}}if(qi.nd=kf,qi.Qb=0,kf&&(qi.qb=(ru[3][iu[3]+0].value<<24|ru[1][iu[1]+0].value<<16|ru[2][iu[2]+0].value)>>>0,Sv==0&&256>ru[0][iu[0]+0].value&&(qi.Qb=1,qi.qb+=ru[0][iu[0]+0].value<<8)),qi.jc=!qi.Qb&&6>Av,qi.jc){var jf,Ys=qi;for(jf=0;jf<Zn;++jf){var Ko=jf,Qo=Ys.pd[Ko],Ff=Ys.G[0][Ys.H[0]+Ko];256<=Ff.value?(Qo.g=Ff.g+256,Qo.value=Ff.value):(Qo.g=0,Qo.value=0,Ko>>=wn(Ff,8,Qo),Ko>>=wn(Ys.G[1][Ys.H[1]+Ko],16,Qo),Ko>>=wn(Ys.G[2][Ys.H[2]+Ko],0,Qo),wn(Ys.G[3][Ys.H[3]+Ko],24,Qo))}}}zn.vc=er,zn.Wb=kr,zn.Ya=Nf,zn.yc=Pm,Gt=1;break t}Gt=0}if(!(F=Gt)){E.a=3;break e}if(0<fe){if(W.ua=1<<fe,!nt(W.Wa,fe)){E.a=1,F=0;break e}}else W.ua=0;var Om=E,Ov=M,kS=U,jm=Om.s,Fm=jm.xc;if(Om.c=Ov,Om.i=kS,jm.md=Je(Ov,Fm),jm.wc=Fm==0?-1:(1<<Fm)-1,v){E.xb=aS;break e}if((te=s(M*U))==null){E.a=1,F=0;break e}F=(F=Ir(E,te,0,M,U,U,null))&&!z.h;break e}return F?(L!=null?L[0]=te:(e(te==null),e(v)),E.$=0,v||xr(W)):xr(W),F}function ss(u,f){var v=u.c*u.i,E=v+f+16*f;return e(u.c<=f),u.V=s(E),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function os(u,f){var v=u.C,E=f-v,L=u.V,F=u.Ba+u.c*v;for(e(f<=u.l.o);0<E;){var M=16<E?16:E,U=u.l.ma,z=u.l.width,W=z*M,te=U.ca,fe=U.tb+z*v,de=u.Ta,le=u.Ua;Cn(u,M,L,F),Sn(de,le,te,fe,W),cr(U,v,v+M,te,fe,z),E-=M,L+=M*u.c,v+=M}e(v==f),u.C=u.Ma=f}function as(){this.ub=this.yd=this.td=this.Rb=0}function Rs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ds(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jl(){this.Yb=function(){var u=[];return function f(v,E,L){for(var F=L[E],M=0;M<F&&(v.push(L.length>E+1?[]:0),!(L.length<E+1));M++)f(v[M],E+1,L)}(u,0,[3,11]),u}()}function Eo(){this.jb=s(3),this.Wc=a([4,8],jl),this.Xc=a([4,17],jl)}function Fl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ls(){this.ld=this.La=this.dd=this.tc=0}function us(){this.Na=this.la=0}function Ri(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Os(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ls),this.Y=0,this.ya=Array(new Os),this.aa=0,this.l=new js}function Va(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ml(){this.cb=this.a=0,this.sc="",this.m=new Re,this.Od=new as,this.Kc=new Rs,this.ed=new Fl,this.Qa=new Ds,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Re),this.ia=0,this.pb=o(4,Ri),this.Pa=new Eo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Va),this.Hd=0,this.rb=Array(new us),this.sb=0,this.wa=Array(new ls),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Os),this.L=this.aa=0,this.gd=a([4,2],ls),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function js(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var u=new Ml;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Lc||(Lc=Vl)),u}function tn(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function Ua(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function qa(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return tn(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,E=f.w,L=f.ha;if(4>L)return tn(u,7,"Truncated header.");var F=v[E+0]|v[E+1]<<8|v[E+2]<<16,M=u.Od;if(M.Rb=!(1&F),M.td=F>>1&7,M.yd=F>>4&1,M.ub=F>>5,3<M.td)return tn(u,3,"Incorrect keyframe parameters.");if(!M.yd)return tn(u,4,"Frame not displayable.");E+=3,L-=3;var U=u.Kc;if(M.Rb){if(7>L)return tn(u,7,"cannot parse picture header");if(!Ua(v,E,L))return tn(u,3,"Bad code word");U.c=16383&(v[E+4]<<8|v[E+3]),U.Td=v[E+4]>>6,U.i=16383&(v[E+6]<<8|v[E+5]),U.Ud=v[E+6]>>6,E+=7,L-=7,u.za=U.c+15>>4,u.Ub=U.i+15>>4,f.width=U.c,f.height=U.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((F=u.Pa).jb,0,255,F.jb.length),e((F=u.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(M.ub>L)return tn(u,7,"bad partition length");me(F=u.m,v,E,M.ub),E+=M.ub,L-=M.ub,M.Rb&&(U.Ld=ge(F),U.Kd=ge(F)),U=u.Qa;var z,W=u.Pa;if(e(F!=null),e(U!=null),U.Cb=ge(F),U.Cb){if(U.Bb=ge(F),ge(F)){for(U.Fb=ge(F),z=0;4>z;++z)U.Zb[z]=ge(F)?_e(F,7):0;for(z=0;4>z;++z)U.Lb[z]=ge(F)?_e(F,6):0}if(U.Bb)for(z=0;3>z;++z)W.jb[z]=ge(F)?ve(F,8):255}else U.Bb=0;if(F.Ka)return tn(u,3,"cannot parse segment header");if((U=u.ed).zd=ge(F),U.Tb=ve(F,6),U.wb=ve(F,3),U.Pc=ge(F),U.Pc&&ge(F)){for(W=0;4>W;++W)ge(F)&&(U.vd[W]=_e(F,6));for(W=0;4>W;++W)ge(F)&&(U.od[W]=_e(F,6))}if(u.L=U.Tb==0?0:U.zd?1:2,F.Ka)return tn(u,3,"cannot parse filter header");var te=L;if(L=z=E,E=z+te,U=te,u.Xb=(1<<ve(u.m,2))-1,te<3*(W=u.Xb))v=7;else{for(z+=3*W,U-=3*W,te=0;te<W;++te){var fe=v[L+0]|v[L+1]<<8|v[L+2]<<16;fe>U&&(fe=U),me(u.Jc[+te],v,z,fe),z+=fe,U-=fe,L+=3}me(u.Jc[+W],v,z,U),v=z<E?0:5}if(v!=0)return tn(u,v,"cannot parse partitions");for(v=ve(z=u.m,7),L=ge(z)?_e(z,4):0,E=ge(z)?_e(z,4):0,U=ge(z)?_e(z,4):0,W=ge(z)?_e(z,4):0,z=ge(z)?_e(z,4):0,te=u.Qa,fe=0;4>fe;++fe){if(te.Cb){var de=te.Zb[fe];te.Fb||(de+=v)}else{if(0<fe){u.pb[fe]=u.pb[0];continue}de=v}var le=u.pb[fe];le.Sc[0]=xm[Mt(de+L,127)],le.Sc[1]=Tm[Mt(de+0,127)],le.Eb[0]=2*xm[Mt(de+E,127)],le.Eb[1]=101581*Tm[Mt(de+U,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=xm[Mt(de+W,117)],le.Qc[1]=Tm[Mt(de+z,127)],le.lc=de+z}if(!M.Rb)return tn(u,4,"Not a key frame.");for(ge(F),M=u.Pa,v=0;4>v;++v){for(L=0;8>L;++L)for(E=0;3>E;++E)for(U=0;11>U;++U)W=ye(F,sS[v][L][E][U])?ve(F,8):rS[v][L][E][U],M.Wc[v][L].Yb[E][U]=W;for(L=0;17>L;++L)M.Xc[v][L]=M.Wc[v][oS[L]]}return u.kc=ge(F),u.kc&&(u.Bd=ve(F,8)),u.cb=1}function Vl(u,f,v,E,L,F,M){var U=f[L].Yb[v];for(v=0;16>L;++L){if(!ye(u,U[v+0]))return L;for(;!ye(u,U[v+1]);)if(U=f[++L].Yb[0],v=0,L==16)return 16;var z=f[L+1].Yb;if(ye(u,U[v+2])){var W=u,te=0;if(ye(W,(de=U)[(fe=v)+3]))if(ye(W,de[fe+6])){for(U=0,fe=2*(te=ye(W,de[fe+8]))+(de=ye(W,de[fe+9+te])),te=0,de=tS[fe];de[U];++U)te+=te+ye(W,de[U]);te+=3+(8<<fe)}else ye(W,de[fe+7])?(te=7+2*ye(W,165),te+=ye(W,145)):te=5+ye(W,159);else te=ye(W,de[fe+4])?3+ye(W,de[fe+5]):2;U=z[2]}else te=1,U=z[1];z=M+nS[L],0>(W=u).b&&ce(W);var fe,de=W.b,le=(fe=W.Ca>>1)-(W.I>>de)>>31;--W.b,W.Ca+=le,W.Ca|=1,W.I-=(fe+1&le)<<de,F[z]=((te^le)-le)*E[(0<L)+0]}return 16}function za(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Bl(u,f){if(u==null)return 0;if(f==null)return tn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!qa(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var v=Tf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-v>>4,u.zb=f.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+v>>4,u.Hb=f.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var E=u.ed;for(v=0;4>v;++v){var L;if(u.Qa.Cb){var F=u.Qa.Lb[v];u.Qa.Fb||(F+=E.Tb)}else F=E.Tb;for(L=0;1>=L;++L){var M=u.gd[v][L],U=F;if(E.Pc&&(U+=E.vd[0],L&&(U+=E.od[0])),0<(U=0>U?0:63<U?63:U)){var z=U;0<E.wb&&(z=4<E.wb?z>>2:z>>1)>9-E.wb&&(z=9-E.wb),1>z&&(z=1),M.dd=z,M.tc=2*U+z,M.ld=40<=U?2:15<=U?1:0}else M.tc=0;M.La=L}}}v=0}else tn(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=_S);e:{v=u.Ic,E=4*(z=u.za);var W=32*z,te=z+1,fe=0<u.L?z*(0<u.Aa?2:1):0,de=(u.Aa==2?2:1)*z;if((M=E+832+(L=3*(16*v+Tf[u.L])/2*W)+(F=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=M)v=0;else{if(M>u.Vb){if(u.Vb=0,u.Ec=s(M),u.Fc=0,u.Ec==null){v=tn(u,1,"no memory during frame initialization.");break e}u.Vb=M}M=u.Ec,U=u.Fc,u.Ac=M,u.Bc=U,U+=E,u.Gd=o(W,Va),u.Hd=0,u.rb=o(te+1,us),u.sb=1,u.wa=fe?o(fe,ls):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=M,u.pc=U,U+=832,u.ya=o(de,Os),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(W=Tf[u.L])*u.R,W=W/2*u.B,u.sa=M,u.ta=U+z,u.qa=u.sa,u.ra=u.ta+16*v*u.R+W,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+W,u.$c=0,U+=L,u.mb=F?M:null,u.nb=F?U:null,e(U+F<=u.Fc+u.Vb),za(u),i(u.Ac,u.Bc,0,E),v=1}}if(v){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!yf){for(v=-255;255>=v;++v)Mn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Gs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Cc[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)tu[255+v]=0>v?0:255<v?255:v;yf=1}Xl=Vs,Hs=Ao,Nc=$a,Pr=Vt,_i=Ms,En=Fs,Zl=Co,vf=Mi,Pc=Ro,el=Xa,tl=Lo,Uo=Us,nl=Do,eu=ds,rl=Bs,qo=ni,kc=Fn,wi=Wl,Ui[0]=vi,Ui[1]=bc,Ui[2]=hs,Ui[3]=Sc,Ui[4]=zl,Ui[5]=To,Ui[6]=ei,Ui[7]=Ha,Ui[8]=Po,Ui[9]=No,zo[0]=cs,zo[1]=Ec,zo[2]=Oi,zo[3]=Io,zo[4]=nn,zo[5]=ql,zo[6]=Wa,Ks[0]=Fi,Ks[1]=Ul,Ks[2]=$l,Ks[3]=ji,Ks[4]=Ft,Ks[5]=Ga,Ks[6]=Ka,v=1}else v=0}v&&(v=function(le,xe){for(le.M=0;le.M<le.Va;++le.M){var we,ne=le.Jc[le.M&le.Xb],se=le.m,Ae=le;for(we=0;we<Ae.za;++we){var Ne=se,Ie=Ae,He=Ie.Ac,Ve=Ie.Bc+4*we,it=Ie.zc,ze=Ie.ya[Ie.aa+we];if(Ie.Qa.Bb?ze.$b=ye(Ne,Ie.Pa.jb[0])?2+ye(Ne,Ie.Pa.jb[2]):ye(Ne,Ie.Pa.jb[1]):ze.$b=0,Ie.kc&&(ze.Ad=ye(Ne,Ie.Bd)),ze.Za=!ye(Ne,145)+0,ze.Za){var jt=ze.Ob,Bt=0;for(Ie=0;4>Ie;++Ie){var Lt,At=it[0+Ie];for(Lt=0;4>Lt;++Lt){At=iS[He[Ve+Lt]][At];for(var Gt=fv[ye(Ne,At[0])];0<Gt;)Gt=fv[2*Gt+ye(Ne,At[Gt])];At=-Gt,He[Ve+Lt]=At}r(jt,Bt,He,Ve,4),Bt+=4,it[0+Ie]=At}}else At=ye(Ne,156)?ye(Ne,128)?1:3:ye(Ne,163)?2:0,ze.Ob[0]=At,i(He,Ve,At,4),i(it,0,At,4);ze.Dd=ye(Ne,142)?ye(Ne,114)?ye(Ne,183)?1:3:2:0}if(Ae.m.Ka)return tn(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(Ae=ne,Ne=(se=le).rb[se.sb-1],He=se.rb[se.sb+se.ja],we=se.ya[se.aa+se.ja],Ve=se.kc?we.Ad:0)Ne.la=He.la=0,we.Za||(Ne.Na=He.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var Wt,wt;if(Ne=He,He=Ae,Ve=se.Pa.Xc,it=se.ya[se.aa+se.ja],ze=se.pb[it.$b],Ie=it.ad,jt=0,Bt=se.rb[se.sb-1],At=Lt=0,i(Ie,jt,0,384),it.Za)var Ln=0,qr=Ve[3];else{Gt=s(16);var Rn=Ne.Na+Bt.Na;if(Rn=Lc(He,Ve[1],Rn,ze.Eb,0,Gt,0),Ne.Na=Bt.Na=(0<Rn)+0,1<Rn)Xl(Gt,0,Ie,jt);else{var zr=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Ie[jt+Gt]=zr}Ln=1,qr=Ve[0]}var Ut=15&Ne.la,ii=15&Bt.la;for(Gt=0;4>Gt;++Gt){var si=1&ii;for(zr=wt=0;4>zr;++zr)Ut=Ut>>1|(si=(Rn=Lc(He,qr,Rn=si+(1&Ut),ze.Sc,Ln,Ie,jt))>Ln)<<7,wt=wt<<2|(3<Rn?3:1<Rn?2:Ie[jt+0]!=0),jt+=16;Ut>>=4,ii=ii>>1|si<<7,Lt=(Lt<<8|wt)>>>0}for(qr=Ut,Ln=ii>>4,Wt=0;4>Wt;Wt+=2){for(wt=0,Ut=Ne.la>>4+Wt,ii=Bt.la>>4+Wt,Gt=0;2>Gt;++Gt){for(si=1&ii,zr=0;2>zr;++zr)Rn=si+(1&Ut),Ut=Ut>>1|(si=0<(Rn=Lc(He,Ve[2],Rn,ze.Qc,0,Ie,jt)))<<3,wt=wt<<2|(3<Rn?3:1<Rn?2:Ie[jt+0]!=0),jt+=16;Ut>>=2,ii=ii>>1|si<<5}At|=wt<<4*Wt,qr|=Ut<<4<<Wt,Ln|=(240&ii)<<Wt}Ne.la=qr,Bt.la=Ln,it.Hc=Lt,it.Gc=At,it.ia=43690&At?0:ze.ia,Ve=!(Lt|At)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[we.$b][we.Za],se.wa[se.Y+se.ja].La|=!Ve),Ae.Ka)return tn(le,7,"Premature end-of-file encountered.")}if(za(le),se=xe,Ae=1,we=(ne=le).D,Ne=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(we.M=ne.M,we.uc=Ne,ms(ne,we),Ae=1,we=(wt=ne.D).Nb,Ne=(At=Tf[ne.L])*ne.R,He=At/2*ne.B,Gt=16*we*ne.R,zr=8*we*ne.B,Ve=ne.sa,it=ne.ta-Ne+Gt,ze=ne.qa,Ie=ne.ra-He+zr,jt=ne.Ha,Bt=ne.Ia-He+zr,ii=(Ut=wt.M)==0,Lt=Ut>=ne.Va-1,ne.Aa==2&&ms(ne,wt),wt.uc)for(si=(Rn=ne).D.M,e(Rn.D.uc),wt=Rn.yb;wt<Rn.Hb;++wt){Ln=wt,qr=si;var zn=(er=(vn=Rn).D).Nb;Wt=vn.R;var er=er.wa[er.Y+Ln],kr=vn.sa,Ai=vn.ta+16*zn*Wt+16*Ln,vs=er.dd,$n=er.tc;if($n!=0)if(e(3<=$n),vn.L==1)0<Ln&&qo(kr,Ai,Wt,$n+4),er.La&&wi(kr,Ai,Wt,$n),0<qr&&rl(kr,Ai,Wt,$n+4),er.La&&kc(kr,Ai,Wt,$n);else{var Qs=vn.B,il=vn.qa,nu=vn.ra+8*zn*Qs+8*Ln,Wo=vn.Ha,vn=vn.Ia+8*zn*Qs+8*Ln;zn=er.ld,0<Ln&&(vf(kr,Ai,Wt,$n+4,vs,zn),el(il,nu,Wo,vn,Qs,$n+4,vs,zn)),er.La&&(Uo(kr,Ai,Wt,$n,vs,zn),eu(il,nu,Wo,vn,Qs,$n,vs,zn)),0<qr&&(Zl(kr,Ai,Wt,$n+4,vs,zn),Pc(il,nu,Wo,vn,Qs,$n+4,vs,zn)),er.La&&(tl(kr,Ai,Wt,$n,vs,zn),nl(il,nu,Wo,vn,Qs,$n,vs,zn))}}if(ne.ia&&alert("todo:DitherRow"),se.put!=null){if(wt=16*Ut,Ut=16*(Ut+1),ii?(se.y=ne.sa,se.O=ne.ta+Gt,se.f=ne.qa,se.N=ne.ra+zr,se.ea=ne.Ha,se.W=ne.Ia+zr):(wt-=At,se.y=Ve,se.O=it,se.f=ze,se.N=Ie,se.ea=jt,se.W=Bt),Lt||(Ut-=At),Ut>se.o&&(Ut=se.o),se.F=null,se.J=null,ne.Fa!=null&&0<ne.Fa.length&&wt<Ut&&(se.J=Mo(ne,se,wt,Ut-wt),se.F=ne.mb,se.F==null&&se.F.length==0)){Ae=tn(ne,3,"Could not decode alpha data.");break e}wt<se.j&&(At=se.j-wt,wt=se.j,e(!(1&At)),se.O+=ne.R*At,se.N+=ne.B*(At>>1),se.W+=ne.B*(At>>1),se.F!=null&&(se.J+=se.width*At)),wt<Ut&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=wt-se.j,se.U=se.va-se.v,se.T=Ut-wt,Ae=se.put(se))}we+1!=ne.Ic||Lt||(r(ne.sa,ne.ta-Ne,Ve,it+16*ne.R,Ne),r(ne.qa,ne.ra-He,ze,Ie+8*ne.B,He),r(ne.Ha,ne.Ia-He,jt,Bt+8*ne.B,He))}if(!Ae)return tn(le,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),v&=1}return v?(u.cb=0,v):0}function Vr(u,f,v,E,L){L=u[f+v+32*E]+(L>>3),u[f+v+32*E]=-256&L?0>L?0:255:L}function So(u,f,v,E,L,F){Vr(u,f,0,v,E+L),Vr(u,f,1,v,E+F),Vr(u,f,2,v,E-F),Vr(u,f,3,v,E-L)}function gn(u){return(20091*u>>16)+u}function Tr(u,f,v,E){var L,F=0,M=s(16);for(L=0;4>L;++L){var U=u[f+0]+u[f+8],z=u[f+0]-u[f+8],W=(35468*u[f+4]>>16)-gn(u[f+12]),te=gn(u[f+4])+(35468*u[f+12]>>16);M[F+0]=U+te,M[F+1]=z+W,M[F+2]=z-W,M[F+3]=U-te,F+=4,f++}for(L=F=0;4>L;++L)U=(u=M[F+0]+4)+M[F+8],z=u-M[F+8],W=(35468*M[F+4]>>16)-gn(M[F+12]),Vr(v,E,0,0,U+(te=gn(M[F+4])+(35468*M[F+12]>>16))),Vr(v,E,1,0,z+W),Vr(v,E,2,0,z-W),Vr(v,E,3,0,U-te),F++,E+=32}function Fs(u,f,v,E){var L=u[f+0]+4,F=35468*u[f+4]>>16,M=gn(u[f+4]),U=35468*u[f+1]>>16;So(v,E,0,L+M,u=gn(u[f+1]),U),So(v,E,1,L+F,u,U),So(v,E,2,L-F,u,U),So(v,E,3,L-M,u,U)}function Ao(u,f,v,E,L){Tr(u,f,v,E),L&&Tr(u,f+16,v,E+4)}function $a(u,f,v,E){Hs(u,f+0,v,E,1),Hs(u,f+32,v,E+128,1)}function Vt(u,f,v,E){var L;for(u=u[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)Vr(v,E,f,L,u)}function Ms(u,f,v,E){u[f+0]&&Pr(u,f+0,v,E),u[f+16]&&Pr(u,f+16,v,E+4),u[f+32]&&Pr(u,f+32,v,E+128),u[f+48]&&Pr(u,f+48,v,E+128+4)}function Vs(u,f,v,E){var L,F=s(16);for(L=0;4>L;++L){var M=u[f+0+L]+u[f+12+L],U=u[f+4+L]+u[f+8+L],z=u[f+4+L]-u[f+8+L],W=u[f+0+L]-u[f+12+L];F[0+L]=M+U,F[8+L]=M-U,F[4+L]=W+z,F[12+L]=W-z}for(L=0;4>L;++L)M=(u=F[0+4*L]+3)+F[3+4*L],U=F[1+4*L]+F[2+4*L],z=F[1+4*L]-F[2+4*L],W=u-F[3+4*L],v[E+0]=M+U>>3,v[E+16]=W+z>>3,v[E+32]=M-U>>3,v[E+48]=W-z>>3,E+=64}function Di(u,f,v){var E,L=f-32,F=ri,M=255-u[L-1];for(E=0;E<v;++E){var U,z=F,W=M+u[f-1];for(U=0;U<v;++U)u[f+U]=z[W+u[L+U]];f+=32}}function bc(u,f){Di(u,f,4)}function Ul(u,f){Di(u,f,8)}function Ec(u,f){Di(u,f,16)}function Oi(u,f){var v;for(v=0;16>v;++v)r(u,f+32*v,u,f-32,16)}function Io(u,f){var v;for(v=16;0<v;--v)i(u,f,u[f-1],16),f+=32}function xo(u,f,v){var E;for(E=0;16>E;++E)i(f,v+32*E,u,16)}function cs(u,f){var v,E=16;for(v=0;16>v;++v)E+=u[f-1+32*v]+u[f+v-32];xo(E>>5,u,f)}function nn(u,f){var v,E=8;for(v=0;16>v;++v)E+=u[f-1+32*v];xo(E>>4,u,f)}function ql(u,f){var v,E=8;for(v=0;16>v;++v)E+=u[f+v-32];xo(E>>4,u,f)}function Wa(u,f){xo(128,u,f)}function ct(u,f,v){return u+2*f+v+2>>2}function hs(u,f){var v,E=f-32;for(E=new Uint8Array([ct(u[E-1],u[E+0],u[E+1]),ct(u[E+0],u[E+1],u[E+2]),ct(u[E+1],u[E+2],u[E+3]),ct(u[E+2],u[E+3],u[E+4])]),v=0;4>v;++v)r(u,f+32*v,E,0,E.length)}function Sc(u,f){var v=u[f-1],E=u[f-1+32],L=u[f-1+64],F=u[f-1+96];je(u,f+0,16843009*ct(u[f-1-32],v,E)),je(u,f+32,16843009*ct(v,E,L)),je(u,f+64,16843009*ct(E,L,F)),je(u,f+96,16843009*ct(L,F,F))}function vi(u,f){var v,E=4;for(v=0;4>v;++v)E+=u[f+v-32]+u[f-1+32*v];for(E>>=3,v=0;4>v;++v)i(u,f+32*v,E,4)}function zl(u,f){var v=u[f-1+0],E=u[f-1+32],L=u[f-1+64],F=u[f-1-32],M=u[f+0-32],U=u[f+1-32],z=u[f+2-32],W=u[f+3-32];u[f+0+96]=ct(E,L,u[f-1+96]),u[f+1+96]=u[f+0+64]=ct(v,E,L),u[f+2+96]=u[f+1+64]=u[f+0+32]=ct(F,v,E),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ct(M,F,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=ct(U,M,F),u[f+3+32]=u[f+2+0]=ct(z,U,M),u[f+3+0]=ct(W,z,U)}function ei(u,f){var v=u[f+1-32],E=u[f+2-32],L=u[f+3-32],F=u[f+4-32],M=u[f+5-32],U=u[f+6-32],z=u[f+7-32];u[f+0+0]=ct(u[f+0-32],v,E),u[f+1+0]=u[f+0+32]=ct(v,E,L),u[f+2+0]=u[f+1+32]=u[f+0+64]=ct(E,L,F),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ct(L,F,M),u[f+3+32]=u[f+2+64]=u[f+1+96]=ct(F,M,U),u[f+3+64]=u[f+2+96]=ct(M,U,z),u[f+3+96]=ct(U,z,z)}function To(u,f){var v=u[f-1+0],E=u[f-1+32],L=u[f-1+64],F=u[f-1-32],M=u[f+0-32],U=u[f+1-32],z=u[f+2-32],W=u[f+3-32];u[f+0+0]=u[f+1+64]=F+M+1>>1,u[f+1+0]=u[f+2+64]=M+U+1>>1,u[f+2+0]=u[f+3+64]=U+z+1>>1,u[f+3+0]=z+W+1>>1,u[f+0+96]=ct(L,E,v),u[f+0+64]=ct(E,v,F),u[f+0+32]=u[f+1+96]=ct(v,F,M),u[f+1+32]=u[f+2+96]=ct(F,M,U),u[f+2+32]=u[f+3+96]=ct(M,U,z),u[f+3+32]=ct(U,z,W)}function Ha(u,f){var v=u[f+0-32],E=u[f+1-32],L=u[f+2-32],F=u[f+3-32],M=u[f+4-32],U=u[f+5-32],z=u[f+6-32],W=u[f+7-32];u[f+0+0]=v+E+1>>1,u[f+1+0]=u[f+0+64]=E+L+1>>1,u[f+2+0]=u[f+1+64]=L+F+1>>1,u[f+3+0]=u[f+2+64]=F+M+1>>1,u[f+0+32]=ct(v,E,L),u[f+1+32]=u[f+0+96]=ct(E,L,F),u[f+2+32]=u[f+1+96]=ct(L,F,M),u[f+3+32]=u[f+2+96]=ct(F,M,U),u[f+3+64]=ct(M,U,z),u[f+3+96]=ct(U,z,W)}function No(u,f){var v=u[f-1+0],E=u[f-1+32],L=u[f-1+64],F=u[f-1+96];u[f+0+0]=v+E+1>>1,u[f+2+0]=u[f+0+32]=E+L+1>>1,u[f+2+32]=u[f+0+64]=L+F+1>>1,u[f+1+0]=ct(v,E,L),u[f+3+0]=u[f+1+32]=ct(E,L,F),u[f+3+32]=u[f+1+64]=ct(L,F,F),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=F}function Po(u,f){var v=u[f-1+0],E=u[f-1+32],L=u[f-1+64],F=u[f-1+96],M=u[f-1-32],U=u[f+0-32],z=u[f+1-32],W=u[f+2-32];u[f+0+0]=u[f+2+32]=v+M+1>>1,u[f+0+32]=u[f+2+64]=E+v+1>>1,u[f+0+64]=u[f+2+96]=L+E+1>>1,u[f+0+96]=F+L+1>>1,u[f+3+0]=ct(U,z,W),u[f+2+0]=ct(M,U,z),u[f+1+0]=u[f+3+32]=ct(v,M,U),u[f+1+32]=u[f+3+64]=ct(E,v,M),u[f+1+64]=u[f+3+96]=ct(L,E,v),u[f+1+96]=ct(F,L,E)}function $l(u,f){var v;for(v=0;8>v;++v)r(u,f+32*v,u,f-32,8)}function ji(u,f){var v;for(v=0;8>v;++v)i(u,f,u[f-1],8),f+=32}function ti(u,f,v){var E;for(E=0;8>E;++E)i(f,v+32*E,u,8)}function Fi(u,f){var v,E=8;for(v=0;8>v;++v)E+=u[f+v-32]+u[f-1+32*v];ti(E>>4,u,f)}function Ga(u,f){var v,E=4;for(v=0;8>v;++v)E+=u[f+v-32];ti(E>>3,u,f)}function Ft(u,f){var v,E=4;for(v=0;8>v;++v)E+=u[f-1+32*v];ti(E>>3,u,f)}function Ka(u,f){ti(128,u,f)}function ko(u,f,v){var E=u[f-v],L=u[f+0],F=3*(L-E)+bm[1020+u[f-2*v]-u[f+v]],M=_f[112+(F+4>>3)];u[f-v]=ri[255+E+_f[112+(F+3>>3)]],u[f+0]=ri[255+L-M]}function Qa(u,f,v,E){var L=u[f+0],F=u[f+v];return Ei[255+u[f-2*v]-u[f-v]]>E||Ei[255+F-L]>E}function Ya(u,f,v,E){return 4*Ei[255+u[f-v]-u[f+0]]+Ei[255+u[f-2*v]-u[f+v]]<=E}function Ja(u,f,v,E,L){var F=u[f-3*v],M=u[f-2*v],U=u[f-v],z=u[f+0],W=u[f+v],te=u[f+2*v],fe=u[f+3*v];return 4*Ei[255+U-z]+Ei[255+M-W]>E?0:Ei[255+u[f-4*v]-F]<=L&&Ei[255+F-M]<=L&&Ei[255+M-U]<=L&&Ei[255+fe-te]<=L&&Ei[255+te-W]<=L&&Ei[255+W-z]<=L}function Bs(u,f,v,E){var L=2*E+1;for(E=0;16>E;++E)Ya(u,f+E,v,L)&&ko(u,f+E,v)}function ni(u,f,v,E){var L=2*E+1;for(E=0;16>E;++E)Ya(u,f+E*v,1,L)&&ko(u,f+E*v,1)}function Fn(u,f,v,E){var L;for(L=3;0<L;--L)Bs(u,f+=4*v,v,E)}function Wl(u,f,v,E){var L;for(L=3;0<L;--L)ni(u,f+=4,v,E)}function fs(u,f,v,E,L,F,M,U){for(F=2*F+1;0<L--;){if(Ja(u,f,v,F,M))if(Qa(u,f,v,U))ko(u,f,v);else{var z=u,W=f,te=v,fe=z[W-2*te],de=z[W-te],le=z[W+0],xe=z[W+te],we=z[W+2*te],ne=27*(Ae=bm[1020+3*(le-de)+bm[1020+fe-xe]])+63>>7,se=18*Ae+63>>7,Ae=9*Ae+63>>7;z[W-3*te]=ri[255+z[W-3*te]+Ae],z[W-2*te]=ri[255+fe+se],z[W-te]=ri[255+de+ne],z[W+0]=ri[255+le-ne],z[W+te]=ri[255+xe-se],z[W+2*te]=ri[255+we-Ae]}f+=E}}function Jn(u,f,v,E,L,F,M,U){for(F=2*F+1;0<L--;){if(Ja(u,f,v,F,M))if(Qa(u,f,v,U))ko(u,f,v);else{var z=u,W=f,te=v,fe=z[W-te],de=z[W+0],le=z[W+te],xe=_f[112+((we=3*(de-fe))+4>>3)],we=_f[112+(we+3>>3)],ne=xe+1>>1;z[W-2*te]=ri[255+z[W-2*te]+ne],z[W-te]=ri[255+fe+we],z[W+0]=ri[255+de-xe],z[W+te]=ri[255+le-ne]}f+=E}}function Co(u,f,v,E,L,F){fs(u,f,v,1,16,E,L,F)}function Mi(u,f,v,E,L,F){fs(u,f,1,v,16,E,L,F)}function Lo(u,f,v,E,L,F){var M;for(M=3;0<M;--M)Jn(u,f+=4*v,v,1,16,E,L,F)}function Us(u,f,v,E,L,F){var M;for(M=3;0<M;--M)Jn(u,f+=4,1,v,16,E,L,F)}function Ro(u,f,v,E,L,F,M,U){fs(u,f,L,1,8,F,M,U),fs(v,E,L,1,8,F,M,U)}function Xa(u,f,v,E,L,F,M,U){fs(u,f,1,L,8,F,M,U),fs(v,E,1,L,8,F,M,U)}function Do(u,f,v,E,L,F,M,U){Jn(u,f+4*L,L,1,8,F,M,U),Jn(v,E+4*L,L,1,8,F,M,U)}function ds(u,f,v,E,L,F,M,U){Jn(u,f+4,1,L,8,F,M,U),Jn(v,E+4,1,L,8,F,M,U)}function qs(){this.ba=new Yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jo(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new S}function Hl(){this.xb=this.a=0,this.l=new js,this.ca=new Yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jo,this.ab=0,this.gc=o(4,zs),this.Oc=0}function Vi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new js,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ps(u,f,v,E,L,F,M){for(u=u==null?0:u[f+0],f=0;f<M;++f)L[F+f]=u+v[E+f]&255,u=L[F+f]}function Fo(u,f,v,E,L,F,M){var U;if(u==null)ps(null,null,v,E,L,F,M);else for(U=0;U<M;++U)L[F+U]=u[f+U]+v[E+U]&255}function hr(u,f,v,E,L,F,M){if(u==null)ps(null,null,v,E,L,F,M);else{var U,z=u[f+0],W=z,te=z;for(U=0;U<M;++U)W=te+(z=u[f+U])-W,te=v[E+U]+(-256&W?0>W?0:255:W)&255,W=z,L[F+U]=te}}function Mo(u,f,v,E){var L=f.width,F=f.o;if(e(u!=null&&f!=null),0>v||0>=E||v+E>F)return null;if(!u.Cc){if(u.ga==null){var M;if(u.ga=new Vi,(M=u.ga==null)||(M=f.width*f.o,e(u.Gb.length==0),u.Gb=s(M),u.Uc=0,u.Gb==null?M=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,M=1),M=!M),!M){M=u.ga;var U=u.Fa,z=u.P,W=u.qc,te=u.mb,fe=u.nb,de=z+1,le=W-1,xe=M.l;if(e(U!=null&&te!=null&&f!=null),$o[0]=null,$o[1]=ps,$o[2]=Fo,$o[3]=hr,M.ca=te,M.tb=fe,M.c=f.width,M.i=f.height,e(0<M.c&&0<M.i),1>=W)f=0;else if(M.$a=U[z+0]>>0&3,M.Z=U[z+0]>>2&3,M.Lc=U[z+0]>>4&3,z=U[z+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||z)f=0;else if(xe.put=lr,xe.ac=Pn,xe.bc=Xr,xe.ma=M,xe.width=f.width,xe.height=f.height,xe.Da=f.Da,xe.v=f.v,xe.va=f.va,xe.j=f.j,xe.o=f.o,M.$a)e:{e(M.$a==1),f=bn();t:for(;;){if(f==null){f=0;break e}if(e(M!=null),M.mc=f,f.c=M.c,f.i=M.i,f.l=M.l,f.l.ma=M,f.l.width=M.c,f.l.height=M.i,f.a=0,X(f.m,U,de,le),!Zr(M.c,M.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Li(f.s)?(M.ic=1,U=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(U),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(M.ic=0,f=ss(f,M.c)),!f))break t;f=1;break e}M.mc=null,f=0}else f=le>=M.c*M.i;M=!f}if(M)return null;u.ga.Lc!=1?u.Ga=0:E=F-v}e(u.ga!=null),e(v+E<=F);e:{if(f=(U=u.ga).c,F=U.l.o,U.$a==0){if(de=u.rc,le=u.Vc,xe=u.Fa,z=u.P+1+v*f,W=u.mb,te=u.nb+v*f,e(z<=u.P+u.qc),U.Z!=0)for(e($o[U.Z]!=null),M=0;M<E;++M)$o[U.Z](de,le,xe,z,W,te,f),de=W,le=te,te+=f,z+=f;else for(M=0;M<E;++M)r(W,te,xe,z,f),de=W,le=te,te+=f,z+=f;u.rc=de,u.Vc=le}else{if(e(U.mc!=null),f=v+E,e((M=U.mc)!=null),e(f<=M.i),M.C>=f)f=1;else if(U.ic||ae(),U.ic){U=M.V,de=M.Ba,le=M.c;var we=M.i,ne=(xe=1,z=M.$/le,W=M.$%le,te=M.m,fe=M.s,M.$),se=le*we,Ae=le*f,Ne=fe.wc,Ie=ne<Ae?mn(fe,W,z):null;e(ne<=se),e(f<=we),e(Li(fe));t:for(;;){for(;!te.h&&ne<Ae;){if(W&Ne||(Ie=mn(fe,W,z)),e(Ie!=null),ie(te),256>(we=kn(Ie.G[0],Ie.H[0],te)))U[de+ne]=we,++ne,++W>=le&&(W=0,++z<=f&&!(z%16)&&Mr(M,z));else{if(!(280>we)){xe=0;break t}we=Fr(we-256,te);var He,Ve=kn(Ie.G[4],Ie.H[4],te);if(ie(te),!(ne>=(Ve=ur(le,Ve=Fr(Ve,te)))&&se-ne>=we)){xe=0;break t}for(He=0;He<we;++He)U[de+ne+He]=U[de+ne+He-Ve];for(ne+=we,W+=we;W>=le;)W-=le,++z<=f&&!(z%16)&&Mr(M,z);ne<Ae&&W&Ne&&(Ie=mn(fe,W,z))}e(te.h==Y(te))}Mr(M,z>f?f:z);break t}!xe||te.h&&ne<se?(xe=0,M.a=te.h?5:3):M.$=ne,f=xe}else f=Ir(M,M.V,M.Ba,M.c,M.i,f,os);if(!f){E=0;break e}}v+E>=F&&(u.Cc=1),E=1}if(!E)return null;if(u.Cc&&((E=u.ga)!=null&&(E.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*L}function m(u,f,v,E,L,F){for(;0<L--;){var M,U=u,z=f+(v?1:0),W=u,te=f+(v?0:3);for(M=0;M<E;++M){var fe=W[te+4*M];fe!=255&&(fe*=32897,U[z+4*M+0]=U[z+4*M+0]*fe>>23,U[z+4*M+1]=U[z+4*M+1]*fe>>23,U[z+4*M+2]=U[z+4*M+2]*fe>>23)}f+=F}}function C(u,f,v,E,L){for(;0<E--;){var F;for(F=0;F<v;++F){var M=u[f+2*F+0],U=15&(W=u[f+2*F+1]),z=4369*U,W=(240&W|W>>4)*z>>16;u[f+2*F+0]=(240&M|M>>4)*z>>16&240|(15&M|M<<4)*z>>16>>4&15,u[f+2*F+1]=240&W|U}f+=L}}function G(u,f,v,E,L,F,M,U){var z,W,te=255;for(W=0;W<L;++W){for(z=0;z<E;++z){var fe=u[f+z];F[M+4*z]=fe,te&=fe}f+=v,M+=U}return te!=255}function ee(u,f,v,E,L){var F;for(F=0;F<L;++F)v[E+F]=u[f+F]>>8}function ae(){bi=m,Jt=C,Xt=G,Sn=ee}function be(u,f,v){I[u]=function(E,L,F,M,U,z,W,te,fe,de,le,xe,we,ne,se,Ae,Ne){var Ie,He=Ne-1>>1,Ve=U[z+0]|W[te+0]<<16,it=fe[de+0]|le[xe+0]<<16;e(E!=null);var ze=3*Ve+it+131074>>2;for(f(E[L+0],255&ze,ze>>16,we,ne),F!=null&&(ze=3*it+Ve+131074>>2,f(F[M+0],255&ze,ze>>16,se,Ae)),Ie=1;Ie<=He;++Ie){var jt=U[z+Ie]|W[te+Ie]<<16,Bt=fe[de+Ie]|le[xe+Ie]<<16,Lt=Ve+jt+it+Bt+524296,At=Lt+2*(jt+it)>>3;ze=At+Ve>>1,Ve=(Lt=Lt+2*(Ve+Bt)>>3)+jt>>1,f(E[L+2*Ie-1],255&ze,ze>>16,we,ne+(2*Ie-1)*v),f(E[L+2*Ie-0],255&Ve,Ve>>16,we,ne+(2*Ie-0)*v),F!=null&&(ze=Lt+it>>1,Ve=At+Bt>>1,f(F[M+2*Ie-1],255&ze,ze>>16,se,Ae+(2*Ie-1)*v),f(F[M+2*Ie+0],255&Ve,Ve>>16,se,Ae+(2*Ie+0)*v)),Ve=jt,it=Bt}1&Ne||(ze=3*Ve+it+131074>>2,f(E[L+Ne-1],255&ze,ze>>16,we,ne+(Ne-1)*v),F!=null&&(ze=3*it+Ve+131074>>2,f(F[M+Ne-1],255&ze,ze>>16,se,Ae+(Ne-1)*v)))}}function Pe(){Si[wf]=lS,Si[bf]=pv,Si[uv]=uS,Si[Ef]=mv,Si[Sf]=gv,Si[Em]=vv,Si[cv]=cS,Si[Sm]=pv,Si[Am]=mv,Si[Af]=gv,Si[Im]=vv}function Ue(u){return u&-16384?0>u?0:255:u>>hS}function c(u,f){return Ue((19077*u>>8)+(26149*f>>8)-14234)}function _(u,f,v){return Ue((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function A(u,f){return Ue((19077*u>>8)+(33050*f>>8)-17685)}function V(u,f,v,E,L){E[L+0]=c(u,v),E[L+1]=_(u,f,v),E[L+2]=A(u,f)}function oe(u,f,v,E,L){E[L+0]=A(u,f),E[L+1]=_(u,f,v),E[L+2]=c(u,v)}function pe(u,f,v,E,L){var F=_(u,f,v);f=F<<3&224|A(u,f)>>3,E[L+0]=248&c(u,v)|F>>5,E[L+1]=f}function ke(u,f,v,E,L){var F=240&A(u,f)|15;E[L+0]=240&c(u,v)|_(u,f,v)>>4,E[L+1]=F}function mt(u,f,v,E,L){E[L+0]=255,V(u,f,v,E,L+1)}function St(u,f,v,E,L){oe(u,f,v,E,L),E[L+3]=255}function gt(u,f,v,E,L){V(u,f,v,E,L),E[L+3]=255}function Mt(u,f){return 0>u?0:u>f?f:u}function Ht(u,f,v){I[u]=function(E,L,F,M,U,z,W,te,fe){for(var de=te+(-2&fe)*v;te!=de;)f(E[L+0],F[M+0],U[z+0],W,te),f(E[L+1],F[M+0],U[z+0],W,te+v),L+=2,++M,++z,te+=2*v;1&fe&&f(E[L+0],F[M+0],U[z+0],W,te)}}function Bi(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function Xn(u,f,v,E,L){switch(u>>>30){case 3:Hs(f,v,E,L,0);break;case 2:En(f,v,E,L);break;case 1:Pr(f,v,E,L)}}function ms(u,f){var v,E,L=f.M,F=f.Nb,M=u.oc,U=u.pc+40,z=u.oc,W=u.pc+584,te=u.oc,fe=u.pc+600;for(v=0;16>v;++v)M[U+32*v-1]=129;for(v=0;8>v;++v)z[W+32*v-1]=129,te[fe+32*v-1]=129;for(0<L?M[U-1-32]=z[W-1-32]=te[fe-1-32]=129:(i(M,U-32-1,127,21),i(z,W-32-1,127,9),i(te,fe-32-1,127,9)),E=0;E<u.za;++E){var de=f.ya[f.aa+E];if(0<E){for(v=-1;16>v;++v)r(M,U+32*v-4,M,U+32*v+12,4);for(v=-1;8>v;++v)r(z,W+32*v-4,z,W+32*v+4,4),r(te,fe+32*v-4,te,fe+32*v+4,4)}var le=u.Gd,xe=u.Hd+E,we=de.ad,ne=de.Hc;if(0<L&&(r(M,U-32,le[xe].y,0,16),r(z,W-32,le[xe].f,0,8),r(te,fe-32,le[xe].ea,0,8)),de.Za){var se=M,Ae=U-32+16;for(0<L&&(E>=u.za-1?i(se,Ae,le[xe].y[15],4):r(se,Ae,le[xe+1].y,0,4)),v=0;4>v;v++)se[Ae+128+v]=se[Ae+256+v]=se[Ae+384+v]=se[Ae+0+v];for(v=0;16>v;++v,ne<<=2)se=M,Ae=U+_v[v],Ui[de.Ob[v]](se,Ae),Xn(ne,we,16*+v,se,Ae)}else if(se=Bi(E,L,de.Ob[0]),zo[se](M,U),ne!=0)for(v=0;16>v;++v,ne<<=2)Xn(ne,we,16*+v,M,U+_v[v]);for(v=de.Gc,se=Bi(E,L,de.Dd),Ks[se](z,W),Ks[se](te,fe),ne=we,se=z,Ae=W,255&(de=v>>0)&&(170&de?Nc(ne,256,se,Ae):_i(ne,256,se,Ae)),de=te,ne=fe,255&(v>>=8)&&(170&v?Nc(we,320,de,ne):_i(we,320,de,ne)),L<u.Ub-1&&(r(le[xe].y,0,M,U+480,16),r(le[xe].f,0,z,W+224,8),r(le[xe].ea,0,te,fe+224,8)),v=8*F*u.B,le=u.sa,xe=u.ta+16*E+16*F*u.R,we=u.qa,de=u.ra+8*E+v,ne=u.Ha,se=u.Ia+8*E+v,v=0;16>v;++v)r(le,xe+v*u.R,M,U+32*v,16);for(v=0;8>v;++v)r(we,de+v*u.B,z,W+32*v,8),r(ne,se+v*u.B,te,fe+32*v,8)}}function gs(u,f,v,E,L,F,M,U,z){var W=[0],te=[0],fe=0,de=z!=null?z.kd:0,le=z??new Oo;if(u==null||12>v)return 7;le.data=u,le.w=f,le.ha=v,f=[f],v=[v],le.gb=[le.gb];e:{var xe=f,we=v,ne=le.gb;if(e(u!=null),e(we!=null),e(ne!=null),ne[0]=0,12<=we[0]&&!n(u,xe[0],"RIFF")){if(n(u,xe[0]+8,"WEBP")){ne=3;break e}var se=Me(u,xe[0]+4);if(12>se||4294967286<se){ne=3;break e}if(de&&se>we[0]-8){ne=7;break e}ne[0]=se,xe[0]+=12,we[0]-=12}ne=0}if(ne!=0)return ne;for(se=0<le.gb[0],v=v[0];;){e:{var Ae=u;we=f,ne=v;var Ne=W,Ie=te,He=xe=[0];if((ze=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!n(Ae,we[0],"VP8X")){if(Me(Ae,we[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Ve=Me(Ae,we[0]+8),it=1+Be(Ae,we[0]+12);if(2147483648<=it*(Ae=1+Be(Ae,we[0]+15))){ne=3;break e}He!=null&&(He[0]=Ve),Ne!=null&&(Ne[0]=it),Ie!=null&&(Ie[0]=Ae),we[0]+=18,ne[0]-=18,ze[0]=1}ne=0}}if(fe=fe[0],xe=xe[0],ne!=0)return ne;if(we=!!(2&xe),!se&&fe)return 3;if(F!=null&&(F[0]=!!(16&xe)),M!=null&&(M[0]=we),U!=null&&(U[0]=0),M=W[0],xe=te[0],fe&&we&&z==null){ne=0;break}if(4>v){ne=7;break}if(se&&fe||!se&&!fe&&!n(u,f[0],"ALPH")){v=[v],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ve=u,ne=f,se=v;var ze=le.gb;Ne=le.na,Ie=le.P,He=le.Sa,it=22,e(Ve!=null),e(se!=null),Ae=ne[0];var jt=se[0];for(e(Ne!=null),e(He!=null),Ne[0]=null,Ie[0]=null,He[0]=0;;){if(ne[0]=Ae,se[0]=jt,8>jt){ne=7;break e}var Bt=Me(Ve,Ae+4);if(4294967286<Bt){ne=3;break e}var Lt=8+Bt+1&-2;if(it+=Lt,0<ze&&it>ze){ne=3;break e}if(!n(Ve,Ae,"VP8 ")||!n(Ve,Ae,"VP8L")){ne=0;break e}if(jt[0]<Lt){ne=7;break e}n(Ve,Ae,"ALPH")||(Ne[0]=Ve,Ie[0]=Ae+8,He[0]=Bt),Ae+=Lt,jt-=Lt}}if(v=v[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ne!=0)break}v=[v],le.Ja=[le.Ja],le.xa=[le.xa];e:if(ze=u,ne=f,se=v,Ne=le.gb[0],Ie=le.Ja,He=le.xa,Ve=ne[0],Ae=!n(ze,Ve,"VP8 "),it=!n(ze,Ve,"VP8L"),e(ze!=null),e(se!=null),e(Ie!=null),e(He!=null),8>se[0])ne=7;else{if(Ae||it){if(ze=Me(ze,Ve+4),12<=Ne&&ze>Ne-12){ne=3;break e}if(de&&ze>se[0]-8){ne=7;break e}Ie[0]=ze,ne[0]+=8,se[0]-=8,He[0]=it}else He[0]=5<=se[0]&&ze[Ve+0]==47&&!(ze[Ve+4]>>5),Ie[0]=se[0];ne=0}if(v=v[0],le.Ja=le.Ja[0],le.xa=le.xa[0],f=f[0],ne!=0)break;if(4294967286<le.Ja)return 3;if(U==null||we||(U[0]=le.xa?2:1),M=[M],xe=[xe],le.xa){if(5>v){ne=7;break}U=M,de=xe,we=F,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(se=[0],ze=[0],Ne=[0],X(Ie=new D,u,f,v),Ge(Ie,se,ze,Ne)?(U!=null&&(U[0]=se[0]),de!=null&&(de[0]=ze[0]),we!=null&&(we[0]=Ne[0]),u=1):u=0):u=0}else{if(10>v){ne=7;break}U=xe,u==null||10>v||!Ua(u,f+3,v-3)?u=0:(de=u[f+0]|u[f+1]<<8|u[f+2]<<16,we=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=le.Ja||!we||!u?u=0:(M&&(M[0]=we),U&&(U[0]=u),u=1))}if(!u||(M=M[0],xe=xe[0],fe&&(W[0]!=M||te[0]!=xe)))return 3;z!=null&&(z[0]=le,z.offset=f-z.w,e(4294967286>f-z.w),e(z.offset==z.ha-v));break}return ne==0||ne==7&&fe&&z==null?(F!=null&&(F[0]|=le.na!=null&&0<le.na.length),E!=null&&(E[0]=M),L!=null&&(L[0]=xe),0):ne}function Ac(u,f,v){var E=f.width,L=f.height,F=0,M=0,U=E,z=L;if(f.Da=u!=null&&0<u.Da,f.Da&&(U=u.cd,z=u.bd,F=u.v,M=u.j,11>v||(F&=-2,M&=-2),0>F||0>M||0>=U||0>=z||F+U>E||M+z>L))return 0;if(f.v=F,f.j=M,f.va=F+U,f.o=M+z,f.U=U,f.T=z,f.da=u!=null&&0<u.da,f.da){if(!dt(U,z,v=[u.ib],F=[u.hb]))return 0;f.ib=v[0],f.hb=F[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*E/4&&f.hb<3*L/4,f.Kb=0),1}function Ic(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Gl(u,f,v,E){if(E==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var L=v.cd,F=v.bd,M=-2&v.v,U=-2&v.j;if(0>M||0>U||0>=L||0>=F||M+L>u||U+F>f)return 2;u=L,f=F}if(v.da){if(!dt(u,f,L=[v.ib],F=[v.hb]))return 2;u=L[0],f=F[0]}}E.width=u,E.height=f;e:{var z=E.width,W=E.height;if(u=E.S,0>=z||0>=W||!(u>=wf&&13>u))u=2;else{if(0>=E.Rd&&E.sd==null){M=F=L=f=0;var te=(U=z*wv[u])*W;if(11>u||(F=(W+1)/2*(f=(z+1)/2),u==12&&(M=(L=z)*W)),(W=s(te+2*F+M))==null){u=1;break e}E.sd=W,11>u?((z=E.f.RGBA).eb=W,z.fb=0,z.A=U,z.size=te):((z=E.f.kb).y=W,z.O=0,z.fa=U,z.Fd=te,z.f=W,z.N=0+te,z.Ab=f,z.Cd=F,z.ea=W,z.W=0+te+F,z.Db=f,z.Ed=F,u==12&&(z.F=W,z.J=0+te+2*F),z.Tc=M,z.lb=L)}if(f=1,L=E.S,F=E.width,M=E.height,L>=wf&&13>L)if(11>L)u=E.f.RGBA,f&=(U=Math.abs(u.A))*(M-1)+F<=u.size,f&=U>=F*wv[L],f&=u.eb!=null;else{u=E.f.kb,U=(F+1)/2,te=(M+1)/2,z=Math.abs(u.fa),W=Math.abs(u.Ab);var fe=Math.abs(u.Db),de=Math.abs(u.lb),le=de*(M-1)+F;f&=z*(M-1)+F<=u.Fd,f&=W*(te-1)+U<=u.Cd,f=(f&=fe*(te-1)+U<=u.Ed)&z>=F&W>=U&fe>=U,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,L==12&&(f&=de>=F,f&=le<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=Ic(E)),u}var Zn=64,Kl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ql=24,Yl=32,xc=8,Br=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(u){return u},I.Predictor2=function(u,f,v){return f[v+0]},I.Predictor3=function(u,f,v){return f[v+1]},I.Predictor4=function(u,f,v){return f[v-1]},I.Predictor5=function(u,f,v){return qe(qe(u,f[v+1]),f[v+0])},I.Predictor6=function(u,f,v){return qe(u,f[v-1])},I.Predictor7=function(u,f,v){return qe(u,f[v+0])},I.Predictor8=function(u,f,v){return qe(f[v-1],f[v+0])},I.Predictor9=function(u,f,v){return qe(f[v+0],f[v+1])},I.Predictor10=function(u,f,v){return qe(qe(u,f[v-1]),qe(f[v+0],f[v+1]))},I.Predictor11=function(u,f,v){var E=f[v+0];return 0>=pt(E>>24&255,u>>24&255,(f=f[v-1])>>24&255)+pt(E>>16&255,u>>16&255,f>>16&255)+pt(E>>8&255,u>>8&255,f>>8&255)+pt(255&E,255&u,255&f)?E:u},I.Predictor12=function(u,f,v){var E=f[v+0];return(Ze((u>>24&255)+(E>>24&255)-((f=f[v-1])>>24&255))<<24|Ze((u>>16&255)+(E>>16&255)-(f>>16&255))<<16|Ze((u>>8&255)+(E>>8&255)-(f>>8&255))<<8|Ze((255&u)+(255&E)-(255&f)))>>>0},I.Predictor13=function(u,f,v){var E=f[v-1];return(ut((u=qe(u,f[v+0]))>>24&255,E>>24&255)<<24|ut(u>>16&255,E>>16&255)<<16|ut(u>>8&255,E>>8&255)<<8|ut(u>>0&255,E>>0&255))>>>0};var wm=I.PredictorAdd0;I.PredictorAdd1=et,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Tc=I.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var pf,yi=I.ColorIndexInverseTransform,Jl=I.MapARGB,mf=I.VP8LColorIndexInverseTransformAlpha,gf=I.MapAlpha,Vo=I.VP8LPredictorsAdd=[];Vo.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Za,Ur,Nr,Bo,$s,Ws,Xl,Hs,En,Nc,Pr,_i,Zl,vf,Pc,el,tl,Uo,nl,eu,rl,qo,kc,wi,bi,Jt,Xt,Sn,Mn=s(511),Gs=s(2041),Cc=s(225),tu=s(767),yf=0,bm=Gs,_f=Cc,ri=tu,Ei=Mn,wf=0,bf=1,uv=2,Ef=3,Sf=4,Em=5,cv=6,Sm=7,Am=8,Af=9,Im=10,KE=[2,3,7],QE=[3,3,11],hv=[280,256,256,256,40],YE=[0,1,1,1,0],JE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ZE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],eS=8,xm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lc=null,tS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Ui=[],Ks=[],aS=1,dv=2,$o=[],Si=[];be("UpsampleRgbLinePair",V,3),be("UpsampleBgrLinePair",oe,3),be("UpsampleRgbaLinePair",gt,4),be("UpsampleBgraLinePair",St,4),be("UpsampleArgbLinePair",mt,4),be("UpsampleRgba4444LinePair",ke,2),be("UpsampleRgb565LinePair",pe,2);var lS=I.UpsampleRgbLinePair,uS=I.UpsampleBgrLinePair,pv=I.UpsampleRgbaLinePair,mv=I.UpsampleBgraLinePair,gv=I.UpsampleArgbLinePair,vv=I.UpsampleRgba4444LinePair,cS=I.UpsampleRgb565LinePair,If=16,xf=1<<If-1,Rc=-227,Nm=482,hS=6,yv=0,fS=s(256),dS=s(256),pS=s(256),mS=s(256),gS=s(Nm-Rc),vS=s(Nm-Rc);Ht("YuvToRgbRow",V,3),Ht("YuvToBgrRow",oe,3),Ht("YuvToRgbaRow",gt,4),Ht("YuvToBgraRow",St,4),Ht("YuvToArgbRow",mt,4),Ht("YuvToRgba4444Row",ke,2),Ht("YuvToRgb565Row",pe,2);var _v=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tf=[0,2,8],yS=[8,7,6,4,4,2,2,2,1,1,1,1],_S=1;this.WebPDecodeRGBA=function(u,f,v,E,L){var F=bf,M=new qs,U=new Yn;M.ba=U,U.S=F,U.width=[U.width],U.height=[U.height];var z=U.width,W=U.height,te=new Jr;if(te==null||u==null)var fe=2;else e(te!=null),fe=gs(u,f,v,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?z=0:(z!=null&&(z[0]=te.width[0]),W!=null&&(W[0]=te.height[0]),z=1),z){U.width=U.width[0],U.height=U.height[0],E!=null&&(E[0]=U.width),L!=null&&(L[0]=U.height);e:{if(E=new js,(L=new Oo).data=u,L.w=f,L.ha=v,L.kd=1,f=[0],e(L!=null),((u=gs(L.data,L.w,L.ha,null,null,null,f,null,L))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(M!=null),E.data=L.data,E.w=L.w+L.offset,E.ha=L.ha-L.offset,E.put=lr,E.ac=Pn,E.bc=Xr,E.ma=M,L.xa){if((u=bn())==null){M=1;break e}if(function(de,le){var xe=[0],we=[0],ne=[0];t:for(;;){if(de==null)return 0;if(le==null)return de.a=2,0;if(de.l=le,de.a=0,X(de.m,le.data,le.w,le.ha),!Ge(de.m,xe,we,ne)){de.a=3;break t}if(de.xb=dv,le.width=xe[0],le.height=we[0],!Zr(xe[0],we[0],1,de,null))break t;return 1}return e(de.a!=0),0}(u,E)){if(E=(f=Gl(E.width,E.height,M.Oa,M.ba))==0){t:{E=u;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((v=E.l)!=null),e((L=v.ma)!=null),E.xb!=0){if(E.ca=L.ba,E.tb=L.tb,e(E.ca!=null),!Ac(L.Oa,v,Ef)){E.a=2;break n}if(!ss(E,v.width)||v.da)break n;if((v.da||Nt(E.ca.S))&&ae(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ae()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!nt(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Ir(E,E.V,E.Ba,E.c,E.i,v.o,bo))break n;L.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(f=u.a)}else f=u.a}else{if((u=new Ba)==null){M=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,qa(u,E)){if((f=Gl(E.width,E.height,M.Oa,M.ba))==0){if(u.Aa=0,v=M.Oa,e((L=u)!=null),v!=null){if(0<(z=0>(z=v.Md)?0:100<z?255:255*z/100)){for(W=te=0;4>W;++W)12>(fe=L.pb[W]).lc&&(fe.ia=z*yS[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=v.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Bl(u,E)||(f=u.a)}}else f=u.a}f==0&&M.Oa!=null&&M.Oa.fd&&(f=Ic(M.ba))}M=f}F=M!=0?null:11>F?U.f.RGBA.eb:U.f.kb.y}else F=null;return F};var wv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(I,j){for(var B="",x=0;x<4;x++)B+=String.fromCharCode(I[j++]);return B}function d(I,j){return(I[j+0]<<0|I[j+1]<<8|I[j+2]<<16)>>>0}function p(I,j){return(I[j+0]<<0|I[j+1]<<8|I[j+2]<<16|I[j+3]<<24)>>>0}new l;var y=[0],g=[0],N=[],T=new l,R=t,w=function(I,j){var B={},x=0,S=!1,P=0,K=0;if(B.frames=[],!function($,Y,Z,ie){for(var ce=0;ce<ie;ce++)if($[Y+ce]!=Z.charCodeAt(ce))return!0;return!1}(I,j,"RIFF",4)){var me,ve;for(p(I,j+=4),j+=8;j<I.length;){var _e=h(I,j),X=p(I,j+=4);j+=4;var ue=X+(1&X);switch(_e){case"VP8 ":case"VP8L":B.frames[x]===void 0&&(B.frames[x]={}),(D=B.frames[x]).src_off=S?K:j-8,D.src_size=P+X+8,x++,S&&(S=!1,P=0,K=0);break;case"VP8X":(D=B.header={}).feature_flags=I[j];var he=j+4;D.canvas_width=1+d(I,he),he+=3,D.canvas_height=1+d(I,he),he+=3;break;case"ALPH":S=!0,P=ue+8,K=j-8;break;case"ANIM":(D=B.header).bgcolor=p(I,j),he=j+4,D.loop_count=(me=I)[(ve=he)+0]<<0|me[ve+1]<<8,he+=2;break;case"ANMF":var Re,D;(D=B.frames[x]={}).offset_x=2*d(I,j),j+=3,D.offset_y=2*d(I,j),j+=3,D.width=1+d(I,j),j+=3,D.height=1+d(I,j),j+=3,D.duration=d(I,j),j+=3,Re=I[j++],D.dispose=1&Re,D.blend=Re>>1&1}_e!="ANMF"&&(j+=ue)}return B}}(R,0);w.response=R,w.rgbaoutput=!0,w.dataurl=!1;var b=w.header?w.header:null,k=w.frames?w.frames:null;if(b){b.loop_counter=b.loop_count,y=[b.canvas_height],g=[b.canvas_width];for(var H=0;H<k.length&&k[H].blend!=0;H++);}var Q=k[0],re=T.WebPDecodeRGBA(R,Q.src_off,Q.src_size,g,y);Q.rgba=re,Q.imgwidth=g[0],Q.imgheight=y[0];for(var O=0;O<g[0]*y[0]*4;O++)N[O]=re[O];return this.width=g,this.height=y,this.data=N,this}(function(t){var e=function(){return typeof a0=="function"},n=function(y,g,N,T){var R=4,w=o;switch(T){case t.image_compression.FAST:R=1,w=s;break;case t.image_compression.MEDIUM:R=6,w=a;break;case t.image_compression.SLOW:R=9,w=l}y=r(y,g,N,w);var b=a0(y,{level:R});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(y,g,N,T){for(var R,w,b,k=y.length/g,H=new Uint8Array(y.length+k),Q=d(),re=0;re<k;re+=1){if(b=re*g,R=y.subarray(b,b+g),T)H.set(T(R,N,w),b+re);else{for(var O,I=Q.length,j=[];O<I;O+=1)j[O]=Q[O](R,N,w);var B=p(j.concat());H.set(j[B],b+re)}w=R}return H},i=function(y){var g=Array.apply([],y);return g.unshift(0),g},s=function(y,g){var N,T=[],R=y.length;T[0]=1;for(var w=0;w<R;w+=1)N=y[w-g]||0,T[w+1]=y[w]-N+256&255;return T},o=function(y,g,N){var T,R=[],w=y.length;R[0]=2;for(var b=0;b<w;b+=1)T=N&&N[b]||0,R[b+1]=y[b]-T+256&255;return R},a=function(y,g,N){var T,R,w=[],b=y.length;w[0]=3;for(var k=0;k<b;k+=1)T=y[k-g]||0,R=N&&N[k]||0,w[k+1]=y[k]+256-(T+R>>>1)&255;return w},l=function(y,g,N){var T,R,w,b,k=[],H=y.length;k[0]=4;for(var Q=0;Q<H;Q+=1)T=y[Q-g]||0,R=N&&N[Q]||0,w=N&&N[Q-g]||0,b=h(T,R,w),k[Q+1]=y[Q]-b+256&255;return k},h=function(y,g,N){if(y===g&&g===N)return y;var T=Math.abs(g-N),R=Math.abs(y-N),w=Math.abs(y+g-N-N);return T<=R&&T<=w?y:R<=w?g:N},d=function(){return[i,s,o,a,l]},p=function(y){var g=y.map(function(N){return N.reduce(function(T,R){return T+Math.abs(R)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(y,g,N,T){var R,w,b,k,H,Q,re,O,I,j,B,x,S,P,K,me=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(b=new JR(y)).imgData,w=b.bits,R=b.colorSpace,H=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){I=(O=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,B=new Uint8Array(I*b.colors),j=new Uint8Array(I);var _e,X=b.pixelBitlength-b.bits;for(P=0,K=0;P<I;P++){for(S=O[P],_e=0;_e<X;)B[K++]=S>>>_e&255,_e+=b.bits;j[P]=S>>>_e&255}}if(b.bits===16){I=(O=new Uint32Array(b.decodePixels().buffer)).length,B=new Uint8Array(I*(32/b.pixelBitlength)*b.colors),j=new Uint8Array(I*(32/b.pixelBitlength)),x=b.colors>1,P=0,K=0;for(var ue=0;P<I;)S=O[P++],B[K++]=S>>>0&255,x&&(B[K++]=S>>>16&255,S=O[P++],B[K++]=S>>>0&255),j[ue++]=S>>>16&255;w=8}T!==t.image_compression.NONE&&e()?(y=n(B,b.width*b.colors,b.colors,T),re=n(j,b.width,1,T)):(y=B,re=j,me=void 0)}if(b.colorType===3&&(R=this.color_spaces.INDEXED,Q=b.palette,b.transparency.indexed)){var he=b.transparency.indexed,Re=0;for(P=0,I=he.length;P<I;++P)Re+=he[P];if((Re/=255)===I-1&&he.indexOf(0)!==-1)k=[he.indexOf(0)];else if(Re!==I){for(O=b.decodePixels(),j=new Uint8Array(O.length),P=0,I=O.length;P<I;P++)j[P]=he[O[P]];re=n(j,b.width,1)}}var D=function($){var Y;switch($){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(T);return me===this.decode.FLATE_DECODE&&(ve="/Predictor "+D+" "),ve+="/Colors "+H+" /BitsPerComponent "+w+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:N,data:y,index:g,filter:me,decodeParameters:ve,transparency:k,palette:Q,sMask:re,predictor:D,width:b.width,height:b.height,bitsPerComponent:w,colorSpace:R}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new XR(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:o,height:a},d=new Cg(100).encode(h,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),Wi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},Wi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Wi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Wi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Wi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=t}},Wi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Wi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Wi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Wi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Wi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new Cg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),R_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new R_(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new Cg(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var d=r[h],p=r[h+1],y=r[h+2],g=r[h+3];s[a++]=d,s[a++]=p,s[a++]=y,o[l++]=g}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lu=ot.API,ud=lu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,p=e.doKerning!==!1,y=0,g=t.length,N=0,T=a[0]||l,R=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=p&&qt(h[r])==="object"&&!isNaN(parseInt(h[r][N],10))?h[r][N]/d:0,R.push((a[r]||T)/l+y)),N=r;return R},P_=lu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lu.processArabic&&(t=lu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ud.apply(this,arguments).reduce(function(s,o){return s+o},0)},k_=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},C_=function(t,e,n){n||(n={});var r,i,s,o,a,l,h,d=[],p=[d],y=n.textIndent||0,g=0,N=0,T=t.split(" "),R=ud.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),b=[];T.map(function(H){(H=H.split(/\s*\n/)).length>1?b=b.concat(H.map(function(Q,re){return(re&&Q.length?`
`:"")+Q})):b.push(H[0])}),T=b,l=P_.apply(this,[w,n])}for(s=0,o=T.length;s<o;s++){var k=0;if(r=T[s],l&&r[0]==`
`&&(r=r.substr(1),k=1),y+g+(N=(i=ud.apply(this,[r,n])).reduce(function(H,Q){return H+Q},0))>e||k){if(N>e){for(a=k_.apply(this,[r,i,e-(y+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)p.push([a.shift()]);N=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(H,Q){return H+Q},0)}else d=[r];p.push(d),y=N+l,g=R}else d.push(r),y+=g+N,g=R}return h=l?function(H,Q){return(Q?w:"")+H.join(" ")}:function(H){return H.join(" ")},p.map(h)},lu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(C_.apply(this,[r[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var y,g,N,T,R=["{"];for(var w in p){if(y=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof y=="number")y<0?(N=s(y).slice(3),T="-"):(N=s(y).slice(2),T=""),N=T+N.slice(0,-1)+r[N.slice(-1)];else{if(qt(y)!=="object")throw new Error("Don't know what to do with value type "+qt(y)+".");N=o(y)}R.push(g+N)}return R.push("}"),R.join("")},a=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,N,T,R={},w=1,b=R,k=[],H="",Q="",re=p.length-1,O=1;O<re;O+=1)(T=p[O])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(T):T=="{"?(k.push([b,N]),b={},N=void 0):T=="}"?((g=k.pop())[0][g[1]]=b,N=void 0,b=g[0]):T=="-"?w=-1:N===void 0?n.hasOwnProperty(T)?(H+=n[T],N=parseInt(H,16)*w,w=1,H=""):H+=T:n.hasOwnProperty(T)?(Q+=n[T],b[N]=parseInt(Q,16)*w,w=1,N=void 0,Q=""):Q+=T;return R},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var y=p.font,g=d.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var N=h.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(_h(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):n0(()=>import("./index.es-CyrdvhK-.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,o,a,l,h){if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(N){return N.fromString(p,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,l,h)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],h=0,d=0,p=0;function y(N,T){var R,w=!1;for(R=0;R<N.length;R+=1)N[R]===T&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(p=0;p<g;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(qt(t)==="object"){for(i in t)if(s=t[i],y(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")l.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&l.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?T.push("/"+N+" /"+n[N].value):T.push("/"+N+" "+n[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],p=0,y=s.length;p<y;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,h,d,p,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,y=(a=Object.keys(s).sort(function(g,N){return g-N})).length;p<y;p++)o=a[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+h+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",N=0;N<y.length;N++)g+=String.fromCharCode(y[N]);var T=h();d({data:g,addLength1:!0,objectId:T}),l("endobj");var R=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),l("endobj");var w=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+pu(a.fontName)),l("/FontFile2 "+T+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+pu(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+R+" 0 R"),l("/BaseFont /"+pu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);var N=h();d({data:y,addLength1:!0,objectId:N}),l("endobj");var T=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var R=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+N+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+pu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+pu(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,h=s.y,d=s.options||{},p=s.mutex||{},y=p.pdfEscape,g=p.activeFontKey,N=p.fonts,T=g,R="",w=0,b="",k=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:a,x:l,y:h,options:d,mutex:p};for(b=a,T=g,Array.isArray(a)&&(b=a[0]),w=0;w<b.length;w+=1)N[T].metadata.hasOwnProperty("cmap")&&(o=N[T].metadata.cmap.unicode.codeMap[b[w].charCodeAt(0)]),o||b[w].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?R+=b[w]:R+="";var H="";return parseInt(T.slice(1))<14||k==="WinAnsiEncoding"?H=y(R,T).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(H=n(R,N[T])),p.isHex=!0,{text:H,x:l,y:h,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},l,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},l,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,h,d,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,k=0;this.__bidiEngine__={};var H=function(x){var S=x.charCodeAt(),P=S>>8,K=T[P];return K!==void 0?p[256*K+(255&S)]:P===252||P===253?"AL":w.test(P)?"L":P===8?"R":"N"},Q=function(x){for(var S,P=0;P<x.length;P++){if((S=H(x.charAt(P)))==="L")return!1;if(S==="R")return!0}return!1},re=function(x,S,P,K){var me,ve,_e,X,ue=S[K];switch(ue){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ue="AN");break;case"AL":b=!0,ue="R";break;case"WS":ue="N";break;case"CS":K<1||K+1>=S.length||(me=P[K-1])!=="EN"&&me!=="AN"||(ve=S[K+1])!=="EN"&&ve!=="AN"?ue="N":b&&(ve="AN"),ue=ve===me?ve:"N";break;case"ES":ue=(me=K>0?P[K-1]:"B")==="EN"&&K+1<S.length&&S[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&P[K-1]==="EN"){ue="EN";break}if(b){ue="N";break}for(_e=K+1,X=S.length;_e<X&&S[_e]==="ET";)_e++;ue=_e<X&&S[_e]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=S.length,_e=K+1;_e<X&&S[_e]==="NSM";)_e++;if(_e<X){var he=x[K],Re=he>=1425&&he<=2303||he===64286;if(me=S[_e],Re&&(me==="R"||me==="AL")){ue="R";break}}}ue=K<1||(me=S[K-1])==="B"?"N":P[K-1];break;case"B":b=!1,i=!0,ue=k;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ue="N"}return ue},O=function(x,S,P){var K=x.split("");return P&&I(K,P,{hiLevel:k}),K.reverse(),S&&S.reverse(),K.join("")},I=function(x,S,P){var K,me,ve,_e,X,ue=-1,he=x.length,Re=0,D=[],$=k?g:y,Y=[];for(b=!1,i=!1,s=!1,me=0;me<he;me++)Y[me]=H(x[me]);for(ve=0;ve<he;ve++){if(X=Re,D[ve]=re(x,Y,D,ve),K=240&(Re=$[X][N[D[ve]]]),Re&=15,S[ve]=_e=$[Re][5],K>0)if(K===16){for(me=ue;me<ve;me++)S[me]=1;ue=-1}else ue=-1;if($[Re][6])ue===-1&&(ue=ve);else if(ue>-1){for(me=ue;me<ve;me++)S[me]=_e;ue=-1}Y[ve]==="B"&&(S[ve]=0),P.hiLevel|=_e}s&&function(Z,ie,ce){for(var ge=0;ge<ce;ge++)if(Z[ge]==="S"){ie[ge]=k;for(var ye=ge-1;ye>=0&&Z[ye]==="WS";ye--)ie[ye]=k}}(Y,S,he)},j=function(x,S,P,K,me){if(!(me.hiLevel<x)){if(x===1&&k===1&&!i)return S.reverse(),void(P&&P.reverse());for(var ve,_e,X,ue,he=S.length,Re=0;Re<he;){if(K[Re]>=x){for(X=Re+1;X<he&&K[X]>=x;)X++;for(ue=Re,_e=X-1;ue<_e;ue++,_e--)ve=S[ue],S[ue]=S[_e],S[_e]=ve,P&&(ve=P[ue],P[ue]=P[_e],P[_e]=ve);Re=X}Re++}}},B=function(x,S,P){var K=x.split(""),me={hiLevel:k};return P||(P=[]),I(K,P,me),function(ve,_e,X){if(X.hiLevel!==0&&d)for(var ue,he=0;he<ve.length;he++)_e[he]===1&&(ue=R.indexOf(ve[he]))>=0&&(ve[he]=R[ue+1])}(K,P,me),j(2,K,S,P,me),j(1,K,S,P,me),K.join("")};return this.__bidiEngine__.doBidiReorder=function(x,S,P){if(function(me,ve){if(ve)for(var _e=0;_e<me.length;_e++)ve[_e]=_e;a===void 0&&(a=Q(me)),h===void 0&&(h=Q(me))}(x,S),o||!l||h)if(o&&l&&a^h)k=a?1:0,x=O(x,S,P);else if(!o&&l&&h)k=a?1:0,x=B(x,S,P),x=O(x,S);else if(!o||a||l||h){if(o&&!l&&a^h)x=O(x,S),a?(k=0,x=B(x,S,P)):(k=1,x=B(x,S,P),x=O(x,S));else if(o&&a&&!l&&h)k=1,x=B(x,S,P),x=O(x,S);else if(!o&&!l&&a^h){var K=d;a?(k=1,x=B(x,S,P),k=0,d=!1,x=B(x,S,P),d=K):(k=0,x=B(x,S,P),x=O(x,S),k=1,d=!1,x=B(x,S,P),d=K,x=O(x,S))}}else k=0,x=B(x,S,P);else k=a?1:0,x=B(x,S,P);return x},this.__bidiEngine__.setOptions=function(x){x&&(o=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,h=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ra(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new d8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ZR(this.contents),this.head=new t8(this),this.name=new o8(this),this.cmap=new zE(this),this.toUnicode={},this.hhea=new n8(this),this.maxp=new a8(this),this.hmtx=new l8(this),this.post=new i8(this),this.os2=new r8(this),this.loca=new f8(this),this.glyf=new u8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,h;for(h=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var rs,Ra=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),ZR=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,h,d,p,y,g,N,T;for(T in g=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(g)/l),o=Math.floor(p/l),d=16*g-p,(i=new Ra).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(d),s=16*g,h=i.pos+s,a=null,N=[],n)for(y=n[T],i.writeString(T),i.writeInt(t(y)),i.writeInt(h),i.writeInt(y.length),N=N.concat(y),T==="head"&&(a=h),h+=y.length;h%4;)N.push(0),h++;return i.write(N),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=$E.call(n);n.length%4;)n.push(0);for(s=new Ra(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),e8={}.hasOwnProperty,Ls=function(t,e){for(var n in e)e8.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};rs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var t8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ra).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),D_=function(){function t(e,n){var r,i,s,o,a,l,h,d,p,y,g,N,T,R,w,b,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,s=function(){var H,Q;for(Q=[],l=H=0;0<=y?H<y:H>y;l=0<=y?++H:--H)Q.push(e.readUInt16());return Q}(),e.pos+=2,T=function(){var H,Q;for(Q=[],l=H=0;0<=y?H<y:H>y;l=0<=y?++H:--H)Q.push(e.readUInt16());return Q}(),h=function(){var H,Q;for(Q=[],l=H=0;0<=y?H<y:H>y;l=0<=y?++H:--H)Q.push(e.readUInt16());return Q}(),d=function(){var H,Q;for(Q=[],l=H=0;0<=y?H<y:H>y;l=0<=y?++H:--H)Q.push(e.readUInt16());return Q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var H,Q;for(Q=[],l=H=0;0<=i?H<i:H>i;l=0<=i?++H:--H)Q.push(e.readUInt16());return Q}(),l=w=0,k=s.length;w<k;l=++w)for(R=s[l],r=b=N=T[l];N<=R?b<=R:b>=R;r=N<=R?++b:--b)d[l]===0?o=r+h[l]:(o=a[d[l]/2+(r-N)-(y-l)]||0)!==0&&(o+=h[l]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,s,o,a,l,h,d,p,y,g,N,T,R,w,b,k,H,Q,re,O,I,j,B,x,S,P,K,me,ve,_e,X,ue,he,Re,D,$,Y,Z,ie,ce,ge,ye,je,Le,Be;switch(K=new Ra,o=Object.keys(e).sort(function(Me,nt){return Me-nt}),n){case"macroman":for(T=0,R=function(){var Me=[];for(N=0;N<256;++N)Me.push(0);return Me}(),b={0:0},s={},me=0,ue=o.length;me<ue;me++)b[ye=e[i=o[me]]]==null&&(b[ye]=++T),s[i]={old:e[i],new:b[e[i]]},R[i]=b[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(R),{charMap:s,subtable:K.data,maxGlyphID:T+1};case"unicode":for(S=[],p=[],k=0,b={},r={},w=h=null,ve=0,he=o.length;ve<he;ve++)b[Q=e[i=o[ve]]]==null&&(b[Q]=++k),r[i]={old:Q,new:b[Q]},a=b[Q]-i,w!=null&&a===h||(w&&p.push(w),S.push(i),h=a),w=i;for(w&&p.push(w),p.push(65535),S.push(65535),B=2*(j=S.length),I=2*Math.pow(Math.log(j)/Math.LN2,2),y=Math.log(I/2)/Math.LN2,O=2*j-I,l=[],re=[],g=[],N=_e=0,Re=S.length;_e<Re;N=++_e){if(x=S[N],d=p[N],x===65535){l.push(0),re.push(0);break}if(x-(P=r[x].new)>=32768)for(l.push(0),re.push(2*(g.length+j-N)),i=X=x;x<=d?X<=d:X>=d;i=x<=d?++X:--X)g.push(r[i].new);else l.push(P-x),re.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*j+2*g.length),K.writeUInt16(0),K.writeUInt16(B),K.writeUInt16(I),K.writeUInt16(y),K.writeUInt16(O),ce=0,D=p.length;ce<D;ce++)i=p[ce],K.writeUInt16(i);for(K.writeUInt16(0),ge=0,$=S.length;ge<$;ge++)i=S[ge],K.writeUInt16(i);for(je=0,Y=l.length;je<Y;je++)a=l[je],K.writeUInt16(a);for(Le=0,Z=re.length;Le<Z;Le++)H=re[Le],K.writeUInt16(H);for(Be=0,ie=g.length;Be<ie;Be++)T=g[Be],K.writeUInt16(T);return{charMap:r,subtable:K.data,maxGlyphID:k+1}}},t}(),zE=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new D_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=D_.encode(n,r),(s=new Ra).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),n8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),r8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),i8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),s8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},o8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,h,d,p,y,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},o=p=0,y=i.length;p<y;o=++p)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new s8(d,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),a8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),l8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)p.push(n.readInt16());return p}(),this.widths=(function(){var d,p,y,g;for(g=[],d=0,p=(y=this.metrics).length;d<p;d++)o=y[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),$E=[].slice,u8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,h,d,p,y;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Ra(r.read(s))).readShort(),d=l.readShort(),y=l.readShort(),h=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new h8(l,d,y,h,p):new c8(l,a,d,y,h,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,h;for(a=[],o=[],l=0,h=r.length;l<h;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),c8=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),h8=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ra($E.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),f8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ls(e,rs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(s+=h)}for(var d=new Array(4*i.length),p=0;p<i.length;++p)d[4*p+3]=255&i[p],d[4*p+2]=(65280&i[p])>>8,d[4*p+1]=(16711680&i[p])>>16,d[4*p]=(4278190080&i[p])>>24;return d},e}(),d8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,h,d,p,y,g,N,T,R,w;for(i in r=zE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},w=r.charMap)g[(l=w[i]).old]=l.new;for(N in y=r.maxGlyphID,o)N in g||(g[N]=y++);return d=function(b){var k,H;for(k in H={},b)H[b[k]]=k;return H}(g),p=Object.keys(d).sort(function(b,k){return b-k}),T=function(){var b,k,H;for(H=[],b=0,k=p.length;b<k;b++)a=p[b],H.push(d[a]);return H}(),s=this.font.glyf.encode(o,T,g),h=this.font.loca.encode(s.offsets,T),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();async function p8(t,e,n,r){const i=new ot("portrait","mm","a4"),s=r?n:[n[0]],o=dR(t,e);let a=null;try{const p=await fetch("/logo_black.png");if(p.ok){const y=await p.blob();a=await new Promise(g=>{const N=new FileReader;N.onloadend=()=>g(N.result),N.readAsDataURL(y)})}}catch(p){console.log("Could not load logo:",p)}s.forEach((p,y)=>{y>0&&i.addPage(),m8(i,t,e,o,p,a)});const l=EE(e),d=`Timeregistrering_${SE(t,e).replace(" / ","_")}_${l.replace(" / ","_")}.pdf`;i.save(d)}function m8(t,e,n,r,i,s){const o=t.internal.pageSize.getWidth(),a=t.internal.pageSize.getHeight(),l=15;let h=l;t.setFontSize(18),t.setFont("helvetica","bold");const d=SE(e,n);if(t.text(`${d} Timeregistrering`,l,h),s)try{t.addImage(s,"PNG",o-l-40,h-5,40,20)}catch(w){console.log("Error adding logo to PDF:",w)}h+=8,t.setFontSize(12),t.setFont("helvetica","normal");const p=EE(n);t.text(p,l,h),h+=8,t.setFontSize(9),t.setFont("helvetica","normal"),t.text("AC Handymand.dk ApS",l,h),h+=4,t.text("Axel Juels All 72",l,h),h+=4,t.text("2750 Ballerup",l,h),h+=4,t.text("CVR 42397792",l,h),h+=6,t.setFont("helvetica","normal"),t.setFontSize(9),t.text("Oversigt over arbejdstimer, SH og overarbejde (OA).",l,h),h+=4,t.setFont("helvetica","bold"),t.setTextColor(255,0,0),t.text("Afleveres d. 19 i hver mned.",l,h),t.setTextColor(0,0,0),h+=8,g8(t,l,h,o-2*l,r);const y=a-25,g=o/3,N=(o-g)/2;t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Underskrift:",N-25,y),t.line(N,y,N+g,y);const T=t.getTextWidth(i),R=N+(g-T)/2;t.text(i,R,y+6)}function g8(t,e,n,r,i){const s=[{header:"Dato",width:12},{header:"Ugedag",width:14},{header:"Fra kl. / Til kl.",width:32},{header:"Total timer",width:22},{header:`Total timer
minus frokost`,width:28},{header:`Kundens navn / Nume client
By / Oras`,width:50},{header:"Arb. timer",width:22},{header:"OA",width:8}],o=s.reduce((p,y)=>p+y.width,0),a=r/o;s.forEach(p=>p.width*=a);const l=6,h=8;let d=e;t.setFontSize(8),t.setFont("helvetica","bold"),s.forEach(p=>{t.rect(d,n,p.width,h);const y=p.header.split(`
`),g=3,N=n+3;y.forEach((T,R)=>{t.text(T,d+1,N+R*g)}),d+=p.width}),n+=h,t.setFont("helvetica","normal"),t.setFontSize(8),i.forEach(p=>{d=e,s.forEach((y,g)=>{t.rect(d,n,y.width,l);let N="",T=[0,0,0];g===0?N=p.formattedDate:g===1&&(N=p.weekday,p.isWeekend&&(T=[255,0,0])),N&&(t.setTextColor(...T),t.text(N,d+1,n+l/2+1.5),t.setTextColor(0,0,0)),d+=y.width}),n+=l})}function v8(){const[t,e]=Se.useState(new Date().getFullYear()),[n,r]=Se.useState(new Date().getMonth()),[i,s]=Se.useState(!1),[o,a]=Se.useState(""),[l,h]=Se.useState([]),[d,p]=Se.useState(!1),[y,g]=Se.useState(!1),N=pR(),T=Array.from({length:10},(b,k)=>new Date().getFullYear()-2+k);Se.useEffect(()=>{R()},[]);const R=async()=>{p(!0);try{const b=await mm(Nl(Bn,"employees")),k=[];b.forEach(H=>{k.push({id:H.id,...H.data()})}),k.sort((H,Q)=>H.name.localeCompare(Q.name)),h(k),k.length>0&&!o&&a(k[0].name)}catch(b){console.error("Error loading employees:",b)}finally{p(!1)}},w=async()=>{if(!i&&!o){alert("Vlg venligst en medarbejder.");return}g(!0);try{const b=i?l.map(k=>k.name):[o];await p8(t,n,b,i)}catch(b){console.error("Error generating PDF:",b),alert("Der opstod en fejl ved generering af PDF. Prv igen.")}finally{g(!1)}};return q.jsxs("div",{children:[q.jsxs("div",{className:"page-header",children:[q.jsx("h1",{children:"Timeregistrering"}),q.jsx("p",{children:"Generr timeregistreringsformularer til medarbejdere"})]}),q.jsx("div",{className:"content-card",children:q.jsxs("div",{className:"timesheet-form",children:[q.jsxs("div",{className:"form-section",children:[q.jsx("label",{htmlFor:"year",children:"Vlg r"}),q.jsx("select",{id:"year",value:t,onChange:b=>e(Number(b.target.value)),children:T.map(b=>q.jsx("option",{value:b,children:b},b))})]}),q.jsxs("div",{className:"form-section",children:[q.jsx("label",{htmlFor:"monthPair",children:"Vlg mneder"}),q.jsx("select",{id:"monthPair",value:n,onChange:b=>r(Number(b.target.value)),children:N.map(b=>q.jsx("option",{value:b.value,children:b.label},b.value))})]}),q.jsxs("div",{className:"form-section",children:[q.jsx("label",{children:"Ansatte"}),q.jsxs("div",{className:"checkbox-group",children:[q.jsx("input",{type:"checkbox",id:"allEmployees",checked:i,onChange:b=>s(b.target.checked)}),q.jsx("label",{htmlFor:"allEmployees",children:"Alle ansatte"})]}),d?q.jsx("p",{children:"Indlser medarbejdere..."}):q.jsx("select",{value:o,onChange:b=>a(b.target.value),disabled:i||l.length===0,children:l.length===0?q.jsx("option",{value:"",children:"Ingen medarbejdere tilgngelige"}):l.map(b=>q.jsx("option",{value:b.name,children:b.name},b.id))})]}),y&&q.jsxs("div",{className:"loading-indicator",children:[q.jsx("div",{className:"spinner"}),q.jsx("span",{children:"Genererer dokument..."})]}),q.jsx("button",{className:"btn-generate",onClick:w,disabled:y||l.length===0,children:"Generr og download dokument"}),l.length===0&&!d&&q.jsx("p",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"10px"},children:"Ingen medarbejdere fundet. Tilfj medarbejdere i Indstillinger frst."})]})})]})}function y8({employee:t,onSave:e,onClose:n,isOpen:r}){const[i,s]=Se.useState("");Se.useEffect(()=>{s(t&&t.name||"")},[t,r]);const o=a=>{if(a.preventDefault(),!i.trim()){alert("Indtast venligst et navn.");return}e({name:i.trim()})};return r?q.jsx("div",{className:"modal-overlay",onClick:n,children:q.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:t?"Redigr medarbejder":"Tilfj medarbejder"}),q.jsx("button",{className:"modal-close",onClick:n,children:""})]}),q.jsxs("form",{onSubmit:o,children:[q.jsx("div",{className:"modal-body",children:q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"employeeName",children:"Navn *"}),q.jsx("input",{type:"text",id:"employeeName",value:i,onChange:a=>s(a.target.value),placeholder:"Indtast medarbejdernavn",autoFocus:!0,required:!0})]})}),q.jsxs("div",{className:"modal-footer",children:[q.jsx("button",{type:"button",className:"btn-secondary",onClick:n,children:"Annuller"}),q.jsx("button",{type:"submit",className:"btn-primary",children:t?"Gem":"Tilfj"})]})]})]})}):null}function _8(){const[t,e]=Se.useState([]),[n,r]=Se.useState(!1),[i,s]=Se.useState(!1),[o,a]=Se.useState(null),[l,h]=Se.useState(450),[d,p]=Se.useState(!1),[y,g]=Se.useState(450);Se.useEffect(()=>{N(),T()},[]);const N=async()=>{try{const Q=await rv(ui(Bn,"settings","hourlyRates"));if(Q.exists()){const re=Q.data().defaultRate||450;h(re),g(re)}}catch(Q){console.error("Error loading settings:",Q)}},T=async()=>{r(!0);try{const Q=await mm(Nl(Bn,"employees")),re=[];Q.forEach(O=>{re.push({id:O.id,...O.data()})}),re.sort((O,I)=>O.name.localeCompare(I.name)),e(re)}catch(Q){console.error("Error loading employees:",Q),alert("Der opstod en fejl ved indlsning af medarbejdere.")}finally{r(!1)}},R=async()=>{try{const Q=parseFloat(y);if(isNaN(Q)||Q<=0){alert("Indtast venligst en gyldig timepris.");return}await t0(ui(Bn,"settings","hourlyRates"),{defaultRate:Q,updatedAt:new Date().toISOString()}),h(Q),p(!1),alert("Timepris gemt!")}catch(Q){console.error("Error saving default rate:",Q),alert("Der opstod en fejl ved gemning af timepris.")}},w=()=>{a(null),s(!0)},b=Q=>{a(Q),s(!0)},k=async Q=>{if(window.confirm(`Er du sikker p, at du vil slette ${Q.name}?`))try{await xp(ui(Bn,"employees",Q.id)),await T()}catch(re){console.error("Error deleting employee:",re),alert("Der opstod en fejl ved sletning af medarbejder.")}},H=async Q=>{try{o?await Ip(ui(Bn,"employees",o.id),{name:Q.name,updatedAt:new Date().toISOString()}):await iv(Nl(Bn,"employees"),{name:Q.name,createdAt:new Date().toISOString()}),s(!1),await T()}catch(re){console.error("Error saving employee:",re),alert("Der opstod en fejl ved gemning af medarbejder.")}};return q.jsxs("div",{children:[q.jsxs("div",{className:"page-header",children:[q.jsx("h1",{children:"Indstillinger"}),q.jsx("p",{children:"Administrr medarbejdere og priser"})]}),q.jsxs("div",{className:"content-card",style:{marginBottom:"20px"},children:[q.jsx("h2",{style:{marginBottom:"20px",fontSize:"20px",color:"#2c3e50"},children:"Standard Timepris"}),d?q.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[q.jsx("input",{type:"number",value:y,onChange:Q=>g(Q.target.value),min:"0",step:"50",style:{padding:"10px",fontSize:"18px",width:"150px",border:"1px solid #ddd",borderRadius:"5px"},autoFocus:!0}),q.jsx("span",{style:{color:"#7f8c8d"},children:"kr/time"})]}),q.jsxs("div",{style:{display:"flex",gap:"10px"},children:[q.jsx("button",{className:"btn-secondary",onClick:()=>{g(l),p(!1)},children:"Annuller"}),q.jsx("button",{className:"btn-primary",onClick:R,children:"Gem"})]})]}):q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[q.jsxs("div",{children:[q.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#27ae60",marginBottom:"5px"},children:[l," kr"]}),q.jsx("div",{style:{fontSize:"14px",color:"#7f8c8d"},children:"Standard timepris brugt for alle sager (kan tilpasses per sag)"})]}),q.jsx("button",{className:"btn-secondary",onClick:()=>p(!0),children:"Redigr"})]})]}),q.jsxs("div",{className:"content-card",children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[q.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#2c3e50"},children:"Medarbejdere"}),q.jsx("button",{className:"btn-primary",onClick:w,children:"+ Tilfj Medarbejder"})]}),n?q.jsx("p",{children:"Indlser medarbejdere..."}):t.length===0?q.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#7f8c8d"},children:q.jsx("p",{children:"Ingen medarbejdere tilfjet endnu."})}):q.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[q.jsx("thead",{children:q.jsxs("tr",{style:{borderBottom:"2px solid #ecf0f1"},children:[q.jsx("th",{style:{textAlign:"left",padding:"12px",color:"#2c3e50",fontWeight:"600"},children:"Navn"}),q.jsx("th",{style:{textAlign:"right",padding:"12px",color:"#2c3e50",fontWeight:"600"},children:"Handlinger"})]})}),q.jsx("tbody",{children:t.map(Q=>q.jsxs("tr",{style:{borderBottom:"1px solid #ecf0f1"},children:[q.jsx("td",{style:{padding:"15px"},children:q.jsx("strong",{style:{fontSize:"15px",color:"#2c3e50"},children:Q.name})}),q.jsxs("td",{style:{padding:"15px",textAlign:"right"},children:[q.jsx("button",{className:"btn-action btn-edit",onClick:()=>b(Q),children:"Redigr"}),q.jsx("button",{className:"btn-action btn-delete",onClick:()=>k(Q),children:"Slet"})]})]},Q.id))})]})]}),q.jsx(y8,{isOpen:i,onClose:()=>s(!1),onSave:H,employee:o})]})}const w8=async t=>{const e=ui(Bn,"projectCounter",String(t));try{const n=await rv(e);if(n.exists()){const i=(n.data().currentNumber||0)+1;return await t0(e,{currentNumber:i}),O_(t,i)}else return await t0(e,{currentNumber:1}),O_(t,1)}catch(n){throw console.error("Error getting next project number:",n),n}},O_=(t,e)=>{const n=String(e).padStart(4,"0");return`${t}-${n}`},WE=t=>!t||t.length===0?0:t.reduce((e,n)=>e+(n.duration||0),0),b8=t=>!t||t.length===0?0:t.filter(e=>e.billable).reduce((e,n)=>e+(n.duration||0),0),E8=t=>!t||t.length===0?0:t.filter(e=>e.billable).reduce((e,n)=>e+(n.duration||0)*(n.rate||0),0),p0=async t=>{try{const e=nR(Nl(Bn,"timeEntries"),rR("projectId","==",t)),n=await mm(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r.sort((i,s)=>new Date(s.date)-new Date(i.date)),r}catch(e){throw console.error("Error getting project time entries:",e),e}},S8=t=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!0,A8=t=>t?t.replace(/\D/g,"").length===8:!0;function HE({isOpen:t,onClose:e,onSave:n,project:r}){const[i,s]=Se.useState({name:"",customerName:"",customerPhone:"",customerEmail:"",address:"",type:"fixed-price",status:"planned"}),[o,a]=Se.useState({});Se.useEffect(()=>{s(r?{name:r.name||"",customerName:r.customerName||"",customerPhone:r.customerPhone||"",customerEmail:r.customerEmail||"",address:r.address||"",type:r.type||"fixed-price",status:r.status||"planned"}:{name:"",customerName:"",customerPhone:"",customerEmail:"",address:"",type:"fixed-price",status:"planned"}),a({})},[r,t]);const l=p=>{const{name:y,value:g}=p.target;s(N=>({...N,[y]:g})),o[y]&&a(N=>({...N,[y]:null}))},h=()=>{const p={};return(!i.name||i.name.trim().length<3)&&(p.name="Sagsnavn skal vre mindst 3 tegn"),i.customerEmail&&!S8(i.customerEmail)&&(p.customerEmail="Ugyldig email adresse"),i.customerPhone&&!A8(i.customerPhone)&&(p.customerPhone="Telefonnummer skal vre 8 cifre"),a(p),Object.keys(p).length===0},d=p=>{p.preventDefault(),h()&&n(i)};return t?q.jsx("div",{className:"modal-overlay",onClick:e,children:q.jsxs("div",{className:"modal-content",onClick:p=>p.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:r?"Redigr Sag":"Ny Sag"}),q.jsx("button",{className:"modal-close",onClick:e,children:""})]}),q.jsxs("form",{onSubmit:d,children:[q.jsxs("div",{className:"modal-body",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"name",children:"Sagsnavn *"}),q.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:l,className:o.name?"error":"",placeholder:"F.eks. Kkkenrenovering"}),o.name&&q.jsx("span",{className:"error-message",children:o.name})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"customerName",children:"Kundenavn"}),q.jsx("input",{type:"text",id:"customerName",name:"customerName",value:i.customerName,onChange:l,placeholder:"F.eks. Peter Jensen"})]}),q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"customerPhone",children:"Telefon"}),q.jsx("input",{type:"text",id:"customerPhone",name:"customerPhone",value:i.customerPhone,onChange:l,className:o.customerPhone?"error":"",placeholder:"12345678"}),o.customerPhone&&q.jsx("span",{className:"error-message",children:o.customerPhone})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"customerEmail",children:"Email"}),q.jsx("input",{type:"email",id:"customerEmail",name:"customerEmail",value:i.customerEmail,onChange:l,className:o.customerEmail?"error":"",placeholder:"kunde@example.com"}),o.customerEmail&&q.jsx("span",{className:"error-message",children:o.customerEmail})]})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"address",children:"Adresse"}),q.jsx("input",{type:"text",id:"address",name:"address",value:i.address,onChange:l,placeholder:"F.eks. Hovedgaden 123, 1234 Kbenhavn"})]}),q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"type",children:"Type *"}),q.jsxs("select",{id:"type",name:"type",value:i.type,onChange:l,children:[q.jsx("option",{value:"fixed-price",children:"Fast Pris"}),q.jsx("option",{value:"time-material",children:"Tid & Materiale"})]})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"status",children:"Status *"}),q.jsxs("select",{id:"status",name:"status",value:i.status,onChange:l,children:[q.jsx("option",{value:"planned",children:"Planlagt"}),q.jsx("option",{value:"in-progress",children:"I Gang"}),q.jsx("option",{value:"ready-for-invoice",children:"Klar til Faktura"}),q.jsx("option",{value:"closed",children:"Lukket"})]})]})]})]}),q.jsxs("div",{className:"modal-footer",children:[q.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Annuller"}),q.jsx("button",{type:"submit",className:"btn-primary",children:r?"Gem ndringer":"Opret Sag"})]})]})]})}):null}function GE({status:t}){const e=r=>{switch(r){case"planned":return"#3498db";case"in-progress":return"#e67e22";case"ready-for-invoice":return"#27ae60";case"closed":return"#95a5a6";default:return"#95a5a6"}},n=r=>{switch(r){case"planned":return"Planlagt";case"in-progress":return"I Gang";case"ready-for-invoice":return"Klar til Faktura";case"closed":return"Lukket";default:return r}};return q.jsx("span",{className:"status-badge",style:{backgroundColor:e(t),color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"13px",fontWeight:"500",display:"inline-block"},children:n(t)})}const Od=t=>new Intl.NumberFormat("da-DK",{style:"currency",currency:"DKK",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),I8=t=>{if(!t)return"";const n=t.replace(/\D/g,"").match(/^(\d{2})(\d{2})(\d{2})(\d{2})$/);return n?`${n[1]} ${n[2]} ${n[3]} ${n[4]}`:t},x8=t=>t?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t)}`:"#",j_=t=>{if(!t)return"";typeof t=="string"&&(t=new Date(t));const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${e}/${n}/${r}`},Lg=t=>!t&&t!==0?"0":Number(t).toFixed(1).replace(".",","),uu=t=>typeof t=="number"?t:t&&parseFloat(String(t).replace(",","."))||0;function T8(){const t=fc(),[e,n]=Se.useState([]),[r,i]=Se.useState([]),[s,o]=Se.useState(!1),[a,l]=Se.useState(!1),[h,d]=Se.useState(null),[p,y]=Se.useState(""),[g,N]=Se.useState("all"),[T,R]=Se.useState("all"),[w,b]=Se.useState({});Se.useEffect(()=>{k()},[]),Se.useEffect(()=>{Q()},[e,p,g,T]);const k=async()=>{o(!0);try{const S=await mm(Nl(Bn,"projects")),P=[];S.forEach(K=>{P.push({id:K.id,...K.data()})}),P.sort((K,me)=>me.projectNumber&&K.projectNumber?me.projectNumber.localeCompare(K.projectNumber):0),n(P),H(P)}catch(S){console.error("Error loading projects:",S),alert("Der opstod en fejl ved indlsning af sager.")}finally{o(!1)}},H=async S=>{const P={};for(const K of S)try{const me=await p0(K.id);P[K.id]=WE(me)}catch(me){console.error(`Error loading hours for project ${K.id}:`,me),P[K.id]=0}b(P)},Q=()=>{let S=[...e];if(p.trim()){const P=p.toLowerCase();S=S.filter(K=>K.name&&K.name.toLowerCase().includes(P)||K.customerName&&K.customerName.toLowerCase().includes(P)||K.projectNumber&&K.projectNumber.toLowerCase().includes(P))}g!=="all"&&(S=S.filter(P=>P.status===g)),T!=="all"&&(S=S.filter(P=>P.type===T)),i(S)},re=()=>{d(null),l(!0)},O=(S,P)=>{S.stopPropagation(),d(P),l(!0)},I=async(S,P)=>{if(S.stopPropagation(),window.confirm(`Er du sikker p, at du vil slette sagen "${P.name}"?

Dette vil ogs slette alle tilknyttede timer.`))try{const K=await p0(P.id);for(const me of K)await xp(ui(Bn,"timeEntries",me.id));await xp(ui(Bn,"projects",P.id)),await k()}catch(K){console.error("Error deleting project:",K),alert("Der opstod en fejl ved sletning af sag.")}},j=async S=>{try{const P="Admin";if(h)await Ip(ui(Bn,"projects",h.id),{...S,updatedAt:new Date().toISOString(),updatedBy:P});else{const K=await w8(new Date().getFullYear());await iv(Nl(Bn,"projects"),{...S,projectNumber:K,assignedTo:P,createdAt:new Date().toISOString(),createdBy:P,updatedAt:new Date().toISOString(),updatedBy:P})}l(!1),await k()}catch(P){console.error("Error saving project:",P),alert("Der opstod en fejl ved gemning af sag.")}},B=S=>{t(`/sager/${S.id}`)},x=S=>S==="fixed-price"?"Fast Pris":"Tid & Materiale";return q.jsxs("div",{children:[q.jsxs("div",{className:"page-header",children:[q.jsx("h1",{children:"Sager"}),q.jsx("p",{children:"Administrr projekter og timeregistrering"})]}),q.jsxs("div",{className:"content-card",children:[q.jsxs("div",{className:"sager-controls",children:[q.jsx("div",{className:"search-box",children:q.jsx("input",{type:"text",placeholder:"Sg efter sagsnavn, kunde eller sagsnummer...",value:p,onChange:S=>y(S.target.value),className:"search-input"})}),q.jsxs("div",{className:"filter-row",children:[q.jsxs("select",{value:g,onChange:S=>N(S.target.value),className:"filter-select",children:[q.jsx("option",{value:"all",children:"Alle statusser"}),q.jsx("option",{value:"planned",children:"Planlagt"}),q.jsx("option",{value:"in-progress",children:"I Gang"}),q.jsx("option",{value:"ready-for-invoice",children:"Klar til Faktura"}),q.jsx("option",{value:"closed",children:"Lukket"})]}),q.jsxs("select",{value:T,onChange:S=>R(S.target.value),className:"filter-select",children:[q.jsx("option",{value:"all",children:"Alle typer"}),q.jsx("option",{value:"fixed-price",children:"Fast Pris"}),q.jsx("option",{value:"time-material",children:"Tid & Materiale"})]})]}),q.jsx("button",{className:"btn-create-new",onClick:re,children:" Opret ny sag"})]}),s?q.jsx("p",{children:"Indlser sager..."}):r.length===0?q.jsx("div",{className:"empty-state",children:q.jsx("p",{children:e.length===0?"Ingen sager endnu. Opret din frste sag for at komme i gang.":"Ingen sager matcher din sgning eller filtre."})}):q.jsx("div",{className:"table-container",children:q.jsxs("table",{className:"sager-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"Sagsnr."}),q.jsx("th",{children:"Navn"}),q.jsx("th",{children:"Kunde"}),q.jsx("th",{children:"Type"}),q.jsx("th",{children:"Status"}),q.jsx("th",{children:"Timer"}),q.jsx("th",{children:"Handlinger"})]})}),q.jsx("tbody",{children:r.map(S=>q.jsxs("tr",{onClick:()=>B(S),className:"clickable-row",children:[q.jsx("td",{className:"project-number",children:S.projectNumber}),q.jsx("td",{className:"project-name",children:S.name}),q.jsx("td",{children:S.customerName||"-"}),q.jsx("td",{children:x(S.type)}),q.jsx("td",{children:q.jsx(GE,{status:S.status})}),q.jsxs("td",{children:[w[S.id]||0," timer"]}),q.jsxs("td",{className:"actions-cell",children:[q.jsx("button",{className:"btn-icon btn-edit",onClick:P=>O(P,S),title:"Redigr",children:""}),q.jsx("button",{className:"btn-icon btn-delete",onClick:P=>I(P,S),title:"Slet",children:""})]})]},S.id))})]})})]}),q.jsx(HE,{isOpen:a,onClose:()=>l(!1),onSave:j,project:h})]})}function N8({isOpen:t,onClose:e,onSave:n,timeEntry:r,defaultRate:i=450}){const[s,o]=Se.useState({date:"",duration:"",activity:"",billable:!0,useCustomRate:!1,rate:i}),[a,l]=Se.useState({}),[h,d]=Se.useState(0);Se.useEffect(()=>{var N;if(r){const T=r.rate||i,R=T!==i;o({date:r.date||"",duration:((N=r.duration)==null?void 0:N.toString())||"",activity:r.activity||"",billable:r.billable!==void 0?r.billable:!0,useCustomRate:R,rate:T})}else{const T=new Date().toISOString().split("T")[0];o({date:T,duration:"",activity:"",billable:!0,useCustomRate:!1,rate:i})}l({})},[r,t,i]),Se.useEffect(()=>{const N=uu(s.duration),T=s.billable?uu(s.rate):0;d(N*T)},[s.duration,s.rate,s.billable]);const p=N=>{const{name:T,value:R,type:w,checked:b}=N.target;o(w==="checkbox"?T==="billable"?k=>({...k,billable:b,useCustomRate:!1,rate:b?i:0}):T==="useCustomRate"?k=>({...k,useCustomRate:b,rate:b&&k.rate||i}):k=>({...k,[T]:b}):k=>({...k,[T]:R})),a[T]&&l(k=>({...k,[T]:null}))},y=()=>{const N={};if(!s.date)N.date="Dato er pkrvet";else{const R=new Date(s.date),w=new Date;w.setHours(0,0,0,0),R>w&&(N.date="Dato kan ikke vre i fremtiden")}const T=uu(s.duration);if((!s.duration||T<=0)&&(N.duration="Varighed skal vre et positivt tal"),(!s.activity||s.activity.trim().length<3)&&(N.activity="Aktivitetsbeskrivelse skal vre mindst 3 tegn"),s.billable){const R=uu(s.rate);(!s.rate||R<=0)&&(N.rate="Timepris skal vre et positivt tal")}return l(N),Object.keys(N).length===0},g=N=>{if(N.preventDefault(),y()){const T={date:s.date,duration:uu(s.duration),activity:s.activity,billable:s.billable,rate:s.billable?uu(s.rate):0};n(T)}};return t?q.jsx("div",{className:"modal-overlay",onClick:e,children:q.jsxs("div",{className:"modal-content time-entry-modal",onClick:N=>N.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:r?"Redigr Timer":"Tilfj Timer"}),q.jsx("button",{className:"modal-close",onClick:e,children:""})]}),q.jsxs("form",{onSubmit:g,className:"modal-form",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"date",children:"Dato *"}),q.jsx("input",{type:"date",id:"date",name:"date",value:s.date,onChange:p,className:a.date?"input-error":"",max:new Date().toISOString().split("T")[0]}),a.date&&q.jsx("span",{className:"error-text",children:a.date})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"duration",children:"Varighed (timer) *"}),q.jsx("input",{type:"text",id:"duration",name:"duration",value:s.duration,onChange:p,className:a.duration?"input-error":"",placeholder:"F.eks. 4,5"}),a.duration&&q.jsx("span",{className:"error-text",children:a.duration}),q.jsx("small",{className:"form-hint",children:"Brug komma for decimaler (f.eks. 4,5 timer)"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"activity",children:"Aktivitetsbeskrivelse *"}),q.jsx("textarea",{id:"activity",name:"activity",value:s.activity,onChange:p,className:a.activity?"input-error":"",rows:"3",placeholder:"Beskriv det udfrte arbejde..."}),a.activity&&q.jsx("span",{className:"error-text",children:a.activity})]}),q.jsx("div",{className:"checkbox-group-modern",children:q.jsxs("label",{className:"checkbox-modern",children:[q.jsx("input",{type:"checkbox",name:"billable",checked:s.billable,onChange:p}),q.jsx("span",{className:"checkbox-label",children:"Fakturerbar"})]})}),q.jsxs("div",{className:"rate-section",children:[q.jsx("label",{children:"Timepris (DKK) *"}),s.billable?q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:`rate-display ${s.useCustomRate?"disabled":""}`,children:[q.jsxs("span",{className:"rate-value",children:[i," kr"]}),q.jsx("span",{className:"rate-note",children:"Standard timepris"})]}),q.jsx("div",{className:"checkbox-group-modern",style:{marginTop:"12px"},children:q.jsxs("label",{className:"checkbox-modern",children:[q.jsx("input",{type:"checkbox",name:"useCustomRate",checked:s.useCustomRate,onChange:p}),q.jsx("span",{className:"checkbox-label",children:"Anden timepris"})]})}),s.useCustomRate&&q.jsxs("div",{className:"custom-rate-input",style:{marginTop:"12px"},children:[q.jsx("input",{type:"text",name:"rate",value:s.rate,onChange:p,className:a.rate?"input-error":"",placeholder:"450"}),q.jsx("span",{className:"rate-suffix",children:"kr/time"})]}),a.rate&&q.jsx("span",{className:"error-text",children:a.rate})]}):q.jsxs("div",{className:"rate-display disabled",children:[q.jsx("span",{className:"rate-value",children:"0 kr"}),q.jsx("span",{className:"rate-note",children:"Ikke fakturerbar"})]})]}),q.jsxs("div",{className:"calculated-total-box",children:[q.jsx("div",{className:"total-label",children:"Beregnet total:"}),q.jsx("div",{className:"total-value",children:Od(h)})]}),q.jsxs("div",{className:"modal-actions",children:[q.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Annuller"}),q.jsx("button",{type:"submit",className:"btn-primary",children:r?"Gem ndringer":"Tilfj Timer"})]})]})]})}):null}function P8(){const{id:t}=Ox(),e=fc(),[n,r]=Se.useState(null),[i,s]=Se.useState([]),[o,a]=Se.useState(!0),[l,h]=Se.useState(!1),[d,p]=Se.useState(!1),[y,g]=Se.useState(null),[N,T]=Se.useState(450);Se.useEffect(()=>{R(),w()},[t]);const R=async()=>{try{const S=await rv(ui(Bn,"projects",t));S.exists()?r({id:S.id,...S.data()}):(alert("Sag ikke fundet"),e("/sager"))}catch(S){console.error("Error loading project:",S),alert("Der opstod en fejl ved indlsning af sag.")}finally{a(!1)}},w=async()=>{try{const S=await p0(t);s(S)}catch(S){console.error("Error loading time entries:",S)}},b=()=>{h(!0)},k=async S=>{try{await Ip(ui(Bn,"projects",t),{...S,updatedAt:new Date().toISOString(),updatedBy:"Admin"}),h(!1),await R()}catch(P){console.error("Error updating project:",P),alert("Der opstod en fejl ved opdatering af sag.")}},H=()=>{g(null),p(!0)},Q=S=>{g(S),p(!0)},re=async S=>{if(window.confirm("Er du sikker p, at du vil slette denne timeregistrering?"))try{await xp(ui(Bn,"timeEntries",S.id)),await w()}catch(P){console.error("Error deleting time entry:",P),alert("Der opstod en fejl ved sletning af timeregistrering.")}},O=async S=>{try{y?await Ip(ui(Bn,"timeEntries",y.id),{...S,updatedAt:new Date().toISOString()}):await iv(Nl(Bn,"timeEntries"),{...S,projectId:t,createdAt:new Date().toISOString(),createdBy:"Admin"}),p(!1),await w()}catch(P){console.error("Error saving time entry:",P),alert("Der opstod en fejl ved gemning af timeregistrering.")}},I=S=>S==="fixed-price"?"Fast Pris":"Tid & Materiale";if(o)return q.jsx("div",{children:q.jsx("div",{className:"page-header",children:q.jsx("h1",{children:"Indlser..."})})});if(!n)return null;const j=WE(i),B=b8(i),x=E8(i);return q.jsxs("div",{children:[q.jsxs("div",{className:"page-header",children:[q.jsx("button",{className:"btn-back",onClick:()=>e("/sager"),children:" Tilbage til oversigt"}),q.jsx("h1",{children:n.name}),q.jsxs("p",{children:["Sagsnr. ",n.projectNumber]})]}),q.jsxs("div",{className:"content-card",children:[q.jsxs("div",{className:"card-header",children:[q.jsx("h2",{children:"Sagsinformation"}),q.jsx("button",{className:"btn-secondary",onClick:b,children:"Redigr Sag"})]}),q.jsxs("div",{className:"project-info-grid",children:[q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Status"}),q.jsx("div",{children:q.jsx(GE,{status:n.status})})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Type"}),q.jsx("div",{children:I(n.type)})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Kunde"}),q.jsx("div",{children:n.customerName||"-"})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Telefon"}),q.jsx("div",{children:n.customerPhone?I8(n.customerPhone):"-"})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Email"}),q.jsx("div",{children:n.customerEmail||"-"})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Adresse"}),q.jsx("div",{children:n.address?q.jsxs("a",{href:x8(n.address),target:"_blank",rel:"noopener noreferrer",className:"maps-link",children:[n.address," "]}):"-"})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Tildelt til"}),q.jsx("div",{children:n.assignedTo||"-"})]}),q.jsxs("div",{className:"info-item",children:[q.jsx("label",{children:"Oprettet"}),q.jsx("div",{children:j_(n.createdAt)})]})]})]}),q.jsxs("div",{className:"content-card",children:[q.jsxs("div",{className:"card-header",children:[q.jsx("h2",{children:"Timeregistrering"}),q.jsx("button",{className:"btn-primary",onClick:H,children:"+ Tilfj Timer"})]}),q.jsxs("div",{className:"summary-grid",children:[q.jsxs("div",{className:"summary-item",children:[q.jsx("label",{children:"Total Timer"}),q.jsx("div",{className:"summary-value",children:Lg(j)})]}),q.jsxs("div",{className:"summary-item",children:[q.jsx("label",{children:"Fakturerbare Timer"}),q.jsx("div",{className:"summary-value",children:Lg(B)})]}),q.jsxs("div",{className:"summary-item",children:[q.jsx("label",{children:"Total Vrdi"}),q.jsx("div",{className:"summary-value",children:Od(x)})]})]}),i.length===0?q.jsx("div",{className:"empty-state",children:q.jsx("p",{children:"Ingen timer registreret endnu. Tilfj den frste timeregistrering for at komme i gang."})}):q.jsx("div",{className:"table-container",children:q.jsxs("table",{className:"time-entries-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{children:"Dato"}),q.jsx("th",{children:"Timer"}),q.jsx("th",{children:"Aktivitet"}),q.jsx("th",{children:"Fakturerbar"}),q.jsx("th",{children:"Timepris"}),q.jsx("th",{children:"Total"}),q.jsx("th",{children:"Handlinger"})]})}),q.jsx("tbody",{children:i.map(S=>q.jsxs("tr",{children:[q.jsx("td",{children:j_(S.date)}),q.jsx("td",{children:Lg(S.duration)}),q.jsx("td",{className:"activity-cell",children:S.activity}),q.jsx("td",{children:q.jsx("span",{className:`billable-badge ${S.billable?"yes":"no"}`,children:S.billable?"Ja":"Nej"})}),q.jsx("td",{children:Od(S.rate)}),q.jsx("td",{children:q.jsx("strong",{children:Od(S.duration*S.rate)})}),q.jsxs("td",{className:"actions-cell",children:[q.jsx("button",{className:"btn-icon btn-edit",onClick:()=>Q(S),title:"Redigr",children:""}),q.jsx("button",{className:"btn-icon btn-delete",onClick:()=>re(S),title:"Slet",children:""})]})]},S.id))})]})})]}),q.jsx(HE,{isOpen:l,onClose:()=>h(!1),onSave:k,project:n}),q.jsx(N8,{isOpen:d,onClose:()=>p(!1),onSave:O,timeEntry:y,defaultRate:N})]})}function k8(){const t=fc(),e=async()=>{try{await WP(sv),t("/login")}catch(n){console.error("Error logging out:",n),alert("Der opstod en fejl ved logud.")}};return q.jsxs("div",{className:"app-layout",children:[q.jsxs("aside",{className:"sidebar",children:[q.jsxs("div",{className:"sidebar-header",children:[q.jsx("img",{src:"/logo_white.png",alt:"AC Handymand Logo",className:"sidebar-logo",onError:n=>{n.target.style.display="none",n.target.nextElementSibling.style.display="block"}}),q.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 15px",display:"none",alignItems:"center",justifyContent:"center",fontSize:"40px"},children:""}),q.jsx("div",{className:"sidebar-title",children:"AC Handymand"})]}),q.jsxs("nav",{className:"sidebar-nav",children:[q.jsx(hg,{to:"/timeregistrering",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Timeregistrering"}),q.jsx(hg,{to:"/sager",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Sager"}),q.jsx(hg,{to:"/indstillinger",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Indstillinger"})]}),q.jsx("div",{className:"sidebar-footer",children:q.jsx("button",{className:"btn-logout",onClick:e,children:"Log ud"})})]}),q.jsx("main",{className:"main-content",children:q.jsx(Yx,{})})]})}function C8(){const[t,e]=Se.useState(null),[n,r]=Se.useState(!0);return Se.useEffect(()=>{const i=$P(sv,s=>{e(s),r(!1)});return()=>i()},[]),{user:t,loading:n}}function L8({children:t}){const{user:e,loading:n}=C8();return n?q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"18px",color:"#7f8c8d"},children:"Indlser..."}):e?t:q.jsx(N1,{to:"/login",replace:!0})}function R8(){return q.jsx(oT,{children:q.jsxs(Xx,{children:[q.jsx(Xs,{path:"/login",element:q.jsx(uR,{})}),q.jsxs(Xs,{path:"/",element:q.jsx(L8,{children:q.jsx(k8,{})}),children:[q.jsx(Xs,{index:!0,element:q.jsx(N1,{to:"/timeregistrering",replace:!0})}),q.jsx(Xs,{path:"timeregistrering",element:q.jsx(v8,{})}),q.jsx(Xs,{path:"sager",element:q.jsx(T8,{})}),q.jsx(Xs,{path:"sager/:id",element:q.jsx(P8,{})}),q.jsx(Xs,{path:"indstillinger",element:q.jsx(_8,{})})]}),q.jsx(Xs,{path:"*",element:q.jsx(N1,{to:"/",replace:!0})})]})})}Rg.createRoot(document.getElementById("root")).render(q.jsx(G_.StrictMode,{children:q.jsx(R8,{})}));export{qt as _,D8 as c,LS as g};
