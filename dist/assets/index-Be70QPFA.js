function yx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var aj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zw={exports:{}},um={},qw={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),wx=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),xx=Symbol.for("react.context"),Ix=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Nx=Symbol.for("react.memo"),Px=Symbol.for("react.lazy"),Oy=Symbol.iterator;function kx(t){return t===null||typeof t!="object"?null:(t=Oy&&t[Oy]||t["@@iterator"],typeof t=="function"?t:null)}var $w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hw=Object.assign,Ww={};function Ic(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||$w}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gw(){}Gw.prototype=Ic.prototype;function n2(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||$w}var r2=n2.prototype=new Gw;r2.constructor=n2;Hw(r2,Ic.prototype);r2.isPureReactComponent=!0;var Dy=Array.isArray,Kw=Object.prototype.hasOwnProperty,i2={current:null},Qw={key:!0,ref:!0,__self:!0,__source:!0};function Yw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kw.call(e,r)&&!Qw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wf,type:t,key:s,ref:o,props:i,_owner:i2.current}}function Cx(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s2(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function Lx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jy=/\/+/g;function bg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lx(""+t.key):e.toString(36)}function Md(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wf:case wx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bg(o,0):r,Dy(i)?(n="",t!=null&&(n=t.replace(jy,"$&/")+"/"),Md(i,e,n,"",function(c){return c})):i!=null&&(s2(i)&&(i=Cx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bg(s,a);o+=Md(s,e,n,l,i)}else if(l=kx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bg(s,a++),o+=Md(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return Md(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Rx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Br={current:null},Ud={transition:null},Ox={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:i2};function Xw(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!s2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Ic;Tt.Fragment=bx;Tt.Profiler=Ex;Tt.PureComponent=n2;Tt.StrictMode=Ax;Tt.Suspense=Tx;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;Tt.act=Xw;Tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=i2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kw.call(e,l)&&!Qw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wf,type:t.type,key:i,ref:s,props:r,_owner:o}};Tt.createContext=function(t){return t={$$typeof:xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sx,_context:t},t.Consumer=t};Tt.createElement=Yw;Tt.createFactory=function(t){var e=Yw.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:Ix,render:t}};Tt.isValidElement=s2;Tt.lazy=function(t){return{$$typeof:Px,_payload:{_status:-1,_result:t},_init:Rx}};Tt.memo=function(t,e){return{$$typeof:Nx,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};Tt.unstable_act=Xw;Tt.useCallback=function(t,e){return Br.current.useCallback(t,e)};Tt.useContext=function(t){return Br.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return Br.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return Br.current.useEffect(t,e)};Tt.useId=function(){return Br.current.useId()};Tt.useImperativeHandle=function(t,e,n){return Br.current.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return Br.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return Br.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return Br.current.useMemo(t,e)};Tt.useReducer=function(t,e,n){return Br.current.useReducer(t,e,n)};Tt.useRef=function(t){return Br.current.useRef(t)};Tt.useState=function(t){return Br.current.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return Br.current.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return Br.current.useTransition()};Tt.version="18.3.1";qw.exports=Tt;var _e=qw.exports;const Jw=_x(_e),Dx=yx({__proto__:null,default:Jw},[_e]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=_e,Fx=Symbol.for("react.element"),Mx=Symbol.for("react.fragment"),Ux=Object.prototype.hasOwnProperty,Vx=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bx={key:!0,ref:!0,__self:!0,__source:!0};function Zw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ux.call(e,r)&&!Bx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fx,type:t,key:s,ref:o,props:i,_owner:Vx.current}}um.Fragment=Mx;um.jsx=Zw;um.jsxs=Zw;zw.exports=um;var O=zw.exports,w1={},eb={exports:{}},Ei={},tb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var re=H.length;H.push(Z);e:for(;0<re;){var be=re-1>>>1,M=H[be];if(0<i(M,Z))H[be]=Z,H[re]=M,re=be;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],re=H.pop();if(re!==Z){H[0]=re;e:for(var be=0,M=H.length,K=M>>>1;be<K;){var X=2*(be+1)-1,ee=H[X],oe=X+1,fe=H[oe];if(0>i(ee,re))oe<M&&0>i(fe,ee)?(H[be]=fe,H[oe]=re,be=oe):(H[be]=ee,H[X]=re,be=X);else if(oe<M&&0>i(fe,re))H[be]=fe,H[oe]=re,be=oe;else break e}}return Z}function i(H,Z){var re=H.sortIndex-Z.sortIndex;return re!==0?re:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,m=3,p=!1,w=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=H)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function U(H){if(E=!1,k(H),!w)if(n(l)!==null)w=!0,F(G);else{var Z=n(c);Z!==null&&j(U,Z.startTime-H)}}function G(H,Z){w=!1,E&&(E=!1,_(y),y=-1),p=!0;var re=m;try{for(k(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||H&&!S());){var be=d.callback;if(typeof be=="function"){d.callback=null,m=d.priorityLevel;var M=be(d.expirationTime<=Z);Z=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),k(Z)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var X=n(c);X!==null&&j(U,X.startTime-Z),K=!1}return K}finally{d=null,m=re,p=!1}}var q=!1,R=null,y=-1,I=5,L=-1;function S(){return!(t.unstable_now()-L<I)}function T(){if(R!==null){var H=t.unstable_now();L=H;var Z=!0;try{Z=R(!0,H)}finally{Z?N():(q=!1,R=null)}}else q=!1}var N;if(typeof A=="function")N=function(){A(T)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=T,N=function(){J.postMessage(null)}}else N=function(){P(T,0)};function F(H){R=H,q||(q=!0,N())}function j(H,Z){y=P(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,F(G))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var re=m;m=Z;try{return H()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=m;m=H;try{return Z()}finally{m=re}},t.unstable_scheduleCallback=function(H,Z,re){var be=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=re+M,H={id:h++,callback:Z,priorityLevel:H,startTime:re,expirationTime:M,sortIndex:-1},re>be?(H.sortIndex=re,e(c,H),n(l)===null&&H===n(c)&&(E?(_(y),y=-1):E=!0,j(U,re-be))):(H.sortIndex=M,e(l,H),w||p||(w=!0,F(G))),H},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(H){var Z=m;return function(){var re=m;m=Z;try{return H.apply(this,arguments)}finally{m=re}}}})(nb);tb.exports=nb;var zx=tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=_e,Ai=zx;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rb=new Set,$h={};function Wl(t,e){cc(t,e),cc(t+"Capture",e)}function cc(t,e){for($h[t]=e,t=0;t<e.length;t++)rb.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b1=Object.prototype.hasOwnProperty,$x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},My={};function Hx(t){return b1.call(My,t)?!0:b1.call(Fy,t)?!1:$x.test(t)?My[t]=!0:(Fy[t]=!0,!1)}function Wx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gx(t,e,n,r){if(e===null||typeof e>"u"||Wx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var o2=/[\-:]([a-z])/g;function a2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o2,a2);fr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o2,a2);fr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o2,a2);fr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});fr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function l2(t,e,n,r){var i=fr.hasOwnProperty(e)?fr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gx(e,n,i,r)&&(n=null),r||i===null?Hx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lo=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Du=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),u2=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),ib=Symbol.for("react.provider"),sb=Symbol.for("react.context"),c2=Symbol.for("react.forward_ref"),E1=Symbol.for("react.suspense"),S1=Symbol.for("react.suspense_list"),h2=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),ob=Symbol.for("react.offscreen"),Uy=Symbol.iterator;function sh(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var vn=Object.assign,Ag;function yh(t){if(Ag===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ag=e&&e[1]||""}return`
`+Ag+t}var Eg=!1;function Sg(t,e){if(!t||Eg)return"";Eg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Eg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yh(t):""}function Kx(t){switch(t.tag){case 5:return yh(t.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return t=Sg(t.type,!1),t;case 11:return t=Sg(t.type.render,!1),t;case 1:return t=Sg(t.type,!0),t;default:return""}}function x1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ju:return"Fragment";case Du:return"Portal";case A1:return"Profiler";case u2:return"StrictMode";case E1:return"Suspense";case S1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sb:return(t.displayName||"Context")+".Consumer";case ib:return(t._context.displayName||"Context")+".Provider";case c2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h2:return e=t.displayName||null,e!==null?e:x1(t.type)||"Memo";case da:e=t._payload,t=t._init;try{return x1(t(e))}catch{}}return null}function Qx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x1(e);case 8:return e===u2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Va(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ab(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yx(t){var e=ab(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=Yx(t))}function lb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ab(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I1(t,e){var n=e.checked;return vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Va(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ub(t,e){e=e.checked,e!=null&&l2(t,"checked",e,!1)}function T1(t,e){ub(t,e);var n=Va(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N1(t,e.type,n):e.hasOwnProperty("defaultValue")&&N1(t,e.type,Va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N1(t,e,n){(e!=="number"||hp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _h=Array.isArray;function Yu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Va(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(_h(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Va(n)}}function cb(t,e){var n=Va(e.value),r=Va(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,fb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xx=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){Xx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function db(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function pb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=db(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jx=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C1(t,e){if(e){if(Jx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function L1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R1=null;function f2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O1=null,Xu=null,Ju=null;function $y(t){if(t=Ef(t)){if(typeof O1!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=pm(e),O1(t.stateNode,t.type,e))}}function mb(t){Xu?Ju?Ju.push(t):Ju=[t]:Xu=t}function gb(){if(Xu){var t=Xu,e=Ju;if(Ju=Xu=null,$y(t),e)for(t=0;t<e.length;t++)$y(e[t])}}function vb(t,e){return t(e)}function yb(){}var xg=!1;function _b(t,e,n){if(xg)return t(e,n);xg=!0;try{return vb(t,e,n)}finally{xg=!1,(Xu!==null||Ju!==null)&&(yb(),gb())}}function Wh(t,e){var n=t.stateNode;if(n===null)return null;var r=pm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var D1=!1;if(So)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){D1=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{D1=!1}function Zx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ph=!1,fp=null,dp=!1,j1=null,eI={onError:function(t){Ph=!0,fp=t}};function tI(t,e,n,r,i,s,o,a,l){Ph=!1,fp=null,Zx.apply(eI,arguments)}function nI(t,e,n,r,i,s,o,a,l){if(tI.apply(this,arguments),Ph){if(Ph){var c=fp;Ph=!1,fp=null}else throw Error(Ue(198));dp||(dp=!0,j1=c)}}function Gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Gl(t)!==t)throw Error(Ue(188))}function rI(t){var e=t.alternate;if(!e){if(e=Gl(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hy(i),t;if(s===r)return Hy(i),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function bb(t){return t=rI(t),t!==null?Ab(t):null}function Ab(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ab(t);if(e!==null)return e;t=t.sibling}return null}var Eb=Ai.unstable_scheduleCallback,Wy=Ai.unstable_cancelCallback,iI=Ai.unstable_shouldYield,sI=Ai.unstable_requestPaint,Rn=Ai.unstable_now,oI=Ai.unstable_getCurrentPriorityLevel,d2=Ai.unstable_ImmediatePriority,Sb=Ai.unstable_UserBlockingPriority,pp=Ai.unstable_NormalPriority,aI=Ai.unstable_LowPriority,xb=Ai.unstable_IdlePriority,cm=null,Rs=null;function lI(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(cm,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:hI,uI=Math.log,cI=Math.LN2;function hI(t){return t>>>=0,t===0?32:31-(uI(t)/cI|0)|0}var pd=64,md=4194304;function wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wh(a):(s&=o,s!==0&&(r=wh(s)))}else o=n&~i,o!==0?r=wh(o):s!==0&&(r=wh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),i=1<<n,r|=t[n],e&=~i;return r}function fI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ss(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function F1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ib(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function Ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function pI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ss(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function p2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function Tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nb,m2,Pb,kb,Cb,M1=!1,gd=[],Ta=null,Na=null,Pa=null,Gh=new Map,Kh=new Map,ma=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(e.pointerId)}}function ah(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&m2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gI(t,e,n,r,i){switch(e){case"focusin":return Ta=ah(Ta,t,e,n,r,i),!0;case"dragenter":return Na=ah(Na,t,e,n,r,i),!0;case"mouseover":return Pa=ah(Pa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gh.set(s,ah(Gh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kh.set(s,ah(Kh.get(s)||null,t,e,n,r,i)),!0}return!1}function Lb(t){var e=xl(t.target);if(e!==null){var n=Gl(e);if(n!==null){if(e=n.tag,e===13){if(e=wb(n),e!==null){t.blockedOn=e,Cb(t.priority,function(){Pb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=U1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);R1=r,n.target.dispatchEvent(r),R1=null}else return e=Ef(n),e!==null&&m2(e),t.blockedOn=n,!1;e.shift()}return!0}function Ky(t,e,n){Vd(t)&&n.delete(e)}function vI(){M1=!1,Ta!==null&&Vd(Ta)&&(Ta=null),Na!==null&&Vd(Na)&&(Na=null),Pa!==null&&Vd(Pa)&&(Pa=null),Gh.forEach(Ky),Kh.forEach(Ky)}function lh(t,e){t.blockedOn===e&&(t.blockedOn=null,M1||(M1=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,vI)))}function Qh(t){function e(i){return lh(i,t)}if(0<gd.length){lh(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&lh(Ta,t),Na!==null&&lh(Na,t),Pa!==null&&lh(Pa,t),Gh.forEach(e),Kh.forEach(e),n=0;n<ma.length;n++)r=ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ma.length&&(n=ma[0],n.blockedOn===null);)Lb(n),n.blockedOn===null&&ma.shift()}var Zu=Lo.ReactCurrentBatchConfig,gp=!0;function yI(t,e,n,r){var i=Gt,s=Zu.transition;Zu.transition=null;try{Gt=1,g2(t,e,n,r)}finally{Gt=i,Zu.transition=s}}function _I(t,e,n,r){var i=Gt,s=Zu.transition;Zu.transition=null;try{Gt=4,g2(t,e,n,r)}finally{Gt=i,Zu.transition=s}}function g2(t,e,n,r){if(gp){var i=U1(t,e,n,r);if(i===null)jg(t,e,r,vp,n),Gy(t,r);else if(gI(i,t,e,n,r))r.stopPropagation();else if(Gy(t,r),e&4&&-1<mI.indexOf(t)){for(;i!==null;){var s=Ef(i);if(s!==null&&Nb(s),s=U1(t,e,n,r),s===null&&jg(t,e,r,vp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jg(t,e,r,null,n)}}var vp=null;function U1(t,e,n,r){if(vp=null,t=f2(r),t=xl(t),t!==null)if(e=Gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vp=t,null}function Rb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oI()){case d2:return 1;case Sb:return 4;case pp:case aI:return 16;case xb:return 536870912;default:return 16}default:return 16}}var Aa=null,v2=null,Bd=null;function Ob(){if(Bd)return Bd;var t,e=v2,n=e.length,r,i="value"in Aa?Aa.value:Aa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bd=i.slice(t,1<r?1-r:void 0)}function zd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function Qy(){return!1}function Si(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vd:Qy,this.isPropagationStopped=Qy,this}return vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y2=Si(Tc),Af=vn({},Tc,{view:0,detail:0}),wI=Si(Af),Tg,Ng,uh,hm=vn({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uh&&(uh&&t.type==="mousemove"?(Tg=t.screenX-uh.screenX,Ng=t.screenY-uh.screenY):Ng=Tg=0,uh=t),Tg)},movementY:function(t){return"movementY"in t?t.movementY:Ng}}),Yy=Si(hm),bI=vn({},hm,{dataTransfer:0}),AI=Si(bI),EI=vn({},Af,{relatedTarget:0}),Pg=Si(EI),SI=vn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),xI=Si(SI),II=vn({},Tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TI=Si(II),NI=vn({},Tc,{data:0}),Xy=Si(NI),PI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CI[t])?!!e[t]:!1}function _2(){return LI}var RI=vn({},Af,{key:function(t){if(t.key){var e=PI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_2,charCode:function(t){return t.type==="keypress"?zd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=Si(RI),DI=vn({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Si(DI),jI=vn({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_2}),FI=Si(jI),MI=vn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=Si(MI),VI=vn({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=Si(VI),zI=[9,13,27,32],w2=So&&"CompositionEvent"in window,kh=null;So&&"documentMode"in document&&(kh=document.documentMode);var qI=So&&"TextEvent"in window&&!kh,Db=So&&(!w2||kh&&8<kh&&11>=kh),Zy=" ",e5=!1;function jb(t,e){switch(t){case"keyup":return zI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fu=!1;function $I(t,e){switch(t){case"compositionend":return Fb(e);case"keypress":return e.which!==32?null:(e5=!0,Zy);case"textInput":return t=e.data,t===Zy&&e5?null:t;default:return null}}function HI(t,e){if(Fu)return t==="compositionend"||!w2&&jb(t,e)?(t=Ob(),Bd=v2=Aa=null,Fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Db&&e.locale!=="ko"?null:e.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WI[t.type]:e==="textarea"}function Mb(t,e,n,r){mb(r),e=yp(e,"onChange"),0<e.length&&(n=new y2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ch=null,Yh=null;function GI(t){Qb(t,0)}function fm(t){var e=Vu(t);if(lb(e))return t}function KI(t,e){if(t==="change")return e}var Ub=!1;if(So){var kg;if(So){var Cg="oninput"in document;if(!Cg){var n5=document.createElement("div");n5.setAttribute("oninput","return;"),Cg=typeof n5.oninput=="function"}kg=Cg}else kg=!1;Ub=kg&&(!document.documentMode||9<document.documentMode)}function r5(){Ch&&(Ch.detachEvent("onpropertychange",Vb),Yh=Ch=null)}function Vb(t){if(t.propertyName==="value"&&fm(Yh)){var e=[];Mb(e,Yh,t,f2(t)),_b(GI,e)}}function QI(t,e,n){t==="focusin"?(r5(),Ch=e,Yh=n,Ch.attachEvent("onpropertychange",Vb)):t==="focusout"&&r5()}function YI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fm(Yh)}function XI(t,e){if(t==="click")return fm(e)}function JI(t,e){if(t==="input"||t==="change")return fm(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:ZI;function Xh(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!b1.call(e,i)||!as(t[i],e[i]))return!1}return!0}function i5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s5(t,e){var n=i5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i5(n)}}function Bb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zb(){for(var t=window,e=hp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hp(t.document)}return e}function b2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eT(t){var e=zb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bb(n.ownerDocument.documentElement,n)){if(r!==null&&b2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=s5(n,s);var o=s5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tT=So&&"documentMode"in document&&11>=document.documentMode,Mu=null,V1=null,Lh=null,B1=!1;function o5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B1||Mu==null||Mu!==hp(r)||(r=Mu,"selectionStart"in r&&b2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lh&&Xh(Lh,r)||(Lh=r,r=yp(V1,"onSelect"),0<r.length&&(e=new y2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function yd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uu={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},Lg={},qb={};So&&(qb=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function dm(t){if(Lg[t])return Lg[t];if(!Uu[t])return t;var e=Uu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qb)return Lg[t]=e[n];return t}var $b=dm("animationend"),Hb=dm("animationiteration"),Wb=dm("animationstart"),Gb=dm("transitionend"),Kb=new Map,a5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(t,e){Kb.set(t,e),Wl(e,[t])}for(var Rg=0;Rg<a5.length;Rg++){var Og=a5[Rg],nT=Og.toLowerCase(),rT=Og[0].toUpperCase()+Og.slice(1);Ka(nT,"on"+rT)}Ka($b,"onAnimationEnd");Ka(Hb,"onAnimationIteration");Ka(Wb,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(Gb,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(bh));function l5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nI(r,e,void 0,t),t.currentTarget=null}function Qb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;l5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;l5(i,a,c),s=l}}}if(dp)throw t=j1,dp=!1,j1=null,t}function an(t,e){var n=e[W1];n===void 0&&(n=e[W1]=new Set);var r=t+"__bubble";n.has(r)||(Yb(e,t,2,!1),n.add(r))}function Dg(t,e,n){var r=0;e&&(r|=4),Yb(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[_d]){t[_d]=!0,rb.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||Dg(n,!1,t),Dg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,Dg("selectionchange",!1,e))}}function Yb(t,e,n,r){switch(Rb(e)){case 1:var i=yI;break;case 4:i=_I;break;default:i=g2}n=i.bind(null,e,n,t),i=void 0,!D1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_b(function(){var c=s,h=f2(n),d=[];e:{var m=Kb.get(t);if(m!==void 0){var p=y2,w=t;switch(t){case"keypress":if(zd(n)===0)break e;case"keydown":case"keyup":p=OI;break;case"focusin":w="focus",p=Pg;break;case"focusout":w="blur",p=Pg;break;case"beforeblur":case"afterblur":p=Pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FI;break;case $b:case Hb:case Wb:p=xI;break;case Gb:p=UI;break;case"scroll":p=wI;break;case"wheel":p=BI;break;case"copy":case"cut":case"paste":p=TI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jy}var E=(e&4)!==0,P=!E&&t==="scroll",_=E?m!==null?m+"Capture":null:m;E=[];for(var A=c,k;A!==null;){k=A;var U=k.stateNode;if(k.tag===5&&U!==null&&(k=U,_!==null&&(U=Wh(A,_),U!=null&&E.push(Zh(A,U,k)))),P)break;A=A.return}0<E.length&&(m=new p(m,w,null,n,h),d.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==R1&&(w=n.relatedTarget||n.fromElement)&&(xl(w)||w[xo]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?xl(w):null,w!==null&&(P=Gl(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(E=Yy,U="onMouseLeave",_="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jy,U="onPointerLeave",_="onPointerEnter",A="pointer"),P=p==null?m:Vu(p),k=w==null?m:Vu(w),m=new E(U,A+"leave",p,n,h),m.target=P,m.relatedTarget=k,U=null,xl(h)===c&&(E=new E(_,A+"enter",w,n,h),E.target=k,E.relatedTarget=P,U=E),P=U,p&&w)t:{for(E=p,_=w,A=0,k=E;k;k=xu(k))A++;for(k=0,U=_;U;U=xu(U))k++;for(;0<A-k;)E=xu(E),A--;for(;0<k-A;)_=xu(_),k--;for(;A--;){if(E===_||_!==null&&E===_.alternate)break t;E=xu(E),_=xu(_)}E=null}else E=null;p!==null&&u5(d,m,p,E,!1),w!==null&&P!==null&&u5(d,P,w,E,!0)}}e:{if(m=c?Vu(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var G=KI;else if(t5(m))if(Ub)G=JI;else{G=YI;var q=QI}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(G=XI);if(G&&(G=G(t,c))){Mb(d,G,n,h);break e}q&&q(t,m,c),t==="focusout"&&(q=m._wrapperState)&&q.controlled&&m.type==="number"&&N1(m,"number",m.value)}switch(q=c?Vu(c):window,t){case"focusin":(t5(q)||q.contentEditable==="true")&&(Mu=q,V1=c,Lh=null);break;case"focusout":Lh=V1=Mu=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,o5(d,n,h);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":o5(d,n,h)}var R;if(w2)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Fu?jb(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Db&&n.locale!=="ko"&&(Fu||y!=="onCompositionStart"?y==="onCompositionEnd"&&Fu&&(R=Ob()):(Aa=h,v2="value"in Aa?Aa.value:Aa.textContent,Fu=!0)),q=yp(c,y),0<q.length&&(y=new Xy(y,t,null,n,h),d.push({event:y,listeners:q}),R?y.data=R:(R=Fb(n),R!==null&&(y.data=R)))),(R=qI?$I(t,n):HI(t,n))&&(c=yp(c,"onBeforeInput"),0<c.length&&(h=new Xy("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=R))}Qb(d,e)})}function Zh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wh(t,n),s!=null&&r.unshift(Zh(t,s,i)),s=Wh(t,e),s!=null&&r.push(Zh(t,s,i))),t=t.return}return r}function xu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Wh(n,s),l!=null&&o.unshift(Zh(n,l,a))):i||(l=Wh(n,s),l!=null&&o.push(Zh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function c5(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(oT,"")}function wd(t,e,n){if(e=c5(e),c5(t)!==e&&n)throw Error(Ue(425))}function _p(){}var z1=null,q1=null;function $1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var H1=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,h5=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof h5<"u"?function(t){return h5.resolve(null).then(t).catch(uT)}:H1;function uT(t){setTimeout(function(){throw t})}function Fg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qh(e)}function ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),ks="__reactFiber$"+Nc,ef="__reactProps$"+Nc,xo="__reactContainer$"+Nc,W1="__reactEvents$"+Nc,cT="__reactListeners$"+Nc,hT="__reactHandles$"+Nc;function xl(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xo]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f5(t);t!==null;){if(n=t[ks])return n;t=f5(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[ks]||t[xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function pm(t){return t[ef]||null}var G1=[],Bu=-1;function Qa(t){return{current:t}}function cn(t){0>Bu||(t.current=G1[Bu],G1[Bu]=null,Bu--)}function nn(t,e){Bu++,G1[Bu]=t.current,t.current=e}var Ba={},Nr=Qa(Ba),ni=Qa(!1),Dl=Ba;function hc(t,e){var n=t.type.contextTypes;if(!n)return Ba;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ri(t){return t=t.childContextTypes,t!=null}function wp(){cn(ni),cn(Nr)}function d5(t,e,n){if(Nr.current!==Ba)throw Error(Ue(168));nn(Nr,e),nn(ni,n)}function Xb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,Qx(t)||"Unknown",i));return vn({},n,r)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ba,Dl=Nr.current,nn(Nr,t),nn(ni,ni.current),!0}function p5(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=Xb(t,e,Dl),r.__reactInternalMemoizedMergedChildContext=t,cn(ni),cn(Nr),nn(Nr,t)):cn(ni),nn(ni,n)}var po=null,mm=!1,Mg=!1;function Jb(t){po===null?po=[t]:po.push(t)}function fT(t){mm=!0,Jb(t)}function Ya(){if(!Mg&&po!==null){Mg=!0;var t=0,e=Gt;try{var n=po;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}po=null,mm=!1}catch(i){throw po!==null&&(po=po.slice(t+1)),Eb(d2,Ya),i}finally{Gt=e,Mg=!1}}return null}var zu=[],qu=0,Ap=null,Ep=0,Ri=[],Oi=0,jl=null,mo=1,go="";function _l(t,e){zu[qu++]=Ep,zu[qu++]=Ap,Ap=t,Ep=e}function Zb(t,e,n){Ri[Oi++]=mo,Ri[Oi++]=go,Ri[Oi++]=jl,jl=t;var r=mo;t=go;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var s=32-ss(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mo=1<<32-ss(e)+i|n<<i|r,go=s+t}else mo=1<<s|n<<i|r,go=t}function A2(t){t.return!==null&&(_l(t,1),Zb(t,1,0))}function E2(t){for(;t===Ap;)Ap=zu[--qu],zu[qu]=null,Ep=zu[--qu],zu[qu]=null;for(;t===jl;)jl=Ri[--Oi],Ri[Oi]=null,go=Ri[--Oi],Ri[Oi]=null,mo=Ri[--Oi],Ri[Oi]=null}var bi=null,gi=null,dn=!1,is=null;function e4(t,e){var n=Di(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bi=t,gi=ka(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bi=t,gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jl!==null?{id:mo,overflow:go}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Di(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bi=t,gi=null,!0):!1;default:return!1}}function K1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Q1(t){if(dn){var e=gi;if(e){var n=e;if(!m5(t,e)){if(K1(t))throw Error(Ue(418));e=ka(n.nextSibling);var r=bi;e&&m5(t,e)?e4(r,n):(t.flags=t.flags&-4097|2,dn=!1,bi=t)}}else{if(K1(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,dn=!1,bi=t}}}function g5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bi=t}function bd(t){if(t!==bi)return!1;if(!dn)return g5(t),dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$1(t.type,t.memoizedProps)),e&&(e=gi)){if(K1(t))throw t4(),Error(Ue(418));for(;e;)e4(t,e),e=ka(e.nextSibling)}if(g5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gi=ka(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gi=null}}else gi=bi?ka(t.stateNode.nextSibling):null;return!0}function t4(){for(var t=gi;t;)t=ka(t.nextSibling)}function fc(){gi=bi=null,dn=!1}function S2(t){is===null?is=[t]:is.push(t)}var dT=Lo.ReactCurrentBatchConfig;function ch(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v5(t){var e=t._init;return e(t._payload)}function n4(t){function e(_,A){if(t){var k=_.deletions;k===null?(_.deletions=[A],_.flags|=16):k.push(A)}}function n(_,A){if(!t)return null;for(;A!==null;)e(_,A),A=A.sibling;return null}function r(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function i(_,A){return _=Oa(_,A),_.index=0,_.sibling=null,_}function s(_,A,k){return _.index=k,t?(k=_.alternate,k!==null?(k=k.index,k<A?(_.flags|=2,A):k):(_.flags|=2,A)):(_.flags|=1048576,A)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,A,k,U){return A===null||A.tag!==6?(A=Hg(k,_.mode,U),A.return=_,A):(A=i(A,k),A.return=_,A)}function l(_,A,k,U){var G=k.type;return G===ju?h(_,A,k.props.children,U,k.key):A!==null&&(A.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===da&&v5(G)===A.type)?(U=i(A,k.props),U.ref=ch(_,A,k),U.return=_,U):(U=Qd(k.type,k.key,k.props,null,_.mode,U),U.ref=ch(_,A,k),U.return=_,U)}function c(_,A,k,U){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Wg(k,_.mode,U),A.return=_,A):(A=i(A,k.children||[]),A.return=_,A)}function h(_,A,k,U,G){return A===null||A.tag!==7?(A=Cl(k,_.mode,U,G),A.return=_,A):(A=i(A,k),A.return=_,A)}function d(_,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Hg(""+A,_.mode,k),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hd:return k=Qd(A.type,A.key,A.props,null,_.mode,k),k.ref=ch(_,null,A),k.return=_,k;case Du:return A=Wg(A,_.mode,k),A.return=_,A;case da:var U=A._init;return d(_,U(A._payload),k)}if(_h(A)||sh(A))return A=Cl(A,_.mode,k,null),A.return=_,A;Ad(_,A)}return null}function m(_,A,k,U){var G=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return G!==null?null:a(_,A,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case hd:return k.key===G?l(_,A,k,U):null;case Du:return k.key===G?c(_,A,k,U):null;case da:return G=k._init,m(_,A,G(k._payload),U)}if(_h(k)||sh(k))return G!==null?null:h(_,A,k,U,null);Ad(_,k)}return null}function p(_,A,k,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return _=_.get(k)||null,a(A,_,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case hd:return _=_.get(U.key===null?k:U.key)||null,l(A,_,U,G);case Du:return _=_.get(U.key===null?k:U.key)||null,c(A,_,U,G);case da:var q=U._init;return p(_,A,k,q(U._payload),G)}if(_h(U)||sh(U))return _=_.get(k)||null,h(A,_,U,G,null);Ad(A,U)}return null}function w(_,A,k,U){for(var G=null,q=null,R=A,y=A=0,I=null;R!==null&&y<k.length;y++){R.index>y?(I=R,R=null):I=R.sibling;var L=m(_,R,k[y],U);if(L===null){R===null&&(R=I);break}t&&R&&L.alternate===null&&e(_,R),A=s(L,A,y),q===null?G=L:q.sibling=L,q=L,R=I}if(y===k.length)return n(_,R),dn&&_l(_,y),G;if(R===null){for(;y<k.length;y++)R=d(_,k[y],U),R!==null&&(A=s(R,A,y),q===null?G=R:q.sibling=R,q=R);return dn&&_l(_,y),G}for(R=r(_,R);y<k.length;y++)I=p(R,_,y,k[y],U),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?y:I.key),A=s(I,A,y),q===null?G=I:q.sibling=I,q=I);return t&&R.forEach(function(S){return e(_,S)}),dn&&_l(_,y),G}function E(_,A,k,U){var G=sh(k);if(typeof G!="function")throw Error(Ue(150));if(k=G.call(k),k==null)throw Error(Ue(151));for(var q=G=null,R=A,y=A=0,I=null,L=k.next();R!==null&&!L.done;y++,L=k.next()){R.index>y?(I=R,R=null):I=R.sibling;var S=m(_,R,L.value,U);if(S===null){R===null&&(R=I);break}t&&R&&S.alternate===null&&e(_,R),A=s(S,A,y),q===null?G=S:q.sibling=S,q=S,R=I}if(L.done)return n(_,R),dn&&_l(_,y),G;if(R===null){for(;!L.done;y++,L=k.next())L=d(_,L.value,U),L!==null&&(A=s(L,A,y),q===null?G=L:q.sibling=L,q=L);return dn&&_l(_,y),G}for(R=r(_,R);!L.done;y++,L=k.next())L=p(R,_,y,L.value,U),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?y:L.key),A=s(L,A,y),q===null?G=L:q.sibling=L,q=L);return t&&R.forEach(function(T){return e(_,T)}),dn&&_l(_,y),G}function P(_,A,k,U){if(typeof k=="object"&&k!==null&&k.type===ju&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case hd:e:{for(var G=k.key,q=A;q!==null;){if(q.key===G){if(G=k.type,G===ju){if(q.tag===7){n(_,q.sibling),A=i(q,k.props.children),A.return=_,_=A;break e}}else if(q.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===da&&v5(G)===q.type){n(_,q.sibling),A=i(q,k.props),A.ref=ch(_,q,k),A.return=_,_=A;break e}n(_,q);break}else e(_,q);q=q.sibling}k.type===ju?(A=Cl(k.props.children,_.mode,U,k.key),A.return=_,_=A):(U=Qd(k.type,k.key,k.props,null,_.mode,U),U.ref=ch(_,A,k),U.return=_,_=U)}return o(_);case Du:e:{for(q=k.key;A!==null;){if(A.key===q)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){n(_,A.sibling),A=i(A,k.children||[]),A.return=_,_=A;break e}else{n(_,A);break}else e(_,A);A=A.sibling}A=Wg(k,_.mode,U),A.return=_,_=A}return o(_);case da:return q=k._init,P(_,A,q(k._payload),U)}if(_h(k))return w(_,A,k,U);if(sh(k))return E(_,A,k,U);Ad(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,A!==null&&A.tag===6?(n(_,A.sibling),A=i(A,k),A.return=_,_=A):(n(_,A),A=Hg(k,_.mode,U),A.return=_,_=A),o(_)):n(_,A)}return P}var dc=n4(!0),r4=n4(!1),Sp=Qa(null),xp=null,$u=null,x2=null;function I2(){x2=$u=xp=null}function T2(t){var e=Sp.current;cn(Sp),t._currentValue=e}function Y1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ec(t,e){xp=t,x2=$u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ti=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(x2!==t)if(t={context:t,memoizedValue:e,next:null},$u===null){if(xp===null)throw Error(Ue(308));$u=t,xp.dependencies={lanes:0,firstContext:t}}else $u=$u.next=t;return e}var Il=null;function N2(t){Il===null?Il=[t]:Il.push(t)}function i4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,N2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Io(t,r)}function Io(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pa=!1;function P2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Io(t,n)}return i=r.interleaved,i===null?(e.next=e,N2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Io(t,n)}function qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p2(t,n)}}function y5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ip(t,e,n,r){var i=t.updateQueue;pa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(m=e,p=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){d=w.call(p,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,m=typeof w=="function"?w.call(p,d,m):w,m==null)break e;d=vn({},d,m);break e;case 2:pa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ml|=o,t.lanes=o,t.memoizedState=d}}function _5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var Sf={},Os=Qa(Sf),tf=Qa(Sf),nf=Qa(Sf);function Tl(t){if(t===Sf)throw Error(Ue(174));return t}function k2(t,e){switch(nn(nf,e),nn(tf,t),nn(Os,Sf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k1(e,t)}cn(Os),nn(Os,e)}function pc(){cn(Os),cn(tf),cn(nf)}function o4(t){Tl(nf.current);var e=Tl(Os.current),n=k1(e,t.type);e!==n&&(nn(tf,t),nn(Os,n))}function C2(t){tf.current===t&&(cn(Os),cn(tf))}var pn=Qa(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ug=[];function L2(){for(var t=0;t<Ug.length;t++)Ug[t]._workInProgressVersionPrimary=null;Ug.length=0}var $d=Lo.ReactCurrentDispatcher,Vg=Lo.ReactCurrentBatchConfig,Fl=0,mn=null,Gn=null,Zn=null,Np=!1,Rh=!1,rf=0,pT=0;function vr(){throw Error(Ue(321))}function R2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function O2(t,e,n,r,i,s){if(Fl=s,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$d.current=t===null||t.memoizedState===null?yT:_T,t=n(r,i),Rh){s=0;do{if(Rh=!1,rf=0,25<=s)throw Error(Ue(301));s+=1,Zn=Gn=null,e.updateQueue=null,$d.current=wT,t=n(r,i)}while(Rh)}if($d.current=Pp,e=Gn!==null&&Gn.next!==null,Fl=0,Zn=Gn=mn=null,Np=!1,e)throw Error(Ue(300));return t}function D2(){var t=rf!==0;return rf=0,t}function Ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?mn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function Ui(){if(Gn===null){var t=mn.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=Zn===null?mn.memoizedState:Zn.next;if(e!==null)Zn=e,Gn=t;else{if(t===null)throw Error(Ue(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Zn===null?mn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function sf(t,e){return typeof e=="function"?e(t):e}function Bg(t){var e=Ui(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=Gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Fl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,mn.lanes|=h,Ml|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,as(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mn.lanes|=s,Ml|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zg(t){var e=Ui(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);as(s,e.memoizedState)||(ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a4(){}function l4(t,e){var n=mn,r=Ui(),i=e(),s=!as(r.memoizedState,i);if(s&&(r.memoizedState=i,ti=!0),r=r.queue,j2(h4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,of(9,c4.bind(null,n,r,i,e),void 0,null),tr===null)throw Error(Ue(349));Fl&30||u4(n,e,i)}return i}function u4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c4(t,e,n,r){e.value=n,e.getSnapshot=r,f4(e)&&d4(t)}function h4(t,e,n){return n(function(){f4(e)&&d4(t)})}function f4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function d4(t){var e=Io(t,1);e!==null&&os(e,t,1,-1)}function w5(t){var e=Ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:t},e.queue=t,t=t.dispatch=vT.bind(null,mn,t),[e.memoizedState,t]}function of(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p4(){return Ui().memoizedState}function Hd(t,e,n,r){var i=Ns();mn.flags|=t,i.memoizedState=of(1|e,n,void 0,r===void 0?null:r)}function gm(t,e,n,r){var i=Ui();r=r===void 0?null:r;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,r!==null&&R2(r,o.deps)){i.memoizedState=of(e,n,s,r);return}}mn.flags|=t,i.memoizedState=of(1|e,n,s,r)}function b5(t,e){return Hd(8390656,8,t,e)}function j2(t,e){return gm(2048,8,t,e)}function m4(t,e){return gm(4,2,t,e)}function g4(t,e){return gm(4,4,t,e)}function v4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y4(t,e,n){return n=n!=null?n.concat([t]):null,gm(4,4,v4.bind(null,e,t),n)}function F2(){}function _4(t,e){var n=Ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&R2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w4(t,e){var n=Ui();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&R2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b4(t,e,n){return Fl&21?(as(n,e)||(n=Ib(),mn.lanes|=n,Ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ti=!0),t.memoizedState=n)}function mT(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=Vg.transition;Vg.transition={};try{t(!1),e()}finally{Gt=n,Vg.transition=r}}function A4(){return Ui().memoizedState}function gT(t,e,n){var r=Ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E4(t))S4(e,n);else if(n=i4(t,e,n,r),n!==null){var i=Ur();os(n,t,r,i),x4(n,e,r)}}function vT(t,e,n){var r=Ra(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E4(t))S4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(i.next=i,N2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=i4(t,e,i,r),n!==null&&(i=Ur(),os(n,t,r,i),x4(n,e,r))}}function E4(t){var e=t.alternate;return t===mn||e!==null&&e===mn}function S4(t,e){Rh=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p2(t,n)}}var Pp={readContext:Mi,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},yT={readContext:Mi,useCallback:function(t,e){return Ns().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:b5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,v4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=Ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gT.bind(null,mn,t),[r.memoizedState,t]},useRef:function(t){var e=Ns();return t={current:t},e.memoizedState=t},useState:w5,useDebugValue:F2,useDeferredValue:function(t){return Ns().memoizedState=t},useTransition:function(){var t=w5(!1),e=t[0];return t=mT.bind(null,t[1]),Ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mn,i=Ns();if(dn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),tr===null)throw Error(Ue(349));Fl&30||u4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,b5(h4.bind(null,r,s,t),[t]),r.flags|=2048,of(9,c4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ns(),e=tr.identifierPrefix;if(dn){var n=go,r=mo;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_T={readContext:Mi,useCallback:_4,useContext:Mi,useEffect:j2,useImperativeHandle:y4,useInsertionEffect:m4,useLayoutEffect:g4,useMemo:w4,useReducer:Bg,useRef:p4,useState:function(){return Bg(sf)},useDebugValue:F2,useDeferredValue:function(t){var e=Ui();return b4(e,Gn.memoizedState,t)},useTransition:function(){var t=Bg(sf)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:a4,useSyncExternalStore:l4,useId:A4,unstable_isNewReconciler:!1},wT={readContext:Mi,useCallback:_4,useContext:Mi,useEffect:j2,useImperativeHandle:y4,useInsertionEffect:m4,useLayoutEffect:g4,useMemo:w4,useReducer:zg,useRef:p4,useState:function(){return zg(sf)},useDebugValue:F2,useDeferredValue:function(t){var e=Ui();return Gn===null?e.memoizedState=t:b4(e,Gn.memoizedState,t)},useTransition:function(){var t=zg(sf)[0],e=Ui().memoizedState;return[t,e]},useMutableSource:a4,useSyncExternalStore:l4,useId:A4,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function X1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vm={isMounted:function(t){return(t=t._reactInternals)?Gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Ra(t),s=bo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(os(e,t,i,r),qd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Ra(t),s=bo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ca(t,s,i),e!==null&&(os(e,t,i,r),qd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=Ra(t),i=bo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ca(t,i,r),e!==null&&(os(e,t,r,n),qd(e,t,r))}};function A5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xh(n,r)||!Xh(i,s):!0}function I4(t,e,n){var r=!1,i=Ba,s=e.contextType;return typeof s=="object"&&s!==null?s=Mi(s):(i=ri(e)?Dl:Nr.current,r=e.contextTypes,s=(r=r!=null)?hc(t,i):Ba),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function E5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vm.enqueueReplaceState(e,e.state,null)}function J1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},P2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mi(s):(s=ri(e)?Dl:Nr.current,i.context=hc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(X1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vm.enqueueReplaceState(i,i.state,null),Ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mc(t,e){try{var n="",r=e;do n+=Kx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Z1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bT=typeof WeakMap=="function"?WeakMap:Map;function T4(t,e,n){n=bo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cp||(Cp=!0,u0=r),Z1(t,e)},n}function N4(t,e,n){n=bo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Z1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Z1(t,e),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DT.bind(null,t,e,n),e.then(t,t))}function x5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bo(-1,1),e.tag=2,Ca(n,e,1))),n.lanes|=1),t)}var AT=Lo.ReactCurrentOwner,ti=!1;function Mr(t,e,n,r){e.child=t===null?r4(e,null,n,r):dc(e,t.child,n,r)}function T5(t,e,n,r,i){n=n.render;var s=e.ref;return ec(e,i),r=O2(t,e,n,r,s,i),n=D2(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,To(t,e,i)):(dn&&n&&A2(e),e.flags|=1,Mr(t,e,r,i),e.child)}function N5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!H2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,P4(t,e,s,r,i)):(t=Qd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xh,n(o,r)&&t.ref===e.ref)return To(t,e,i)}return e.flags|=1,t=Oa(s,r),t.ref=e.ref,t.return=e,e.child=t}function P4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xh(s,r)&&t.ref===e.ref)if(ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ti=!0);else return e.lanes=t.lanes,To(t,e,i)}return e0(t,e,n,r,i)}function k4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Wu,mi),mi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(Wu,mi),mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nn(Wu,mi),mi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nn(Wu,mi),mi|=r;return Mr(t,e,i,n),e.child}function C4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e0(t,e,n,r,i){var s=ri(n)?Dl:Nr.current;return s=hc(e,s),ec(e,i),n=O2(t,e,n,r,s,i),r=D2(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,To(t,e,i)):(dn&&r&&A2(e),e.flags|=1,Mr(t,e,n,i),e.child)}function P5(t,e,n,r,i){if(ri(n)){var s=!0;bp(e)}else s=!1;if(ec(e,i),e.stateNode===null)Wd(t,e),I4(e,n,r),J1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mi(c):(c=ri(n)?Dl:Nr.current,c=hc(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&E5(e,o,r,c),pa=!1;var m=e.memoizedState;o.state=m,Ip(e,r,o,i),l=e.memoizedState,a!==r||m!==l||ni.current||pa?(typeof h=="function"&&(X1(e,n,h,r),l=e.memoizedState),(a=pa||A5(e,n,a,r,m,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,s4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ts(e.type,a),o.props=c,d=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=ri(n)?Dl:Nr.current,l=hc(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&E5(e,o,r,l),pa=!1,m=e.memoizedState,o.state=m,Ip(e,r,o,i);var w=e.memoizedState;a!==d||m!==w||ni.current||pa?(typeof p=="function"&&(X1(e,n,p,r),w=e.memoizedState),(c=pa||A5(e,n,c,r,m,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return t0(t,e,n,r,s,i)}function t0(t,e,n,r,i,s){C4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&p5(e,n,!1),To(t,e,s);r=e.stateNode,AT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=dc(e,t.child,null,s),e.child=dc(e,null,a,s)):Mr(t,e,a,s),e.memoizedState=r.state,i&&p5(e,n,!0),e.child}function L4(t){var e=t.stateNode;e.pendingContext?d5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d5(t,e.context,!1),k2(t,e.containerInfo)}function k5(t,e,n,r,i){return fc(),S2(i),e.flags|=256,Mr(t,e,n,r),e.child}var n0={dehydrated:null,treeContext:null,retryLane:0};function r0(t){return{baseLanes:t,cachePool:null,transitions:null}}function R4(t,e,n){var r=e.pendingProps,i=pn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nn(pn,i&1),t===null)return Q1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wm(o,r,0,null),t=Cl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r0(n),e.memoizedState=n0,t):M2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ET(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Oa(a,s):(s=Cl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n0,r}return s=t.child,t=s.sibling,r=Oa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M2(t,e){return e=wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&S2(r),dc(e,t.child,null,n),t=M2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ET(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qg(Error(Ue(422))),Ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wm({mode:"visible",children:r.children},i,0,null),s=Cl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&dc(e,t.child,null,o),e.child.memoizedState=r0(o),e.memoizedState=n0,s);if(!(e.mode&1))return Ed(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=qg(s,r,void 0),Ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,ti||a){if(r=tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Io(t,i),os(r,t,i,-1))}return $2(),r=qg(Error(Ue(421))),Ed(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gi=ka(i.nextSibling),bi=e,dn=!0,is=null,t!==null&&(Ri[Oi++]=mo,Ri[Oi++]=go,Ri[Oi++]=jl,mo=t.id,go=t.overflow,jl=e),e=M2(e,r.children),e.flags|=4096,e)}function C5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y1(t.return,e,n)}function $g(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function O4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mr(t,e,r.children,n),r=pn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C5(t,n,e);else if(t.tag===19)C5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nn(pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$g(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$g(e,!0,n,null,s);break;case"together":$g(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function To(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=Oa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ST(t,e,n){switch(e.tag){case 3:L4(e),fc();break;case 5:o4(e);break;case 1:ri(e.type)&&bp(e);break;case 4:k2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nn(Sp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nn(pn,pn.current&1),e.flags|=128,null):n&e.child.childLanes?R4(t,e,n):(nn(pn,pn.current&1),t=To(t,e,n),t!==null?t.sibling:null);nn(pn,pn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(pn,pn.current),r)break;return null;case 22:case 23:return e.lanes=0,k4(t,e,n)}return To(t,e,n)}var D4,i0,j4,F4;D4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i0=function(){};j4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Tl(Os.current);var s=null;switch(n){case"input":i=I1(t,i),r=I1(t,r),s=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),s=[];break;case"textarea":i=P1(t,i),r=P1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_p)}C1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($h.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($h.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&an("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};F4=function(t,e,n,r){n!==r&&(e.flags|=4)};function hh(t,e){if(!dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xT(t,e,n){var r=e.pendingProps;switch(E2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return ri(e.type)&&wp(),yr(e),null;case 3:return r=e.stateNode,pc(),cn(ni),cn(Nr),L2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,is!==null&&(f0(is),is=null))),i0(t,e),yr(e),null;case 5:C2(e);var i=Tl(nf.current);if(n=e.type,t!==null&&e.stateNode!=null)j4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return yr(e),null}if(t=Tl(Os.current),bd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ks]=e,r[ef]=s,t=(e.mode&1)!==0,n){case"dialog":an("cancel",r),an("close",r);break;case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(i=0;i<bh.length;i++)an(bh[i],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"details":an("toggle",r);break;case"input":Vy(r,s),an("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r);break;case"textarea":zy(r,s),an("invalid",r)}C1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",""+a]):$h.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&an("scroll",r)}switch(n){case"input":fd(r),By(r,s,!0);break;case"textarea":fd(r),qy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_p)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ks]=e,t[ef]=r,D4(t,e,!1,!1),e.stateNode=t;e:{switch(o=L1(n,r),n){case"dialog":an("cancel",t),an("close",t),i=r;break;case"iframe":case"object":case"embed":an("load",t),i=r;break;case"video":case"audio":for(i=0;i<bh.length;i++)an(bh[i],t);i=r;break;case"source":an("error",t),i=r;break;case"img":case"image":case"link":an("error",t),an("load",t),i=r;break;case"details":an("toggle",t),i=r;break;case"input":Vy(t,r),i=I1(t,r),an("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),an("invalid",t);break;case"textarea":zy(t,r),i=P1(t,r),an("invalid",t);break;default:i=r}C1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hh(t,l):typeof l=="number"&&Hh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($h.hasOwnProperty(s)?l!=null&&s==="onScroll"&&an("scroll",t):l!=null&&l2(t,s,l,o))}switch(n){case"input":fd(t),By(t,r,!1);break;case"textarea":fd(t),qy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Va(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_p)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(t&&e.stateNode!=null)F4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=Tl(nf.current),Tl(Os.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(s=r.nodeValue!==n)&&(t=bi,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return yr(e),null;case 13:if(cn(pn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dn&&gi!==null&&e.mode&1&&!(e.flags&128))t4(),fc(),e.flags|=98560,s=!1;else if(s=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[ks]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),s=!1}else is!==null&&(f0(is),is=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pn.current&1?Kn===0&&(Kn=3):$2())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return pc(),i0(t,e),t===null&&Jh(e.stateNode.containerInfo),yr(e),null;case 10:return T2(e.type._context),yr(e),null;case 17:return ri(e.type)&&wp(),yr(e),null;case 19:if(cn(pn),s=e.memoizedState,s===null)return yr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hh(s,!1);else{if(Kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tp(t),o!==null){for(e.flags|=128,hh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nn(pn,pn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rn()>gc&&(e.flags|=128,r=!0,hh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Tp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dn)return yr(e),null}else 2*Rn()-s.renderingStartTime>gc&&n!==1073741824&&(e.flags|=128,r=!0,hh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rn(),e.sibling=null,n=pn.current,nn(pn,r?n&1|2:n&1),e):(yr(e),null);case 22:case 23:return q2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mi&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function IT(t,e){switch(E2(e),e.tag){case 1:return ri(e.type)&&wp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pc(),cn(ni),cn(Nr),L2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C2(e),null;case 13:if(cn(pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cn(pn),null;case 4:return pc(),null;case 10:return T2(e.type._context),null;case 22:case 23:return q2(),null;case 24:return null;default:return null}}var Sd=!1,xr=!1,TT=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Hu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function s0(t,e,n){try{n()}catch(r){In(t,e,r)}}var L5=!1;function NT(t,e){if(z1=gp,t=zb(),b2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,m=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q1={focusedElem:t,selectionRange:n},gp=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,P=w.memoizedState,_=e.stateNode,A=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:ts(e.type,E),P);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(U){In(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return w=L5,L5=!1,w}function Oh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s0(e,n,s)}i=i.next}while(i!==r)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M4(t){var e=t.alternate;e!==null&&(t.alternate=null,M4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[ef],delete e[W1],delete e[cT],delete e[hT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U4(t){return t.tag===5||t.tag===3||t.tag===4}function R5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_p));else if(r!==4&&(t=t.child,t!==null))for(a0(t,e,n),t=t.sibling;t!==null;)a0(t,e,n),t=t.sibling}function l0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l0(t,e,n),t=t.sibling;t!==null;)l0(t,e,n),t=t.sibling}var ar=null,rs=!1;function ua(t,e,n){for(n=n.child;n!==null;)V4(t,e,n),n=n.sibling}function V4(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(cm,n)}catch{}switch(n.tag){case 5:xr||Hu(n,e);case 6:var r=ar,i=rs;ar=null,ua(t,e,n),ar=r,rs=i,ar!==null&&(rs?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(rs?(t=ar,n=n.stateNode,t.nodeType===8?Fg(t.parentNode,n):t.nodeType===1&&Fg(t,n),Qh(t)):Fg(ar,n.stateNode));break;case 4:r=ar,i=rs,ar=n.stateNode.containerInfo,rs=!0,ua(t,e,n),ar=r,rs=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s0(n,e,o),i=i.next}while(i!==r)}ua(t,e,n);break;case 1:if(!xr&&(Hu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){In(n,e,a)}ua(t,e,n);break;case 21:ua(t,e,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,ua(t,e,n),xr=r):ua(t,e,n);break;default:ua(t,e,n)}}function O5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TT),e.forEach(function(r){var i=FT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,rs=!1;break e;case 3:ar=a.stateNode.containerInfo,rs=!0;break e;case 4:ar=a.stateNode.containerInfo,rs=!0;break e}a=a.return}if(ar===null)throw Error(Ue(160));V4(s,o,i),ar=null,rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){In(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B4(e,t),e=e.sibling}function B4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xi(e,t),Is(t),r&4){try{Oh(3,t,t.return),ym(3,t)}catch(E){In(t,t.return,E)}try{Oh(5,t,t.return)}catch(E){In(t,t.return,E)}}break;case 1:Xi(e,t),Is(t),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(Xi(e,t),Is(t),r&512&&n!==null&&Hu(n,n.return),t.flags&32){var i=t.stateNode;try{Hh(i,"")}catch(E){In(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ub(i,s),L1(a,o);var c=L1(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?pb(i,d):h==="dangerouslySetInnerHTML"?fb(i,d):h==="children"?Hh(i,d):l2(i,h,d,c)}switch(a){case"input":T1(i,s);break;case"textarea":cb(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Yu(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?Yu(i,!!s.multiple,s.defaultValue,!0):Yu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ef]=s}catch(E){In(t,t.return,E)}}break;case 6:if(Xi(e,t),Is(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){In(t,t.return,E)}}break;case 3:if(Xi(e,t),Is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qh(e.containerInfo)}catch(E){In(t,t.return,E)}break;case 4:Xi(e,t),Is(t);break;case 13:Xi(e,t),Is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(B2=Rn())),r&4&&O5(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(xr=(c=xr)||h,Xi(e,t),xr=c):Xi(e,t),Is(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Je=t,h=t.child;h!==null;){for(d=Je=h;Je!==null;){switch(m=Je,p=m.child,m.tag){case 0:case 11:case 14:case 15:Oh(4,m,m.return);break;case 1:Hu(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){In(r,n,E)}}break;case 5:Hu(m,m.return);break;case 22:if(m.memoizedState!==null){j5(d);continue}}p!==null?(p.return=m,Je=p):j5(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=db("display",o))}catch(E){In(t,t.return,E)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(E){In(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xi(e,t),Is(t),r&4&&O5(t);break;case 21:break;default:Xi(e,t),Is(t)}}function Is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U4(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hh(i,""),r.flags&=-33);var s=R5(t);l0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R5(t);a0(t,a,o);break;default:throw Error(Ue(161))}}catch(l){In(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PT(t,e,n){Je=t,z4(t)}function z4(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xr;a=Sd;var c=xr;if(Sd=o,(xr=l)&&!c)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?F5(i):l!==null?(l.return=o,Je=l):F5(i);for(;s!==null;)Je=s,z4(s),s=s.sibling;Je=i,Sd=a,xr=c}D5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):D5(t)}}function D5(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xr||ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Qh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}xr||e.flags&512&&o0(e)}catch(m){In(e,e.return,m)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function j5(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function F5(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ym(4,e)}catch(l){In(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){In(e,i,l)}}var s=e.return;try{o0(e)}catch(l){In(e,s,l)}break;case 5:var o=e.return;try{o0(e)}catch(l){In(e,o,l)}}}catch(l){In(e,e.return,l)}if(e===t){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var kT=Math.ceil,kp=Lo.ReactCurrentDispatcher,U2=Lo.ReactCurrentOwner,ji=Lo.ReactCurrentBatchConfig,jt=0,tr=null,zn=null,cr=0,mi=0,Wu=Qa(0),Kn=0,af=null,Ml=0,_m=0,V2=0,Dh=null,Jr=null,B2=0,gc=1/0,fo=null,Cp=!1,u0=null,La=null,xd=!1,Ea=null,Lp=0,jh=0,c0=null,Gd=-1,Kd=0;function Ur(){return jt&6?Rn():Gd!==-1?Gd:Gd=Rn()}function Ra(t){return t.mode&1?jt&2&&cr!==0?cr&-cr:dT.transition!==null?(Kd===0&&(Kd=Ib()),Kd):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:Rb(t.type)),t):1}function os(t,e,n,r){if(50<jh)throw jh=0,c0=null,Error(Ue(185));bf(t,n,r),(!(jt&2)||t!==tr)&&(t===tr&&(!(jt&2)&&(_m|=n),Kn===4&&ga(t,cr)),ii(t,r),n===1&&jt===0&&!(e.mode&1)&&(gc=Rn()+500,mm&&Ya()))}function ii(t,e){var n=t.callbackNode;dI(t,e);var r=mp(t,t===tr?cr:0);if(r===0)n!==null&&Wy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wy(n),e===1)t.tag===0?fT(M5.bind(null,t)):Jb(M5.bind(null,t)),lT(function(){!(jt&6)&&Ya()}),n=null;else{switch(Tb(r)){case 1:n=d2;break;case 4:n=Sb;break;case 16:n=pp;break;case 536870912:n=xb;break;default:n=pp}n=Y4(n,q4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function q4(t,e){if(Gd=-1,Kd=0,jt&6)throw Error(Ue(327));var n=t.callbackNode;if(tc()&&t.callbackNode!==n)return null;var r=mp(t,t===tr?cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rp(t,r);else{e=r;var i=jt;jt|=2;var s=H4();(tr!==t||cr!==e)&&(fo=null,gc=Rn()+500,kl(t,e));do try{RT();break}catch(a){$4(t,a)}while(!0);I2(),kp.current=s,jt=i,zn!==null?e=0:(tr=null,cr=0,e=Kn)}if(e!==0){if(e===2&&(i=F1(t),i!==0&&(r=i,e=h0(t,i))),e===1)throw n=af,kl(t,0),ga(t,r),ii(t,Rn()),n;if(e===6)ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!CT(i)&&(e=Rp(t,r),e===2&&(s=F1(t),s!==0&&(r=s,e=h0(t,s))),e===1))throw n=af,kl(t,0),ga(t,r),ii(t,Rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:wl(t,Jr,fo);break;case 3:if(ga(t,r),(r&130023424)===r&&(e=B2+500-Rn(),10<e)){if(mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=H1(wl.bind(null,t,Jr,fo),e);break}wl(t,Jr,fo);break;case 4:if(ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ss(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kT(r/1960))-r,10<r){t.timeoutHandle=H1(wl.bind(null,t,Jr,fo),r);break}wl(t,Jr,fo);break;case 5:wl(t,Jr,fo);break;default:throw Error(Ue(329))}}}return ii(t,Rn()),t.callbackNode===n?q4.bind(null,t):null}function h0(t,e){var n=Dh;return t.current.memoizedState.isDehydrated&&(kl(t,e).flags|=256),t=Rp(t,e),t!==2&&(e=Jr,Jr=n,e!==null&&f0(e)),t}function f0(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function CT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!as(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e){for(e&=~V2,e&=~_m,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function M5(t){if(jt&6)throw Error(Ue(327));tc();var e=mp(t,0);if(!(e&1))return ii(t,Rn()),null;var n=Rp(t,e);if(t.tag!==0&&n===2){var r=F1(t);r!==0&&(e=r,n=h0(t,r))}if(n===1)throw n=af,kl(t,0),ga(t,e),ii(t,Rn()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wl(t,Jr,fo),ii(t,Rn()),null}function z2(t,e){var n=jt;jt|=1;try{return t(e)}finally{jt=n,jt===0&&(gc=Rn()+500,mm&&Ya())}}function Ul(t){Ea!==null&&Ea.tag===0&&!(jt&6)&&tc();var e=jt;jt|=1;var n=ji.transition,r=Gt;try{if(ji.transition=null,Gt=1,t)return t()}finally{Gt=r,ji.transition=n,jt=e,!(jt&6)&&Ya()}}function q2(){mi=Wu.current,cn(Wu)}function kl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aT(n)),zn!==null)for(n=zn.return;n!==null;){var r=n;switch(E2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wp();break;case 3:pc(),cn(ni),cn(Nr),L2();break;case 5:C2(r);break;case 4:pc();break;case 13:cn(pn);break;case 19:cn(pn);break;case 10:T2(r.type._context);break;case 22:case 23:q2()}n=n.return}if(tr=t,zn=t=Oa(t.current,null),cr=mi=e,Kn=0,af=null,V2=_m=Ml=0,Jr=Dh=null,Il!==null){for(e=0;e<Il.length;e++)if(n=Il[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Il=null}return t}function $4(t,e){do{var n=zn;try{if(I2(),$d.current=Pp,Np){for(var r=mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(Fl=0,Zn=Gn=mn=null,Rh=!1,rf=0,U2.current=null,n===null||n.return===null){Kn=1,af=e,zn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=x5(o);if(p!==null){p.flags&=-257,I5(p,o,a,s,e),p.mode&1&&S5(s,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){S5(s,c,e),$2();break e}l=Error(Ue(426))}}else if(dn&&a.mode&1){var P=x5(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),I5(P,o,a,s,e),S2(mc(l,a));break e}}s=l=mc(l,a),Kn!==4&&(Kn=2),Dh===null?Dh=[s]:Dh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=T4(s,l,e);y5(s,_);break e;case 1:a=l;var A=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(La===null||!La.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=N4(s,a,e);y5(s,U);break e}}s=s.return}while(s!==null)}G4(n)}catch(G){e=G,zn===n&&n!==null&&(zn=n=n.return);continue}break}while(!0)}function H4(){var t=kp.current;return kp.current=Pp,t===null?Pp:t}function $2(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),tr===null||!(Ml&268435455)&&!(_m&268435455)||ga(tr,cr)}function Rp(t,e){var n=jt;jt|=2;var r=H4();(tr!==t||cr!==e)&&(fo=null,kl(t,e));do try{LT();break}catch(i){$4(t,i)}while(!0);if(I2(),jt=n,kp.current=r,zn!==null)throw Error(Ue(261));return tr=null,cr=0,Kn}function LT(){for(;zn!==null;)W4(zn)}function RT(){for(;zn!==null&&!iI();)W4(zn)}function W4(t){var e=Q4(t.alternate,t,mi);t.memoizedProps=t.pendingProps,e===null?G4(t):zn=e,U2.current=null}function G4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IT(n,e),n!==null){n.flags&=32767,zn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kn=6,zn=null;return}}else if(n=xT(n,e,mi),n!==null){zn=n;return}if(e=e.sibling,e!==null){zn=e;return}zn=e=t}while(e!==null);Kn===0&&(Kn=5)}function wl(t,e,n){var r=Gt,i=ji.transition;try{ji.transition=null,Gt=1,OT(t,e,n,r)}finally{ji.transition=i,Gt=r}return null}function OT(t,e,n,r){do tc();while(Ea!==null);if(jt&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pI(t,s),t===tr&&(zn=tr=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,Y4(pp,function(){return tc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ji.transition,ji.transition=null;var o=Gt;Gt=1;var a=jt;jt|=4,U2.current=null,NT(t,n),B4(n,t),eT(q1),gp=!!z1,q1=z1=null,t.current=n,PT(n),sI(),jt=a,Gt=o,ji.transition=s}else t.current=n;if(xd&&(xd=!1,Ea=t,Lp=i),s=t.pendingLanes,s===0&&(La=null),lI(n.stateNode),ii(t,Rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cp)throw Cp=!1,t=u0,u0=null,t;return Lp&1&&t.tag!==0&&tc(),s=t.pendingLanes,s&1?t===c0?jh++:(jh=0,c0=t):jh=0,Ya(),null}function tc(){if(Ea!==null){var t=Tb(Lp),e=ji.transition,n=Gt;try{if(ji.transition=null,Gt=16>t?16:t,Ea===null)var r=!1;else{if(t=Ea,Ea=null,Lp=0,jt&6)throw Error(Ue(331));var i=jt;for(jt|=4,Je=t.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Je=c;Je!==null;){var h=Je;switch(h.tag){case 0:case 11:case 15:Oh(8,h,s)}var d=h.child;if(d!==null)d.return=h,Je=d;else for(;Je!==null;){h=Je;var m=h.sibling,p=h.return;if(M4(h),h===c){Je=null;break}if(m!==null){m.return=p,Je=m;break}Je=p}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var P=E.sibling;E.sibling=null,E=P}while(E!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Je=_;break e}Je=s.return}}var A=t.current;for(Je=A;Je!==null;){o=Je;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Je=k;else e:for(o=A;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ym(9,a)}}catch(G){In(a,a.return,G)}if(a===o){Je=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,Je=U;break e}Je=a.return}}if(jt=i,Ya(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(cm,t)}catch{}r=!0}return r}finally{Gt=n,ji.transition=e}}return!1}function U5(t,e,n){e=mc(n,e),e=T4(t,e,1),t=Ca(t,e,1),e=Ur(),t!==null&&(bf(t,1,e),ii(t,e))}function In(t,e,n){if(t.tag===3)U5(t,t,n);else for(;e!==null;){if(e.tag===3){U5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){t=mc(n,t),t=N4(e,t,1),e=Ca(e,t,1),t=Ur(),e!==null&&(bf(e,1,t),ii(e,t));break}}e=e.return}}function DT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(cr&n)===n&&(Kn===4||Kn===3&&(cr&130023424)===cr&&500>Rn()-B2?kl(t,0):V2|=n),ii(t,e)}function K4(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=Ur();t=Io(t,e),t!==null&&(bf(t,e,n),ii(t,n))}function jT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K4(t,n)}function FT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),K4(t,n)}var Q4;Q4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ni.current)ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ti=!1,ST(t,e,n);ti=!!(t.flags&131072)}else ti=!1,dn&&e.flags&1048576&&Zb(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var i=hc(e,Nr.current);ec(e,n),i=O2(null,e,r,t,i,n);var s=D2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,bp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P2(e),i.updater=vm,e.stateNode=i,i._reactInternals=e,J1(e,r,t,n),e=t0(null,e,r,!0,s,n)):(e.tag=0,dn&&s&&A2(e),Mr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UT(r),t=ts(r,t),i){case 0:e=e0(null,e,r,t,n);break e;case 1:e=P5(null,e,r,t,n);break e;case 11:e=T5(null,e,r,t,n);break e;case 14:e=N5(null,e,r,ts(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),e0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),P5(t,e,r,i,n);case 3:e:{if(L4(e),t===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,s4(t,e),Ip(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mc(Error(Ue(423)),e),e=k5(t,e,r,n,i);break e}else if(r!==i){i=mc(Error(Ue(424)),e),e=k5(t,e,r,n,i);break e}else for(gi=ka(e.stateNode.containerInfo.firstChild),bi=e,dn=!0,is=null,n=r4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===i){e=To(t,e,n);break e}Mr(t,e,r,n)}e=e.child}return e;case 5:return o4(e),t===null&&Q1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$1(r,i)?o=null:s!==null&&$1(r,s)&&(e.flags|=32),C4(t,e),Mr(t,e,o,n),e.child;case 6:return t===null&&Q1(e),null;case 13:return R4(t,e,n);case 4:return k2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dc(e,null,r,n):Mr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),T5(t,e,r,i,n);case 7:return Mr(t,e,e.pendingProps,n),e.child;case 8:return Mr(t,e,e.pendingProps.children,n),e.child;case 12:return Mr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nn(Sp,r._currentValue),r._currentValue=o,s!==null)if(as(s.value,o)){if(s.children===i.children&&!ni.current){e=To(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Y1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Y1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ec(e,n),i=Mi(i),r=r(i),e.flags|=1,Mr(t,e,r,n),e.child;case 14:return r=e.type,i=ts(r,e.pendingProps),i=ts(r.type,i),N5(t,e,r,i,n);case 15:return P4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ts(r,i),Wd(t,e),e.tag=1,ri(r)?(t=!0,bp(e)):t=!1,ec(e,n),I4(e,r,i),J1(e,r,i,n),t0(null,e,r,!0,t,n);case 19:return O4(t,e,n);case 22:return k4(t,e,n)}throw Error(Ue(156,e.tag))};function Y4(t,e){return Eb(t,e)}function MT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(t,e,n,r){return new MT(t,e,n,r)}function H2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UT(t){if(typeof t=="function")return H2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c2)return 11;if(t===h2)return 14}return 2}function Oa(t,e){var n=t.alternate;return n===null?(n=Di(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")H2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ju:return Cl(n.children,i,s,e);case u2:o=8,i|=8;break;case A1:return t=Di(12,n,e,i|2),t.elementType=A1,t.lanes=s,t;case E1:return t=Di(13,n,e,i),t.elementType=E1,t.lanes=s,t;case S1:return t=Di(19,n,e,i),t.elementType=S1,t.lanes=s,t;case ob:return wm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ib:o=10;break e;case sb:o=9;break e;case c2:o=11;break e;case h2:o=14;break e;case da:o=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=Di(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cl(t,e,n,r){return t=Di(7,t,r,e),t.lanes=n,t}function wm(t,e,n,r){return t=Di(22,t,r,e),t.elementType=ob,t.lanes=n,t.stateNode={isHidden:!1},t}function Hg(t,e,n){return t=Di(6,t,null,e),t.lanes=n,t}function Wg(t,e,n){return e=Di(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ig(0),this.expirationTimes=Ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W2(t,e,n,r,i,s,o,a,l){return t=new VT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Di(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P2(s),t}function BT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X4(t){if(!t)return Ba;t=t._reactInternals;e:{if(Gl(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(ri(n))return Xb(t,n,e)}return e}function J4(t,e,n,r,i,s,o,a,l){return t=W2(n,r,!0,t,i,s,o,a,l),t.context=X4(null),n=t.current,r=Ur(),i=Ra(n),s=bo(r,i),s.callback=e??null,Ca(n,s,i),t.current.lanes=i,bf(t,i,r),ii(t,r),t}function bm(t,e,n,r){var i=e.current,s=Ur(),o=Ra(i);return n=X4(n),e.context===null?e.context=n:e.pendingContext=n,e=bo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ca(i,e,o),t!==null&&(os(t,i,o,s),qd(t,i,o)),o}function Op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G2(t,e){V5(t,e),(t=t.alternate)&&V5(t,e)}function zT(){return null}var Z4=typeof reportError=="function"?reportError:function(t){console.error(t)};function K2(t){this._internalRoot=t}Am.prototype.render=K2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));bm(t,e,null,null)};Am.prototype.unmount=K2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ul(function(){bm(null,t,null,null)}),e[xo]=null}};function Am(t){this._internalRoot=t}Am.prototype.unstable_scheduleHydration=function(t){if(t){var e=kb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ma.length&&e!==0&&e<ma[n].priority;n++);ma.splice(n,0,t),n===0&&Lb(t)}};function Q2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B5(){}function qT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Op(o);s.call(c)}}var o=J4(e,r,t,0,null,!1,!1,"",B5);return t._reactRootContainer=o,t[xo]=o.current,Jh(t.nodeType===8?t.parentNode:t),Ul(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Op(l);a.call(c)}}var l=W2(t,0,!1,null,null,!1,!1,"",B5);return t._reactRootContainer=l,t[xo]=l.current,Jh(t.nodeType===8?t.parentNode:t),Ul(function(){bm(e,l,n,r)}),l}function Sm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Op(o);a.call(l)}}bm(e,o,t,i)}else o=qT(n,e,t,i,r);return Op(o)}Nb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wh(e.pendingLanes);n!==0&&(p2(e,n|1),ii(e,Rn()),!(jt&6)&&(gc=Rn()+500,Ya()))}break;case 13:Ul(function(){var r=Io(t,1);if(r!==null){var i=Ur();os(r,t,1,i)}}),G2(t,1)}};m2=function(t){if(t.tag===13){var e=Io(t,134217728);if(e!==null){var n=Ur();os(e,t,134217728,n)}G2(t,134217728)}};Pb=function(t){if(t.tag===13){var e=Ra(t),n=Io(t,e);if(n!==null){var r=Ur();os(n,t,e,r)}G2(t,e)}};kb=function(){return Gt};Cb=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}};O1=function(t,e,n){switch(e){case"input":if(T1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pm(r);if(!i)throw Error(Ue(90));lb(r),T1(r,i)}}}break;case"textarea":cb(t,n);break;case"select":e=n.value,e!=null&&Yu(t,!!n.multiple,e,!1)}};vb=z2;yb=Ul;var $T={usingClientEntryPoint:!1,Events:[Ef,Vu,pm,mb,gb,z2]},fh={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HT={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bb(t),t===null?null:t.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||zT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{cm=Id.inject(HT),Rs=Id}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;Ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q2(e))throw Error(Ue(200));return BT(t,e,null,n)};Ei.createRoot=function(t,e){if(!Q2(t))throw Error(Ue(299));var n=!1,r="",i=Z4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W2(t,1,!1,null,null,n,!1,r,i),t[xo]=e.current,Jh(t.nodeType===8?t.parentNode:t),new K2(e)};Ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=bb(e),t=t===null?null:t.stateNode,t};Ei.flushSync=function(t){return Ul(t)};Ei.hydrate=function(t,e,n){if(!Em(e))throw Error(Ue(200));return Sm(null,t,e,!0,n)};Ei.hydrateRoot=function(t,e,n){if(!Q2(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Z4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J4(e,null,t,1,n??null,i,!1,s,o),t[xo]=e.current,Jh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Am(e)};Ei.render=function(t,e,n){if(!Em(e))throw Error(Ue(200));return Sm(null,t,e,!1,n)};Ei.unmountComponentAtNode=function(t){if(!Em(t))throw Error(Ue(40));return t._reactRootContainer?(Ul(function(){Sm(null,null,t,!1,function(){t._reactRootContainer=null,t[xo]=null})}),!0):!1};Ei.unstable_batchedUpdates=z2;Ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Em(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return Sm(t,e,n,!1,r)};Ei.version="18.3.1-next-f1338f8080-20240426";function e3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e3)}catch(t){console.error(t)}}e3(),eb.exports=Ei;var WT=eb.exports,z5=WT;w1.createRoot=z5.createRoot,w1.hydrateRoot=z5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}var Sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sa||(Sa={}));const q5="popstate";function GT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return d0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dp(i)}return QT(e,n,null,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KT(){return Math.random().toString(36).substr(2,8)}function $5(t,e){return{usr:t.state,key:t.key,idx:e}}function d0(t,e,n,r){return n===void 0&&(n=null),lf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pc(e):e,{state:n,key:e&&e.key||r||KT()})}function Dp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Sa.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(lf({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Sa.Pop;let P=h(),_=P==null?null:P-c;c=P,l&&l({action:a,location:E.location,delta:_})}function m(P,_){a=Sa.Push;let A=d0(E.location,P,_);c=h()+1;let k=$5(A,c),U=E.createHref(A);try{o.pushState(k,"",U)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(U)}s&&l&&l({action:a,location:E.location,delta:1})}function p(P,_){a=Sa.Replace;let A=d0(E.location,P,_);c=h();let k=$5(A,c),U=E.createHref(A);o.replaceState(k,"",U),s&&l&&l({action:a,location:E.location,delta:0})}function w(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof P=="string"?P:Dp(P);return A=A.replace(/ $/,"%20"),gn(_,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,_)}let E={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q5,d),l=P,()=>{i.removeEventListener(q5,d),l=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let _=w(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(P){return o.go(P)}};return E}var H5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H5||(H5={}));function YT(t,e,n){return n===void 0&&(n="/"),XT(t,e,n)}function XT(t,e,n,r){let i=typeof e=="string"?Pc(e):e,s=vc(i.pathname||"/",n);if(s==null)return null;let o=n3(t);JT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uN(s);a=aN(o[l],c)}return a}function n3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Da([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),n3(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:sN(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of r3(s.path))i(s,o,l)}),e}function r3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=r3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZT=/^:[\w-]+$/,eN=3,tN=2,nN=1,rN=10,iN=-2,W5=t=>t==="*";function sN(t,e){let n=t.split("/"),r=n.length;return n.some(W5)&&(r+=iN),e&&(r+=tN),n.filter(i=>!W5(i)).reduce((i,s)=>i+(ZT.test(s)?eN:s===""?nN:rN),r)}function oN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=p0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Da([s,d.pathname]),pathnameBase:dN(Da([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=Da([s,d.pathnameBase]))}return o}function p0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let E=a[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=a[d];return p&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function lN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),t3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Pc(t):t;return{pathname:n?n.startsWith("/")?n:hN(n,e):e,search:pN(r),hash:mN(i)}}function hN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y2(t,e){let n=fN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Pc(t):(i=lf({},t),gn(!i.pathname||!i.pathname.includes("?"),Gg("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),Gg("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),Gg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=cN(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Da=t=>t.join("/").replace(/\/\/+/g,"/"),dN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i3=["post","put","patch","delete"];new Set(i3);const vN=["get",...i3];new Set(vN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}const xm=_e.createContext(null),s3=_e.createContext(null),Ro=_e.createContext(null),Im=_e.createContext(null),qs=_e.createContext({outlet:null,matches:[],isDataRoute:!1}),o3=_e.createContext(null);function yN(t,e){let{relative:n}=e===void 0?{}:e;kc()||gn(!1);let{basename:r,navigator:i}=_e.useContext(Ro),{hash:s,pathname:o,search:a}=Tm(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Da([r,o])),i.createHref({pathname:l,search:a,hash:s})}function kc(){return _e.useContext(Im)!=null}function Cc(){return kc()||gn(!1),_e.useContext(Im).location}function a3(t){_e.useContext(Ro).static||_e.useLayoutEffect(t)}function Lc(){let{isDataRoute:t}=_e.useContext(qs);return t?ON():_N()}function _N(){kc()||gn(!1);let t=_e.useContext(xm),{basename:e,future:n,navigator:r}=_e.useContext(Ro),{matches:i}=_e.useContext(qs),{pathname:s}=Cc(),o=JSON.stringify(Y2(i,n.v7_relativeSplatPath)),a=_e.useRef(!1);return a3(()=>{a.current=!0}),_e.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=X2(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Da([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const wN=_e.createContext(null);function bN(t){let e=_e.useContext(qs).outlet;return e&&_e.createElement(wN.Provider,{value:t},e)}function AN(){let{matches:t}=_e.useContext(qs),e=t[t.length-1];return e?e.params:{}}function Tm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_e.useContext(Ro),{matches:i}=_e.useContext(qs),{pathname:s}=Cc(),o=JSON.stringify(Y2(i,r.v7_relativeSplatPath));return _e.useMemo(()=>X2(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function EN(t,e){return SN(t,e)}function SN(t,e,n,r){kc()||gn(!1);let{navigator:i}=_e.useContext(Ro),{matches:s}=_e.useContext(qs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Cc(),h;if(e){var d;let P=typeof e=="string"?Pc(e):e;l==="/"||(d=P.pathname)!=null&&d.startsWith(l)||gn(!1),h=P}else h=c;let m=h.pathname||"/",p=m;if(l!=="/"){let P=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=YT(t,{pathname:p}),E=PN(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Da([l,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Da([l,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&E?_e.createElement(Im.Provider,{value:{location:uf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Sa.Pop}},E):E}function xN(){let t=RN(),e=gN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},e),n?_e.createElement("pre",{style:i},n):null,null)}const IN=_e.createElement(xN,null);class TN extends _e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_e.createElement(qs.Provider,{value:this.props.routeContext},_e.createElement(o3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NN(t){let{routeContext:e,match:n,children:r}=t,i=_e.useContext(xm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_e.createElement(qs.Provider,{value:e},r)}function PN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||gn(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:m,errors:p}=n,w=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,m)=>{let p,w=!1,E=null,P=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||IN,l&&(c<0&&m===0?(DN("route-fallback"),w=!0,P=null):c===m&&(w=!0,P=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),A=()=>{let k;return p?k=E:w?k=P:d.route.Component?k=_e.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=h,_e.createElement(NN,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?_e.createElement(TN,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):A()},null)}var l3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(l3||{}),u3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(u3||{});function kN(t){let e=_e.useContext(xm);return e||gn(!1),e}function CN(t){let e=_e.useContext(s3);return e||gn(!1),e}function LN(t){let e=_e.useContext(qs);return e||gn(!1),e}function c3(t){let e=LN(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function RN(){var t;let e=_e.useContext(o3),n=CN(),r=c3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ON(){let{router:t}=kN(l3.UseNavigateStable),e=c3(u3.UseNavigateStable),n=_e.useRef(!1);return a3(()=>{n.current=!0}),_e.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,uf({fromRouteId:e},s)))},[t,e])}const G5={};function DN(t,e,n){G5[t]||(G5[t]=!0)}function jN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function m0(t){let{to:e,replace:n,state:r,relative:i}=t;kc()||gn(!1);let{future:s,static:o}=_e.useContext(Ro),{matches:a}=_e.useContext(qs),{pathname:l}=Cc(),c=Lc(),h=X2(e,Y2(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return _e.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function FN(t){return bN(t.context)}function ho(t){gn(!1)}function MN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sa.Pop,navigator:s,static:o=!1,future:a}=t;kc()&&gn(!1);let l=e.replace(/^\/*/,"/"),c=_e.useMemo(()=>({basename:l,navigator:s,static:o,future:uf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Pc(r));let{pathname:h="/",search:d="",hash:m="",state:p=null,key:w="default"}=r,E=_e.useMemo(()=>{let P=vc(h,l);return P==null?null:{location:{pathname:P,search:d,hash:m,state:p,key:w},navigationType:i}},[l,h,d,m,p,w,i]);return E==null?null:_e.createElement(Ro.Provider,{value:c},_e.createElement(Im.Provider,{children:n,value:E}))}function UN(t){let{children:e,location:n}=t;return EN(g0(e),n)}new Promise(()=>{});function g0(t,e){e===void 0&&(e=[]);let n=[];return _e.Children.forEach(t,(r,i)=>{if(!_e.isValidElement(r))return;let s=[...e,i];if(r.type===_e.Fragment){n.push.apply(n,g0(r.props.children,s));return}r.type!==ho&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=g0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function h3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BN(t,e){return t.button===0&&(!e||e==="_self")&&!VN(t)}const zN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$N="6";try{window.__reactRouterVersion=$N}catch{}const HN=_e.createContext({isTransitioning:!1}),WN="startTransition",K5=Dx[WN];function GN(t){let{basename:e,children:n,future:r,window:i}=t,s=_e.useRef();s.current==null&&(s.current=GT({window:i,v5Compat:!0}));let o=s.current,[a,l]=_e.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=_e.useCallback(d=>{c&&K5?K5(()=>l(d)):l(d)},[l,c]);return _e.useLayoutEffect(()=>o.listen(h),[o,h]),_e.useEffect(()=>jN(r),[r]),_e.createElement(MN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YN=_e.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,m=h3(e,zN),{basename:p}=_e.useContext(Ro),w,E=!1;if(typeof c=="string"&&QN.test(c)&&(w=c,KN))try{let k=new URL(window.location.href),U=c.startsWith("//")?new URL(k.protocol+c):new URL(c),G=vc(U.pathname,p);U.origin===k.origin&&G!=null?c=G+U.search+U.hash:E=!0}catch{}let P=yN(c,{relative:i}),_=JN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function A(k){r&&r(k),k.defaultPrevented||_(k)}return _e.createElement("a",jp({},m,{href:w||P,onClick:E||s?r:A,ref:n,target:l}))}),Kg=_e.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,d=h3(e,qN),m=Tm(l,{relative:d.relative}),p=Cc(),w=_e.useContext(s3),{navigator:E,basename:P}=_e.useContext(Ro),_=w!=null&&ZN(m)&&c===!0,A=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,k=p.pathname,U=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(k=k.toLowerCase(),U=U?U.toLowerCase():null,A=A.toLowerCase()),U&&P&&(U=vc(U,P)||U);const G=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let q=k===A||!o&&k.startsWith(A)&&k.charAt(G)==="/",R=U!=null&&(U===A||!o&&U.startsWith(A)&&U.charAt(A.length)==="/"),y={isActive:q,isPending:R,isTransitioning:_},I=q?r:void 0,L;typeof s=="function"?L=s(y):L=[s,q?"active":null,R?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let S=typeof a=="function"?a(y):a;return _e.createElement(YN,jp({},d,{"aria-current":I,className:L,ref:n,style:S,to:l,viewTransition:c}),typeof h=="function"?h(y):h)});var v0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v0||(v0={}));var Q5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q5||(Q5={}));function XN(t){let e=_e.useContext(xm);return e||gn(!1),e}function JN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Lc(),c=Cc(),h=Tm(t,{relative:o});return _e.useCallback(d=>{if(BN(d,n)){d.preventDefault();let m=r!==void 0?r:Dp(c)===Dp(h);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function ZN(t,e){e===void 0&&(e={});let n=_e.useContext(HN);n==null&&gn(!1);let{basename:r}=XN(v0.useViewTransitionState),i=Tm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=vc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=vc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return p0(i.pathname,o)!=null||p0(i.pathname,s)!=null}const f3=_e.createContext(),xf=()=>{const t=_e.useContext(f3);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t},e6=({children:t})=>{const[e,n]=_e.useState([]),[r,i]=_e.useState(null),s=_e.useCallback((p,w="info")=>{const E=Date.now()+Math.random(),P={id:E,message:p,type:w};return n(_=>[..._,P]),setTimeout(()=>{o(E)},4e3),E},[]),o=_e.useCallback(p=>{n(w=>w.filter(E=>E.id!==p))},[]),a=_e.useCallback(p=>s(p,"success"),[s]),l=_e.useCallback(p=>s(p,"error"),[s]),c=_e.useCallback(p=>s(p,"info"),[s]),h=_e.useCallback(p=>s(p,"warning"),[s]),d=_e.useCallback(p=>new Promise(w=>{i({...p,onConfirm:()=>{i(null),w(!0)},onCancel:()=>{i(null),w(!1)}})}),[]),m={toasts:e,showToast:s,removeToast:o,showSuccess:a,showError:l,showInfo:c,showWarning:h,showConfirm:d,confirmDialog:r};return O.jsx(f3.Provider,{value:m,children:t})},t6=t=>{switch(t){case"success":return"";case"error":return"";case"warning":return"";case"info":default:return""}},n6=t=>{switch(t){case"success":return"toast-success";case"error":return"toast-error";case"warning":return"toast-warning";case"info":default:return"toast-info"}};function r6({toast:t,onRemove:e}){return _e.useEffect(()=>{const n=setTimeout(()=>{e(t.id)},4e3);return()=>clearTimeout(n)},[t.id,e]),O.jsxs("div",{className:`toast ${n6(t.type)}`,children:[O.jsx("div",{className:"toast-icon",children:t6(t.type)}),O.jsx("div",{className:"toast-message",children:t.message}),O.jsx("button",{className:"toast-close",onClick:()=>e(t.id),"aria-label":"Luk notifikation",children:""})]})}function i6(){const{toasts:t,removeToast:e}=xf();return O.jsx("div",{className:"toast-container",children:t.map(n=>O.jsx(r6,{toast:n,onRemove:e},n.id))})}function s6(){const{confirmDialog:t}=xf();if(!t)return null;const{title:e="Bekrft handling",message:n,confirmText:r="Bekrft",cancelText:i="Annuller",onConfirm:s,onCancel:o,type:a="danger"}=t;return O.jsx("div",{className:"confirm-overlay",children:O.jsxs("div",{className:"confirm-dialog",children:[O.jsx("div",{className:"confirm-header",children:O.jsx("h3",{children:e})}),O.jsx("div",{className:"confirm-body",children:O.jsx("p",{children:n})}),O.jsxs("div",{className:"confirm-footer",children:[O.jsx("button",{className:"btn-secondary",onClick:o,children:i}),O.jsx("button",{className:a==="danger"?"btn-danger":"btn-primary",onClick:s,children:r})]})]})})}var Y5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},p3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[h],n[d],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new a6;const m=s<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l6=function(t){const e=d3(t);return p3.encodeByteArray(e,!0)},Fp=function(t){return l6(t).replace(/\./g,"")},m3=function(t){try{return p3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=()=>u6().__FIREBASE_DEFAULTS__,h6=()=>{if(typeof process>"u"||typeof Y5>"u")return;const t=Y5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m3(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return c6()||h6()||f6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g3=t=>{var e,n;return(n=(e=Nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v3=t=>{const e=g3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y3=()=>{var t;return(t=Nm())===null||t===void 0?void 0:t.config},_3=t=>{var e;return(e=Nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fp(JSON.stringify(n)),Fp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pr())}function m6(){var t;const e=(t=Nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _6(){const t=Pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w6(){return!m6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b6(){try{return typeof indexedDB=="object"}catch{return!1}}function A6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="FirebaseError";class $s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=E6,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?S6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $s(i,a,r)}}function S6(t,e){return t.replace(x6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x6=/\{\$([^}]+)}/g;function I6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(X5(s)&&X5(o)){if(!Mp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ah(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T6(t,e){const n=new N6(t,e);return n.subscribe.bind(n)}class N6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class za{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L6(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C6(t){return t===bl?void 0:t}function L6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const O6={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},D6=Rt.INFO,j6={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},F6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=j6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J2{constructor(e){this.name=e,this._logLevel=D6,this._logHandler=F6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const M6=(t,e)=>e.some(n=>t instanceof n);let J5,Z5;function U6(){return J5||(J5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V6(){return Z5||(Z5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b3=new WeakMap,y0=new WeakMap,A3=new WeakMap,Yg=new WeakMap,Z2=new WeakMap;function B6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ja(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b3.set(n,t)}).catch(()=>{}),Z2.set(e,t),e}function z6(t){if(y0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});y0.set(t,e)}let _0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q6(t){_0=t(_0)}function $6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return A3.set(r,e.sort?e.sort():[e]),ja(r)}:V6().includes(t)?function(...e){return t.apply(Xg(this),e),ja(b3.get(this))}:function(...e){return ja(t.apply(Xg(this),e))}}function H6(t){return typeof t=="function"?$6(t):(t instanceof IDBTransaction&&z6(t),M6(t,U6())?new Proxy(t,_0):t)}function ja(t){if(t instanceof IDBRequest)return B6(t);if(Yg.has(t))return Yg.get(t);const e=H6(t);return e!==t&&(Yg.set(t,e),Z2.set(e,t)),e}const Xg=t=>Z2.get(t);function W6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ja(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ja(o.result),l.oldVersion,l.newVersion,ja(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G6=["get","getKey","getAll","getAllKeys","count"],K6=["put","add","delete","clear"],Jg=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jg.set(e,s),s}q6(t=>({...t,get:(e,n,r)=>e_(e,n)||t.get(e,n,r),has:(e,n)=>!!e_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const w0="@firebase/app",t_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new J2("@firebase/app"),X6="@firebase/app-compat",J6="@firebase/analytics-compat",Z6="@firebase/analytics",eP="@firebase/app-check-compat",tP="@firebase/app-check",nP="@firebase/auth",rP="@firebase/auth-compat",iP="@firebase/database",sP="@firebase/data-connect",oP="@firebase/database-compat",aP="@firebase/functions",lP="@firebase/functions-compat",uP="@firebase/installations",cP="@firebase/installations-compat",hP="@firebase/messaging",fP="@firebase/messaging-compat",dP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",vP="@firebase/storage",yP="@firebase/storage-compat",_P="@firebase/firestore",wP="@firebase/vertexai-preview",bP="@firebase/firestore-compat",AP="firebase",EP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",SP={[w0]:"fire-core",[X6]:"fire-core-compat",[Z6]:"fire-analytics",[J6]:"fire-analytics-compat",[tP]:"fire-app-check",[eP]:"fire-app-check-compat",[nP]:"fire-auth",[rP]:"fire-auth-compat",[iP]:"fire-rtdb",[sP]:"fire-data-connect",[oP]:"fire-rtdb-compat",[aP]:"fire-fn",[lP]:"fire-fn-compat",[uP]:"fire-iid",[cP]:"fire-iid-compat",[hP]:"fire-fcm",[fP]:"fire-fcm-compat",[dP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[vP]:"fire-gcs",[yP]:"fire-gcs-compat",[_P]:"fire-fst",[bP]:"fire-fst-compat",[wP]:"fire-vertex","fire-js":"fire-js",[AP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,xP=new Map,A0=new Map;function n_(t,e){try{t.container.addComponent(e)}catch(n){No.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(A0.has(e))return No.debug(`There were multiple attempts to register component ${e}.`),!1;A0.set(e,t);for(const n of Up.values())n_(n,t);for(const n of xP.values())n_(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new If("app","Firebase",IP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=EP;function E3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:b0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(n||(n=y3()),!n)throw Fa.create("no-options");const s=Up.get(i);if(s){if(Mp(n,s.options)&&Mp(r,s.config))return s;throw Fa.create("duplicate-app",{appName:i})}const o=new R6(i);for(const l of A0.values())o.addComponent(l);const a=new TP(n,r,o);return Up.set(i,a),a}function ev(t=b0){const e=Up.get(t);if(!e&&t===b0&&y3())return E3();if(!e)throw Fa.create("no-app",{appName:t});return e}function Ds(t,e,n){var r;let i=(r=SP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),No.warn(a.join(" "));return}Vl(new za(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="firebase-heartbeat-database",PP=1,cf="firebase-heartbeat-store";let Zg=null;function S3(){return Zg||(Zg=W6(NP,PP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function kP(t){try{const n=(await S3()).transaction(cf),r=await n.objectStore(cf).get(x3(t));return await n.done,r}catch(e){if(e instanceof $s)No.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});No.warn(n.message)}}}async function r_(t,e){try{const r=(await S3()).transaction(cf,"readwrite");await r.objectStore(cf).put(e,x3(t)),await r.done}catch(n){if(n instanceof $s)No.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});No.warn(r.message)}}}function x3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1024,LP=30*24*60*60*1e3;class RP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=LP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){No.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:r,unsentEntries:i}=OP(this._heartbeatsCache.heartbeats),s=Fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return No.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function OP(t,e=CP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),s_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b6()?A6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s_(t){return Fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){Vl(new za("platform-logger",e=>new Q6(e),"PRIVATE")),Vl(new za("heartbeat",e=>new RP(e),"PRIVATE")),Ds(w0,t_,t),Ds(w0,t_,"esm2017"),Ds("fire-js","")}jP("");function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function I3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FP=I3,T3=new If("auth","Firebase",I3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new J2("@firebase/auth");function MP(t,...e){Vp.logLevel<=Rt.WARN&&Vp.warn(`Auth (${Kl}): ${t}`,...e)}function Yd(t,...e){Vp.logLevel<=Rt.ERROR&&Vp.error(`Auth (${Kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,...e){throw nv(t,...e)}function js(t,...e){return nv(t,...e)}function N3(t,e,n){const r=Object.assign(Object.assign({},FP()),{[e]:n});return new If("auth","Firebase",r).create(e,{appName:t.name})}function Ma(t){return N3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return T3.create(t,...e)}function mt(t,e,...n){if(!t)throw nv(e,...n)}function yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function Po(t,e){t||yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UP(){return o_()==="http:"||o_()==="https:"}function o_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UP()||v6()||"connection"in navigator)?navigator.onLine:!0}function BP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Po(n>e,"Short delay should be less than long delay!"),this.isMobile=p6()||y6()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){Po(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Nf(3e4,6e4);function Ql(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xa(t,e,n,r,i={}){return k3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return g6()||(c.referrerPolicy="no-referrer"),P3.fetch()(C3(t,t.config.apiHost,n,a),c)})}async function k3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zP),e);try{const i=new HP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Td(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw N3(t,h,c);ls(t,h)}}catch(i){if(i instanceof $s)throw i;ls(t,"network-request-failed",{message:String(i)})}}async function km(t,e,n,r,i={}){const s=await Xa(t,e,n,r,i);return"mfaPendingCredential"in s&&ls(t,"multi-factor-auth-required",{_serverResponse:s}),s}function C3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rv(t.config,i):`${t.config.apiScheme}://${i}`}function $P(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),qP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=js(t,e,r);return i.customData._tokenResponse=n,i}function a_(t){return t!==void 0&&t.enterprise!==void 0}class WP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $P(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function GP(t,e){return Xa(t,"GET","/v2/recaptchaConfig",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e){return Xa(t,"POST","/v1/accounts:delete",e)}async function L3(t,e){return Xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QP(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=iv(r);mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fh(e1(i.auth_time)),issuedAtTime:Fh(e1(i.iat)),expirationTime:Fh(e1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function e1(t){return Number(t)*1e3}function iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=m3(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l_(t){const e=iv(t);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $s&&YP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fh(this.lastLoginAt),this.creationTime=Fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hf(t,L3(n,{idToken:r}));mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?R3(s.providerUserInfo):[],a=ZP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S0(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function JP(t){const e=yn(t);await Bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R3(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e){const n=await k3(t,{},async()=>{const r=Tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=C3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",P3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tk(t,e){return Xa(t,"POST","/v2/accounts:revokeToken",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const n=l_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ek(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nc;return r&&(mt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){mt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QP(this,e)}reload(){return JP(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vo(this.auth.app))return Promise.reject(Ma(this.auth));const e=await this.getIdToken();return await hf(this,KP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:U,isAnonymous:G,providerData:q,stsTokenManager:R}=n;mt(k&&R,e,"internal-error");const y=nc.fromJSON(this.name,R);mt(typeof k=="string",e,"internal-error"),ca(d,e.name),ca(m,e.name),mt(typeof U=="boolean",e,"internal-error"),mt(typeof G=="boolean",e,"internal-error"),ca(p,e.name),ca(w,e.name),ca(E,e.name),ca(P,e.name),ca(_,e.name),ca(A,e.name);const I=new _o({uid:k,auth:e,email:m,emailVerified:U,displayName:d,isAnonymous:G,photoURL:w,phoneNumber:p,tenantId:E,stsTokenManager:y,createdAt:_,lastLoginAt:A});return q&&Array.isArray(q)&&(I.providerData=q.map(L=>Object.assign({},L))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new nc;i.updateFromServerResponse(n);const s=new _o({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?R3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new nc;a.updateFromIdToken(r);const l=new _o({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function wo(t){Po(t instanceof Function,"Expected a class definition");let e=u_.get(t);return e?(Po(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O3.type="NONE";const c_=O3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rc(wo(c_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wo(c_);const o=Xd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=_o._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new rc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new rc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V3(e))return"Blackberry";if(B3(e))return"Webos";if(j3(e))return"Safari";if((e.includes("chrome/")||F3(e))&&!e.includes("edge/"))return"Chrome";if(U3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D3(t=Pr()){return/firefox\//i.test(t)}function j3(t=Pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F3(t=Pr()){return/crios\//i.test(t)}function M3(t=Pr()){return/iemobile/i.test(t)}function U3(t=Pr()){return/android/i.test(t)}function V3(t=Pr()){return/blackberry/i.test(t)}function B3(t=Pr()){return/webos/i.test(t)}function sv(t=Pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nk(t=Pr()){var e;return sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rk(){return _6()&&document.documentMode===10}function z3(t=Pr()){return sv(t)||U3(t)||B3(t)||V3(t)||/windows phone/i.test(t)||M3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e=[]){let n;switch(t){case"Browser":n=h_(Pr());break;case"Worker":n=`${h_(Pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e={}){return Xa(t,"GET","/v2/passwordPolicy",Ql(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=6;class ak{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ok,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L3(this,{idToken:e}),r=await _o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vo(this.app))return Promise.reject(Ma(this));const n=e?yn(e):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vo(this.app)?Promise.reject(Ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vo(this.app)?Promise.reject(Ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sk(this),n=new ak(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new If("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wo(e)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rc(t){return yn(t)}class f_{constructor(e){this.auth=e,this.observer=null,this.addObserver=T6(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uk(t){Cm=t}function $3(t){return Cm.loadJS(t)}function ck(){return Cm.recaptchaEnterpriseScript}function hk(){return Cm.gapiScript}function fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dk="recaptcha-enterprise",pk="NO_RECAPTCHA";class mk{constructor(e){this.type=dk,this.auth=Rc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;a_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&a_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ck();l.length!==0&&(l+=a),$3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function d_(t,e,n,r=!1){const i=new mk(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function p_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await d_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await d_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mp(s,e??{}))return i;ls(i,"already-initialized")}return n.initialize({options:e})}function vk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yk(t,e,n){const r=Rc(t);mt(r._canInitEmulator,r,"emulator-config-failed"),mt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=H3(e),{host:o,port:a}=_k(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),wk()}function H3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _k(t){const e=H3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:m_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:m_(o)}}}function m_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yo("not implemented")}_getIdTokenResponse(e){return yo("not implemented")}_linkToIdToken(e,n){return yo("not implemented")}_getReauthenticationResolver(e){return yo("not implemented")}}async function bk(t,e){return Xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return km(t,"POST","/v1/accounts:signInWithPassword",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}async function Sk(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends ov{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ff(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ff(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,n,"signInWithPassword",Ak);case"emailLink":return Ek(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(e,r,"signUpPassword",bk);case"emailLink":return Sk(e,{idToken:n,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return km(t,"POST","/v1/accounts:signInWithIdp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="http://localhost";class Bl extends ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tk(t){const e=Ah(Eh(t)).link,n=e?Ah(Eh(e)).deep_link_id:null,r=Ah(Eh(t)).deep_link_id;return(r?Ah(Eh(r)).link:null)||r||n||e||t}class av{constructor(e){var n,r,i,s,o,a;const l=Ah(Eh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Ik((i=l.mode)!==null&&i!==void 0?i:null);mt(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Tk(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.providerId=Oc.PROVIDER_ID}static credential(e,n){return ff._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return mt(r,"argument-error"),ff._fromEmailAndCode(e,r.code,r.tenantId)}}Oc.PROVIDER_ID="password";Oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends W3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Pf{constructor(){super("facebook.com")}static credential(e){return Bl._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bl._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ya.credential(n,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Pf{constructor(){super("github.com")}static credential(e){return Bl._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Pf{constructor(){super("twitter.com")}static credential(e,n){return Bl._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wa.credential(n,r)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _o._fromIdTokenResponse(e,r,i),o=g_(r);return new yc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=g_(r);return new yc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function g_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends $s{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zp(e,n,r,i)}}function G3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zp._fromErrorAndOperation(t,s,e,r):s})}async function Nk(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,e,n=!1){const{auth:r}=t;if(vo(r.app))return Promise.reject(Ma(r));const i="reauthenticate";try{const s=await hf(t,G3(r,i,e,t),n);mt(s.idToken,r,"internal-error");const o=iv(s.idToken);mt(o,r,"internal-error");const{sub:a}=o;return mt(t.uid===a,r,"user-mismatch"),yc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ls(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e,n=!1){if(vo(t.app))return Promise.reject(Ma(t));const r="signIn",i=await G3(t,r,e),s=await yc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kk(t,e){return K3(Rc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t){const e=Rc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Lk(t,e,n){return vo(t.app)?Promise.reject(Ma(t)):kk(yn(t),Oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ck(t),r})}function Rk(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function Ok(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function Dk(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}function jk(t){return yn(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=1e3,Mk=10;class Y3 extends Q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Mk):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y3.type="LOCAL";const Uk=Y3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3 extends Q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X3.type="SESSION";const J3=X3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Vk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=lv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function zk(t){Fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function qk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $k(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hk(){return Z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebaseLocalStorageDb",Wk=1,$p="firebaseLocalStorage",tA="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function Gk(){const t=indexedDB.deleteDatabase(eA);return new kf(t).toPromise()}function x0(){const t=indexedDB.open(eA,Wk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:tA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await Gk(),e(await x0()))})})}async function v_(t,e,n){const r=Rm(t,!0).put({[tA]:e,value:n});return new kf(r).toPromise()}async function Kk(t,e){const n=Rm(t,!1).get(e),r=await new kf(n).toPromise();return r===void 0?null:r.value}function y_(t,e){const n=Rm(t,!0).delete(e);return new kf(n).toPromise()}const Qk=800,Yk=3;class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(Hk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qk(),!this.activeServiceWorker)return;this.sender=new Bk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x0();return await v_(e,qp,"1"),await y_(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Kk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rm(i,!1).getAll();return new kf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nA.type="LOCAL";const Xk=nA;new Nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){return e?wo(e):(mt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zk(t){return K3(t.auth,new uv(t),t.bypassAuthState)}function eC(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),Pk(n,new uv(t),t.bypassAuthState)}async function tC(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),Nk(n,new uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zk;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:ls(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Nf(2e3,1e4);class Gu extends rA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gu.currentPopupAction&&Gu.currentPopupAction.cancel(),Gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Po(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nC.get())};e()}}Gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Jd=new Map;class iC extends rA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await sC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(t,e){const n=lC(e),r=aC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oC(t,e){Jd.set(t._key(),e)}function aC(t){return wo(t._redirectPersistence)}function lC(t){return Xd(rC,t.config.apiKey,t.name)}async function uC(t,e,n=!1){if(vo(t.app))return Promise.reject(Ma(t));const r=Rc(t),i=Jk(r,e),o=await new iC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class hC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e={}){return Xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function gC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dC(t);for(const n of e)try{if(vC(n))return}catch{}ls(t,"unauthorized-domain")}function vC(t){const e=E0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mC.test(n))return!1;if(pC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Nf(3e4,6e4);function w_(){const t=Fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _C(t){return new Promise((e,n)=>{var r,i,s;function o(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(js(t,"network-request-failed"))},timeout:yC.get()})}if(!((i=(r=Fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fs().gapi)===null||s===void 0)&&s.load)o();else{const a=fk("iframefcb");return Fs()[a]=()=>{gapi.load?o():n(js(t,"network-request-failed"))},$3(`${hk()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function wC(t){return Zd=Zd||_C(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Nf(5e3,15e3),AC="__/auth/iframe",EC="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(t){const e=t.config;mt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rv(e,EC):`https://${t.config.authDomain}/${AC}`,r={apiKey:e.apiKey,appName:t.name,v:Kl},i=xC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tf(r).slice(1)}`}async function TC(t){const e=await wC(t),n=Fs().gapi;return mt(n,t,"internal-error"),e.open({where:document.body,url:IC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=js(t,"network-request-failed"),a=Fs().setTimeout(()=>{s(o)},bC.get());function l(){Fs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,kC=600,CC="_blank",LC="http://localhost";class b_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(t,e,n,r=PC,i=kC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NC),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pr().toLowerCase();n&&(a=F3(c)?CC:n),D3(c)&&(e=e||LC,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[p,w])=>`${m}${p}=${w},`,"");if(nk(c)&&a!=="_self")return OC(e||"",a),new b_(null);const d=window.open(e||"",a,h);mt(d,t,"popup-blocked");try{d.focus()}catch{}return new b_(d)}function OC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="__/auth/handler",jC="emulator/auth/handler",FC=encodeURIComponent("fac");async function A_(t,e,n,r,i,s){mt(t.config.authDomain,t,"auth-domain-config-required"),mt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kl,eventId:i};if(e instanceof W3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",I6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Pf){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${FC}=${encodeURIComponent(l)}`:"";return`${MC(t)}?${Tf(a).slice(1)}${c}`}function MC({config:t}){return t.emulator?rv(t,jC):`https://${t.authDomain}/${DC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="webStorageSupport";class UC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J3,this._completeRedirectFn=uC,this._overrideRedirectResult=oC}async _openPopup(e,n,r,i){var s;Po((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await A_(e,n,r,E0(),i);return RC(e,o,lv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A_(e,n,r,E0(),i);return zk(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Po(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TC(e),r=new hC(e);return n.register("authEvent",i=>(mt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(t1,{type:t1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[t1];o!==void 0&&n(!!o),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z3()||j3()||sv()}}const VC=UC;var E_="@firebase/auth",S_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qC(t){Vl(new za("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q3(t)},c=new lk(r,i,s,l);return vk(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vl(new za("auth-internal",e=>{const n=Rc(e.getProvider("auth").getImmediate());return(r=>new BC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(E_,S_,zC(t)),Ds(E_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=5*60,HC=_3("authIdTokenMaxAge")||$C;let x_=null;const WC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HC)return;const i=n==null?void 0:n.token;x_!==i&&(x_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GC(t=ev()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gk(t,{popupRedirectResolver:VC,persistence:[Xk,Uk,J3]}),r=_3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=WC(s.toString());Ok(n,o,()=>o(n.currentUser)),Rk(n,a=>o(a))}}const i=g3("auth");return i&&yk(n,`http://${i}`),n}function KC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=js("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qC("Browser");var QC="firebase",YC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(QC,YC,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ll,sA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,y){function I(){}I.prototype=y.prototype,R.D=y.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(L,S,T){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return y.prototype[S].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,y,I){I||(I=0);var L=Array(16);if(typeof y=="string")for(var S=0;16>S;++S)L[S]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(S=0;16>S;++S)L[S]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=R.g[0],I=R.g[1],S=R.g[2];var T=R.g[3],N=y+(T^I&(S^T))+L[0]+3614090360&4294967295;y=I+(N<<7&4294967295|N>>>25),N=T+(S^y&(I^S))+L[1]+3905402710&4294967295,T=y+(N<<12&4294967295|N>>>20),N=S+(I^T&(y^I))+L[2]+606105819&4294967295,S=T+(N<<17&4294967295|N>>>15),N=I+(y^S&(T^y))+L[3]+3250441966&4294967295,I=S+(N<<22&4294967295|N>>>10),N=y+(T^I&(S^T))+L[4]+4118548399&4294967295,y=I+(N<<7&4294967295|N>>>25),N=T+(S^y&(I^S))+L[5]+1200080426&4294967295,T=y+(N<<12&4294967295|N>>>20),N=S+(I^T&(y^I))+L[6]+2821735955&4294967295,S=T+(N<<17&4294967295|N>>>15),N=I+(y^S&(T^y))+L[7]+4249261313&4294967295,I=S+(N<<22&4294967295|N>>>10),N=y+(T^I&(S^T))+L[8]+1770035416&4294967295,y=I+(N<<7&4294967295|N>>>25),N=T+(S^y&(I^S))+L[9]+2336552879&4294967295,T=y+(N<<12&4294967295|N>>>20),N=S+(I^T&(y^I))+L[10]+4294925233&4294967295,S=T+(N<<17&4294967295|N>>>15),N=I+(y^S&(T^y))+L[11]+2304563134&4294967295,I=S+(N<<22&4294967295|N>>>10),N=y+(T^I&(S^T))+L[12]+1804603682&4294967295,y=I+(N<<7&4294967295|N>>>25),N=T+(S^y&(I^S))+L[13]+4254626195&4294967295,T=y+(N<<12&4294967295|N>>>20),N=S+(I^T&(y^I))+L[14]+2792965006&4294967295,S=T+(N<<17&4294967295|N>>>15),N=I+(y^S&(T^y))+L[15]+1236535329&4294967295,I=S+(N<<22&4294967295|N>>>10),N=y+(S^T&(I^S))+L[1]+4129170786&4294967295,y=I+(N<<5&4294967295|N>>>27),N=T+(I^S&(y^I))+L[6]+3225465664&4294967295,T=y+(N<<9&4294967295|N>>>23),N=S+(y^I&(T^y))+L[11]+643717713&4294967295,S=T+(N<<14&4294967295|N>>>18),N=I+(T^y&(S^T))+L[0]+3921069994&4294967295,I=S+(N<<20&4294967295|N>>>12),N=y+(S^T&(I^S))+L[5]+3593408605&4294967295,y=I+(N<<5&4294967295|N>>>27),N=T+(I^S&(y^I))+L[10]+38016083&4294967295,T=y+(N<<9&4294967295|N>>>23),N=S+(y^I&(T^y))+L[15]+3634488961&4294967295,S=T+(N<<14&4294967295|N>>>18),N=I+(T^y&(S^T))+L[4]+3889429448&4294967295,I=S+(N<<20&4294967295|N>>>12),N=y+(S^T&(I^S))+L[9]+568446438&4294967295,y=I+(N<<5&4294967295|N>>>27),N=T+(I^S&(y^I))+L[14]+3275163606&4294967295,T=y+(N<<9&4294967295|N>>>23),N=S+(y^I&(T^y))+L[3]+4107603335&4294967295,S=T+(N<<14&4294967295|N>>>18),N=I+(T^y&(S^T))+L[8]+1163531501&4294967295,I=S+(N<<20&4294967295|N>>>12),N=y+(S^T&(I^S))+L[13]+2850285829&4294967295,y=I+(N<<5&4294967295|N>>>27),N=T+(I^S&(y^I))+L[2]+4243563512&4294967295,T=y+(N<<9&4294967295|N>>>23),N=S+(y^I&(T^y))+L[7]+1735328473&4294967295,S=T+(N<<14&4294967295|N>>>18),N=I+(T^y&(S^T))+L[12]+2368359562&4294967295,I=S+(N<<20&4294967295|N>>>12),N=y+(I^S^T)+L[5]+4294588738&4294967295,y=I+(N<<4&4294967295|N>>>28),N=T+(y^I^S)+L[8]+2272392833&4294967295,T=y+(N<<11&4294967295|N>>>21),N=S+(T^y^I)+L[11]+1839030562&4294967295,S=T+(N<<16&4294967295|N>>>16),N=I+(S^T^y)+L[14]+4259657740&4294967295,I=S+(N<<23&4294967295|N>>>9),N=y+(I^S^T)+L[1]+2763975236&4294967295,y=I+(N<<4&4294967295|N>>>28),N=T+(y^I^S)+L[4]+1272893353&4294967295,T=y+(N<<11&4294967295|N>>>21),N=S+(T^y^I)+L[7]+4139469664&4294967295,S=T+(N<<16&4294967295|N>>>16),N=I+(S^T^y)+L[10]+3200236656&4294967295,I=S+(N<<23&4294967295|N>>>9),N=y+(I^S^T)+L[13]+681279174&4294967295,y=I+(N<<4&4294967295|N>>>28),N=T+(y^I^S)+L[0]+3936430074&4294967295,T=y+(N<<11&4294967295|N>>>21),N=S+(T^y^I)+L[3]+3572445317&4294967295,S=T+(N<<16&4294967295|N>>>16),N=I+(S^T^y)+L[6]+76029189&4294967295,I=S+(N<<23&4294967295|N>>>9),N=y+(I^S^T)+L[9]+3654602809&4294967295,y=I+(N<<4&4294967295|N>>>28),N=T+(y^I^S)+L[12]+3873151461&4294967295,T=y+(N<<11&4294967295|N>>>21),N=S+(T^y^I)+L[15]+530742520&4294967295,S=T+(N<<16&4294967295|N>>>16),N=I+(S^T^y)+L[2]+3299628645&4294967295,I=S+(N<<23&4294967295|N>>>9),N=y+(S^(I|~T))+L[0]+4096336452&4294967295,y=I+(N<<6&4294967295|N>>>26),N=T+(I^(y|~S))+L[7]+1126891415&4294967295,T=y+(N<<10&4294967295|N>>>22),N=S+(y^(T|~I))+L[14]+2878612391&4294967295,S=T+(N<<15&4294967295|N>>>17),N=I+(T^(S|~y))+L[5]+4237533241&4294967295,I=S+(N<<21&4294967295|N>>>11),N=y+(S^(I|~T))+L[12]+1700485571&4294967295,y=I+(N<<6&4294967295|N>>>26),N=T+(I^(y|~S))+L[3]+2399980690&4294967295,T=y+(N<<10&4294967295|N>>>22),N=S+(y^(T|~I))+L[10]+4293915773&4294967295,S=T+(N<<15&4294967295|N>>>17),N=I+(T^(S|~y))+L[1]+2240044497&4294967295,I=S+(N<<21&4294967295|N>>>11),N=y+(S^(I|~T))+L[8]+1873313359&4294967295,y=I+(N<<6&4294967295|N>>>26),N=T+(I^(y|~S))+L[15]+4264355552&4294967295,T=y+(N<<10&4294967295|N>>>22),N=S+(y^(T|~I))+L[6]+2734768916&4294967295,S=T+(N<<15&4294967295|N>>>17),N=I+(T^(S|~y))+L[13]+1309151649&4294967295,I=S+(N<<21&4294967295|N>>>11),N=y+(S^(I|~T))+L[4]+4149444226&4294967295,y=I+(N<<6&4294967295|N>>>26),N=T+(I^(y|~S))+L[11]+3174756917&4294967295,T=y+(N<<10&4294967295|N>>>22),N=S+(y^(T|~I))+L[2]+718787259&4294967295,S=T+(N<<15&4294967295|N>>>17),N=I+(T^(S|~y))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+y&4294967295,R.g[1]=R.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+S&4294967295,R.g[3]=R.g[3]+T&4294967295}r.prototype.u=function(R,y){y===void 0&&(y=R.length);for(var I=y-this.blockSize,L=this.B,S=this.h,T=0;T<y;){if(S==0)for(;T<=I;)i(this,R,T),T+=this.blockSize;if(typeof R=="string"){for(;T<y;)if(L[S++]=R.charCodeAt(T++),S==this.blockSize){i(this,L),S=0;break}}else for(;T<y;)if(L[S++]=R[T++],S==this.blockSize){i(this,L),S=0;break}}this.h=S,this.o+=y},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var y=1;y<R.length-8;++y)R[y]=0;var I=8*this.o;for(y=R.length-8;y<R.length;++y)R[y]=I&255,I/=256;for(this.u(R),R=Array(16),y=I=0;4>y;++y)for(var L=0;32>L;L+=8)R[I++]=this.g[y]>>>L&255;return R};function s(R,y){var I=a;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=y(R)}function o(R,y){this.h=y;for(var I=[],L=!0,S=R.length-1;0<=S;S--){var T=R[S]|0;L&&T==y||(I[S]=T,L=!1)}this.g=I}var a={};function l(R){return-128<=R&&128>R?s(R,function(y){return new o([y|0],0>y?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return P(c(-R));for(var y=[],I=1,L=0;R>=I;L++)y[L]=R/I|0,I*=4294967296;return new o(y,0)}function h(R,y){if(R.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(R.charAt(0)=="-")return P(h(R.substring(1),y));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),L=d,S=0;S<R.length;S+=8){var T=Math.min(8,R.length-S),N=parseInt(R.substring(S,S+T),y);8>T?(T=c(Math.pow(y,T)),L=L.j(T).add(c(N))):(L=L.j(I),L=L.add(c(N)))}return L}var d=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-P(this).m();for(var R=0,y=1,I=0;I<this.g.length;I++){var L=this.i(I);R+=(0<=L?L:4294967296+L)*y,y*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(E(this))return"-"+P(this).toString(R);for(var y=c(Math.pow(R,6)),I=this,L="";;){var S=U(I,y).g;I=_(I,S.j(y));var T=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=S,w(I))return T+L;for(;6>T.length;)T="0"+T;L=T+L}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(var y=0;y<R.g.length;y++)if(R.g[y]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=_(this,R),E(R)?-1:w(R)?0:1};function P(R){for(var y=R.g.length,I=[],L=0;L<y;L++)I[L]=~R.g[L];return new o(I,~R.h).add(m)}t.abs=function(){return E(this)?P(this):this},t.add=function(R){for(var y=Math.max(this.g.length,R.g.length),I=[],L=0,S=0;S<=y;S++){var T=L+(this.i(S)&65535)+(R.i(S)&65535),N=(T>>>16)+(this.i(S)>>>16)+(R.i(S)>>>16);L=N>>>16,T&=65535,N&=65535,I[S]=N<<16|T}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(R,y){return R.add(P(y))}t.j=function(R){if(w(this)||w(R))return d;if(E(this))return E(R)?P(this).j(P(R)):P(P(this).j(R));if(E(R))return P(this.j(P(R)));if(0>this.l(p)&&0>R.l(p))return c(this.m()*R.m());for(var y=this.g.length+R.g.length,I=[],L=0;L<2*y;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var S=0;S<R.g.length;S++){var T=this.i(L)>>>16,N=this.i(L)&65535,V=R.i(S)>>>16,J=R.i(S)&65535;I[2*L+2*S]+=N*J,A(I,2*L+2*S),I[2*L+2*S+1]+=T*J,A(I,2*L+2*S+1),I[2*L+2*S+1]+=N*V,A(I,2*L+2*S+1),I[2*L+2*S+2]+=T*V,A(I,2*L+2*S+2)}for(L=0;L<y;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=y;L<2*y;L++)I[L]=0;return new o(I,0)};function A(R,y){for(;(R[y]&65535)!=R[y];)R[y+1]+=R[y]>>>16,R[y]&=65535,y++}function k(R,y){this.g=R,this.h=y}function U(R,y){if(w(y))throw Error("division by zero");if(w(R))return new k(d,d);if(E(R))return y=U(P(R),y),new k(P(y.g),P(y.h));if(E(y))return y=U(R,P(y)),new k(P(y.g),y.h);if(30<R.g.length){if(E(R)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var I=m,L=y;0>=L.l(R);)I=G(I),L=G(L);var S=q(I,1),T=q(L,1);for(L=q(L,2),I=q(I,2);!w(L);){var N=T.add(L);0>=N.l(R)&&(S=S.add(I),T=N),L=q(L,1),I=q(I,1)}return y=_(R,S.j(y)),new k(S,y)}for(S=d;0<=R.l(y);){for(I=Math.max(1,Math.floor(R.m()/y.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),T=c(I),N=T.j(y);E(N)||0<N.l(R);)I-=L,T=c(I),N=T.j(y);w(T)&&(T=m),S=S.add(T),R=_(R,N)}return new k(S,R)}t.A=function(R){return U(this,R).h},t.and=function(R){for(var y=Math.max(this.g.length,R.g.length),I=[],L=0;L<y;L++)I[L]=this.i(L)&R.i(L);return new o(I,this.h&R.h)},t.or=function(R){for(var y=Math.max(this.g.length,R.g.length),I=[],L=0;L<y;L++)I[L]=this.i(L)|R.i(L);return new o(I,this.h|R.h)},t.xor=function(R){for(var y=Math.max(this.g.length,R.g.length),I=[],L=0;L<y;L++)I[L]=this.i(L)^R.i(L);return new o(I,this.h^R.h)};function G(R){for(var y=R.g.length+1,I=[],L=0;L<y;L++)I[L]=R.i(L)<<1|R.i(L-1)>>>31;return new o(I,R.h)}function q(R,y){var I=y>>5;y%=32;for(var L=R.g.length-I,S=[],T=0;T<L;T++)S[T]=0<y?R.i(T+I)>>>y|R.i(T+I+1)<<32-y:R.i(T+I);return new o(S,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ll=o}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oA,Sh,aA,ep,I0,lA,uA,cA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,D){return f==Array.prototype||f==Object.prototype||(f[x]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var x=0;x<f.length;++x){var D=f[x];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,x){if(x)e:{var D=r;f=f.split(".");for(var Q=0;Q<f.length-1;Q++){var he=f[Q];if(!(he in D))break e;D=D[he]}f=f[f.length-1],Q=D[f],x=x(Q),x!=Q&&x!=null&&e(D,f,{configurable:!0,writable:!0,value:x})}}function s(f,x){f instanceof String&&(f+="");var D=0,Q=!1,he={next:function(){if(!Q&&D<f.length){var we=D++;return{value:x(we,f[we]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(f){return f||function(){return s(this,function(x,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function c(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function h(f,x,D){return f.call.apply(f.bind,arguments)}function d(f,x,D){if(!f)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,Q),f.apply(x,he)}}return function(){return f.apply(x,arguments)}}function m(f,x,D){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function p(f,x){var D=Array.prototype.slice.call(arguments,1);return function(){var Q=D.slice();return Q.push.apply(Q,arguments),f.apply(this,Q)}}function w(f,x){function D(){}D.prototype=x.prototype,f.aa=x.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(Q,he,we){for(var Oe=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)Oe[yt-2]=arguments[yt];return x.prototype[he].apply(Q,Oe)}}function E(f){const x=f.length;if(0<x){const D=Array(x);for(let Q=0;Q<x;Q++)D[Q]=f[Q];return D}return[]}function P(f,x){for(let D=1;D<arguments.length;D++){const Q=arguments[D];if(l(Q)){const he=f.length||0,we=Q.length||0;f.length=he+we;for(let Oe=0;Oe<we;Oe++)f[he+Oe]=Q[Oe]}else f.push(Q)}}class _{constructor(x,D){this.i=x,this.j=D,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function A(f){return/^[\s\xa0]*$/.test(f)}function k(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var G=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function q(f,x,D){for(const Q in f)x.call(D,f[Q],Q,f)}function R(f,x){for(const D in f)x.call(void 0,f[D],D,f)}function y(f){const x={};for(const D in f)x[D]=f[D];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,x){let D,Q;for(let he=1;he<arguments.length;he++){Q=arguments[he];for(D in Q)f[D]=Q[D];for(let we=0;we<I.length;we++)D=I[we],Object.prototype.hasOwnProperty.call(Q,D)&&(f[D]=Q[D])}}function S(f){var x=1;f=f.split(":");const D=[];for(;0<x&&f.length;)D.push(f.shift()),x--;return f.length&&D.push(f.join(":")),D}function T(f){a.setTimeout(()=>{throw f},0)}function N(){var f=Z;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class V{constructor(){this.h=this.g=null}add(x,D){const Q=J.get();Q.set(x,D),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var J=new _(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(x,D){this.h=x,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,Z=new V,re=()=>{const f=a.Promise.resolve(void 0);j=()=>{f.then(be)}};var be=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(D){T(D)}var x=J;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}H=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,x),a.removeEventListener("test",D,x)}catch{}return f}();function ee(f,x){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,Q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(G){e:{try{U(x.nodeName);var he=!0;break e}catch{}he=!1}he||(x=null)}}else D=="mouseover"?x=f.fromElement:D=="mouseout"&&(x=f.toElement);this.relatedTarget=x,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ee.aa.h.call(this)}}w(ee,K);var oe={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function me(f,x,D,Q,he){this.listener=f,this.proxy=null,this.src=x,this.type=D,this.capture=!!Q,this.ha=he,this.key=++ge,this.da=this.fa=!1}function Ie(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,x,D,Q,he){var we=f.toString();f=this.g[we],f||(f=this.g[we]=[],this.h++);var Oe=Be(f,x,Q,he);return-1<Oe?(x=f[Oe],D||(x.fa=!1)):(x=new me(x,this.src,we,!!Q,he),x.fa=D,f.push(x)),x};function Fe(f,x){var D=x.type;if(D in f.g){var Q=f.g[D],he=Array.prototype.indexOf.call(Q,x,void 0),we;(we=0<=he)&&Array.prototype.splice.call(Q,he,1),we&&(Ie(x),f.g[D].length==0&&(delete f.g[D],f.h--))}}function Be(f,x,D,Q){for(var he=0;he<f.length;++he){var we=f[he];if(!we.da&&we.listener==x&&we.capture==!!D&&we.ha==Q)return he}return-1}var et="closure_lm_"+(1e6*Math.random()|0),Ae={};function se(f,x,D,Q,he){if(Array.isArray(x)){for(var we=0;we<x.length;we++)se(f,x[we],D,Q,he);return null}return D=st(D),f&&f[fe]?f.K(x,D,c(Q)?!!Q.capture:!1,he):Qe(f,x,D,!1,Q,he)}function Qe(f,x,D,Q,he,we){if(!x)throw Error("Invalid event type");var Oe=c(he)?!!he.capture:!!he,yt=$e(f);if(yt||(f[et]=yt=new xe(f)),D=yt.add(x,D,Q,Oe,we),D.proxy)return D;if(Q=ze(),D.proxy=Q,Q.src=f,Q.listener=D,f.addEventListener)X||(he=Oe),he===void 0&&(he=!1),f.addEventListener(x.toString(),Q,he);else if(f.attachEvent)f.attachEvent(Me(x.toString()),Q);else if(f.addListener&&f.removeListener)f.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ze(){function f(D){return x.call(f.src,f.listener,D)}const x=Ve;return f}function Ne(f,x,D,Q,he){if(Array.isArray(x))for(var we=0;we<x.length;we++)Ne(f,x[we],D,Q,he);else Q=c(Q)?!!Q.capture:!!Q,D=st(D),f&&f[fe]?(f=f.i,x=String(x).toString(),x in f.g&&(we=f.g[x],D=Be(we,D,Q,he),-1<D&&(Ie(we[D]),Array.prototype.splice.call(we,D,1),we.length==0&&(delete f.g[x],f.h--)))):f&&(f=$e(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Be(x,D,Q,he)),(D=-1<f?x[f]:null)&&De(D))}function De(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[fe])Fe(x.i,f);else{var D=f.type,Q=f.proxy;x.removeEventListener?x.removeEventListener(D,Q,f.capture):x.detachEvent?x.detachEvent(Me(D),Q):x.addListener&&x.removeListener&&x.removeListener(Q),(D=$e(x))?(Fe(D,f),D.h==0&&(D.src=null,x[et]=null)):Ie(f)}}}function Me(f){return f in Ae?Ae[f]:Ae[f]="on"+f}function Ve(f,x){if(f.da)f=!0;else{x=new ee(x,this);var D=f.listener,Q=f.ha||f.src;f.fa&&De(f),f=D.call(Q,x)}return f}function $e(f){return f=f[et],f instanceof xe?f:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(f){return typeof f=="function"?f:(f[Ke]||(f[Ke]=function(x){return f.handleEvent(x)}),f[Ke])}function tt(){M.call(this),this.i=new xe(this),this.M=this,this.F=null}w(tt,M),tt.prototype[fe]=!0,tt.prototype.removeEventListener=function(f,x,D,Q){Ne(this,f,x,D,Q)};function lt(f,x){var D,Q=f.F;if(Q)for(D=[];Q;Q=Q.F)D.push(Q);if(f=f.M,Q=x.type||x,typeof x=="string")x=new K(x,f);else if(x instanceof K)x.target=x.target||f;else{var he=x;x=new K(Q,f),L(x,he)}if(he=!0,D)for(var we=D.length-1;0<=we;we--){var Oe=x.g=D[we];he=ht(Oe,Q,!0,x)&&he}if(Oe=x.g=f,he=ht(Oe,Q,!0,x)&&he,he=ht(Oe,Q,!1,x)&&he,D)for(we=0;we<D.length;we++)Oe=x.g=D[we],he=ht(Oe,Q,!1,x)&&he}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var D=f.g[x],Q=0;Q<D.length;Q++)Ie(D[Q]);delete f.g[x],f.h--}}this.F=null},tt.prototype.K=function(f,x,D,Q){return this.i.add(String(f),x,!1,D,Q)},tt.prototype.L=function(f,x,D,Q){return this.i.add(String(f),x,!0,D,Q)};function ht(f,x,D,Q){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var he=!0,we=0;we<x.length;++we){var Oe=x[we];if(Oe&&!Oe.da&&Oe.capture==D){var yt=Oe.listener,Nt=Oe.ha||Oe.src;Oe.fa&&Fe(f.i,Oe),he=yt.call(Nt,Q)!==!1&&he}}return he&&!Q.defaultPrevented}function ot(f,x,D){if(typeof f=="function")D&&(f=m(f,D));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(f,x||0)}function at(f){f.g=ot(()=>{f.g=null,f.i&&(f.i=!1,at(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class qe extends M{constructor(x,D){super(),this.m=x,this.l=D,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(f){M.call(this),this.h=f,this.g={}}w(Ct,M);var vt=[];function rn(f){q(f.g,function(x,D){this.g.hasOwnProperty(D)&&De(x)},f),f.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),rn(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=a.JSON.stringify,Vt=a.JSON.parse,qr=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function It(){}It.prototype.h=null;function oi(f){return f.h||(f.h=f.i())}function Mt(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){K.call(this,"d")}w(bn,K);function Lt(){K.call(this,"c")}w(Lt,K);var it={},xt=null;function kr(){return xt=xt||new tt}it.La="serverreachability";function Qt(f){K.call(this,it.La,f)}w(Qt,K);function fn(f){const x=kr();lt(x,new Qt(x))}it.STAT_EVENT="statevent";function ai(f,x){K.call(this,it.STAT_EVENT,f),this.stat=x}w(ai,K);function Xe(f){const x=kr();lt(x,new ai(x,f))}it.Ma="timingevent";function $r(f,x){K.call(this,it.Ma,f),this.size=x}w($r,K);function pr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},x)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Nn(f,x,D,Q,he,we){f.info(function(){if(f.g)if(we)for(var Oe="",yt=we.split("&"),Nt=0;Nt<yt.length;Nt++){var _t=yt[Nt].split("=");if(1<_t.length){var zt=_t[0];_t=_t[1];var Xt=zt.split("_");Oe=2<=Xt.length&&Xt[1]=="type"?Oe+(zt+"="+_t+"&"):Oe+(zt+"=redacted&")}}else Oe=null;else Oe=we;return"XMLHTTP REQ ("+Q+") [attempt "+he+"]: "+x+`
`+D+`
`+Oe})}function An(f,x,D,Q,he,we,Oe){f.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+he+"]: "+x+`
`+D+`
`+we+" "+Oe})}function Mn(f,x,D,Q){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Vi(f,D)+(Q?" "+Q:"")})}function Oo(f,x){f.info(function(){return"TIMEOUT: "+x})}Fn.prototype.info=function(){};function Vi(f,x){if(!f.g)return x;if(!x)return null;try{var D=JSON.parse(x);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var Q=D[f];if(!(2>Q.length)){var he=Q[1];if(Array.isArray(he)&&!(1>he.length)){var we=he[0];if(we!="noop"&&we!="stop"&&we!="close")for(var Oe=1;Oe<he.length;Oe++)he[Oe]=""}}}}return St(D)}catch{return x}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function Lr(){}w(Lr,It),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Cr=new Lr;function Pn(f,x,D,Q){this.j=f,this.i=x,this.l=D,this.R=Q||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var ds={},ps={};function ms(f,x,D){f.L=1,f.v=Xs(Rr(x)),f.m=D,f.P=!0,Ws(f,null)}function Ws(f,x){f.F=Date.now(),Do(f),f.A=Rr(f.v);var D=f.A,Q=f.R;Array.isArray(Q)||(Q=[String(Q)]),pt(D.i,"t",Q),f.C=0,D=f.j.J,f.h=new li,f.g=B(f.j,D?x:null,!f.m),0<f.O&&(f.M=new qe(m(f.Y,f,f.g),f.O)),x=f.U,D=f.g,Q=f.ca;var he="readystatechange";Array.isArray(he)||(he&&(vt[0]=he.toString()),he=vt);for(var we=0;we<he.length;we++){var Oe=se(D,he[we],Q||x.handleEvent,!1,x.h||x);if(!Oe)break;x.g[Oe.key]=Oe}x=f.H?y(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),fn(),Nn(f.i,f.u,f.A,f.l,f.R,f.m)}Pn.prototype.ca=function(f){f=f.target;const x=this.M;x&&Hn(f)==3?x.j():this.Y(f)},Pn.prototype.Y=function(f){try{if(f==this.g)e:{const Xt=Hn(this.g);var x=this.g.Ba();const Ki=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Xt!=4||x==7||(x==8||0>=Ki?fn(3):fn(2)),gs(this);var D=this.g.Z();this.X=D;t:if(Gs(this)){var Q=cu(this.g);f="";var he=Q.length,we=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),vs(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(x=0;x<he;x++)this.h.h=!0,f+=this.h.i.decode(Q[x],{stream:!(we&&x==he-1)});Q.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=D==200,An(this.i,this.u,this.A,this.l,this.R,Xt,D),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,Nt=this.g;if((yt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(yt)){var _t=yt;break t}}_t=null}if(D=_t)Mn(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,D);else{this.o=!1,this.s=3,Xe(12),Bi(this),vs(this);break e}}if(this.P){D=!0;let rr;for(;!this.J&&this.C<Oe.length;)if(rr=tu(this,Oe),rr==ps){Xt==4&&(this.s=4,Xe(14),D=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==ds){this.s=4,Xe(15),Mn(this.i,this.l,Oe,"[Invalid Chunk]"),D=!1;break}else Mn(this.i,this.l,rr,null),Ks(this,rr);if(Gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||Oe.length!=0||this.h.h||(this.s=1,Xe(16),D=!1),this.o=this.o&&D,!D)Mn(this.i,this.l,Oe,"[Invalid Chunked Response]"),Bi(this),vs(this);else if(0<Oe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Qo(zt),zt.M=!0,Xe(11))}}else Mn(this.i,this.l,Oe,null),Ks(this,Oe);Xt==4&&Bi(this),this.o&&!this.J&&(Xt==4?As(this.j,this):(this.o=!1,Do(this)))}else ws(this.g),D==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Bi(this),vs(this)}}}catch{}finally{}};function Gs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function tu(f,x){var D=f.C,Q=x.indexOf(`
`,D);return Q==-1?ps:(D=Number(x.substring(D,Q)),isNaN(D)?ds:(Q+=1,Q+D>x.length?ps:(x=x.slice(Q,Q+D),f.C=Q+D,x)))}Pn.prototype.cancel=function(){this.J=!0,Bi(this)};function Do(f){f.S=Date.now()+f.I,nu(f,f.I)}function nu(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=pr(m(f.ba,f),x)}function gs(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Pn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Oo(this.i,this.A),this.L!=2&&(fn(),Xe(17)),Bi(this),this.s=2,vs(this)):nu(this,this.S-f)};function vs(f){f.j.G==0||f.J||As(f.j,f)}function Bi(f){gs(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,rn(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Ks(f,x){try{var D=f.j;if(D.G!=0&&(D.g==f||el(D.h,f))){if(!f.K&&el(D.h,f)&&D.G==3){try{var Q=D.Da.g.parse(x)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var he=Q;if(he[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)Gi(D),Ho(D);else break e;no(D),Xe(18)}}else D.za=he[1],0<D.za-D.T&&37500>he[2]&&D.F&&D.v==0&&!D.C&&(D.C=pr(m(D.Za,D),6e3));if(1>=Qs(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else gr(D,11)}else if((f.K||D.g==f)&&Gi(D),!A(x))for(he=D.Da.g.parse(x),x=0;x<he.length;x++){let _t=he[x];if(D.T=_t[0],_t=_t[1],D.G==2)if(_t[0]=="c"){D.K=_t[1],D.ia=_t[2];const zt=_t[3];zt!=null&&(D.la=zt,D.j.info("VER="+D.la));const Xt=_t[4];Xt!=null&&(D.Aa=Xt,D.j.info("SVER="+D.Aa));const Ki=_t[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(Q=1.5*Ki,D.L=Q,D.j.info("backChannelRequestTimeoutMs_="+Q)),Q=D;const rr=f.g;if(rr){const Es=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var we=Q.h;we.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(sn(we,we.h),we.h=null))}if(Q.D){const Ss=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(Q.ya=Ss,qt(Q.I,Q.D,Ss))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),Q=D;var Oe=f;if(Q.qa=v(Q,Q.J?Q.ia:null,Q.W),Oe.K){tl(Q.h,Oe);var yt=Oe,Nt=Q.L;Nt&&(yt.I=Nt),yt.B&&(gs(yt),Do(yt)),Q.g=Oe}else Ko(Q);0<D.i.length&&Wo(D)}else _t[0]!="stop"&&_t[0]!="close"||gr(D,7);else D.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?gr(D,7):Wi(D):_t[0]!="noop"&&D.l&&D.l.ta(_t),D.v=0)}}fn(4)}catch{}}var Bc=class{constructor(f,x){this.g=f,this.map=x}};function Za(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ru(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qs(f){return f.h?1:f.g?f.g.size:0}function el(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function sn(f,x){f.g?f.g.add(x):f.h=x}function tl(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Za.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const D of f.g.values())x=x.concat(D.D);return x}return E(f.i)}function iu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var x=[],D=f.length,Q=0;Q<D;Q++)x.push(f[Q]);return x}x=[],D=0;for(Q in f)x[D++]=f[Q];return x}function rl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var x=[];f=f.length;for(var D=0;D<f;D++)x.push(D);return x}x=[],D=0;for(const Q in f)x[D++]=Q;return x}}}function su(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var D=rl(f),Q=iu(f),he=Q.length,we=0;we<he;we++)x.call(void 0,Q[we],D&&D[we],f)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(f,x){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var Q=f[D].indexOf("="),he=null;if(0<=Q){var we=f[D].substring(0,Q);he=f[D].substring(Q+1)}else we=f[D];x(we,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function En(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof En){this.h=f.h,Ys(this,f.j),this.o=f.o,this.g=f.g,Fo(this,f.s),this.l=f.l;var x=f.i,D=new ys;D.i=x.i,x.g&&(D.g=new Map(x.g),D.h=x.h),il(this,D),this.m=f.m}else f&&(x=String(f).match(Wr))?(this.h=!1,Ys(this,x[1]||"",!0),this.o=Js(x[2]||""),this.g=Js(x[3]||"",!0),Fo(this,x[4]),this.l=Js(x[5]||"",!0),il(this,x[6]||"",!0),this.m=Js(x[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}En.prototype.toString=function(){var f=[],x=this.j;x&&f.push(zi(x,ou,!0),":");var D=this.g;return(D||x=="file")&&(f.push("//"),(x=this.o)&&f.push(zi(x,ou,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(zi(D,D.charAt(0)=="/"?qi:qc,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",zi(D,Uo)),f.join("")};function Rr(f){return new En(f)}function Ys(f,x,D){f.j=D?Js(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Fo(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function il(f,x,D){x instanceof ys?(f.i=x,$c(f.i,f.h)):(D||(x=zi(x,Mo)),f.i=new ys(x,f.h))}function qt(f,x,D){f.i.set(x,D)}function Xs(f){return qt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Js(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zi(f,x,D){return typeof f=="string"?(f=encodeURI(f).replace(x,zc),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ou=/[#\/\?@]/g,qc=/[#\?:]/g,qi=/[#\?]/g,Mo=/[#\?@]/g,Uo=/#/g;function ys(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function on(f){f.g||(f.g=new Map,f.h=0,f.i&&jo(f.i,function(x,D){f.add(decodeURIComponent(x.replace(/\+/g," ")),D)}))}t=ys.prototype,t.add=function(f,x){on(this),this.i=null,f=_s(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(x),this.h+=1,this};function au(f,x){on(f),x=_s(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function sl(f,x){return on(f),x=_s(f,x),f.g.has(x)}t.forEach=function(f,x){on(this),this.g.forEach(function(D,Q){D.forEach(function(he){f.call(x,he,Q,this)},this)},this)},t.na=function(){on(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),D=[];for(let Q=0;Q<x.length;Q++){const he=f[Q];for(let we=0;we<he.length;we++)D.push(x[Q])}return D},t.V=function(f){on(this);let x=[];if(typeof f=="string")sl(this,f)&&(x=x.concat(this.g.get(_s(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)x=x.concat(f[D])}return x},t.set=function(f,x){return on(this),this.i=null,f=_s(this,f),sl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function pt(f,x,D){au(f,x),0<D.length&&(f.i=null,f.g.set(_s(f,x),E(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var D=0;D<x.length;D++){var Q=x[D];const we=encodeURIComponent(String(Q)),Oe=this.V(Q);for(Q=0;Q<Oe.length;Q++){var he=we;Oe[Q]!==""&&(he+="="+encodeURIComponent(String(Oe[Q]))),f.push(he)}}return this.i=f.join("&")};function _s(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function $c(f,x){x&&!f.j&&(on(f),f.i=null,f.g.forEach(function(D,Q){var he=Q.toLowerCase();Q!=he&&(au(this,Q),pt(this,he,D))},f)),f.j=x}function xi(f,x){const D=new Fn;if(a.Image){const Q=new Image;Q.onload=p(ui,D,"TestLoadImage: loaded",!0,x,Q),Q.onerror=p(ui,D,"TestLoadImage: error",!1,x,Q),Q.onabort=p(ui,D,"TestLoadImage: abort",!1,x,Q),Q.ontimeout=p(ui,D,"TestLoadImage: timeout",!1,x,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=f}else x(!1)}function lu(f,x){const D=new Fn,Q=new AbortController,he=setTimeout(()=>{Q.abort(),ui(D,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:Q.signal}).then(we=>{clearTimeout(he),we.ok?ui(D,"TestPingServer: ok",!0,x):ui(D,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(he),ui(D,"TestPingServer: error",!1,x)})}function ui(f,x,D,Q,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),Q(D)}catch{}}function Vo(){this.g=new qr}function ol(f,x,D){const Q=D||"";try{su(f,function(he,we){let Oe=he;c(he)&&(Oe=St(he)),x.push(Q+we+"="+encodeURIComponent(Oe))})}catch(he){throw x.push(Q+"type="+encodeURIComponent("_badmap")),he}}function Bo(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Bo,It),Bo.prototype.g=function(){return new zo(this.l,this.j)},Bo.prototype.i=function(f){return function(){return f}}({});function zo(f,x){tt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zo,tt),t=zo.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,ci(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?$i(this):ci(this),this.readyState==3&&uu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,$i(this))},t.Qa=function(f){this.g&&(this.response=f,$i(this))},t.ga=function(){this.g&&$i(this)};function $i(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ci(f)}t.setRequestHeader=function(f,x){this.u.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var D=x.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=x.next();return f.join(`\r
`)};function ci(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hi(f){let x="";return q(f,function(D,Q){x+=Q,x+=":",x+=D,x+=`\r
`}),x}function al(f,x,D){e:{for(Q in D){var Q=!1;break e}Q=!0}Q||(D=Hi(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):qt(f,x,D))}function Bt(f){tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Bt,tt);var ll=/^https?$/i,qo=["POST","PUT"];t=Bt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,x,D,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?oi(this.o):oi(Cr),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(we){ul(this,we);return}if(f=D||"",D=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var he in Q)D.set(he,Q[he]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const we of Q.keys())D.set(we,Q.get(we));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(D.keys()).find(we=>we.toLowerCase()=="content-type"),he=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qo,x,void 0))||Q||he||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Oe]of D)this.g.setRequestHeader(we,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hi(this),this.u=!0,this.g.send(f),this.u=!1}catch(we){ul(this,we)}};function ul(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,cl(f),Zs(f)}function cl(f){f.A||(f.A=!0,lt(f,"complete"),lt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,lt(this,"complete"),lt(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Hn(f)!=4||f.Z()!=2)){if(f.u&&Hn(f)==4)ot(f.Ea,0,f);else if(lt(f,"readystatechange"),Hn(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var D;if(!(D=x)){var Q;if(Q=Oe===0){var he=String(f.D).match(Wr)[1]||null;!he&&a.self&&a.self.location&&(he=a.self.location.protocol.slice(0,-1)),Q=!ll.test(he?he.toLowerCase():"")}D=Q}if(D)lt(f,"complete"),lt(f,"success");else{f.m=6;try{var we=2<Hn(f)?f.g.statusText:""}catch{we=""}f.l=we+" ["+f.Z()+"]",cl(f)}}finally{Zs(f)}}}}function Zs(f,x){if(f.g){hi(f);const D=f.g,Q=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||lt(f,"ready");try{D.onreadystatechange=Q}catch{}}}function hi(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Hn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Vt(x)}};function cu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const x={};f=(f.g&&2<=Hn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<f.length;Q++){if(A(f[Q]))continue;var D=S(f[Q]);const he=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const we=x[he]||[];x[he]=we,we.push(D)}R(x,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(f,x,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||x}function $o(f){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,f),this.cb=nr("retryDelaySeedMs",1e4,f),this.Wa=nr("forwardChannelMaxRetries",2,f),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Za(f&&f.concurrentRequestLimit),this.Da=new Vo,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$o.prototype,t.la=8,t.G=1,t.connect=function(f,x,D,Q){Xe(0),this.W=f,this.H=x||{},D&&Q!==void 0&&(this.H.OSID=D,this.H.OAID=Q),this.F=this.X,this.I=v(this,null,this.W),Wo(this)};function Wi(f){if(eo(f),f.G==3){var x=f.U++,D=Rr(f.I);if(qt(D,"SID",f.K),qt(D,"RID",x),qt(D,"TYPE","terminate"),bs(f,D),x=new Pn(f,f.j,x),x.L=2,x.v=Xs(Rr(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=x.v,D=!0),D||(x.g=B(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Do(x)}Xo(f)}function Ho(f){f.g&&(Qo(f),f.g.cancel(),f.g=null)}function eo(f){Ho(f),f.u&&(a.clearTimeout(f.u),f.u=null),Gi(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Wo(f){if(!ru(f.h)&&!f.s){f.s=!0;var x=f.Ga;j||re(),H||(j(),H=!0),Z.add(x,f),f.B=0}}function fl(f,x){return Qs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=pr(m(f.Ga,f,x),Yo(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const he=new Pn(this,this.j,f);let we=this.o;if(this.S&&(we?(we=y(we),L(we,this.S)):we=this.S),this.m!==null||this.O||(he.H=we,we=null),this.P)e:{for(var x=0,D=0;D<this.i.length;D++){t:{var Q=this.i[D];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(x+=Q,4096<x){x=D;break e}if(x===4096||D===this.i.length-1){x=D+1;break e}}x=1e3}else x=1e3;x=to(this,he,x),D=Rr(this.I),qt(D,"RID",f),qt(D,"CVER",22),this.D&&qt(D,"X-HTTP-Session-Id",this.D),bs(this,D),we&&(this.O?x="headers="+encodeURIComponent(String(Hi(we)))+"&"+x:this.m&&al(D,this.m,we)),sn(this.h,he),this.Ua&&qt(D,"TYPE","init"),this.P?(qt(D,"$req",x),qt(D,"SID","null"),he.T=!0,ms(he,D,null)):ms(he,D,x),this.G=2}}else this.G==3&&(f?Go(this,f):this.i.length==0||ru(this.h)||Go(this))};function Go(f,x){var D;x?D=x.l:D=f.U++;const Q=Rr(f.I);qt(Q,"SID",f.K),qt(Q,"RID",D),qt(Q,"AID",f.T),bs(f,Q),f.m&&f.o&&al(Q,f.m,f.o),D=new Pn(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),x&&(f.i=x.D.concat(f.i)),x=to(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),sn(f.h,D),ms(D,Q,x)}function bs(f,x){f.H&&q(f.H,function(D,Q){qt(x,Q,D)}),f.l&&su({},function(D,Q){qt(x,Q,D)})}function to(f,x,D){D=Math.min(f.i.length,D);var Q=f.l?m(f.l.Na,f.l,f):null;e:{var he=f.i;let we=-1;for(;;){const Oe=["count="+D];we==-1?0<D?(we=he[0].g,Oe.push("ofs="+we)):we=0:Oe.push("ofs="+we);let yt=!0;for(let Nt=0;Nt<D;Nt++){let _t=he[Nt].g;const zt=he[Nt].map;if(_t-=we,0>_t)we=Math.max(0,he[Nt].g-100),yt=!1;else try{ol(zt,Oe,"req"+_t+"_")}catch{Q&&Q(zt)}}if(yt){Q=Oe.join("&");break e}}}return f=f.i.splice(0,D),x.D=f,Q}function Ko(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;j||re(),H||(j(),H=!0),Z.add(x,f),f.v=0}}function no(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=pr(m(f.Fa,f),Yo(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pr(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),Ho(this),hu(this))};function Qo(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function hu(f){f.g=new Pn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=Rr(f.qa);qt(x,"RID","rpc"),qt(x,"SID",f.K),qt(x,"AID",f.T),qt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&qt(x,"TO",f.ja),qt(x,"TYPE","xmlhttp"),bs(f,x),f.m&&f.o&&al(x,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=Xs(Rr(x)),D.m=null,D.P=!0,Ws(D,f)}t.Za=function(){this.C!=null&&(this.C=null,Ho(this),no(this),Xe(19))};function Gi(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function As(f,x){var D=null;if(f.g==x){Gi(f),Qo(f),f.g=null;var Q=2}else if(el(f.h,x))D=x.D,tl(f.h,x),Q=1;else return;if(f.G!=0){if(x.o)if(Q==1){D=x.m?x.m.length:0,x=Date.now()-x.F;var he=f.B;Q=kr(),lt(Q,new $r(Q,D)),Wo(f)}else Ko(f);else if(he=x.s,he==3||he==0&&0<x.X||!(Q==1&&fl(f,x)||Q==2&&no(f)))switch(D&&0<D.length&&(x=f.h,x.i=x.i.concat(D)),he){case 1:gr(f,5);break;case 4:gr(f,10);break;case 3:gr(f,6);break;default:gr(f,2)}}}function Yo(f,x){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*x}function gr(f,x){if(f.j.info("Error code "+x),x==2){var D=m(f.fb,f),Q=f.Xa;const he=!Q;Q=new En(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ys(Q,"https"),Xs(Q),he?xi(Q.toString(),D):lu(Q.toString(),D)}else Xe(2);f.G=0,f.l&&f.l.sa(x),Xo(f),eo(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Xo(f){if(f.G=0,f.ka=[],f.l){const x=nl(f.h);(x.length!=0||f.i.length!=0)&&(P(f.ka,x),P(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function v(f,x,D){var Q=D instanceof En?Rr(D):new En(D);if(Q.g!="")x&&(Q.g=x+"."+Q.g),Fo(Q,Q.s);else{var he=a.location;Q=he.protocol,x=x?x+"."+he.hostname:he.hostname,he=+he.port;var we=new En(null);Q&&Ys(we,Q),x&&(we.g=x),he&&Fo(we,he),D&&(we.l=D),Q=we}return D=f.D,x=f.ya,D&&x&&qt(Q,D,x),qt(Q,"VER",f.la),bs(f,Q),Q}function B(f,x,D){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new Bt(new Bo({eb:D})):new Bt(f.pa),x.Ha(f.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ie(){}t=ie.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ae(){}ae.prototype.g=function(f,x){return new de(f,x)};function de(f,x){tt.call(this),this.g=new $o(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!A(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!A(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new We(this)}w(de,tt),de.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},de.prototype.close=function(){Wi(this.g)},de.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=St(f),f=D);x.i.push(new Bc(x.Ya++,f)),x.G==3&&Wo(x)},de.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,de.aa.N.call(this)};function Se(f){bn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const D in x){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}w(Se,bn);function Re(){Lt.call(this),this.status=1}w(Re,Lt);function We(f){this.g=f}w(We,ie),We.prototype.ua=function(){lt(this.g,"a")},We.prototype.ta=function(f){lt(this.g,new Se(f))},We.prototype.sa=function(f){lt(this.g,new Re)},We.prototype.ra=function(){lt(this.g,"b")},ae.prototype.createWebChannel=ae.prototype.g,de.prototype.send=de.prototype.o,de.prototype.open=de.prototype.m,de.prototype.close=de.prototype.close,cA=function(){return new ae},uA=function(){return kr()},lA=it,I0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,ep=mr,Hr.COMPLETE="complete",aA=Hr,Mt.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Sh=Mt,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,oA=Bt}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new J2("@firebase/firestore");function dh(){return zl.logLevel}function rt(t,...e){if(zl.logLevel<=Rt.DEBUG){const n=e.map(cv);zl.debug(`Firestore (${Dc}): ${t}`,...n)}}function ko(t,...e){if(zl.logLevel<=Rt.ERROR){const n=e.map(cv);zl.error(`Firestore (${Dc}): ${t}`,...n)}}function _c(t,...e){if(zl.logLevel<=Rt.WARN){const n=e.map(cv);zl.warn(`Firestore (${Dc}): ${t}`,...n)}}function cv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t="Unexpected state"){const e=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: `+t;throw ko(e),new Error(e)}function Kt(t,e){t||gt()}function At(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sr.UNAUTHENTICATED))}shutdown(){}}class JC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZC{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ao,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ao)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string"),new hA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string"),new Sr(e)}}class eL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Kt(this.o===void 0);const r=s=>{s.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new nL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function wc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Qn(0,0))}static max(){return new bt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r){n===void 0?n=0:n>e.length&&gt(),r===void 0?r=e.length-n:r>e.length-n&&gt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return df.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof df?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ln extends df{construct(e,n,r){return new ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ln(n)}static emptyPath(){return new ln([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends df{construct(e,n,r){return new ur(e,n,r)}static isValidIdentifier(e){return sL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ze(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ze(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(n)}static emptyPath(){return new ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(ln.fromString(e))}static fromName(e){return new ut(ln.fromString(e).popFirst(5))}static empty(){return new ut(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new ln(e.slice()))}}function oL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new qa(i,ut.empty(),e)}function aL(t){return new qa(t.readTime,t.key,-1)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(bt.min(),ut.empty(),-1)}static max(){return new qa(bt.max(),ut.empty(),-1)}}function lL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ut.comparator(t.documentKey,e.documentKey),n!==0?n:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==uL)throw t;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(i=>i?je.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new je((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new je((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hv.oe=-1;function Om(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function fL(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new _n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new _n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=s??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hr(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new vi([])}unionWith(e){let n=new hr(ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pA("Invalid base64 string: "+s):s}}(e);return new dr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const dL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(Kt(!!t),typeof t=="string"){let e=0;const n=dL.exec(t);if(Kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ql(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dv(t){const e=t.mapValue.fields.__previous_value__;return fv(e)?dv(e):e}function pf(t){const e=$a(t.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class mf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd={mapValue:{}};function $l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:gL(t)?9007199254740991:mL(t)?10:11:gt()}function Bs(t,e){if(t===e)return!0;const n=$l(t);if(n!==$l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pf(t).isEqual(pf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$a(i.timestampValue),a=$a(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ql(i.bytesValue).isEqual(ql(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ln(i.geoPointValue.latitude)===Ln(s.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ln(i.integerValue)===Ln(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ln(i.doubleValue),a=Ln(s.doubleValue);return o===a?Hp(o)===Hp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(N_(o)!==N_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bs(o[l],a[l])))return!1;return!0}(t,e);default:return gt()}}function gf(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function bc(t,e){if(t===e)return 0;const n=$l(t),r=$l(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ln(s.integerValue||s.doubleValue),l=Ln(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return k_(t.timestampValue,e.timestampValue);case 4:return k_(pf(t),pf(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ql(s),l=ql(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ft(a[c],l[c]);if(h!==0)return h}return Ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ft(Ln(s.latitude),Ln(o.latitude));return a!==0?a:Ft(Ln(s.longitude),Ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},m=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,E=Ft(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:C_(p,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===kd.mapValue&&o===kd.mapValue)return 0;if(s===kd.mapValue)return 1;if(o===kd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=Ft(l[d],h[d]);if(m!==0)return m;const p=bc(a[l[d]],c[h[d]]);if(p!==0)return p}return Ft(l.length,h.length)}(t.mapValue,e.mapValue);default:throw gt()}}function k_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const n=$a(t),r=$a(e),i=Ft(n.seconds,r.seconds);return i!==0?i:Ft(n.nanos,r.nanos)}function C_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=bc(n[i],r[i]);if(s)return s}return Ft(n.length,r.length)}function Ac(t){return T0(t)}function T0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ql(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ut.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=T0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${T0(n.fields[o])}`;return i+"}"}(t.mapValue):gt()}function L_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N0(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function R_(t){return!!t&&"nullValue"in t}function O_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function mL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ei(Mh(this.value))}}function mA(t){const e=[];return Yl(t.fields,(n,r)=>{const i=new ur([n]);if(tp(r)){const s=mA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ir(e,0,bt.min(),bt.min(),bt.min(),ei.empty(),0)}static newFoundDocument(e,n,r,i){return new Ir(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new Ir(e,2,n,bt.min(),bt.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new Ir(e,3,n,bt.min(),bt.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.position=e,this.inclusive=n}}function D_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ut.comparator(ut.fromName(o.referenceValue),n.key):r=bc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function j_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function vL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class qn extends gA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _L(e,n,r):n==="array-contains"?new AL(e,r):n==="in"?new EL(e,r):n==="not-in"?new SL(e,r):n==="array-contains-any"?new xL(e,r):new qn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wL(e,r):new bL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bc(n,this.value)):n!==null&&$l(this.value)===$l(n)&&this.matchesComparison(bc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends gA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new us(e,n)}matches(e){return vA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vA(t){return t.op==="and"}function yA(t){return yL(t)&&vA(t)}function yL(t){for(const e of t.filters)if(e instanceof us)return!1;return!0}function P0(t){if(t instanceof qn)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(yA(t))return t.filters.map(e=>P0(e)).join(",");{const e=t.filters.map(n=>P0(n)).join(",");return`${t.op}(${e})`}}function _A(t,e){return t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.field.isEqual(i.field)&&Bs(r.value,i.value)}(t,e):t instanceof us?function(r,i){return i instanceof us&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_A(o,i.filters[a]),!0):!1}(t,e):void gt()}function wA(t){return t instanceof qn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof us?function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"}(t):"Filter"}class _L extends qn{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class wL extends qn{constructor(e,n){super(e,"in",n),this.keys=bA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bL extends qn{constructor(e,n){super(e,"not-in",n),this.keys=bA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class AL extends qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&gf(n.arrayValue,this.value)}}class EL extends qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gf(this.value.arrayValue,n)}}class SL extends qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gf(this.value.arrayValue,n)}}class xL extends qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function F_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IL(t,e,n,r,i,s,o)}function mv(t){const e=At(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>P0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ac(r)).join(",")),e.ue=n}return e.ue}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_A(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j_(t.startAt,e.startAt)&&j_(t.endAt,e.endAt)}function k0(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TL(t,e,n,r,i,s,o,a){return new Rf(t,e,n,r,i,s,o,a)}function vv(t){return new Rf(t)}function M_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AA(t){return t.collectionGroup!==null}function Uh(t){const e=At(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new hr(ur.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gp(s,r))}),n.has(ur.keyField().canonicalString())||e.ce.push(new Gp(ur.keyField(),r))}return e.ce}function Ms(t){const e=At(t);return e.le||(e.le=NL(e,Uh(t))),e.le}function NL(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gp(i.field,s)});const n=t.endAt?new Wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wp(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function C0(t,e){const n=t.filters.concat([e]);return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function L0(t,e,n){return new Rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dm(t,e){return gv(Ms(t),Ms(e))&&t.limitType===e.limitType}function EA(t){return`${mv(Ms(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wA(i)).join(", ")}]`),Om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ac(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ac(i)).join(",")),`Target(${r})`}(Ms(t))}; limitType=${t.limitType})`}function jm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Uh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=D_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Uh(r),i)||r.endAt&&!function(o,a,l){const c=D_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Uh(r),i))}(t,e)}function PL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SA(t){return(e,n)=>{let r=!1;for(const i of Uh(t)){const s=kL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kL(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?bc(l,c):gt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new _n(ut.comparator);function Co(){return CL}const xA=new _n(ut.comparator);function xh(...t){let e=xA;for(const n of t)e=e.insert(n.key,n);return e}function IA(t){let e=xA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nl(){return Vh()}function TA(){return Vh()}function Vh(){return new jc(t=>t.toString(),(t,e)=>t.isEqual(e))}const LL=new _n(ut.comparator),RL=new hr(ut.comparator);function kt(...t){let e=RL;for(const n of t)e=e.add(n);return e}const OL=new hr(Ft);function DL(){return OL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function NA(t){return{integerValue:""+t}}function jL(t,e){return fL(e)?NA(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function FL(t,e,n){return t instanceof Kp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fv(s)&&(s=dv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vf?kA(t,e):t instanceof yf?CA(t,e):function(i,s){const o=PA(i,s),a=U_(o)+U_(i.Pe);return N0(o)&&N0(i.Pe)?NA(a):yv(i.serializer,a)}(t,e)}function ML(t,e,n){return t instanceof vf?kA(t,e):t instanceof yf?CA(t,e):n}function PA(t,e){return t instanceof Qp?function(r){return N0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kp extends Fm{}class vf extends Fm{constructor(e){super(),this.elements=e}}function kA(t,e){const n=LA(e);for(const r of t.elements)n.some(i=>Bs(i,r))||n.push(r);return{arrayValue:{values:n}}}class yf extends Fm{constructor(e){super(),this.elements=e}}function CA(t,e){let n=LA(e);for(const r of t.elements)n=n.filter(i=>!Bs(i,r));return{arrayValue:{values:n}}}class Qp extends Fm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U_(t){return Ln(t.integerValue||t.doubleValue)}function LA(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vf&&i instanceof vf||r instanceof yf&&i instanceof yf?wc(r.elements,i.elements,Bs):r instanceof Qp&&i instanceof Qp?Bs(r.Pe,i.Pe):r instanceof Kp&&i instanceof Kp}(t.transform,e.transform)}class VL{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mm{}function RA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _v(t.key,Fi.none()):new Of(t.key,t.data,Fi.none());{const n=t.data,r=ei.empty();let i=new hr(ur.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ja(t.key,r,new vi(i.toArray()),Fi.none())}}function BL(t,e,n){t instanceof Of?function(i,s,o){const a=i.value.clone(),l=B_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ja?function(i,s,o){if(!np(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=B_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bh(t,e,n,r){return t instanceof Of?function(s,o,a,l){if(!np(s.precondition,o))return a;const c=s.value.clone(),h=z_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ja?function(s,o,a,l){if(!np(s.precondition,o))return a;const c=z_(s.fieldTransforms,l,o),h=o.data;return h.setAll(OA(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return np(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PA(r.transform,i||null);s!=null&&(n===null&&(n=ei.empty()),n.set(r.field,s))}return n||null}function V_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wc(r,i,(s,o)=>UL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends Mm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends Mm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B_(t,e,n){const r=new Map;Kt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ML(o,a,n[i]))}return r}function z_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FL(s,o,e))}return r}class _v extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qL extends Mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&BL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=RA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),kt())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,(n,r)=>V_(n,r))&&wc(this.baseMutations,e.baseMutations,(n,r)=>V_(n,r))}}class wv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kt(e.mutations.length===r.length);let i=function(){return LL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,Ot;function GL(t){switch(t){default:return gt();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function DA(t){if(t===void 0)return ko("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Bn.OK:return Ce.OK;case Bn.CANCELLED:return Ce.CANCELLED;case Bn.UNKNOWN:return Ce.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return Ce.INTERNAL;case Bn.UNAVAILABLE:return Ce.UNAVAILABLE;case Bn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Bn.NOT_FOUND:return Ce.NOT_FOUND;case Bn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Bn.ABORTED:return Ce.ABORTED;case Bn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Bn.DATA_LOSS:return Ce.DATA_LOSS;default:return gt()}}(Ot=Bn||(Bn={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Ll([4294967295,4294967295],0);function q_(t){const e=KL().encode(t),n=new sA;return n.update(e),new Uint8Array(n.digest())}function $_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ll([n,r],0),new Ll([i,s],0)]}class bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ih(`Invalid padding: ${n}`);if(r<0)throw new Ih(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ih(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ih(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ll.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ll.fromNumber(r)));return i.compare(QL)===1&&(i=new Ll([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=q_(e),[r,i]=$_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=q_(e),[r,i]=$_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Um(bt.min(),i,new _n(Ft),Co(),kt())}}class Df{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Df(r,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jA{constructor(e,n){this.targetId=e,this.me=n}}class FA{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class H_{constructor(){this.fe=0,this.ge=G_(),this.pe=dr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kt(),n=kt(),r=kt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new Df(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=G_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Co(),this.qe=W_(),this.Qe=new _n(Ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(k0(s))if(r===0){const o=new ut(s.path);this.Ue(n,o,Ir.newNoDocument(o,bt.min()))}else Kt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ql(r).toUint8Array()}catch(l){if(l instanceof pA)return _c("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bv(o,i,s)}catch(l){return _c(l instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&k0(a.target)){const l=new ut(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ir.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=kt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Um(e,n,this.Qe,this.ke,r);return this.ke=Co(),this.qe=W_(),this.Qe=new _n(Ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new hr(Ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function W_(){return new _n(ut.comparator)}function G_(){return new _n(ut.comparator)}const XL={asc:"ASCENDING",desc:"DESCENDING"},JL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZL={and:"AND",or:"OR"};class eR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R0(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function Yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tR(t,e){return Yp(t,e.toTimestamp())}function Us(t){return Kt(!!t),bt.fromTimestamp(function(n){const r=$a(n);return new Qn(r.seconds,r.nanos)}(t))}function Av(t,e){return O0(t,e).canonicalString()}function O0(t,e){const n=function(i){return new ln(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UA(t){const e=ln.fromString(t);return Kt($A(e)),e}function D0(t,e){return Av(t.databaseId,e.path)}function n1(t,e){const n=UA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(BA(n))}function VA(t,e){return Av(t.databaseId,e)}function nR(t){const e=UA(t);return e.length===4?ln.emptyPath():BA(e)}function j0(t){return new ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BA(t){return Kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function K_(t,e,n){return{name:D0(t,e),fields:n.value.mapValue.fields}}function rR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Kt(h===void 0||typeof h=="string"),dr.fromBase64String(h||"")):(Kt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?Ce.UNKNOWN:DA(c.code);return new Ze(h,c.message||"")}(o);n=new FA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=n1(t,r.document.name),s=Us(r.document.updateTime),o=r.document.createTime?Us(r.document.createTime):bt.min(),a=new ei({mapValue:{fields:r.document.fields}}),l=Ir.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new rp(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=n1(t,r.document),s=r.readTime?Us(r.readTime):bt.min(),o=Ir.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=n1(t,r.document),s=r.removedTargetIds||[];n=new rp([],s,i,null)}else{if(!("filter"in e))return gt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WL(i,s),a=r.targetId;n=new jA(a,o)}}return n}function iR(t,e){let n;if(e instanceof Of)n={update:K_(t,e.key,e.value)};else if(e instanceof _v)n={delete:D0(t,e.key)};else if(e instanceof Ja)n={update:K_(t,e.key,e.data),updateMask:dR(e.fieldMask)};else{if(!(e instanceof qL))return gt();n={verify:D0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw gt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt()}(t,e.precondition)),n}function sR(t,e){return t&&t.length>0?(Kt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Us(i.updateTime):Us(s);return o.isEqual(bt.min())&&(o=Us(s)),new VL(o,i.transformResults||[])}(n,e))):[]}function oR(t,e){return{documents:[VA(t,e.path)]}}function aR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VA(t,i);const s=function(c){if(c.length!==0)return qA(us.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Cu(m.field),direction:cR(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=R0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function lR(t){let e=nR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const m=zA(d);return m instanceof us&&yA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(w){return new Gp(Lu(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,Om(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,p=d.values||[];return new Wp(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,p=d.values||[];return new Wp(p,m)}(n.endAt)),TL(e,i,o,s,a,"F",l,c)}function uR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lu(n.unaryFilter.field);return qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lu(n.unaryFilter.field);return qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(t):t.fieldFilter!==void 0?function(n){return qn.create(Lu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return us.create(n.compositeFilter.filters.map(r=>zA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt()}}(n.compositeFilter.op))}(t):gt()}function cR(t){return XL[t]}function hR(t){return JL[t]}function fR(t){return ZL[t]}function Cu(t){return{fieldPath:t.canonicalString()}}function Lu(t){return ur.fromServerFormat(t.fieldPath)}function qA(t){return t instanceof qn?function(n){if(n.op==="=="){if(O_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:Cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(n.field),op:hR(n.op),value:n.value}}}(t):t instanceof us?function(n){const r=n.getFilters().map(i=>qA(i));return r.length===1?r[0]:{compositeFilter:{op:fR(n.op),filters:r}}}(t):gt()}function dR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r,i,s=bt.min(),o=bt.min(),a=dr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.ct=e}}function mR(t){const e=lR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.un=new vR}addToCollectionParentIndex(e,n){return this.un.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(qa.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class vR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hr(ln.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ec(0)}static kn(){return new Ec(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.changes=new jc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bh(r.mutation,i,vi.empty(),Qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=kt()){const i=Nl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,kt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Co();const o=Vh(),a=function(){return Vh()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ja)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Bh(h.mutation,c,h.mutation.getFieldMask(),Qn.now())):o.set(c.key,vi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new _R(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vh();let i=new _n((o,a)=>o-a),s=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||vi.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||kt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=TA();h.forEach(m=>{if(!s.has(m)){const p=RA(n.get(m),r.get(m));p!==null&&d.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ut.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):je.resolve(Nl());let a=-1,l=s;return o.next(c=>je.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?je.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,kt())).next(h=>({batchId:a,changes:IA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next(r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xh();return this.indexManager.getCollectionParents(e,s).next(a=>je.forEach(a,l=>{const c=function(d,m){return new Rf(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ir.newInvalidDocument(h)))});let a=xh();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Bh(h.mutation,c,vi.empty(),Qn.now()),jm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return je.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Us(i.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mR(i.bundledQuery),readTime:Us(i.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.overlays=new _n(ut.comparator),this.Ir=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nl();return je.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=Nl(),s=n.length+1,o=new ut(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _n((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Nl(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Nl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return je.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HL(n,r));let s=this.Ir.get(n);s===void 0&&(s=kt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Tr=new hr(Jn.Er),this.dr=new hr(Jn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Jn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ut(new ln([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ut(new ln([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=kt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ut.comparator(e.key,n.key)||Ft(e.wr,n.wr)}static Ar(e,n){return Ft(e.wr,n.wr)||ut.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new hr(Jn.Er)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $L(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hr(Ft);return n.forEach(i=>{const s=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),je.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new ut(s),0);let a=new hr(Ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),je.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return je.forEach(n.mutations,i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Jn(n,0),i=this.br.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.Mr=e,this.docs=function(){return new _n(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(n))}getEntries(e,n){let r=Co();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ir.newInvalidDocument(i))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Co();const o=n.path,a=new ut(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lL(aL(h),r)<=0||(i.has(h.key)||jm(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,n,r,i){gt()}Or(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IR(this)}getSize(e){return je.resolve(this.size)}}class IR extends yR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.persistence=e,this.Nr=new jc(n=>mv(n),gv),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ev,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),je.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Kn(n),je.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hv(0),this.Kr=!1,this.Kr=!0,this.$r=new ER,this.referenceDelegate=e(this),this.Ur=new TR(this),this.indexManager=new gR,this.remoteDocumentCache=function(i){return new xR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pR(n),this.Gr=new bR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new SR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){rt("MemoryPersistence","Starting transaction:",e);const i=new PR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return je.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class PR extends cL{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.Jr=new Ev,this.Yr=null}static Zr(e){return new Sv(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Xr,r=>{const i=ut.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,bt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return je.or([()=>je.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=kt(),i=kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return w6()?8:hL(Pr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kR;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(dh()<=Rt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),je.resolve()):(dh()<=Rt.DEBUG&&rt("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dh()<=Rt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):je.resolve())}Yi(e,n){if(M_(n))return je.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=L0(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=kt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,L0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return M_(n)||i.isEqual(bt.min())?je.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?je.resolve(null):(dh()<=Rt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.rs(e,o,n,oL(i,-1)).next(a=>a))})}ts(e,n){let r=new hr(SA(e));return n.forEach((i,s)=>{jm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return dh()<=Rt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ku(n)),this.Ji.getDocumentsMatchingQuery(e,n,qa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _n(Ft),this._s=new jc(s=>mv(s),gv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RR(t,e,n,r){return new LR(t,e,n,r)}async function HA(t,e){const n=At(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=kt();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function OR(t,e){const n=At(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,m=d.keys();let p=je.resolve();return m.forEach(w=>{p=p.next(()=>h.getEntry(l,w)).next(E=>{const P=c.docVersions.get(w);Kt(P!==null),E.version.compareTo(P)<0&&(d.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WA(t){const e=At(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DR(t,e){const n=At(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(dr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(E,P,_){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,h)&&a.push(n.Ur.updateTargetData(s,p))});let l=Co(),c=kt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(jR(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(bt.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return je.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function jR(t,e,n){let r=kt(),i=kt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Co();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):rt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function FR(t,e){const n=At(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MR(t,e){const n=At(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,je.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new xa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function F0(t,e,n){const r=At(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lf(o))throw o;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Q_(t,e,n){const r=At(t);let i=bt.min(),s=kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=At(l),m=d._s.get(h);return m!==void 0?je.resolve(d.os.get(m)):d.Ur.getTargetData(c,h)}(r,o,Ms(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:bt.min(),n?s:kt())).next(a=>(UR(r,PL(e),a),{documents:a,Ts:s})))}function UR(t,e,n){let r=t.us.get(e)||bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Y_{constructor(){this.activeTargetIds=DL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VR{constructor(){this.so=new Y_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function r1(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="WebChannelConnection";class $R extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=r1(),l=this.xo(n,r.toUriEncodedString());rt("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(rt("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw _c("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=r1();return new Promise((o,a)=>{const l=new oA;l.setWithCredentials(!0),l.listenOnce(aA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ep.NO_ERROR:const h=l.getResponseJson();rt(_r,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ep.TIMEOUT:rt(_r,`RPC '${e}' ${s} timed out`),a(new Ze(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const d=l.getStatus();if(rt(_r,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const w=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(_)>=0?_:Ce.UNKNOWN}(p.status);a(new Ze(w,p.message))}else a(new Ze(Ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ze(Ce.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{rt(_r,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);rt(_r,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=r1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cA(),a=uA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");rt(_r,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1,p=!1;const w=new qR({Io:P=>{p?rt(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(rt(_r,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),rt(_r,`RPC '${e}' stream ${i} sending:`,P),d.send(P))},To:()=>d.close()}),E=(P,_,A)=>{P.listen(_,k=>{try{A(k)}catch(U){setTimeout(()=>{throw U},0)}})};return E(d,Sh.EventType.OPEN,()=>{p||(rt(_r,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),E(d,Sh.EventType.CLOSE,()=>{p||(p=!0,rt(_r,`RPC '${e}' stream ${i} transport closed`),w.So())}),E(d,Sh.EventType.ERROR,P=>{p||(p=!0,_c(_r,`RPC '${e}' stream ${i} transport errored:`,P),w.So(new Ze(Ce.UNAVAILABLE,"The operation could not be completed")))}),E(d,Sh.EventType.MESSAGE,P=>{var _;if(!p){const A=P.data[0];Kt(!!A);const k=A,U=k.error||((_=k[0])===null||_===void 0?void 0:_.error);if(U){rt(_r,`RPC '${e}' stream ${i} received error:`,U);const G=U.status;let q=function(I){const L=Bn[I];if(L!==void 0)return DA(L)}(G),R=U.message;q===void 0&&(q=Ce.INTERNAL,R="Unknown error status: "+G+" with message "+U.message),p=!0,w.So(new Ze(q,R)),d.close()}else rt(_r,`RPC '${e}' stream ${i} received:`,A),w.bo(A)}}),E(a,lA.STAT_EVENT,P=>{P.stat===I0.PROXY?rt(_r,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===I0.NOPROXY&&rt(_r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function i1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return new eR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new GA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ze(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HR extends KA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rR(this.serializer,e),r=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Us(o.readTime):bt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=j0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=k0(l)?{documents:oR(s,l)}:{query:aR(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MA(s,o.resumeToken);const c=R0(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=Yp(s,o.snapshotVersion.toTimestamp());const c=R0(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=uR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=j0(this.serializer),n.removeTarget=e,this.a_(n)}}class WR extends KA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sR(e.writeResults,e.commitTime),r=Us(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=j0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,O0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Ce.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,O0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Ce.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ko(n),this.D_=!1):rt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Xl(this)&&(rt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=At(l);c.L_.add(4),await jf(c),c.q_.set("Unknown"),c.L_.delete(4),await Bm(c)}(this))})}),this.q_=new KR(r,i)}}async function Bm(t){if(Xl(t))for(const e of t.B_)await e(!0)}async function jf(t){for(const e of t.B_)await e(!1)}function QA(t,e){const n=At(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pv(n)?Nv(n):Fc(n).r_()&&Tv(n,e))}function Iv(t,e){const n=At(t),r=Fc(n);n.N_.delete(e),r.r_()&&YA(n,e),n.N_.size===0&&(r.r_()?r.o_():Xl(n)&&n.q_.set("Unknown"))}function Tv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).A_(e)}function YA(t,e){t.Q_.xe(e),Fc(t).R_(e)}function Nv(t){t.Q_=new YL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.q_.v_()}function Pv(t){return Xl(t)&&!Fc(t).n_()&&t.N_.size>0}function Xl(t){return At(t).L_.size===0}function XA(t){t.Q_=void 0}async function YR(t){t.q_.set("Online")}async function XR(t){t.N_.forEach((e,n)=>{Tv(t,e)})}async function JR(t,e){XA(t),Pv(t)?(t.q_.M_(e),Nv(t)):t.q_.set("Unknown")}async function ZR(t,e,n){if(t.q_.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xp(t,r)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof jA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(bt.min()))try{const r=await WA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(dr.EMPTY_BYTE_STRING,h.snapshotVersion)),YA(s,l);const d=new xa(h.target,l,c,h.sequenceNumber);Tv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){rt("RemoteStore","Failed to raise snapshot:",r),await Xp(t,r)}}async function Xp(t,e,n){if(!Lf(e))throw e;t.L_.add(1),await jf(t),t.q_.set("Offline"),n||(n=()=>WA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{rt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bm(t)})}function JA(t,e){return e().catch(n=>Xp(t,n,e))}async function zm(t){const e=At(t),n=Ha(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;e8(e);)try{const i=await FR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,t8(e,i)}catch(i){await Xp(e,i)}ZA(e)&&eE(e)}function e8(t){return Xl(t)&&t.O_.length<10}function t8(t,e){t.O_.push(e);const n=Ha(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZA(t){return Xl(t)&&!Ha(t).n_()&&t.O_.length>0}function eE(t){Ha(t).start()}async function n8(t){Ha(t).p_()}async function r8(t){const e=Ha(t);for(const n of t.O_)e.m_(n.mutations)}async function i8(t,e,n){const r=t.O_.shift(),i=wv.from(r,e,n);await JA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zm(t)}async function s8(t,e){e&&Ha(t).V_&&await async function(r,i){if(function(o){return GL(o)&&o!==Ce.ABORTED}(i.code)){const s=r.O_.shift();Ha(r).s_(),await JA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await zm(r)}}(t,e),ZA(t)&&eE(t)}async function J_(t,e){const n=At(t);n.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const r=Xl(n);n.L_.add(3),await jf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bm(n)}async function o8(t,e){const n=At(t);e?(n.L_.delete(2),await Bm(n)):e||(n.L_.add(2),await jf(n),n.q_.set("Unknown"))}function Fc(t){return t.K_||(t.K_=function(n,r,i){const s=At(n);return s.w_(),new HR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:YR.bind(null,t),Ro:XR.bind(null,t),mo:JR.bind(null,t),d_:ZR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pv(t)?Nv(t):t.q_.set("Unknown")):(await t.K_.stop(),XA(t))})),t.K_}function Ha(t){return t.U_||(t.U_=function(n,r,i){const s=At(n);return s.w_(),new WR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:n8.bind(null,t),mo:s8.bind(null,t),f_:r8.bind(null,t),g_:i8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zm(t)):(await t.U_.stop(),t.O_.length>0&&(rt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(ko("AsyncQueue",`${e}: ${t}`),Lf(t))return new Ze(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=xh(),this.sortedSet=new _n(this.comparator)}static emptySet(e){return new sc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.W_=new _n(ut.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sc(e,n,sc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class l8{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=At(n),s=i.queries;i.queries=ew(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ze(Ce.ABORTED,"Firestore shutting down"))}}function ew(){return new jc(t=>EA(t),Dm)}async function tE(t,e){const n=At(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new a8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Cv(o,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)}async function nE(t,e){const n=At(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u8(t,e){const n=At(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function c8(t,e,n){const r=At(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var M0,tw;(tw=M0||(M0={})).ea="default",tw.Cache="cache";class rE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.key=e}}class sE{constructor(e){this.key=e}}class h8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kt(),this.mutatedKeys=kt(),this.Aa=SA(e),this.Ra=new sc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Z_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const m=i.get(h),p=jm(this.query,d)?d:null,w=!!m&&this.mutatedKeys.has(m.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let P=!1;m&&p?m.data.isEqual(p.data)?w!==E&&(r.track({type:3,doc:p}),P=!0):this.ga(m,p)||(r.track({type:2,doc:p}),P=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),P=!0):m&&!p&&(r.track({type:1,doc:m}),P=!0,(l||c)&&(a=!0)),P&&(p?(o=o.add(p),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(p,w){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return E(p)-E(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Sc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Z_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=kt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new iE(r))}),n}ba(e){this.Ta=e.Ts,this.da=kt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Sc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class f8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d8{constructor(e){this.key=e,this.va=!1}}class p8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jc(a=>EA(a),Dm),this.Ma=new Map,this.xa=new Set,this.Oa=new _n(ut.comparator),this.Na=new Map,this.La=new Ev,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function m8(t,e,n=!0){const r=hE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await oE(r,e,n,!0),i}async function g8(t,e){const n=hE(t);await oE(n,e,!0,!1)}async function oE(t,e,n,r){const i=await MR(t.localStore,Ms(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await v8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&QA(t.remoteStore,i),a}async function v8(t,e,n,r,i){t.Ka=(d,m,p)=>async function(E,P,_,A){let k=P.view.ma(_);k.ns&&(k=await Q_(E.localStore,P.query,!1).then(({documents:R})=>P.view.ma(R,k)));const U=A&&A.targetChanges.get(P.targetId),G=A&&A.targetMismatches.get(P.targetId)!=null,q=P.view.applyChanges(k,E.isPrimaryClient,U,G);return rw(E,P.targetId,q.wa),q.snapshot}(t,d,m,p);const s=await Q_(t.localStore,e,!0),o=new h8(e,s.Ts),a=o.ma(s.documents),l=Df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);rw(t,n,c.wa);const h=new f8(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function y8(t,e,n){const r=At(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Dm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await F0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iv(r.remoteStore,i.targetId),U0(r,i.targetId)}).catch(Cf)):(U0(r,i.targetId),await F0(r.localStore,i.targetId,!0))}async function _8(t,e){const n=At(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function w8(t,e,n){const r=T8(t);try{const i=await function(o,a){const l=At(o),c=Qn.now(),h=a.reduce((p,w)=>p.add(w.key),kt());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=Co(),E=kt();return l.cs.getEntries(p,h).next(P=>{w=P,w.forEach((_,A)=>{A.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(P=>{d=P;const _=[];for(const A of a){const k=zL(A,d.get(A.key).overlayedDocument);k!=null&&_.push(new Ja(A.key,k,mA(k.value.mapValue),Fi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(P=>{m=P;const _=P.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(p,P.batchId,_)})}).then(()=>({batchId:m.batchId,changes:IA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new _n(Ft)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ff(r,i.changes),await zm(r.remoteStore)}catch(i){const s=Cv(i,"Failed to persist write");n.reject(s)}}async function aE(t,e){const n=At(t);try{const r=await DR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Kt(o.va):i.removedDocuments.size>0&&(Kt(o.va),o.va=!1))}),await Ff(n,r,e)}catch(r){await Cf(r)}}function nw(t,e,n){const r=At(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=At(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const m of d.j_)m.Z_(a)&&(c=!0)}),c&&Lv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b8(t,e,n){const r=At(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new _n(ut.comparator);o=o.insert(s,Ir.newNoDocument(s,bt.min()));const a=kt().add(s),l=new Um(bt.min(),new Map,new _n(Ft),o,a);await aE(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Rv(r)}else await F0(r.localStore,e,!1).then(()=>U0(r,e,n)).catch(Cf)}async function A8(t,e){const n=At(t),r=e.batch.batchId;try{const i=await OR(n.localStore,e);uE(n,r,null),lE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await Cf(i)}}async function E8(t,e,n){const r=At(t);try{const i=await function(o,a){const l=At(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Kt(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);uE(r,e,n),lE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await Cf(i)}}function lE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function uE(t,e,n){const r=At(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function U0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cE(t,r)})}function cE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Iv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Rv(t))}function rw(t,e,n){for(const r of n)r instanceof iE?(t.La.addReference(r.key,e),S8(t,r)):r instanceof sE?(rt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cE(t,r.key)):gt()}function S8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(rt("SyncEngine","New document in limbo: "+n),t.xa.add(r),Rv(t))}function Rv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ut(ln.fromString(e)),r=t.qa.next();t.Na.set(r,new d8(n)),t.Oa=t.Oa.insert(n,r),QA(t.remoteStore,new xa(Ms(vv(n.path)),r,"TargetPurposeLimboResolution",hv.oe))}}async function Ff(t,e,n){const r=At(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=xv.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=At(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>je.forEach(c,m=>je.forEach(m.$i,p=>h.persistence.referenceDelegate.addReference(d,m.targetId,p)).next(()=>je.forEach(m.Ui,p=>h.persistence.referenceDelegate.removeReference(d,m.targetId,p)))))}catch(d){if(!Lf(d))throw d;rt("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const p=h.os.get(m),w=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(m,E)}}}(r.localStore,s))}async function x8(t,e){const n=At(t);if(!n.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const r=await HA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ze(Ce.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.hs)}}function I8(t,e){const n=At(t),r=n.Na.get(e);if(r&&r.va)return kt().add(r.key);{let i=kt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hE(t){const e=At(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b8.bind(null,e),e.Ca.d_=u8.bind(null,e.eventManager),e.Ca.$a=c8.bind(null,e.eventManager),e}function T8(t){const e=At(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E8.bind(null,e),e}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RR(this.persistence,new CR,e.initialUser,this.serializer)}Ga(e){return new NR(Sv.Zr,this.serializer)}Wa(e){return new VR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class V0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x8.bind(null,this.syncEngine),await o8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l8}()}createDatastore(e){const n=Vm(e.databaseInfo.databaseId),r=function(s){return new $R(s)}(e.databaseInfo);return function(s,o,a,l){return new GR(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QR(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nw(this.syncEngine,n,0),function(){return X_.D()?new X_:new BR}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new p8(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=At(i);rt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await jf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}V0.provider={build:()=>new V0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=fA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{rt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(rt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function s1(t,e){t.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P8(t);rt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>J_(e.remoteStore,i)),t._onlineComponents=e}async function P8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{await s1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_c("Error using user provided cache. Falling back to memory cache: "+n),await s1(t,new Jp)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),await s1(t,new Jp);return t._offlineComponents}async function dE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),await iw(t,t._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),await iw(t,new V0))),t._onlineComponents}function k8(t){return dE(t).then(e=>e.syncEngine)}async function pE(t){const e=await dE(t),n=e.eventManager;return n.onListen=m8.bind(null,e.syncEngine),n.onUnlisten=y8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_8.bind(null,e.syncEngine),n}function C8(t,e,n={}){const r=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new fE({next:m=>{h.Za(),o.enqueueAndForget(()=>nE(s,d));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new Ze(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new Ze(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new rE(vv(a.path),h,{includeMetadataChanges:!0,_a:!0});return tE(s,d)}(await pE(t),t.asyncQueue,e,n,r)),r.promise}function L8(t,e,n={}){const r=new Ao;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new fE({next:m=>{h.Za(),o.enqueueAndForget(()=>nE(s,d)),m.fromCache&&l.source==="server"?c.reject(new Ze(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new rE(a,h,{includeMetadataChanges:!0,_a:!0});return tE(s,d)}(await pE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e,n){if(!n)throw new Ze(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R8(t,e,n,r){if(e===!0&&r===!0)throw new Ze(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ow(t){if(!ut.isDocumentKey(t))throw new Ze(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aw(t){if(ut.isDocumentKey(t))throw new Ze(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gt()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(t);throw new Ze(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ze(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XC;switch(r.type){case"firstParty":return new tL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sw.get(n);r&&(rt("ComponentProvider","Removing Datastore"),sw.delete(n),r.terminate())}(this),Promise.resolve()}}function O8(t,e,n,r={}){var i;const s=(t=cs(t,$m))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Sr.MOCK_USER;else{a=w3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ze(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Sr(c)}t._authCredentials=new JC(new hA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class Vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Ua extends Mc{constructor(e,n,r){super(e,n,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new ut(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function zs(t,e,...n){if(t=yn(t),gE("collection","path",e),t instanceof $m){const r=ln.fromString(e,...n);return aw(r),new Ua(t,null,r)}{if(!(t instanceof Vr||t instanceof Ua))throw new Ze(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return aw(r),new Ua(t.firestore,null,r)}}function yi(t,e,...n){if(t=yn(t),arguments.length===1&&(e=fA.newId()),gE("doc","path",e),t instanceof $m){const r=ln.fromString(e,...n);return ow(r),new Vr(t,null,new ut(r))}{if(!(t instanceof Vr||t instanceof Ua))throw new Ze(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ln.fromString(e,...n));return ow(r),new Vr(t.firestore,t instanceof Ua?t.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new GA(this,"async_queue_retry"),this.Vu=()=>{const r=i1();r&&rt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=i1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=i1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ao;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lf(e))throw e;rt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ko("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=kv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Jl extends $m{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function D8(t,e){const n=typeof t=="object"?t:ev(),r=typeof t=="string"?t:"(default)",i=Pm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=v3("firestore");s&&O8(i,...s)}return i}function Ov(t){if(t._terminated)throw new Ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j8(t),t._firestoreClient}function j8(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new pL(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mE(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new N8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(dr.fromBase64String(e))}catch(n){throw new Ze(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xc(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ze(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=/^__.*__$/;class M8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class vE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Mv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yE(this.Cu)&&F8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class U8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vm(e)}Qu(e,n,r,i=!1){return new Mv({Cu:e,methodName:n,qu:r,path:ur.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(t){const e=t._freezeSettings(),n=Vm(t._databaseId);return new U8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _E(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Uv("Data must be an object, but it was:",o,r);const a=wE(r,o);let l,c;if(s.merge)l=new vi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const m=B0(e,d,n);if(!o.contains(m))throw new Ze(Ce.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AE(h,m)||h.push(m)}l=new vi(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new M8(new ei(a),l,c)}class Gm extends Dv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gm}}function V8(t,e,n,r){const i=t.Qu(1,e,n);Uv("Data must be an object, but it was:",i,r);const s=[],o=ei.empty();Yl(r,(l,c)=>{const h=Vv(e,l,n);c=yn(c);const d=i.Nu(h);if(c instanceof Gm)s.push(h);else{const m=Mf(c,d);m!=null&&(s.push(h),o.set(h,m))}});const a=new vi(s);return new vE(o,a,i.fieldTransforms)}function B8(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[B0(e,r,n)],l=[i];if(s.length%2!=0)throw new Ze(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(B0(e,s[m])),l.push(s[m+1]);const c=[],h=ei.empty();for(let m=a.length-1;m>=0;--m)if(!AE(c,a[m])){const p=a[m];let w=l[m];w=yn(w);const E=o.Nu(p);if(w instanceof Gm)c.push(p);else{const P=Mf(w,E);P!=null&&(c.push(p),h.set(p,P))}}const d=new vi(c);return new vE(h,d,o.fieldTransforms)}function z8(t,e,n,r=!1){return Mf(n,t.Qu(r?4:3,e))}function Mf(t,e){if(bE(t=yn(t)))return Uv("Unsupported field value:",e,t),wE(t,e);if(t instanceof Dv)return function(r,i){if(!yE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Mf(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qn.fromDate(r);return{timestampValue:Yp(i.serializer,s)}}if(r instanceof Qn){const s=new Qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yp(i.serializer,s)}}if(r instanceof jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:MA(i.serializer,r._byteString)};if(r instanceof Vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Av(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return yv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qm(r)}`)}(t,e)}function wE(t,e){const n={};return dA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(t,(r,i)=>{const s=Mf(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qn||t instanceof jv||t instanceof xc||t instanceof Vr||t instanceof Dv||t instanceof Fv)}function Uv(t,e,n){if(!bE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function B0(t,e,n){if((e=yn(e))instanceof Hm)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const q8=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(q8)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hm(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ze(Ce.INVALID_ARGUMENT,a+t+l)}function AE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $8 extends EE{data(){return super.data()}}function Bv(t,e){return typeof e=="string"?Vv(t,e):e instanceof Hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ze(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class W8 extends zv{}function SE(t,e,...n){let r=[];e instanceof zv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof qv).length,a=s.filter(l=>l instanceof Km).length;if(o>1||o>0&&a>0)throw new Ze(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Km extends W8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Km(e,n,r)}_apply(e){const n=this._parse(e);return IE(e._query,n),new Mc(e.firestore,e.converter,C0(e._query,n))}_parse(e){const n=Wm(e.firestore);return function(s,o,a,l,c,h,d){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ze(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hw(d,h);const p=[];for(const w of d)p.push(cw(l,s,w));m={arrayValue:{values:p}}}else m=cw(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hw(d,h),m=z8(a,o,d,h==="in"||h==="not-in");return qn.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xE(t,e,n){const r=e,i=Bv("where",t);return Km._create(i,r,n)}class qv extends zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)IE(o,l),o=C0(o,l)}(e._query,n),new Mc(e.firestore,e.converter,C0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cw(t,e,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new Ze(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(e)&&n.indexOf("/")!==-1)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ln.fromString(n));if(!ut.isDocumentKey(r))throw new Ze(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L_(t,new ut(r))}if(n instanceof Vr)return L_(t,n._key);throw new Ze(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(n)}.`)}function hw(t,e){if(!Array.isArray(t)||t.length===0)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IE(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ze(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G8{convertValue(e,n="none"){switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ln(o.doubleValue));return new Fv(s)}convertGeoPoint(e){return new jv(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pf(e));default:return null}}convertTimestamp(e){const n=$a(e);return new Qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ln.fromString(e);Kt($A(r));const i=new mf(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(n)||ko(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NE extends EE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ip extends NE{data(e={}){return super.data(e)}}class K8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ip(this._firestore,this._userDataWriter,r.key,r,new Th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ip(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Th(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ip(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Th(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Q8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){t=cs(t,Vr);const e=cs(t.firestore,Jl);return C8(Ov(e),t._key).then(n=>Y8(e,t,n))}class PE extends G8{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function Uc(t){t=cs(t,Mc);const e=cs(t.firestore,Jl),n=Ov(e),r=new PE(e);return H8(t._query),L8(n,t._query).then(i=>new K8(e,r,t,i))}function z0(t,e,n){t=cs(t,Vr);const r=cs(t.firestore,Jl),i=TE(t.converter,e);return Xm(r,[_E(Wm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fi.none())])}function em(t,e,n,...r){t=cs(t,Vr);const i=cs(t.firestore,Jl),s=Wm(i);let o;return o=typeof(e=yn(e))=="string"||e instanceof Hm?B8(s,"updateDoc",t._key,e,n,r):V8(s,"updateDoc",t._key,e),Xm(i,[o.toMutation(t._key,Fi.exists(!0))])}function Qm(t){return Xm(cs(t.firestore,Jl),[new _v(t._key,Fi.none())])}function Ym(t,e){const n=cs(t.firestore,Jl),r=yi(t),i=TE(t.converter,e);return Xm(n,[_E(Wm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fi.exists(!1))]).then(()=>r)}function Xm(t,e){return function(r,i){const s=new Ao;return r.asyncQueue.enqueueAndForget(async()=>w8(await k8(r),i,s)),s.promise}(Ov(t),e)}function Y8(t,e,n){const r=n.docs.get(e._key),i=new PE(t);return new NE(t,i,e._key,r,new Th(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Dc=i})(Kl),Vl(new za("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Jl(new ZC(r.getProvider("auth-internal")),new rL(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ze(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ds(T_,"4.7.3",e),Ds(T_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebasestorage.googleapis.com",CE="storageBucket",X8=2*60*1e3,J8=10*60*1e3,Z8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends $s{constructor(e,n,r=0){super(o1(e),`Firebase Storage: ${n} (${o1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hn||(hn={}));function o1(t){return"storage/"+t}function Hv(){const t="An unknown error occurred, please check the error payload for server response.";return new wn(hn.UNKNOWN,t)}function e7(t){return new wn(hn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t7(t){return new wn(hn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wn(hn.UNAUTHENTICATED,t)}function r7(){return new wn(hn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function i7(t){return new wn(hn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LE(){return new wn(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RE(){return new wn(hn.CANCELED,"User canceled the upload/download.")}function s7(t){return new wn(hn.INVALID_URL,"Invalid URL '"+t+"'.")}function o7(t){return new wn(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a7(){return new wn(hn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CE+"' property when initializing the app?")}function OE(){return new wn(hn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l7(){return new wn(hn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function u7(){return new wn(hn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c7(t){return new wn(hn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function q0(t){return new wn(hn.INVALID_ARGUMENT,t)}function DE(){return new wn(hn.APP_DELETED,"The Firebase app was deleted.")}function h7(t){return new wn(hn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zh(t,e){return new wn(hn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ph(t){throw new wn(hn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(r.path==="")return r;throw o7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(U){U.path_=decodeURIComponent(U.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${m}`,"i"),w={bucket:1,path:3},E=n===kE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",_=new RegExp(`^https?://${E}/${i}/${P}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:p,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let U=0;U<k.length;U++){const G=k[U],q=G.regex.exec(e);if(q){const R=q[G.indices.bucket];let y=q[G.indices.path];y||(y=""),r=new _i(R,y),G.postModify(r);break}}if(r==null)throw s7(e);return r}}class f7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...P){c||(c=!0,e.apply(null,P))}function d(P){i=setTimeout(()=>{i=null,t(p,l())},P)}function m(){s&&clearTimeout(s)}function p(P,..._){if(c){m();return}if(P){m(),h.call(null,P,..._);return}if(l()||o){m(),h.call(null,P,..._);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,d(k)}let w=!1;function E(P){w||(w=!0,m(),!c&&(i!==null?(P||(a=2),clearTimeout(i),d(0)):P||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function p7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){return t!==void 0}function g7(t){return typeof t=="function"}function v7(t){return typeof t=="object"&&!Array.isArray(t)}function Jm(t){return typeof t=="string"||t instanceof String}function fw(t){return Wv()&&t instanceof Blob}function Wv(){return typeof Blob<"u"}function dw(t,e,n,r){if(r<e)throw q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rl||(Rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r,i,s,o,a,l,c,h,d,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,w)=>{this.resolve_=p,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ld(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Rl.NO_ERROR,l=s.getStatus();if(!a||FE(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Rl.ABORT;r(!1,new Ld(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ld(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());m7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Hv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DE():RE();o(l)}else{const l=LE();o(l)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=d7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E7(t,e,n,r,i,s,o=!0){const a=jE(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return b7(c,e),_7(c,n),w7(c,s),A7(c,r),new y7(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x7(...t){const e=S7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wv())return new Blob(t);throw new wn(hn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function I7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){if(typeof atob>"u")throw c7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a1{constructor(e,n){this.data=e,this.contentType=n||null}}function N7(t,e){switch(t){case Cs.RAW:return new a1(ME(e));case Cs.BASE64:case Cs.BASE64URL:return new a1(UE(t,e));case Cs.DATA_URL:return new a1(k7(e),C7(e))}throw Hv()}function ME(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function P7(t){let e;try{e=decodeURIComponent(t)}catch{throw zh(Cs.DATA_URL,"Malformed data URL.")}return ME(e)}function UE(t,e){switch(t){case Cs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Cs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=T7(e)}catch(i){throw i.message.includes("polyfill")?i:zh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class VE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zh(Cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=L7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k7(t){const e=new VE(t);return e.base64?UE(Cs.BASE64,e.rest):P7(e.rest)}function C7(t){return new VE(t).contentType}function L7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){let r=0,i="";fw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(fw(this.data_)){const r=this.data_,i=I7(r,e,n);return i===null?null:new ba(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ba(r,!0)}}static getBlob(...e){if(Wv()){const n=e.map(r=>r instanceof ba?r.data_:r);return new ba(x7.apply(null,n))}else{const n=e.map(o=>Jm(o)?N7(Cs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ba(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e;try{e=JSON.parse(t)}catch{return null}return v7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t,e){return e}class Fr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||D7}}let Rd=null;function j7(t){return!Jm(t)||t.length<2?t:zE(t)}function qE(){if(Rd)return Rd;const t=[];t.push(new Fr("bucket")),t.push(new Fr("generation")),t.push(new Fr("metageneration")),t.push(new Fr("name","fullPath",!0));function e(s,o){return j7(o)}const n=new Fr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Fr("size");return i.xform=r,t.push(i),t.push(new Fr("timeCreated")),t.push(new Fr("updated")),t.push(new Fr("md5Hash",null,!0)),t.push(new Fr("cacheControl",null,!0)),t.push(new Fr("contentDisposition",null,!0)),t.push(new Fr("contentEncoding",null,!0)),t.push(new Fr("contentLanguage",null,!0)),t.push(new Fr("contentType",null,!0)),t.push(new Fr("metadata","customMetadata",!0)),Rd=t,Rd}function F7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new _i(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function M7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return F7(r,t),r}function $E(t,e,n){const r=BE(e);return r===null?null:M7(t,r,n)}function U7(t,e,n,r){const i=BE(e);if(i===null||!Jm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,m="/b/"+o(h)+"/o/"+o(d),p=Vc(m,n,r),w=jE({alt:"media",token:c});return p+w})[0]}function HE(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Zl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(!t)throw Hv()}function Gv(t,e){function n(r,i){const s=$E(t,i,e);return Eo(s!==null),s}return n}function V7(t,e){function n(r,i){const s=$E(t,i,e);return Eo(s!==null),U7(s,i,t.host,t._protocol)}return n}function Uf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=r7():i=n7():n.getStatus()===402?i=t7(t.bucket):n.getStatus()===403?i=i7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Kv(t){const e=Uf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=e7(t.path)),s.serverResponse=i.serverResponse,s}return n}function B7(t,e,n){const r=e.fullServerUrl(),i=Vc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Zl(i,s,Gv(t,n),o);return a.errorHandler=Kv(e),a}function z7(t,e,n){const r=e.fullServerUrl(),i=Vc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Zl(i,s,V7(t,n),o);return a.errorHandler=Kv(e),a}function q7(t,e){const n=e.fullServerUrl(),r=Vc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Zl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Kv(e),a}function $7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function WE(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$7(null,e)),r}function H7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let U=0;U<2;U++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=WE(e,r,i),h=HE(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=ba.getBlob(d,r,m);if(p===null)throw OE();const w={name:c.fullPath},E=Vc(s,t.host,t._protocol),P="POST",_=t.maxUploadRetryTime,A=new Zl(E,P,Gv(t,n),_);return A.urlParams=w,A.headers=o,A.body=p.uploadData(),A.errorHandler=Uf(e),A}class tm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Qv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Eo(!1)}return Eo(!!n&&(e||["active"]).indexOf(n)!==-1),n}function W7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=WE(e,r,i),a={name:o.fullPath},l=Vc(s,t.host,t._protocol),c="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=HE(o,n),m=t.maxUploadRetryTime;function p(E){Qv(E);let P;try{P=E.getResponseHeader("X-Goog-Upload-URL")}catch{Eo(!1)}return Eo(Jm(P)),P}const w=new Zl(l,c,p,m);return w.urlParams=a,w.headers=h,w.body=d,w.errorHandler=Uf(e),w}function G7(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const h=Qv(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Eo(!1)}d||Eo(!1);const m=Number(d);return Eo(!isNaN(m)),new tm(m,r.size(),h==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Zl(n,o,s,a);return l.headers=i,l.errorHandler=Uf(e),l}const pw=256*1024;function K7(t,e,n,r,i,s,o,a){const l=new tm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw l7();const c=l.total-l.current;let h=c;i>0&&(h=Math.min(h,i));const d=l.current,m=d+h;let p="";h===0?p="finalize":c===h?p="upload, finalize":p="upload";const w={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},E=r.slice(d,m);if(E===null)throw OE();function P(U,G){const q=Qv(U,["active","final"]),R=l.current+h,y=r.size();let I;return q==="final"?I=Gv(e,s)(U,G):I=null,new tm(R,y,q==="final",I)}const _="POST",A=e.maxUploadRetryTime,k=new Zl(n,_,P,A);return k.headers=w,k.body=E.uploadData(),k.progressCallback=a||null,k.errorHandler=Uf(t),k}const Xr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function l1(t){switch(t){case"running":case"pausing":case"canceling":return Xr.RUNNING;case"paused":return Xr.PAUSED;case"success":return Xr.SUCCESS;case"canceled":return Xr.CANCELED;case"error":return Xr.ERROR;default:return Xr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r){if(g7(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Y7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ph("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ph("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ph("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X7 extends Y7{initXhr(){this.xhr_.responseType="text"}}function El(){return new X7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=qE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(hn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(FE(i.status,[]))if(s)i=LE();else{this.sleepTime=Math.max(this.sleepTime*2,Z8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(hn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=W7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=G7(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,El,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=pw*this._chunkMultiplier,n=new tm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=K7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,El,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){pw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=B7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=H7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,El,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=RE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=l1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Q7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(l1(this._state)){case Xr.SUCCESS:Iu(this._resolve.bind(null,this.snapshot))();break;case Xr.CANCELED:case Xr.ERROR:const n=this._reject;Iu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(l1(this._state)){case Xr.RUNNING:case Xr.PAUSED:e.next&&Iu(e.next.bind(e,this.snapshot))();break;case Xr.SUCCESS:e.complete&&Iu(e.complete.bind(e))();break;case Xr.CANCELED:case Xr.ERROR:e.error&&Iu(e.error.bind(e,this._error))();break;default:e.error&&Iu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hl(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zE(this._location.path)}get storage(){return this._service}get parent(){const e=R7(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new Hl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h7(e)}}function Z7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new J7(t,new ba(e),n)}function eO(t){t._throwIfRoot("getDownloadURL");const e=z7(t.storage,t._location,qE());return t.storage.makeRequestWithTokens(e,El).then(n=>{if(n===null)throw u7();return n})}function tO(t){t._throwIfRoot("deleteObject");const e=q7(t.storage,t._location);return t.storage.makeRequestWithTokens(e,El)}function nO(t,e){const n=O7(t._location.path,e),r=new _i(t._location.bucket,n);return new Hl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){return/^[A-Za-z]+:\/\//.test(t)}function iO(t,e){return new Hl(t,e)}function GE(t,e){if(t instanceof Yv){const n=t;if(n._bucket==null)throw a7();const r=new Hl(n,n._bucket);return e!=null?GE(r,e):r}else return e!==void 0?nO(t,e):t}function sO(t,e){if(e&&rO(e)){if(t instanceof Yv)return iO(t,e);throw q0("To use ref(service, url), the first argument must be a Storage instance.")}else return GE(t,e)}function mw(t,e){const n=e==null?void 0:e[CE];return n==null?null:_i.makeFromBucketSpec(n,t)}function oO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:w3(i,t.app.options.projectId))}class Yv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X8,this._maxUploadRetryTime=J8,this._requests=new Set,i!=null?this._bucket=_i.makeFromBucketSpec(i,this._host):this._bucket=mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new f7(DE());{const o=E7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gw="@firebase/storage",vw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="storage";function QE(t,e,n){return t=yn(t),Z7(t,e,n)}function YE(t){return t=yn(t),eO(t)}function aO(t){return t=yn(t),tO(t)}function Xv(t,e){return t=yn(t),sO(t,e)}function lO(t=ev(),e){t=yn(t);const r=Pm(t,KE).getImmediate({identifier:e}),i=v3("storage");return i&&uO(r,...i),r}function uO(t,e,n,r={}){oO(t,e,n,r)}function cO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Yv(n,r,i,e,Kl)}function hO(){Vl(new za(KE,cO,"PUBLIC").setMultipleInstances(!0)),Ds(gw,vw,""),Ds(gw,vw,"esm2017")}hO();const fO={apiKey:"AIzaSyAcdG_9cM9yzmeMOFx-fhL4QAf9_wM3Yjo",authDomain:"achandymand-145da.firebaseapp.com",projectId:"achandymand-145da",storageBucket:"achandymand-145da.firebasestorage.app",messagingSenderId:"865306374889",appId:"1:865306374889:web:be1bc2500f388596de7678"},Jv=E3(fO),Zv=GC(Jv),Tn=D8(Jv),ey=lO(Jv);function dO(){const[t,e]=_e.useState(""),[n,r]=_e.useState(""),[i,s]=_e.useState(""),[o,a]=_e.useState(!1),l=Lc(),c=async h=>{h.preventDefault(),s(""),a(!0);try{await Lk(Zv,t,n),l("/timeregistrering")}catch(d){console.error("Login error:",d);let m="Der opstod en fejl ved login. Prv igen.";d.code==="auth/user-not-found"||d.code==="auth/wrong-password"?m="Forkert brugernavn eller adgangskode.":d.code==="auth/invalid-email"?m="Ugyldig e-mailadresse.":d.code==="auth/too-many-requests"&&(m="For mange forsg. Prv igen senere."),s(m)}finally{a(!1)}};return O.jsx("div",{className:"login-container",children:O.jsxs("div",{className:"login-box",children:[O.jsxs("div",{className:"login-logo",children:[O.jsx("h1",{children:"AC Handymand"}),O.jsx("p",{children:"Timeregistrering System"})]}),O.jsxs("form",{className:"login-form",onSubmit:c,children:[i&&O.jsx("div",{className:"error-message",children:i}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"email",children:"Brugernavn (E-mail)"}),O.jsx("input",{type:"email",id:"email",value:t,onChange:h=>e(h.target.value),required:!0,disabled:o,placeholder:"din@email.dk"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"password",children:"Adgangskode"}),O.jsx("input",{type:"password",id:"password",value:n,onChange:h=>r(h.target.value),required:!0,disabled:o,placeholder:""})]}),O.jsx("button",{type:"submit",className:"btn-login",disabled:o,children:o?"Logger ind...":"Log ind"})]})]})})}const pO=["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],nm=["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"];function mO(t){return pO[t.getDay()]}function gO(t){const e=t.getDay();return e===0||e===6}function vO(t,e){const n=[];let r=new Date(t,e,20);const i=e===11?0:e+1,s=e===11?t+1:t,o=new Date(s,i,19);for(;r<=o;)n.push({date:new Date(r),dayOfMonth:r.getDate(),month:r.getMonth(),year:r.getFullYear(),weekday:mO(r),isWeekend:gO(r),formattedDate:`${String(r.getDate()).padStart(2,"0")}.${String(r.getMonth()+1).padStart(2,"0")}`}),r.setDate(r.getDate()+1);return n}function XE(t){const e=t===11?0:t+1;return`${nm[t]} / ${nm[e]}`}function JE(t,e){return e===11?`${t} / ${t+1}`:String(t)}function yO(){return nm.map((t,e)=>{const n=e===11?0:e+1;return{value:e,label:`${t} / ${nm[n]}`}})}const _O="modulepreload",wO=function(t){return"/"+t},yw={},$0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=wO(l),l in yw)return;yw[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":_O,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((m,p)=>{d.addEventListener("load",m),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Wt(t){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(t)}var Tr=Uint8Array,wi=Uint16Array,ty=Int32Array,Zm=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eg=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H0=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZE=function(t,e){for(var n=new wi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ty(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},eS=ZE(Zm,2),tS=eS.b,W0=eS.r;tS[28]=258,W0[258]=28;var nS=ZE(eg,0),bO=nS.b,_w=nS.r,G0=new wi(32768);for(var un=0;un<32768;++un){var ha=(un&43690)>>1|(un&21845)<<1;ha=(ha&52428)>>2|(ha&13107)<<2,ha=(ha&61680)>>4|(ha&3855)<<4,G0[un]=((ha&65280)>>8|(ha&255)<<8)>>1}var Vs=function(t,e,n){for(var r=t.length,i=0,s=new wi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new wi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new wi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],d=o[t[i]-1]++<<h,m=d|(1<<h)-1;d<=m;++d)a[G0[d]>>l]=c}else for(a=new wi(r),i=0;i<r;++i)t[i]&&(a[i]=G0[o[t[i]-1]++]>>15-t[i]);return a},Wa=new Tr(288);for(var un=0;un<144;++un)Wa[un]=8;for(var un=144;un<256;++un)Wa[un]=9;for(var un=256;un<280;++un)Wa[un]=7;for(var un=280;un<288;++un)Wa[un]=8;var _f=new Tr(32);for(var un=0;un<32;++un)_f[un]=5;var AO=Vs(Wa,9,0),EO=Vs(Wa,9,1),SO=Vs(_f,5,0),xO=Vs(_f,5,1),u1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ji=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},c1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ny=function(t){return(t+7)/8|0},rS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Tr(t.subarray(e,n))},IO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ns=function(t,e,n){var r=new Error(e||IO[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ns),!n)throw r;return r},TO=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Tr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Tr(i*3));var c=function(xe){var Fe=n.length;if(xe>Fe){var Be=new Tr(Math.max(Fe*2,xe));Be.set(n),n=Be}},h=e.f||0,d=e.p||0,m=e.b||0,p=e.l,w=e.d,E=e.m,P=e.n,_=i*8;do{if(!p){h=Ji(t,d,1);var A=Ji(t,d+1,3);if(d+=3,A)if(A==1)p=EO,w=xO,E=9,P=5;else if(A==2){var q=Ji(t,d,31)+257,R=Ji(t,d+10,15)+4,y=q+Ji(t,d+5,31)+1;d+=14;for(var I=new Tr(y),L=new Tr(19),S=0;S<R;++S)L[H0[S]]=Ji(t,d+S*3,7);d+=R*3;for(var T=u1(L),N=(1<<T)-1,V=Vs(L,T,1),S=0;S<y;){var J=V[Ji(t,d,N)];d+=J&15;var k=J>>4;if(k<16)I[S++]=k;else{var F=0,j=0;for(k==16?(j=3+Ji(t,d,3),d+=2,F=I[S-1]):k==17?(j=3+Ji(t,d,7),d+=3):k==18&&(j=11+Ji(t,d,127),d+=7);j--;)I[S++]=F}}var H=I.subarray(0,q),Z=I.subarray(q);E=u1(H),P=u1(Z),p=Vs(H,E,1),w=Vs(Z,P,1)}else ns(1);else{var k=ny(d)+4,U=t[k-4]|t[k-3]<<8,G=k+U;if(G>i){l&&ns(0);break}a&&c(m+U),n.set(t.subarray(k,G),m),e.b=m+=U,e.p=d=G*8,e.f=h;continue}if(d>_){l&&ns(0);break}}a&&c(m+131072);for(var re=(1<<E)-1,be=(1<<P)-1,M=d;;M=d){var F=p[c1(t,d)&re],K=F>>4;if(d+=F&15,d>_){l&&ns(0);break}if(F||ns(2),K<256)n[m++]=K;else if(K==256){M=d,p=null;break}else{var X=K-254;if(K>264){var S=K-257,ee=Zm[S];X=Ji(t,d,(1<<ee)-1)+tS[S],d+=ee}var oe=w[c1(t,d)&be],fe=oe>>4;oe||ns(3),d+=oe&15;var Z=bO[fe];if(fe>3){var ee=eg[fe];Z+=c1(t,d)&(1<<ee)-1,d+=ee}if(d>_){l&&ns(0);break}a&&c(m+131072);var ge=m+X;if(m<Z){var me=s-Z,Ie=Math.min(Z,ge);for(me+m<0&&ns(3);m<Ie;++m)n[m]=r[me+m]}for(;m<ge;++m)n[m]=n[m-Z]}}e.l=p,e.p=M,e.b=m,e.f=h,p&&(h=1,e.m=E,e.d=w,e.n=P)}while(!h);return m!=n.length&&o?rS(n,0,m):n.subarray(0,m)},co=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},mh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},h1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:sS,l:0};if(i==1){var o=new Tr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(G,q){return G.f-q.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,h=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=h&&n[c].f<n[d].f?c++:d++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new wi(m+1),w=K0(n[h-1],p,0);if(w>e){var r=0,E=0,P=w-e,_=1<<P;for(s.sort(function(q,R){return p[R.s]-p[q.s]||q.f-R.f});r<i;++r){var A=s[r].s;if(p[A]>e)E+=_-(1<<w-p[A]),p[A]=e;else break}for(E>>=P;E>0;){var k=s[r].s;p[k]<e?E-=1<<e-p[k]++-1:++r}for(;r>=0&&E;--r){var U=s[r].s;p[U]==e&&(--p[U],++E)}w=e}return{t:new Tr(p),l:w}},K0=function(t,e,n){return t.s==-1?Math.max(K0(t.l,e,n+1),K0(t.r,e,n+1)):e[t.s]=n},ww=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new wi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},gh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},iS=function(t,e,n){var r=n.length,i=ny(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},bw=function(t,e,n,r,i,s,o,a,l,c,h){co(e,h++,n),++i[256];for(var d=h1(i,15),m=d.t,p=d.l,w=h1(s,15),E=w.t,P=w.l,_=ww(m),A=_.c,k=_.n,U=ww(E),G=U.c,q=U.n,R=new wi(19),y=0;y<A.length;++y)++R[A[y]&31];for(var y=0;y<G.length;++y)++R[G[y]&31];for(var I=h1(R,7),L=I.t,S=I.l,T=19;T>4&&!L[H0[T-1]];--T);var N=c+5<<3,V=gh(i,Wa)+gh(s,_f)+o,J=gh(i,m)+gh(s,E)+o+14+3*T+gh(R,L)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&N<=V&&N<=J)return iS(e,h,t.subarray(l,l+c));var F,j,H,Z;if(co(e,h,1+(J<V)),h+=2,J<V){F=Vs(m,p,0),j=m,H=Vs(E,P,0),Z=E;var re=Vs(L,S,0);co(e,h,k-257),co(e,h+5,q-1),co(e,h+10,T-4),h+=14;for(var y=0;y<T;++y)co(e,h+3*y,L[H0[y]]);h+=3*T;for(var be=[A,G],M=0;M<2;++M)for(var K=be[M],y=0;y<K.length;++y){var X=K[y]&31;co(e,h,re[X]),h+=L[X],X>15&&(co(e,h,K[y]>>5&127),h+=K[y]>>12)}}else F=AO,j=Wa,H=SO,Z=_f;for(var y=0;y<a;++y){var ee=r[y];if(ee>255){var X=ee>>18&31;mh(e,h,F[X+257]),h+=j[X+257],X>7&&(co(e,h,ee>>23&31),h+=Zm[X]);var oe=ee&31;mh(e,h,H[oe]),h+=Z[oe],oe>3&&(mh(e,h,ee>>5&8191),h+=eg[oe])}else mh(e,h,F[ee]),h+=j[ee]}return mh(e,h,F[256]),h+j[256]},NO=new ty([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sS=new Tr(0),PO=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Tr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var d=NO[e-1],m=d>>13,p=d&8191,w=(1<<n)-1,E=s.p||new wi(32768),P=s.h||new wi(w+1),_=Math.ceil(n/3),A=2*_,k=function(et){return(t[et]^t[et+1]<<_^t[et+2]<<A)&w},U=new ty(25e3),G=new wi(288),q=new wi(32),R=0,y=0,I=s.i||0,L=0,S=s.w||0,T=0;I+2<o;++I){var N=k(I),V=I&32767,J=P[N];if(E[V]=J,P[N]=V,S<=I){var F=o-I;if((R>7e3||L>24576)&&(F>423||!c)){h=bw(t,l,0,U,G,q,y,L,T,I-T,h),L=R=y=0,T=I;for(var j=0;j<286;++j)G[j]=0;for(var j=0;j<30;++j)q[j]=0}var H=2,Z=0,re=p,be=V-J&32767;if(F>2&&N==k(I-be))for(var M=Math.min(m,F)-1,K=Math.min(32767,I),X=Math.min(258,F);be<=K&&--re&&V!=J;){if(t[I+H]==t[I+H-be]){for(var ee=0;ee<X&&t[I+ee]==t[I+ee-be];++ee);if(ee>H){if(H=ee,Z=be,ee>M)break;for(var oe=Math.min(be,ee-2),fe=0,j=0;j<oe;++j){var ge=I-be+j&32767,me=E[ge],Ie=ge-me&32767;Ie>fe&&(fe=Ie,J=ge)}}}V=J,J=E[V],be+=V-J&32767}if(Z){U[L++]=268435456|W0[H]<<18|_w[Z];var xe=W0[H]&31,Fe=_w[Z]&31;y+=Zm[xe]+eg[Fe],++G[257+xe],++q[Fe],S=I+H,++R}else U[L++]=t[I],++G[t[I]]}}for(I=Math.max(I,S);I<o;++I)U[L++]=t[I],++G[t[I]];h=bw(t,l,c,U,G,q,y,L,T,I-T,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=P,s.p=E,s.i=I,s.w=S)}else{for(var I=s.w||0;I<o+c;I+=65535){var Be=I+65535;Be>=o&&(l[h/8|0]=c,Be=o),h=iS(l,h+1,t.subarray(I,Be))}s.i=o}return rS(a,0,r+ny(h)+i)},oS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kO=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Tr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return PO(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},aS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},CO=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=oS();i.p(e.dictionary),aS(t,2,i.d())}},LO=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ns(6,"invalid zlib data"),(t[1]>>5&1)==1&&ns(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Q0(t,e){e||(e={});var n=oS();n.p(t);var r=kO(t,e,e.dictionary?6:2,4);return CO(r,e),aS(r,r.length-4,n.d()),r}function RO(t,e){return TO(t.subarray(LO(t),-4),{i:2},e,e)}var OO=typeof TextDecoder<"u"&&new TextDecoder,DO=0;try{OO.decode(sS,{stream:!0}),DO=1}catch{}var dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function f1(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var Zt={log:f1,warn:function(t){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):f1.call(null,arguments))},error:function(t){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):f1(t))}};function d1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Al(r.response,e,n)},r.onerror=function(){Zt.error("could not download file")},r.send()}function Aw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Od(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qh,Y0,Al=dt.saveAs||((typeof window>"u"?"undefined":Wt(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=dt.URL||dt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Aw(i.href)?d1(t,e,n):Od(i,i.target="_blank"):Od(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Od(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Aw(t))d1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Od(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Wt(s)!=="object"&&(Zt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return d1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(dt.HTMLElement)||dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Wt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(t)}else{var l=dt.URL||dt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=wr(n,r,i,s,e[0],7,-680876936),s=wr(s,n,r,i,e[1],12,-389564586),i=wr(i,s,n,r,e[2],17,606105819),r=wr(r,i,s,n,e[3],22,-1044525330),n=wr(n,r,i,s,e[4],7,-176418897),s=wr(s,n,r,i,e[5],12,1200080426),i=wr(i,s,n,r,e[6],17,-1473231341),r=wr(r,i,s,n,e[7],22,-45705983),n=wr(n,r,i,s,e[8],7,1770035416),s=wr(s,n,r,i,e[9],12,-1958414417),i=wr(i,s,n,r,e[10],17,-42063),r=wr(r,i,s,n,e[11],22,-1990404162),n=wr(n,r,i,s,e[12],7,1804603682),s=wr(s,n,r,i,e[13],12,-40341101),i=wr(i,s,n,r,e[14],17,-1502002290),n=br(n,r=wr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=br(s,n,r,i,e[6],9,-1069501632),i=br(i,s,n,r,e[11],14,643717713),r=br(r,i,s,n,e[0],20,-373897302),n=br(n,r,i,s,e[5],5,-701558691),s=br(s,n,r,i,e[10],9,38016083),i=br(i,s,n,r,e[15],14,-660478335),r=br(r,i,s,n,e[4],20,-405537848),n=br(n,r,i,s,e[9],5,568446438),s=br(s,n,r,i,e[14],9,-1019803690),i=br(i,s,n,r,e[3],14,-187363961),r=br(r,i,s,n,e[8],20,1163531501),n=br(n,r,i,s,e[13],5,-1444681467),s=br(s,n,r,i,e[2],9,-51403784),i=br(i,s,n,r,e[7],14,1735328473),n=Ar(n,r=br(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ar(s,n,r,i,e[8],11,-2022574463),i=Ar(i,s,n,r,e[11],16,1839030562),r=Ar(r,i,s,n,e[14],23,-35309556),n=Ar(n,r,i,s,e[1],4,-1530992060),s=Ar(s,n,r,i,e[4],11,1272893353),i=Ar(i,s,n,r,e[7],16,-155497632),r=Ar(r,i,s,n,e[10],23,-1094730640),n=Ar(n,r,i,s,e[13],4,681279174),s=Ar(s,n,r,i,e[0],11,-358537222),i=Ar(i,s,n,r,e[3],16,-722521979),r=Ar(r,i,s,n,e[6],23,76029189),n=Ar(n,r,i,s,e[9],4,-640364487),s=Ar(s,n,r,i,e[12],11,-421815835),i=Ar(i,s,n,r,e[15],16,530742520),n=Er(n,r=Ar(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Er(s,n,r,i,e[7],10,1126891415),i=Er(i,s,n,r,e[14],15,-1416354905),r=Er(r,i,s,n,e[5],21,-57434055),n=Er(n,r,i,s,e[12],6,1700485571),s=Er(s,n,r,i,e[3],10,-1894986606),i=Er(i,s,n,r,e[10],15,-1051523),r=Er(r,i,s,n,e[1],21,-2054922799),n=Er(n,r,i,s,e[8],6,1873313359),s=Er(s,n,r,i,e[15],10,-30611744),i=Er(i,s,n,r,e[6],15,-1560198380),r=Er(r,i,s,n,e[13],21,1309151649),n=Er(n,r,i,s,e[4],6,-145523070),s=Er(s,n,r,i,e[11],10,-1120210379),i=Er(i,s,n,r,e[2],15,718787259),r=Er(r,i,s,n,e[9],21,-343485551),t[0]=Ia(n,t[0]),t[1]=Ia(r,t[1]),t[2]=Ia(i,t[2]),t[3]=Ia(s,t[3])}function tg(t,e,n,r,i,s){return e=Ia(Ia(e,t),Ia(r,s)),Ia(e<<i|e>>>32-i,n)}function wr(t,e,n,r,i,s,o){return tg(e&n|~e&r,t,e,i,s,o)}function br(t,e,n,r,i,s,o){return tg(e&r|n&~r,t,e,i,s,o)}function Ar(t,e,n,r,i,s,o){return tg(e^n^r,t,e,i,s,o)}function Er(t,e,n,r,i,s,o){return tg(n^(e|~r),t,e,i,s,o)}function uS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)p1(r,jO(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(p1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,p1(r,i),r}function jO(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}qh=dt.atob.bind(dt),Y0=dt.btoa.bind(dt);var Ew="0123456789abcdef".split("");function FO(t){for(var e="",n=0;n<4;n++)e+=Ew[t>>8*n+4&15]+Ew[t>>8*n&15];return e}function MO(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function X0(t){return uS(t).map(MO).join("")}var UO=function(t){for(var e=0;e<t.length;e++)t[e]=FO(t[e]);return t.join("")}(uS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ia(t,e){if(UO){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J0(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}n=t,r=a}else a=r;var d=e.length,m=0,p=0,w="";for(l=0;l<d;l++)p=(p+(h=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=h,o=a[(a[m]+a[p])%256],w+=String.fromCharCode(e.charCodeAt(l)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Sw={print:4,modify:8,copy:16,"annot-forms":32};function Ru(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Sw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Sw[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=X0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J0(this.encryptionKey,this.padding)}function Ou(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function xw(t){if(Wt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){dt.console&&Zt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rm(t){if(!(this instanceof rm))return new rm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function cS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sl(t,e,n,r,i){if(!(this instanceof Sl))return new Sl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,cS.call(this,r,i)}function Ku(t,e,n,r,i){if(!(this instanceof Ku))return new Ku(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,cS.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",h=null;Wt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=xw;var w="1.3",E=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(v){w=v};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return P};var _=p.__private__.getPageFormat=function(v){return P[v]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},k=A.COMPAT;function U(){this.saveGraphicsState(),se(new Xe(qe,0,0,-qe,0,gr()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),c="n",k=A.ADVANCED}function G(){this.restoreGraphicsState(),c="S",k=A.COMPAT}var q=p.__private__.combineFontStyleAndFontWeight=function(v,B){if(v=="bold"&&B=="normal"||v=="bold"&&B==400||v=="normal"&&B=="italic"||v=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(v=B==400||B==="normal"?v==="italic"?"italic":"normal":B!=700&&B!=="bold"||v!=="normal"?(B==700?"bold":B)+""+v:"bold"),v};p.advancedAPI=function(v){var B=k===A.COMPAT;return B&&U.call(this),typeof v!="function"||(v(this),B&&G.call(this)),this},p.compatAPI=function(v){var B=k===A.ADVANCED;return B&&G.call(this),typeof v!="function"||(v(this),B&&U.call(this)),this},p.isAdvancedAPI=function(){return k===A.ADVANCED};var R,y=function(v){if(k!==A.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(v,B){var ie=e||B;if(isNaN(v)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(ie).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return I(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return I(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return I(v,16)};var L=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return I(v,2)},S=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return I(v,3)},T=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return k===A.COMPAT?v*qe:k===A.ADVANCED?v:void 0},N=function(v){return k===A.COMPAT?gr()-v:k===A.ADVANCED?v:void 0},V=function(v){return T(N(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var J,F="00000000000000000000000000000000",j=p.__private__.getFileId=function(){return F},H=p.__private__.setFileId=function(v){return F=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(on=new Ru(h.userPermissions,h.userPassword,h.ownerPassword,F)),F};p.setFileId=function(v){return H(v),this},p.getFileId=function(){return j()};var Z=p.__private__.convertDateToPDFDate=function(v){var B=v.getTimezoneOffset(),ie=B<0?"+":"-",ae=Math.floor(Math.abs(B/60)),de=Math.abs(B%60),Se=[ie,X(ae),"'",X(de),"'"].join("");return["D:",v.getFullYear(),X(v.getMonth()+1),X(v.getDate()),X(v.getHours()),X(v.getMinutes()),X(v.getSeconds()),Se].join("")},re=p.__private__.convertPDFDateToDate=function(v){var B=parseInt(v.substr(2,4),10),ie=parseInt(v.substr(6,2),10)-1,ae=parseInt(v.substr(8,2),10),de=parseInt(v.substr(10,2),10),Se=parseInt(v.substr(12,2),10),Re=parseInt(v.substr(14,2),10);return new Date(B,ie,ae,de,Se,Re,0)},be=p.__private__.setCreationDate=function(v){var B;if(v===void 0&&(v=new Date),v instanceof Date)B=Z(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=v}return J=B},M=p.__private__.getCreationDate=function(v){var B=J;return v==="jsDate"&&(B=re(J)),B};p.setCreationDate=function(v){return be(v),this},p.getCreationDate=function(v){return M(v)};var K,X=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ee=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},oe=0,fe=[],ge=[],me=0,Ie=[],xe=[],Fe=!1,Be=ge,et=function(){oe=0,me=0,ge=[],fe=[],Ie=[],Vi=An(),mr=An()};p.__private__.setCustomOutputDestination=function(v){Fe=!0,Be=v};var Ae=function(v){Fe||(Be=v)};p.__private__.resetCustomOutputDestination=function(){Fe=!1,Be=ge};var se=p.__private__.out=function(v){return v=v.toString(),me+=v.length+1,Be.push(v),Be},Qe=p.__private__.write=function(v){return se(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(v){for(var B=v.length,ie=new ArrayBuffer(B),ae=new Uint8Array(ie);B--;)ae[B]=v.charCodeAt(B);return ie},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ne};var De=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return De=k===A.ADVANCED?v/qe:v,this};var Me,Ve=p.__private__.getFontSize=p.getFontSize=function(){return k===A.COMPAT?De:De*qe},$e=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return $e=v,this},p.__private__.getR2L=p.getR2L=function(){return $e};var Ke,st=p.__private__.setZoomMode=function(v){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Me=v;else if(isNaN(v)){if(B.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Me=v}else Me=parseInt(v,10)};p.__private__.getZoomMode=function(){return Me};var tt,lt=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Ke=v};p.__private__.getPageMode=function(){return Ke};var ht=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');tt=v};p.__private__.getLayoutMode=function(){return tt},p.__private__.setDisplayMode=p.setDisplayMode=function(v,B,ie){return st(v),ht(B),lt(ie),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[v]},p.__private__.getDocumentProperties=function(){return ot},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var B in ot)ot.hasOwnProperty(B)&&v[B]&&(ot[B]=v[B]);return this},p.__private__.setDocumentProperty=function(v,B){if(Object.keys(ot).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[v]=B};var at,qe,Ct,vt,rn,St={},Vt={},qr=[],It={},oi={},Mt={},$n={},bn=null,Lt=0,it=[],xt=new xw(p),kr=t.hotfixes||[],Qt={},fn={},ai=[],Xe=function v(B,ie,ae,de,Se,Re){if(!(this instanceof v))return new v(B,ie,ae,de,Se,Re);isNaN(B)&&(B=1),isNaN(ie)&&(ie=0),isNaN(ae)&&(ae=0),isNaN(de)&&(de=1),isNaN(Se)&&(Se=0),isNaN(Re)&&(Re=0),this._matrix=[B,ie,ae,de,Se,Re]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(v)},Xe.prototype.multiply=function(v){var B=v.sx*this.sx+v.shy*this.shx,ie=v.sx*this.shy+v.shy*this.sy,ae=v.shx*this.sx+v.sy*this.shx,de=v.shx*this.shy+v.sy*this.sy,Se=v.tx*this.sx+v.ty*this.shx+this.tx,Re=v.tx*this.shy+v.ty*this.sy+this.ty;return new Xe(B,ie,ae,de,Se,Re)},Xe.prototype.decompose=function(){var v=this.sx,B=this.shy,ie=this.shx,ae=this.sy,de=this.tx,Se=this.ty,Re=Math.sqrt(v*v+B*B),We=(v/=Re)*ie+(B/=Re)*ae;ie-=v*We,ae-=B*We;var f=Math.sqrt(ie*ie+ae*ae);return We/=f,v*(ae/=f)<B*(ie/=f)&&(v=-v,B=-B,We=-We,Re=-Re),{scale:new Xe(Re,0,0,f,0,0),translate:new Xe(1,0,0,1,de,Se),rotate:new Xe(v,B,-B,v,0,0),skew:new Xe(1,0,We,1,0,0)}},Xe.prototype.toString=function(v){return this.join(" ")},Xe.prototype.inversed=function(){var v=this.sx,B=this.shy,ie=this.shx,ae=this.sy,de=this.tx,Se=this.ty,Re=1/(v*ae-B*ie),We=ae*Re,f=-B*Re,x=-ie*Re,D=v*Re;return new Xe(We,f,x,D,-We*de-x*Se,-f*de-D*Se)},Xe.prototype.applyToPoint=function(v){var B=v.x*this.sx+v.y*this.shx+this.tx,ie=v.x*this.shy+v.y*this.sy+this.ty;return new to(B,ie)},Xe.prototype.applyToRectangle=function(v){var B=this.applyToPoint(v),ie=this.applyToPoint(new to(v.x+v.w,v.y+v.h));return new Ko(B.x,B.y,ie.x-B.x,ie.y-B.y)},Xe.prototype.clone=function(){var v=this.sx,B=this.shy,ie=this.shx,ae=this.sy,de=this.tx,Se=this.ty;return new Xe(v,B,ie,ae,de,Se)},p.Matrix=Xe;var $r=p.matrixMult=function(v,B){return B.multiply(v)},pr=new Xe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=pr;var Fn=function(v,B){if(!oi[v]){var ie=(B instanceof Sl?"Sh":"P")+(Object.keys(It).length+1).toString(10);B.id=ie,oi[v]=ie,It[ie]=B,xt.publish("addPattern",B)}};p.ShadingPattern=Sl,p.TilingPattern=Ku,p.addShadingPattern=function(v,B){return y("addShadingPattern()"),Fn(v,B),this},p.beginTilingPattern=function(v){y("beginTilingPattern()"),Qo(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,B){y("endTilingPattern()"),B.stream=xe[K].join(`
`),Fn(v,B),xt.publish("endTilingPattern",B),ai.pop().restore()};var Nn=p.__private__.newObject=function(){var v=An();return Mn(v,!0),v},An=p.__private__.newObjectDeferred=function(){return oe++,fe[oe]=function(){return me},oe},Mn=function(v,B){return B=typeof B=="boolean"&&B,fe[v]=me,B&&se(v+" 0 obj"),v},Oo=p.__private__.newAdditionalObject=function(){var v={objId:An(),content:""};return Ie.push(v),v},Vi=An(),mr=An(),Hr=p.__private__.decodeColorString=function(v){var B=v.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ie=parseFloat(B[0]);B=[ie,ie,ie,"r"]}for(var ae="#",de=0;de<3;de++)ae+=("0"+Math.floor(255*parseFloat(B[de])).toString(16)).slice(-2);return ae},Cr=p.__private__.encodeColorString=function(v){var B;typeof v=="string"&&(v={ch1:v});var ie=v.ch1,ae=v.ch2,de=v.ch3,Se=v.ch4,Re=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var We=new lS(ie);if(We.ok)ie=We.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var f=parseInt(ie.substr(1),16);ie=f>>16&255,ae=f>>8&255,de=255&f}if(ae===void 0||Se===void 0&&ie===ae&&ae===de)if(typeof ie=="string")B=ie+" "+Re[0];else switch(v.precision){case 2:B=L(ie/255)+" "+Re[0];break;case 3:default:B=S(ie/255)+" "+Re[0]}else if(Se===void 0||Wt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return B=["1.","1.","1.",Re[1]].join(" ");if(typeof ie=="string")B=[ie,ae,de,Re[1]].join(" ");else switch(v.precision){case 2:B=[L(ie/255),L(ae/255),L(de/255),Re[1]].join(" ");break;default:case 3:B=[S(ie/255),S(ae/255),S(de/255),Re[1]].join(" ")}}else if(typeof ie=="string")B=[ie,ae,de,Se,Re[2]].join(" ");else switch(v.precision){case 2:B=[L(ie),L(ae),L(de),L(Se),Re[2]].join(" ");break;case 3:default:B=[S(ie),S(ae),S(de),S(Se),Re[2]].join(" ")}return B},Lr=p.__private__.getFilters=function(){return o},Pn=p.__private__.putStream=function(v){var B=(v=v||{}).data||"",ie=v.filters||Lr(),ae=v.alreadyAppliedFilters||[],de=v.addLength1||!1,Se=B.length,Re=v.objectId,We=function(yt){return yt};if(h!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(We=on.encryptor(Re,0));var f={};ie===!0&&(ie=["FlateEncode"]);var x=v.additionalKeyValues||[],D=(f=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(B,ie):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(f.data.length!==0&&(x.push({key:"Length",value:f.data.length}),de===!0&&x.push({key:"Length1",value:Se})),D.length!=0)if(D.split("/").length-1==1)x.push({key:"Filter",value:D});else{x.push({key:"Filter",value:"["+D+"]"});for(var Q=0;Q<x.length;Q+=1)if(x[Q].key==="DecodeParms"){for(var he=[],we=0;we<f.reverseChain.split("/").length-1;we+=1)he.push("null");he.push(x[Q].value),x[Q].value="["+he.join(" ")+"]"}}se("<<");for(var Oe=0;Oe<x.length;Oe++)se("/"+x[Oe].key+" "+x[Oe].value);se(">>"),f.data.length!==0&&(se("stream"),se(We(f.data)),se("endstream"))},li=p.__private__.putPage=function(v){var B=v.number,ie=v.data,ae=v.objId,de=v.contentsObjId;Mn(ae,!0),se("<</Type /Page"),se("/Parent "+v.rootDictionaryObjId+" 0 R"),se("/Resources "+v.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(R(v.mediaBox.bottomLeftX))+" "+parseFloat(R(v.mediaBox.bottomLeftY))+" "+R(v.mediaBox.topRightX)+" "+R(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&se("/CropBox ["+R(v.cropBox.bottomLeftX)+" "+R(v.cropBox.bottomLeftY)+" "+R(v.cropBox.topRightX)+" "+R(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&se("/BleedBox ["+R(v.bleedBox.bottomLeftX)+" "+R(v.bleedBox.bottomLeftY)+" "+R(v.bleedBox.topRightX)+" "+R(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&se("/TrimBox ["+R(v.trimBox.bottomLeftX)+" "+R(v.trimBox.bottomLeftY)+" "+R(v.trimBox.topRightX)+" "+R(v.trimBox.topRightY)+"]"),v.artBox!==null&&se("/ArtBox ["+R(v.artBox.bottomLeftX)+" "+R(v.artBox.bottomLeftY)+" "+R(v.artBox.topRightX)+" "+R(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&se("/UserUnit "+v.userUnit),xt.publish("putPage",{objId:ae,pageContext:it[B],pageNumber:B,page:ie}),se("/Contents "+de+" 0 R"),se(">>"),se("endobj");var Se=ie.join(`
`);return k===A.ADVANCED&&(Se+=`
Q`),Mn(de,!0),Pn({data:Se,filters:Lr(),objectId:de}),se("endobj"),ae},ds=p.__private__.putPages=function(){var v,B,ie=[];for(v=1;v<=Lt;v++)it[v].objId=An(),it[v].contentsObjId=An();for(v=1;v<=Lt;v++)ie.push(li({number:v,data:xe[v],objId:it[v].objId,contentsObjId:it[v].contentsObjId,mediaBox:it[v].mediaBox,cropBox:it[v].cropBox,bleedBox:it[v].bleedBox,trimBox:it[v].trimBox,artBox:it[v].artBox,userUnit:it[v].userUnit,rootDictionaryObjId:Vi,resourceDictionaryObjId:mr}));Mn(Vi,!0),se("<</Type /Pages");var ae="/Kids [";for(B=0;B<Lt;B++)ae+=ie[B]+" 0 R ";se(ae+"]"),se("/Count "+Lt),se(">>"),se("endobj"),xt.publish("postPutPages")},ps=function(v){xt.publish("putFont",{font:v,out:se,newObject:Nn,putStream:Pn}),v.isAlreadyPutted!==!0&&(v.objectNumber=Nn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Ou(v.postScriptName)),se("/Subtype /Type1"),typeof v.encoding=="string"&&se("/Encoding /"+v.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ms=function(){for(var v in St)St.hasOwnProperty(v)&&(d===!1||d===!0&&m.hasOwnProperty(v))&&ps(St[v])},Ws=function(v){v.objectNumber=Nn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[R(v.x),R(v.y),R(v.x+v.width),R(v.y+v.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var ie=v.pages[1].join(`
`);Pn({data:ie,additionalKeyValues:B,objectId:v.objectNumber}),se("endobj")},Gs=function(){for(var v in Qt)Qt.hasOwnProperty(v)&&Ws(Qt[v])},tu=function(v,B){var ie,ae=[],de=1/(B-1);for(ie=0;ie<1;ie+=de)ae.push(ie);if(ae.push(1),v[0].offset!=0){var Se={offset:0,color:v[0].color};v.unshift(Se)}if(v[v.length-1].offset!=1){var Re={offset:1,color:v[v.length-1].color};v.push(Re)}for(var We="",f=0,x=0;x<ae.length;x++){for(ie=ae[x];ie>v[f+1].offset;)f++;var D=v[f].offset,Q=(ie-D)/(v[f+1].offset-D),he=v[f].color,we=v[f+1].color;We+=ee(Math.round((1-Q)*he[0]+Q*we[0]).toString(16))+ee(Math.round((1-Q)*he[1]+Q*we[1]).toString(16))+ee(Math.round((1-Q)*he[2]+Q*we[2]).toString(16))}return We.trim()},Do=function(v,B){B||(B=21);var ie=Nn(),ae=tu(v.colors,B),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+B+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pn({data:ae,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),se("endobj"),v.objectNumber=Nn(),se("<< /ShadingType "+v.type),se("/ColorSpace /DeviceRGB");var Se="/Coords ["+R(parseFloat(v.coords[0]))+" "+R(parseFloat(v.coords[1]))+" ";v.type===2?Se+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3])):Se+=R(parseFloat(v.coords[2]))+" "+R(parseFloat(v.coords[3]))+" "+R(parseFloat(v.coords[4]))+" "+R(parseFloat(v.coords[5])),se(Se+="]"),v.matrix&&se("/Matrix ["+v.matrix.toString()+"]"),se("/Function "+ie+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},nu=function(v,B){var ie=An(),ae=Nn();B.push({resourcesOid:ie,objectOid:ae}),v.objectNumber=ae;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+v.boundingBox.map(R).join(" ")+"]"}),de.push({key:"XStep",value:R(v.xStep)}),de.push({key:"YStep",value:R(v.yStep)}),de.push({key:"Resources",value:ie+" 0 R"}),v.matrix&&de.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Pn({data:v.stream,additionalKeyValues:de,objectId:v.objectNumber}),se("endobj")},gs=function(v){var B;for(B in It)It.hasOwnProperty(B)&&(It[B]instanceof Sl?Do(It[B]):It[B]instanceof Ku&&nu(It[B],v))},vs=function(v){for(var B in v.objectNumber=Nn(),se("<<"),v)switch(B){case"opacity":se("/ca "+L(v[B]));break;case"stroke-opacity":se("/CA "+L(v[B]))}se(">>"),se("endobj")},Bi=function(){var v;for(v in Mt)Mt.hasOwnProperty(v)&&vs(Mt[v])},Ks=function(){for(var v in se("/XObject <<"),Qt)Qt.hasOwnProperty(v)&&Qt[v].objectNumber>=0&&se("/"+v+" "+Qt[v].objectNumber+" 0 R");xt.publish("putXobjectDict"),se(">>")},Bc=function(){on.oid=Nn(),se("<<"),se("/Filter /Standard"),se("/V "+on.v),se("/R "+on.r),se("/U <"+on.toHexString(on.U)+">"),se("/O <"+on.toHexString(on.O)+">"),se("/P "+on.P),se(">>"),se("endobj")},Za=function(){for(var v in se("/Font <<"),St)St.hasOwnProperty(v)&&(d===!1||d===!0&&m.hasOwnProperty(v))&&se("/"+v+" "+St[v].objectNumber+" 0 R");se(">>")},ru=function(){if(Object.keys(It).length>0){for(var v in se("/Shading <<"),It)It.hasOwnProperty(v)&&It[v]instanceof Sl&&It[v].objectNumber>=0&&se("/"+v+" "+It[v].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),se(">>")}},Qs=function(v){if(Object.keys(It).length>0){for(var B in se("/Pattern <<"),It)It.hasOwnProperty(B)&&It[B]instanceof p.TilingPattern&&It[B].objectNumber>=0&&It[B].objectNumber<v&&se("/"+B+" "+It[B].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),se(">>")}},el=function(){if(Object.keys(Mt).length>0){var v;for(v in se("/ExtGState <<"),Mt)Mt.hasOwnProperty(v)&&Mt[v].objectNumber>=0&&se("/"+v+" "+Mt[v].objectNumber+" 0 R");xt.publish("putGStateDict"),se(">>")}},sn=function(v){Mn(v.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Za(),ru(),Qs(v.objectOid),el(),Ks(),se(">>"),se("endobj")},tl=function(){var v=[];ms(),Bi(),Gs(),gs(v),xt.publish("putResources"),v.forEach(sn),sn({resourcesOid:mr,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},nl=function(){xt.publish("putAdditionalObjects");for(var v=0;v<Ie.length;v++){var B=Ie[v];Mn(B.objId,!0),se(B.content),se("endobj")}xt.publish("postPutAdditionalObjects")},iu=function(v){Vt[v.fontName]=Vt[v.fontName]||{},Vt[v.fontName][v.fontStyle]=v.id},rl=function(v,B,ie,ae,de){var Se={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:v,fontName:B,fontStyle:ie,encoding:ae,isStandardFont:de||!1,metadata:{}};return xt.publish("addFont",{font:Se,instance:this}),St[Se.id]=Se,iu(Se),Se.id},su=function(v){for(var B=0,ie=Ne.length;B<ie;B++){var ae=rl.call(this,v[B][0],v[B][1],v[B][2],Ne[B][3],!0);d===!1&&(m[ae]=!0);var de=v[B][0].split("-");iu({id:ae,fontName:de[0],fontStyle:de[1]||""})}xt.publish("addFonts",{fonts:St,dictionary:Vt})},Wr=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ae){var B=ae.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ie="Error in function "+B.split(`
`)[0].split("<")[0]+": "+ae.message;if(!dt.console)throw new Error(ie);dt.console.error(ie,ae),dt.alert&&alert(ie)}},v.foo.bar=v,v.foo},jo=function(v,B){var ie,ae,de,Se,Re,We,f,x,D;if(de=(B=B||{}).sourceEncoding||"Unicode",Re=B.outputEncoding,(B.autoencode||Re)&&St[at].metadata&&St[at].metadata[de]&&St[at].metadata[de].encoding&&(Se=St[at].metadata[de].encoding,!Re&&St[at].encoding&&(Re=St[at].encoding),!Re&&Se.codePages&&(Re=Se.codePages[0]),typeof Re=="string"&&(Re=Se[Re]),Re)){for(f=!1,We=[],ie=0,ae=v.length;ie<ae;ie++)(x=Re[v.charCodeAt(ie)])?We.push(String.fromCharCode(x)):We.push(v[ie]),We[ie].charCodeAt(0)>>8&&(f=!0);v=We.join("")}for(ie=v.length;f===void 0&&ie!==0;)v.charCodeAt(ie-1)>>8&&(f=!0),ie--;if(!f)return v;for(We=B.noBOM?[]:[254,255],ie=0,ae=v.length;ie<ae;ie++){if((D=(x=v.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(D),We.push(x-(D<<8))}return String.fromCharCode.apply(void 0,We)},En=p.__private__.pdfEscape=p.pdfEscape=function(v,B){return jo(v,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rr=p.__private__.beginPage=function(v){xe[++Lt]=[],it[Lt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},il(Lt),Ae(xe[K])},Ys=function(v,B){var ie,ae,de;switch(n=B||n,typeof v=="string"&&(ie=_(v.toLowerCase()),Array.isArray(ie)&&(ae=ie[0],de=ie[1])),Array.isArray(v)&&(ae=v[0]*qe,de=v[1]*qe),isNaN(ae)&&(ae=i[0],de=i[1]),(ae>14400||de>14400)&&(Zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),de=Math.min(14400,de)),i=[ae,de],n.substr(0,1)){case"l":de>ae&&(i=[de,ae]);break;case"p":ae>de&&(i=[de,ae])}Rr(i),ul(ll),se(nr),fl!==0&&se(fl+" J"),Go!==0&&se(Go+" j"),xt.publish("addPage",{pageNumber:Lt})},Fo=function(v){v>0&&v<=Lt&&(xe.splice(v,1),it.splice(v,1),Lt--,K>Lt&&(K=Lt),this.setPage(K))},il=function(v){v>0&&v<=Lt&&(K=v)},qt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},Xs=function(v,B,ie){var ae,de=void 0;return ie=ie||{},v=v!==void 0?v:St[at].fontName,B=B!==void 0?B:St[at].fontStyle,ae=v.toLowerCase(),Vt[ae]!==void 0&&Vt[ae][B]!==void 0?de=Vt[ae][B]:Vt[v]!==void 0&&Vt[v][B]!==void 0?de=Vt[v][B]:ie.disableWarning===!1&&Zt.warn("Unable to look up font label for font '"+v+"', '"+B+"'. Refer to getFontList() for available fonts."),de||ie.noFallback||(de=Vt.times[B])==null&&(de=Vt.times.normal),de},Js=p.__private__.putInfo=function(){var v=Nn(),B=function(ae){return ae};for(var ie in h!==null&&(B=on.encryptor(v,0)),se("<<"),se("/Producer ("+En(B("jsPDF "+ft.version))+")"),ot)ot.hasOwnProperty(ie)&&ot[ie]&&se("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+En(B(ot[ie]))+")");se("/CreationDate ("+En(B(J))+")"),se(">>"),se("endobj")},zi=p.__private__.putCatalog=function(v){var B=(v=v||{}).rootDictionaryObjId||Vi;switch(Nn(),se("<<"),se("/Type /Catalog"),se("/Pages "+B+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Me;ie.substr(ie.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&se("/OpenAction [3 0 R /XYZ null null "+L(Me)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Ke&&se("/PageMode /"+Ke),xt.publish("putCatalog"),se(">>"),se("endobj")},zc=p.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(oe+1)),se("/Root "+oe+" 0 R"),se("/Info "+(oe-1)+" 0 R"),h!==null&&se("/Encrypt "+on.oid+" 0 R"),se("/ID [ <"+F+"> <"+F+"> ]"),se(">>")},ou=p.__private__.putHeader=function(){se("%PDF-"+w),se("%")},qc=p.__private__.putXRef=function(){var v="0000000000";se("xref"),se("0 "+(oe+1)),se("0000000000 65535 f ");for(var B=1;B<=oe;B++)typeof fe[B]=="function"?se((v+fe[B]()).slice(-10)+" 00000 n "):fe[B]!==void 0?se((v+fe[B]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},qi=p.__private__.buildDocument=function(){et(),Ae(ge),xt.publish("buildDocument"),ou(),ds(),nl(),tl(),h!==null&&Bc(),Js(),zi();var v=me;return qc(),zc(),se("startxref"),se(""+v),se("%%EOF"),Ae(xe[K]),ge.join(`
`)},Mo=p.__private__.getBlob=function(v){return new Blob([ze(v)],{type:"application/pdf"})},Uo=p.output=p.__private__.output=Wr(function(v,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",v){case void 0:return qi();case"save":p.save(B.filename);break;case"arraybuffer":return ze(qi());case"blob":return Mo(qi());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL(Mo(qi()))||void 0;Zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ae=qi();try{ie=Y0(ae)}catch{ie=Y0(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+B.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(de=B.pdfObjectUrl,Se="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",We=dt.open();return We!==null&&We.document.write(Re),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',x=dt.open();if(x!==null){x.document.write(f);var D=this;x.document.documentElement.querySelector("#pdfViewer").onload=function(){x.document.title=B.filename,x.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return x}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',he=dt.open();if(he!==null&&(he.document.write(Q),he.document.title=B.filename),he||typeof safari>"u")return he;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",B);default:return null}}),ys=function(v){return Array.isArray(kr)===!0&&kr.indexOf(v)>-1};switch(r){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qe=r}var on=null;be(),H();var au=function(v){return h!==null?on.encryptor(v,0):function(B){return B}},sl=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[v].objId,pageNumber:v,pageContext:it[v]}},pt=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in it)if(it[B].objId===v)break;return sl(B)},_s=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:it[K].objId,pageNumber:K,pageContext:it[K]}};p.addPage=function(){return Ys.apply(this,arguments),this},p.setPage=function(){return il.apply(this,arguments),Ae.call(this,xe[K]),this},p.insertPage=function(v){return this.addPage(),this.movePage(K,v),this},p.movePage=function(v,B){var ie,ae;if(v>B){ie=xe[v],ae=it[v];for(var de=v;de>B;de--)xe[de]=xe[de-1],it[de]=it[de-1];xe[B]=ie,it[B]=ae,this.setPage(B)}else if(v<B){ie=xe[v],ae=it[v];for(var Se=v;Se<B;Se++)xe[Se]=xe[Se+1],it[Se]=it[Se+1];xe[B]=ie,it[B]=ae,this.setPage(B)}return this},p.deletePage=function(){return Fo.apply(this,arguments),this},p.__private__.text=p.text=function(v,B,ie,ae,de){var Se,Re,We,f,x,D,Q,he,we,Oe=(ae=ae||{}).scope||this;if(typeof v=="number"&&typeof B=="number"&&(typeof ie=="string"||Array.isArray(ie))){var yt=ie;ie=B,B=v,v=yt}if(arguments[3]instanceof Xe?(y("The transform parameter of text() with a Matrix value"),we=de):(We=arguments[4],f=arguments[5],Wt(Q=arguments[3])==="object"&&Q!==null||(typeof We=="string"&&(f=We,We=null),typeof Q=="string"&&(f=Q,Q=null),typeof Q=="number"&&(We=Q,Q=null),ae={flags:Q,angle:We,align:f})),isNaN(B)||isNaN(ie)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Oe;var Nt="",_t=!1,zt=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Bt,Xt=Oe.internal.scaleFactor;function Ki(en){return en=en.split("	").join(Array(ae.TabLen||9).join(" ")),En(en,Q)}function rr(en){for(var tn,Cn=en.concat(),Wn=[],oo=Cn.length;oo--;)typeof(tn=Cn.shift())=="string"?Wn.push(tn):Array.isArray(en)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?Wn.push(tn[0]):Wn.push([tn[0],tn[1],tn[2]]);return Wn}function Es(en,tn){var Cn;if(typeof en=="string")Cn=tn(en)[0];else if(Array.isArray(en)){for(var Wn,oo,Jc=en.concat(),wu=[],$f=Jc.length;$f--;)typeof(Wn=Jc.shift())=="string"?wu.push(tn(Wn)[0]):Array.isArray(Wn)&&typeof Wn[0]=="string"&&(oo=tn(Wn[0],Wn[1],Wn[2]),wu.push([oo[0],oo[1],oo[2]]));Cn=wu}return Cn}var Ss=!1,Hc=!0;if(typeof v=="string")Ss=!0;else if(Array.isArray(v)){var Wc=v.concat();Re=[];for(var fu,ir=Wc.length;ir--;)(typeof(fu=Wc.shift())!="string"||Array.isArray(fu)&&typeof fu[0]!="string")&&(Hc=!1);Ss=Hc}if(Ss===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var du=De/Oe.internal.scaleFactor,pu=du*(zt-1);switch(ae.baseline){case"bottom":ie-=pu;break;case"top":ie+=du-pu;break;case"hanging":ie+=du-2*pu;break;case"middle":ie+=du/2-pu}if((D=ae.maxWidth||0)>0&&(typeof v=="string"?v=Oe.splitTextToSize(v,D):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(en,tn){return en.concat(Oe.splitTextToSize(tn,D))},[]))),Se={text:v,x:B,y:ie,options:ae,mutex:{pdfEscape:En,activeFontKey:at,fonts:St,activeFontSize:De}},xt.publish("preProcessText",Se),v=Se.text,We=(ae=Se.options).angle,!(we instanceof Xe)&&We&&typeof We=="number"){We*=Math.PI/180,ae.rotationDirection===0&&(We=-We),k===A.ADVANCED&&(We=-We);var mu=Math.cos(We),Gc=Math.sin(We);we=new Xe(mu,Gc,-Gc,mu,0,0)}else We&&We instanceof Xe&&(we=We);k!==A.ADVANCED||we||(we=pr),(x=ae.charSpace||eo)!==void 0&&(Nt+=R(T(x))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(he=ae.horizontalScale)!==void 0&&(Nt+=R(100*he)+` Tz
`),ae.lang;var Gr=-1,rg=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,Kc=Oe.internal.getCurrentPageInfo().pageContext;switch(rg){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var Vf=Kc.usedRenderingMode!==void 0?Kc.usedRenderingMode:-1;Gr!==-1?Nt+=Gr+` Tr
`:Vf!==-1&&(Nt+=`0 Tr
`),Gr!==-1&&(Kc.usedRenderingMode=Gr),f=ae.align||"left";var Ii,gu=De*zt,Bf=Oe.internal.pageSize.getWidth(),zf=St[at];x=ae.charSpace||eo,D=ae.maxWidth||0,Q=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Jo=[],dl=function(en){return Oe.getStringUnitWidth(en,{font:zf,charSpace:x,fontSize:De,doKerning:!1})*De/Xt};if(Object.prototype.toString.call(v)==="[object Array]"){var Kr;Re=rr(v),f!=="left"&&(Ii=Re.map(dl));var Or,Zo=0;if(f==="right"){B-=Ii[0],v=[],ir=Re.length;for(var ro=0;ro<ir;ro++)ro===0?(Or=hi(B),Kr=Hn(ie)):(Or=T(Zo-Ii[ro]),Kr=-gu),v.push([Re[ro],Or,Kr]),Zo=Ii[ro]}else if(f==="center"){B-=Ii[0]/2,v=[],ir=Re.length;for(var io=0;io<ir;io++)io===0?(Or=hi(B),Kr=Hn(ie)):(Or=T((Zo-Ii[io])/2),Kr=-gu),v.push([Re[io],Or,Kr]),Zo=Ii[io]}else if(f==="left"){v=[],ir=Re.length;for(var vu=0;vu<ir;vu++)v.push(Re[vu])}else if(f==="justify"&&zf.encoding==="Identity-H"){v=[],ir=Re.length,D=D!==0?D:Bf;for(var so=0,kn=0;kn<ir;kn++)if(Kr=kn===0?Hn(ie):-gu,Or=kn===0?hi(B):so,kn<ir-1){var Qc=T((D-Ii[kn])/(Re[kn].split(" ").length-1)),Dr=Re[kn].split(" ");v.push([Dr[0]+" ",Or,Kr]),so=0;for(var Ti=1;Ti<Dr.length;Ti++){var yu=(dl(Dr[Ti-1]+" "+Dr[Ti])-dl(Dr[Ti]))*Xt+Qc;Ti==Dr.length-1?v.push([Dr[Ti],yu,0]):v.push([Dr[Ti]+" ",yu,0]),so-=yu}}else v.push([Re[kn],Or,Kr]);v.push(["",so,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],ir=Re.length,D=D!==0?D:Bf,kn=0;kn<ir;kn++)Kr=kn===0?Hn(ie):-gu,Or=kn===0?hi(B):0,kn<ir-1?Jo.push(R(T((D-Ii[kn])/(Re[kn].split(" ").length-1)))):Jo.push(0),v.push([Re[kn],Or,Kr])}}var qf=typeof ae.R2L=="boolean"?ae.R2L:$e;qf===!0&&(v=Es(v,function(en,tn,Cn){return[en.split("").reverse().join(""),tn,Cn]})),Se={text:v,x:B,y:ie,options:ae,mutex:{pdfEscape:En,activeFontKey:at,fonts:St,activeFontSize:De}},xt.publish("postProcessText",Se),v=Se.text,_t=Se.mutex.isHex||!1;var Yc=St[at].encoding;Yc!=="WinAnsiEncoding"&&Yc!=="StandardEncoding"||(v=Es(v,function(en,tn,Cn){return[Ki(en),tn,Cn]})),Re=rr(v),v=[];for(var pl,ml,ea,gl=0,_u=1,vl=Array.isArray(Re[0])?_u:gl,ta="",Xc=function(en,tn,Cn){var Wn="";return Cn instanceof Xe?(Cn=typeof ae.angle=="number"?$r(Cn,new Xe(1,0,0,1,en,tn)):$r(new Xe(1,0,0,1,en,tn),Cn),k===A.ADVANCED&&(Cn=$r(new Xe(1,0,0,-1,0,0),Cn)),Wn=Cn.join(" ")+` Tm
`):Wn=R(en)+" "+R(tn)+` Td
`,Wn},Ni=0;Ni<Re.length;Ni++){switch(ta="",vl){case _u:ea=(_t?"<":"(")+Re[Ni][0]+(_t?">":")"),pl=parseFloat(Re[Ni][1]),ml=parseFloat(Re[Ni][2]);break;case gl:ea=(_t?"<":"(")+Re[Ni]+(_t?">":")"),pl=hi(B),ml=Hn(ie)}Jo!==void 0&&Jo[Ni]!==void 0&&(ta=Jo[Ni]+` Tw
`),Ni===0?v.push(ta+Xc(pl,ml,we)+ea):vl===gl?v.push(ta+ea):vl===_u&&v.push(ta+Xc(pl,ml,we)+ea)}v=vl===gl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Pi=`BT
/`;return Pi+=at+" "+De+` Tf
`,Pi+=R(De*zt)+` TL
`,Pi+=Wi+`
`,Pi+=Nt,Pi+=v,se(Pi+="ET"),m[at]=!0,Oe};var $c=p.__private__.clip=p.clip=function(v){return se(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return $c("evenodd")},p.__private__.discardPath=p.discardPath=function(){return se("n"),this};var xi=p.__private__.isValidStyle=function(v){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(B=!0),B};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return xi(v)&&(c=v),this};var lu=p.__private__.getStyle=p.getStyle=function(v){var B=c;switch(v){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=v}return B},ui=p.close=function(){return se("h"),this};p.stroke=function(){return se("S"),this},p.fill=function(v){return Vo("f",v),this},p.fillEvenOdd=function(v){return Vo("f*",v),this},p.fillStroke=function(v){return Vo("B",v),this},p.fillStrokeEvenOdd=function(v){return Vo("B*",v),this};var Vo=function(v,B){Wt(B)==="object"?zo(B,v):se(v)},ol=function(v){v===null||k===A.ADVANCED&&v===void 0||(v=lu(v),se(v))};function Bo(v,B,ie,ae,de){var Se=new Ku(B||this.boundingBox,ie||this.xStep,ae||this.yStep,this.gState,de||this.matrix);Se.stream=this.stream;var Re=v+"$$"+this.cloneIndex+++"$$";return Fn(Re,Se),Se}var zo=function(v,B){var ie=oi[v.key],ae=It[ie];if(ae instanceof Sl)se("q"),se(uu(B)),ae.gState&&p.setGState(ae.gState),se(v.matrix.toString()+" cm"),se("/"+ie+" sh"),se("Q");else if(ae instanceof Ku){var de=new Xe(1,0,0,-1,0,gr());v.matrix&&(de=de.multiply(v.matrix||pr),ie=Bo.call(ae,v.key,v.boundingBox,v.xStep,v.yStep,de).id),se("q"),se("/Pattern cs"),se("/"+ie+" scn"),ae.gState&&p.setGState(ae.gState),se(B),se("Q")}},uu=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$i=p.moveTo=function(v,B){return se(R(T(v))+" "+R(V(B))+" m"),this},ci=p.lineTo=function(v,B){return se(R(T(v))+" "+R(V(B))+" l"),this},Hi=p.curveTo=function(v,B,ie,ae,de,Se){return se([R(T(v)),R(V(B)),R(T(ie)),R(V(ae)),R(T(de)),R(V(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,B,ie,ae,de){if(isNaN(v)||isNaN(B)||isNaN(ie)||isNaN(ae)||!xi(de))throw new Error("Invalid arguments passed to jsPDF.line");return k===A.COMPAT?this.lines([[ie-v,ae-B]],v,B,[1,1],de||"S"):this.lines([[ie-v,ae-B]],v,B,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,B,ie,ae,de,Se){var Re,We,f,x,D,Q,he,we,Oe,yt,Nt,_t;if(typeof v=="number"&&(_t=ie,ie=B,B=v,v=_t),ae=ae||[1,1],Se=Se||!1,isNaN(B)||isNaN(ie)||!Array.isArray(v)||!Array.isArray(ae)||!xi(de)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($i(B,ie),Re=ae[0],We=ae[1],x=v.length,yt=B,Nt=ie,f=0;f<x;f++)(D=v[f]).length===2?(yt=D[0]*Re+yt,Nt=D[1]*We+Nt,ci(yt,Nt)):(Q=D[0]*Re+yt,he=D[1]*We+Nt,we=D[2]*Re+yt,Oe=D[3]*We+Nt,yt=D[4]*Re+yt,Nt=D[5]*We+Nt,Hi(Q,he,we,Oe,yt,Nt));return Se&&ui(),ol(de),this},p.path=function(v){for(var B=0;B<v.length;B++){var ie=v[B],ae=ie.c;switch(ie.op){case"m":$i(ae[0],ae[1]);break;case"l":ci(ae[0],ae[1]);break;case"c":Hi.apply(this,ae);break;case"h":ui()}}return this},p.__private__.rect=p.rect=function(v,B,ie,ae,de){if(isNaN(v)||isNaN(B)||isNaN(ie)||isNaN(ae)||!xi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return k===A.COMPAT&&(ae=-ae),se([R(T(v)),R(V(B)),R(T(ie)),R(T(ae)),"re"].join(" ")),ol(de),this},p.__private__.triangle=p.triangle=function(v,B,ie,ae,de,Se,Re){if(isNaN(v)||isNaN(B)||isNaN(ie)||isNaN(ae)||isNaN(de)||isNaN(Se)||!xi(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-v,ae-B],[de-ie,Se-ae],[v-de,B-Se]],v,B,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,B,ie,ae,de,Se,Re){if(isNaN(v)||isNaN(B)||isNaN(ie)||isNaN(ae)||isNaN(de)||isNaN(Se)||!xi(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*ie),Se=Math.min(Se,.5*ae),this.lines([[ie-2*de,0],[de*We,0,de,Se-Se*We,de,Se],[0,ae-2*Se],[0,Se*We,-de*We,Se,-de,Se],[2*de-ie,0],[-de*We,0,-de,-Se*We,-de,-Se],[0,2*Se-ae],[0,-Se*We,de*We,-Se,de,-Se]],v+de,B,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(v,B,ie,ae,de){if(isNaN(v)||isNaN(B)||isNaN(ie)||isNaN(ae)||!xi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*ie,Re=4/3*(Math.SQRT2-1)*ae;return $i(v+ie,B),Hi(v+ie,B-Re,v+Se,B-ae,v,B-ae),Hi(v-Se,B-ae,v-ie,B-Re,v-ie,B),Hi(v-ie,B+Re,v-Se,B+ae,v,B+ae),Hi(v+Se,B+ae,v+ie,B+Re,v+ie,B),ol(de),this},p.__private__.circle=p.circle=function(v,B,ie,ae){if(isNaN(v)||isNaN(B)||isNaN(ie)||!xi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,B,ie,ie,ae)},p.setFont=function(v,B,ie){return ie&&(B=q(B,ie)),at=Xs(v,B,{disableWarning:!1}),this};var al=p.__private__.getFont=p.getFont=function(){return St[Xs.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,B,ie={};for(v in Vt)if(Vt.hasOwnProperty(v))for(B in ie[v]=[],Vt[v])Vt[v].hasOwnProperty(B)&&ie[v].push(B);return ie},p.addFont=function(v,B,ie,ae,de){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(ie=q(ie,ae)),de=de||"Identity-H",rl.call(this,v,B,ie,de)};var Bt,ll=t.lineWidth||.200025,qo=p.__private__.getLineWidth=p.getLineWidth=function(){return ll},ul=p.__private__.setLineWidth=p.setLineWidth=function(v){return ll=v,se(R(T(v))+" w"),this};p.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(v,B){if(v=v||[],B=B||0,isNaN(B)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(ie){return R(T(ie))}).join(" "),B=R(T(B)),se("["+v+"] "+B+" d"),this};var cl=p.__private__.getLineHeight=p.getLineHeight=function(){return De*Bt};p.__private__.getLineHeight=p.getLineHeight=function(){return De*Bt};var hl=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Bt=v),this},Zs=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Bt};hl(t.lineHeight);var hi=p.__private__.getHorizontalCoordinate=function(v){return T(v)},Hn=p.__private__.getVerticalCoordinate=function(v){return k===A.ADVANCED?v:it[K].mediaBox.topRightY-it[K].mediaBox.bottomLeftY-T(v)},cu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return R(hi(v))},ws=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return R(Hn(v))},nr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Hr(nr)},p.__private__.setStrokeColor=p.setDrawColor=function(v,B,ie,ae){return nr=Cr({ch1:v,ch2:B,ch3:ie,ch4:ae,pdfColorType:"draw",precision:2}),se(nr),this};var $o=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Hr($o)},p.__private__.setFillColor=p.setFillColor=function(v,B,ie,ae){return $o=Cr({ch1:v,ch2:B,ch3:ie,ch4:ae,pdfColorType:"fill",precision:2}),se($o),this};var Wi=t.textColor||"0 g",Ho=p.__private__.getTextColor=p.getTextColor=function(){return Hr(Wi)};p.__private__.setTextColor=p.setTextColor=function(v,B,ie,ae){return Wi=Cr({ch1:v,ch2:B,ch3:ie,ch4:ae,pdfColorType:"text",precision:3}),this};var eo=t.charSpace,Wo=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(eo||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eo=v,this};var fl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var B=p.CapJoinStyles[v];if(B===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=B,se(B+" J"),this};var Go=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var B=p.CapJoinStyles[v];if(B===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Go=B,se(B+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(R(T(v))+" M"),this},p.GState=rm,p.setGState=function(v){(v=typeof v=="string"?Mt[$n[v]]:bs(null,v)).equals(bn)||(se("/"+v.id+" gs"),bn=v)};var bs=function(v,B){if(!v||!$n[v]){var ie=!1;for(var ae in Mt)if(Mt.hasOwnProperty(ae)&&Mt[ae].equals(B)){ie=!0;break}if(ie)B=Mt[ae];else{var de="GS"+(Object.keys(Mt).length+1).toString(10);Mt[de]=B,B.id=de}return v&&($n[v]=B.id),xt.publish("addGState",B),B}};p.addGState=function(v,B){return bs(v,B),this},p.saveGraphicsState=function(){return se("q"),qr.push({key:at,size:De,color:Wi}),this},p.restoreGraphicsState=function(){se("Q");var v=qr.pop();return at=v.key,De=v.size,Wi=v.color,bn=null,this},p.setCurrentTransformationMatrix=function(v){return se(v.toString()+" cm"),this},p.comment=function(v){return se("#"+v),this};var to=function(v,B){var ie=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Se){isNaN(Se)||(ie=parseFloat(Se))}});var ae=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Se){isNaN(Se)||(ae=parseFloat(Se))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Se){de=Se.toString()}}),this},Ko=function(v,B,ie,ae){to.call(this,v,B),this.type="rect";var de=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Re){isNaN(Re)||(de=parseFloat(Re))}});var Se=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Re){isNaN(Re)||(Se=parseFloat(Re))}}),this},no=function(){this.page=Lt,this.currentPage=K,this.pages=xe.slice(0),this.pagesContext=it.slice(0),this.x=Ct,this.y=vt,this.matrix=rn,this.width=As(K),this.height=gr(K),this.outputDestination=Be,this.id="",this.objectNumber=-1};no.prototype.restore=function(){Lt=this.page,K=this.currentPage,it=this.pagesContext,xe=this.pages,Ct=this.x,vt=this.y,rn=this.matrix,Yo(K,this.width),Xo(K,this.height),Be=this.outputDestination};var Qo=function(v,B,ie,ae,de){ai.push(new no),Lt=K=0,xe=[],Ct=v,vt=B,rn=de,Rr([ie,ae])},hu=function(v){if(fn[v])ai.pop().restore();else{var B=new no,ie="Xo"+(Object.keys(Qt).length+1).toString(10);B.id=ie,fn[v]=ie,Qt[ie]=B,xt.publish("addFormObject",B),ai.pop().restore()}};for(var Gi in p.beginFormObject=function(v,B,ie,ae,de){return Qo(v,B,ie,ae,de),this},p.endFormObject=function(v){return hu(v),this},p.doFormObject=function(v,B){var ie=Qt[fn[v]];return se("q"),se(B.toString()+" cm"),se("/"+ie.id+" Do"),se("Q"),this},p.getFormObject=function(v){var B=Qt[fn[v]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},p.save=function(v,B){return v=v||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Al(Mo(qi()),v),typeof Al.unload=="function"&&dt.setTimeout&&setTimeout(Al.unload,911),this):new Promise(function(ie,ae){try{var de=Al(Mo(qi()),v);typeof Al.unload=="function"&&dt.setTimeout&&setTimeout(Al.unload,911),ie(de)}catch(Se){ae(Se.message)}})},ft.API)ft.API.hasOwnProperty(Gi)&&(Gi==="events"&&ft.API.events.length?function(v,B){var ie,ae,de;for(de=B.length-1;de!==-1;de--)ie=B[de][0],ae=B[de][1],v.subscribe.apply(v,[ie].concat(typeof ae=="function"?[ae]:ae))}(xt,ft.API.events):p[Gi]=ft.API[Gi]);var As=p.getPageWidth=function(v){return(it[v=v||K].mediaBox.topRightX-it[v].mediaBox.bottomLeftX)/qe},Yo=p.setPageWidth=function(v,B){it[v].mediaBox.topRightX=B*qe+it[v].mediaBox.bottomLeftX},gr=p.getPageHeight=function(v){return(it[v=v||K].mediaBox.topRightY-it[v].mediaBox.bottomLeftY)/qe},Xo=p.setPageHeight=function(v,B){it[v].mediaBox.topRightY=B*qe+it[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:En,getStyle:lu,getFont:al,getFontSize:Ve,getCharSpace:Wo,getTextColor:Ho,getLineHeight:cl,getLineHeightFactor:Zs,getLineWidth:qo,write:Qe,getHorizontalCoordinate:hi,getVerticalCoordinate:Hn,getCoordinateString:cu,getVerticalCoordinateString:ws,collections:{},newObject:Nn,newAdditionalObject:Oo,newObjectDeferred:An,newObjectDeferredBegin:Mn,getFilters:Lr,putStream:Pn,events:xt,scaleFactor:qe,pageSize:{getWidth:function(){return As(K)},setWidth:function(v){Yo(K,v)},getHeight:function(){return gr(K)},setHeight:function(v){Xo(K,v)}},encryptionOptions:h,encryption:on,getEncryptor:au,output:Uo,getNumberOfPages:qt,pages:xe,out:se,f2:L,f3:S,getPageInfo:sl,getPageInfoByObjId:pt,getCurrentPageInfo:_s,getPDFVersion:E,Point:to,Rectangle:Ko,Matrix:Xe,hasHotfix:ys},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return As(K)},set:function(v){Yo(K,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return gr(K)},set:function(v){Xo(K,v)},enumerable:!0,configurable:!0}),su.call(p,Ne),at="F1",Ys(i,n),xt.publish("initialized"),p}Ru.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Ru.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ru.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ru.prototype.processOwnerPassword=function(t,e){return J0(X0(e).substr(0,5),t)},Ru.prototype.encryptor=function(t,e){var n=X0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J0(n,r)}},rm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Wt(t)!==Wt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="2.5.2";var xn=ft.API,ry=1,eu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(t){return t.toFixed(2)},fa=function(t){return t.toFixed(5)};xn.__acroform__={};var si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Iw=function(t){return t*ry},Ts=function(t){var e=new fS,n=nt.internal.getHeight(t)||0,r=nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(wt(r)),Number(wt(n))],e},VO=xn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},BO=xn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},zO=xn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},On=xn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zO(t,e-1)},Dn=xn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VO(t,e-1)},jn=xn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BO(t,e-1)},qO=xn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(wt(l.lowerLeft_X)),Number(wt(l.lowerLeft_Y)),Number(wt(l.upperRight_X)),Number(wt(l.upperRight_Y))]},$O=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Z0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ts(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Z0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=n,o=nt.internal.getHeight(t)||0;o=o<0?-o:o;var a=nt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,T,N){if(S+1<i.length){var V=T+" "+i[S+1][0];return Dd(V,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,d=Dd("3",t,s).height,m=t.multiline?o-s:(o-d)/2,p=m+=2,w=0,E=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",A=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var U=!1;if(i[k].length!==1&&P!==i[k].length-1){if((d+2)*(A+2)+2>o)continue e;_+=i[k][P],U=!0,E=k,k--}else{_=(_+=i[k][P]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var G=parseInt(k),q=l(G,_,s),R=k>=i.length-1;if(q&&!R){_+=" ",P=0;continue}if(q||R){if(R)E=G;else if(t.multiline&&(d+2)*(A+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(A+2)+2>o)continue e;E=G}}for(var y="",I=w;I<=E;I++){var L=i[I];if(t.multiline){if(I===E){y+=L[P]+" ",P=(P+1)%L.length;continue}if(I===w){y+=L[L.length-1]+" ";continue}}y+=L[0]+" "}switch(y=y.substr(y.length-1)==" "?y.substr(0,y.length-1):y,h=Dd(y,t,s).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}e+=wt(c)+" "+wt(p)+` Td
`,e+="("+eu(y)+`) Tj
`,e+=-wt(c)+` 0 Td
`,p=-(s+2),h=0,w=U?E:E+1,A++,_=""}break}return r.text=e,r.fontSize=s,r},Dd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},HO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WO=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},GO=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Wt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},KO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(hs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(HO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ry=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&WO(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=qO(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=nt.createDefaultAppearanceStream(a),Wt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=$O(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var w=p[o];typeof w=="function"&&(w=w.call(i,a)),d+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(i,a)),d+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&GO(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},hS=xn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Wt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+eu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},m1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+eu(r(t))+")"},Ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ls.prototype.toString=function(){return this.objId+" 0 R"},Ls.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ls.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:hS(i,this.objId,this.scope)}):i instanceof Ls?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var fS=function(){Ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};si(fS,Ls);var dS=function(){Ls.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+eu(n(t))+")"}},set:function(n){t=n}})};si(dS,Ls);var hs=function t(){Ls.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!On(e,3)},set:function(_){_?this.F=Dn(e,3):this.F=jn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof im)return;s="FieldObject"+t.FieldNum++}var _=function(A){return A};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+eu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ry:c},set:function(_){c=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof im||this instanceof Ol))return m1(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=_}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof er?m:m1(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof er?_:_.substr(0,1)==="("?Tu(_.substr(1,_.length-2)):Tu(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Tu(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof er?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof er?p:m1(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof er?_:_.substr(0,1)==="("?Tu(_.substr(1,_.length-2)):Tu(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Tu(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof er?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(_){_=!!_,E=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(_){w=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,1)},set:function(_){_?this.Ff=Dn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,2)},set:function(_){_?this.Ff=Dn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,3)},set:function(_){_?this.Ff=Dn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');P=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(P){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};si(hs,Ls);var oc=function(){hs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hS(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,18)},set:function(n){n?this.Ff=Dn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Dn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,20)},set:function(n){n?(this.Ff=Dn(this.Ff,20),e.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,22)},set:function(n){n?this.Ff=Dn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,23)},set:function(n){n?this.Ff=Dn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,27)},set:function(n){n?this.Ff=Dn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};si(oc,hs);var ac=function(){oc.call(this),this.fontName="helvetica",this.combo=!1};si(ac,oc);var lc=function(){ac.call(this),this.combo=!0};si(lc,ac);var sp=function(){lc.call(this),this.edit=!0};si(sp,lc);var er=function(){hs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,15)},set:function(n){n?this.Ff=Dn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,16)},set:function(n){n?this.Ff=Dn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,17)},set:function(n){n?this.Ff=Dn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,26)},set:function(n){n?this.Ff=Dn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+eu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Wt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};si(er,hs);var op=function(){er.call(this),this.pushButton=!0};si(op,er);var uc=function(){er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};si(uc,er);var im=function(){var t,e;hs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+eu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Wt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};si(im,hs),uc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},uc.prototype.createOption=function(t){var e=new im;return e.Parent=this,e.optionName=t,this.Kids.push(e),QO.call(this.scope,e),e};var ap=function(){er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};si(ap,er);var Ol=function(){hs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,13)},set:function(e){e?this.Ff=Dn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,21)},set:function(e){e?this.Ff=Dn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,23)},set:function(e){e?this.Ff=Dn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,24)},set:function(e){e?this.Ff=Dn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,25)},set:function(e){e?this.Ff=Dn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,26)},set:function(e){e?this.Ff=Dn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};si(Ol,hs);var lp=function(){Ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!On(this.Ff,14)},set:function(t){t?this.Ff=Dn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};si(lp,Ol);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Z0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+wt(nt.internal.getWidth(t))+" "+wt(nt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+wt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ts(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=nt.internal.getHeight(t),o=nt.internal.getWidth(t),a=Z0(t,t.caption);return i.push("1 g"),i.push("0 0 "+wt(o)+" "+wt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wt(o-1)+" "+wt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+wt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(nt.internal.getWidth(t))+" "+wt(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Circle.YesNormal,e.D[t]=nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ts(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=nt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fa(nt.internal.getWidth(t)/2)+" "+fa(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nt.internal.Bezier_C).toFixed(5)),o=Number((r*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fa(nt.internal.getWidth(t)/2)+" "+fa(nt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fa(nt.internal.getWidth(t)/2)+" "+fa(nt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=[],r=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fa(nt.internal.getWidth(t)/2)+" "+fa(nt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Cross.YesNormal,e.D[t]=nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ts(t);e.scope=t.scope;var n=[],r=nt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+wt(nt.internal.getWidth(t)-2)+" "+wt(nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=nt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(nt.internal.getWidth(t))+" "+wt(nt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wt(nt.internal.getWidth(t)-2)+" "+wt(nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ts(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(nt.internal.getWidth(t))+" "+wt(nt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nt.internal.getWidth(t),n=nt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},nt.internal.getWidth=function(t){var e=0;return Wt(t)==="object"&&(e=Iw(t.Rect[2])),e},nt.internal.getHeight=function(t){var e=0;return Wt(t)==="object"&&(e=Iw(t.Rect[3])),e};var QO=xn.addField=function(t){if(KO(this,t),!(t instanceof hs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xn.AcroFormChoiceField=oc,xn.AcroFormListBox=ac,xn.AcroFormComboBox=lc,xn.AcroFormEditBox=sp,xn.AcroFormButton=er,xn.AcroFormPushButton=op,xn.AcroFormRadioButton=uc,xn.AcroFormCheckBox=ap,xn.AcroFormTextField=Ol,xn.AcroFormPasswordField=lp,xn.AcroFormAppearance=nt,xn.AcroForm={ChoiceField:oc,ListBox:ac,ComboBox:lc,EditBox:sp,Button:er,PushButton:op,RadioButton:uc,CheckBox:ap,TextField:Ol,PasswordField:lp,Appearance:nt},ft.AcroForm={ChoiceField:oc,ListBox:ac,ComboBox:lc,EditBox:sp,Button:er,PushButton:op,RadioButton:uc,CheckBox:ap,TextField:Ol,PasswordField:lp,Appearance:nt};ft.AcroForm;function pS(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(S,T){var N,V,J,F,j,H=e;if((T=T||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(q(S))for(j in n)for(J=n[j],N=0;N<J.length;N+=1){for(F=!0,V=0;V<J[N].length;V+=1)if(J[N][V]!==void 0&&J[N][V]!==S[V]){F=!1;break}if(F===!0){H=j;break}}else for(j in n)for(J=n[j],N=0;N<J.length;N+=1){for(F=!0,V=0;V<J[N].length;V+=1)if(J[N][V]!==void 0&&J[N][V]!==S.charCodeAt(V)){F=!1;break}if(F===!0){H=j;break}}return H===e&&T!==e&&(H=T),H},i=function S(T){for(var N=this.internal.write,V=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:T.width}),F.push({key:"Height",value:T.height}),T.colorSpace===P.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===P.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var j="",H=0,Z=T.transparency.length;H<Z;H++)j+=T.transparency[H]+" "+T.transparency[H]+" ";F.push({key:"Mask",value:"["+j+"]"})}T.sMask!==void 0&&F.push({key:"SMask",value:T.objectId+1+" 0 R"});var re=T.filter!==void 0?["/"+T.filter]:void 0;if(V({data:T.data,additionalKeyValues:F,alreadyAppliedFilters:re,objectId:T.objectId}),N("endobj"),"sMask"in T&&T.sMask!==void 0){var be="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,M={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:be,data:T.sMask};"filter"in T&&(M.filter=T.filter),S.call(this,M)}if(T.colorSpace===P.INDEXED){var K=this.internal.newObject();V({data:y(new Uint8Array(T.palette)),objectId:K}),N("endobj")}},s=function(){var S=this.internal.collections.addImage_images;for(var T in S)i.call(this,S[T])},o=function(){var S,T=this.internal.collections.addImage_images,N=this.internal.write;for(var V in T)N("/I"+(S=T[V]).index,S.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var S=this.internal.collections.addImage_images;return a.call(this),S},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(S){return typeof t["process"+S.toUpperCase()]=="function"},d=function(S){return Wt(S)==="object"&&S.nodeType===1},m=function(S,T){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var N=""+S.getAttribute("src");if(N.indexOf("data:image/")===0)return qh(unescape(N).split("base64,").pop());var V=t.loadFile(N,!0);if(V!==void 0)return V}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var J;switch(T){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return qh(S.toDataURL(J,1).split("base64,").pop())}},p=function(S){var T=this.internal.collections.addImage_images;if(T){for(var N in T)if(S===T[N].alias)return T[N]}},w=function(S,T,N){return S||T||(S=-96,T=-96),S<0&&(S=-1*N.width*72/S/this.internal.scaleFactor),T<0&&(T=-1*N.height*72/T/this.internal.scaleFactor),S===0&&(S=T*N.width/N.height),T===0&&(T=S*N.height/N.width),[S,T]},E=function(S,T,N,V,J,F){var j=w.call(this,N,V,J),H=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,re=l.call(this);if(N=j[0],V=j[1],re[J.index]=J,F){F*=Math.PI/180;var be=Math.cos(F),M=Math.sin(F),K=function(ee){return ee.toFixed(4)},X=[K(be),K(M),K(-1*M),K(be),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,H(S),Z(T+V),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([H(N),"0","0",H(V),"0","0","cm"].join(" "))):this.internal.write([H(N),"0","0",H(V),H(S),Z(T+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(S){var T,N,V=0;if(typeof S=="string")for(N=S.length,T=0;T<N;T++)V=(V<<5)-V+S.charCodeAt(T),V|=0;else if(q(S))for(N=S.byteLength/2,T=0;T<N;T++)V=(V<<5)-V+S[T],V|=0;return V},k=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var T=!0;return S.length===0&&(T=!1),S.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(T=!1),T},U=t.__addimage__.extractImageFromDataUrl=function(S){var T=(S=S||"").split("base64,"),N=null;if(T.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(V)&&(N={mimeType:V[1],charset:V[2],data:T[1]})}return N},G=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return G()&&S instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(S){return G()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(S){for(var T=S.length,N=new Uint8Array(T),V=0;V<T;V++)N[V]=S.charCodeAt(V);return N},y=t.__addimage__.arrayBufferToBinaryString=function(S){for(var T="",N=q(S)?S:new Uint8Array(S),V=0;V<N.length;V+=8192)T+=String.fromCharCode.apply(null,N.subarray(V,V+8192));return T};t.addImage=function(){var S,T,N,V,J,F,j,H,Z;if(typeof arguments[1]=="number"?(T=e,N=arguments[1],V=arguments[2],J=arguments[3],F=arguments[4],j=arguments[5],H=arguments[6],Z=arguments[7]):(T=arguments[1],N=arguments[2],V=arguments[3],J=arguments[4],F=arguments[5],j=arguments[6],H=arguments[7],Z=arguments[8]),Wt(S=arguments[0])==="object"&&!d(S)&&"imageData"in S){var re=S;S=re.imageData,T=re.format||T||e,N=re.x||N||0,V=re.y||V||0,J=re.w||re.width||J,F=re.h||re.height||F,j=re.alias||j,H=re.compression||H,Z=re.rotation||re.angle||Z}var be=this.internal.getFilters();if(H===void 0&&be.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(N)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=I.call(this,S,T,j,H);return E.call(this,N,V,J,F,M,Z),this};var I=function(S,T,N,V){var J,F,j;if(typeof S=="string"&&r(S)===e){S=unescape(S);var H=L(S,!1);(H!==""||(H=t.loadFile(S,!0))!==void 0)&&(S=H)}if(d(S)&&(S=m(S,T)),T=r(S,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((j=N)==null||j.length===0)&&(N=function(Z){return typeof Z=="string"||q(Z)?A(Z):q(Z.data)?A(Z.data):null}(S)),(J=p.call(this,N))||(G()&&(S instanceof Uint8Array||T==="RGBA"||(F=S,S=R(S))),J=this["process"+T.toUpperCase()](S,c.call(this),N,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:_.NONE}(V),F)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},L=t.__addimage__.convertBase64ToBinaryString=function(S,T){var N;T=typeof T!="boolean"||T;var V,J="";if(typeof S=="string"){V=(N=U(S))!==null?N.data:S;try{J=qh(V)}catch(F){if(T)throw k(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(S){var T,N,V="";if(d(S)&&(S=m(S)),typeof S=="string"&&r(S)===e&&((V=L(S,!1))===""&&(V=t.loadFile(S)||""),S=V),N=r(S),!h(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!G()||S instanceof Uint8Array||(S=R(S)),!(T=this["process"+N.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=N,T}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,d=0;d<c.length&&!h;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(E.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(_(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(_(A))+") >>",E.content=s;var k=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(E.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var G=this.annotations._nameMap[r.options.name];r.options.pageNumber=G.page,r.options.top=G.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=t.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(E){var P=0,_=n,A="",k=0;for(P=0;P<E.length;P+=1)_[E.charCodeAt(P)]!==void 0?(k++,typeof(_=_[E.charCodeAt(P)])=="number"&&(A+=String.fromCharCode(_),_=n,k=0),P===E.length-1&&(_=n,A+=E.charAt(P-(k-1)),P-=k-1,k=0)):(_=n,A+=E.charAt(P-k),P-=k,k=0);return A};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(E,P,_){return o(E)?s(E)===!1?-1:!c(E)||!o(P)&&!o(_)||!o(_)&&a(P)||a(E)&&!o(P)||a(E)&&l(P)||a(E)&&a(P)?0:h(E)&&o(P)&&!a(P)&&o(_)&&c(_)?3:a(E)||!o(_)?1:2:-1},p=function(E){var P=0,_=0,A=0,k="",U="",G="",q=(E=E||"").split("\\s+"),R=[];for(P=0;P<q.length;P+=1){for(R.push(""),_=0;_<q[P].length;_+=1)k=q[P][_],U=q[P][_-1],G=q[P][_+1],o(k)?(A=m(k,U,G),R[P]+=A!==-1?String.fromCharCode(e[k.charCodeAt(0)][A]):k):R[P]+=k;R[P]=d(R[P])}return R.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var E,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(P)){var A=0;for(_=[],A=0;A<P.length;A+=1)Array.isArray(P[A])?_.push([p(P[A][0]),P[A][1],P[A][2]]):_.push([p(P[A])]);E=_}else E=p(P);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",w])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(E){w=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,w=0,E=0,P=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,U){return k.concat(P.splitTextToSize(U,_))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)p<(E=this.getStringUnitWidth(l[A],{font:d})*h)&&(p=E);return p!==0&&(w=l.length),{w:p/=m,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,d,m){if(r.call(this),!h)throw new Error("No data for PDF table.");var p,w,E,P,_=[],A=[],k=[],U={},G={},q=[],R=[],y=(m=m||{}).autoSize||!1,I=m.printHeaders!==!1,L=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,S=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,N=m.headerBackgroundColor||"#c8c8c8",V=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=V,this.setFontSize(L),d==null)A=_=Object.keys(h[0]),k=_.map(function(){return"left"});else if(Array.isArray(d)&&Wt(d[0])==="object")for(_=d.map(function(re){return re.name}),A=d.map(function(re){return re.prompt||re.name||""}),k=d.map(function(re){return re.align||"left"}),p=0;p<d.length;p+=1)G[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(A=_=d,k=_.map(function(){return"left"}));if(y||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<_.length;p+=1){for(U[P=_[p]]=h.map(function(re){return re[P]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=U[P],this.setFont(void 0,"normal"),E=0;E<w.length;E+=1)q.push(this.getTextDimensions(w[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[P]=Math.max.apply(null,q)+T+T,q=[]}if(I){var J={};for(p=0;p<_.length;p+=1)J[_[p]]={},J[_[p]].text=A[p],J[_[p]].align=k[p];var F=a.call(this,J,G);R=_.map(function(re){return new s(l,c,G[re],F,J[re].text,void 0,J[re].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var j=d.reduce(function(re,be){return re[be.name]=be.align,re},{});for(p=0;p<h.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:h[p]},this);var H=a.call(this,h[p],G);for(E=0;E<_.length;E+=1){var Z=h[p][_[E]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:E,data:Z},this),o.call(this,new s(l,c,G[_[E]],H,Z,p+2,j[_[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var w=l[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+h+h},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(ft.API);var mS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e2=pS(gS),vS=[100,200,300,400,500,600,700,800,900],YO=pS(vS);function t2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return mS[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof e2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Tw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var XO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Nw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function JO(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},XO,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=t2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Pw(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var h=e2[l],d=h<=e2.normal?-1:1,m=Tw(c,gS,h,d);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=mS[l],d=0;d<h.length;++d)if(c[h[d]])return c[h[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=YO[l],d=Tw(c,vS,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Pw(s)+"'.");return o}function kw(t){return t.trimLeft()}function ZO(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function eD(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jd,Cw,Lw,g1=["times"];(function(t){var e,n,r,i,s,o,a,l,c,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=M;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ae){X=!!Ae}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ae){ee=!!Ae}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=Ae)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ae){isNaN(Ae)||(fe=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var se;typeof Ae=="number"?se=[Ae,Ae,Ae,Ae]:((se=new Array(4))[0]=Ae[0],se[1]=Ae.length>=2?Ae[1]:se[0],se[2]=Ae.length>=3?Ae[2]:se[0],se[3]=Ae.length>=4?Ae[3]:se[1]),c.margin=se}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Ae){ge=Ae}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Ae){me=Ae}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Ae){Ie=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof h&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Ae){xe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var se;se=m(Ae),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var se=m(Ae);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Fe=null;function Be(Ae,se){if(Fe===null){var Qe=function(ze){var Ne=[];return Object.keys(ze).forEach(function(De){ze[De].forEach(function(Me){var Ve=null;switch(Me){case"bold":Ve={family:De,weight:"bold"};break;case"italic":Ve={family:De,style:"italic"};break;case"bolditalic":Ve={family:De,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:De}}Ve!==null&&(Ve.ref={name:De,style:Me},Ne.push(Ve))})}),Ne}(Ae.getFontList());Fe=function(ze){for(var Ne={},De=0;De<ze.length;++De){var Me=t2(ze[De]),Ve=Me.family,$e=Me.stretch,Ke=Me.style,st=Me.weight;Ne[Ve]=Ne[Ve]||{},Ne[Ve][$e]=Ne[Ve][$e]||{},Ne[Ve][$e][Ke]=Ne[Ve][$e][Ke]||{},Ne[Ve][$e][Ke][st]=Me}return Ne}(Qe.concat(se))}return Fe}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ae){Fe=null,et=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var se;if(this.ctx.font=Ae,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Qe=se[1],ze=(se[2],se[3]),Ne=se[4],De=(se[5],se[6]),Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Me==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ve=function(ot){var at,qe,Ct=[],vt=ot.trim();if(vt==="")return g1;if(vt in Nw)return[Nw[vt]];for(;vt!=="";){switch(qe=null,at=(vt=kw(vt)).charAt(0)){case'"':case"'":qe=ZO(vt.substring(1),at);break;default:qe=eD(vt)}if(qe===null||(Ct.push(qe[0]),(vt=kw(qe[1]))!==""&&vt.charAt(0)!==","))return g1;vt=vt.replace(/^,/,"")}return Ct}(De);if(this.fontFaces){var $e=JO(Be(this.pdf,this.fontFaces),Ve.map(function(ot){return{family:ot,stretch:"normal",weight:ze,style:Qe}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var Ke="";(ze==="bold"||parseInt(ze,10)>=700||Qe==="bold")&&(Ke="bold"),Qe==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var st="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ve.length;lt++){if(this.pdf.internal.getFont(Ve[lt],Ke,{noFallback:!0,disableWarning:!0})!==void 0){st=Ve[lt];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(Ve[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ve[lt],Ke="bold";else if(this.pdf.internal.getFont(Ve[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ve[lt],Ke="normal";break}}if(st===""){for(var ht=0;ht<Ve.length;ht++)if(tt[Ve[ht]]){st=tt[Ve[ht]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){U.call(this,"fill",!1)},d.prototype.stroke=function(){U.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,K){if(isNaN(M)||isNaN(K))throw Zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(M,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(M,K)},d.prototype.closePath=function(){var M=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Wt(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){M=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.lineTo=function(M,K){if(isNaN(M)||isNaN(K))throw Zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(M,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,K,X,ee){if(isNaN(X)||isNaN(ee)||isNaN(M)||isNaN(K))throw Zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(X,ee)),fe=this.ctx.transform.applyToPoint(new o(M,K));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},d.prototype.bezierCurveTo=function(M,K,X,ee,oe,fe){if(isNaN(oe)||isNaN(fe)||isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee))throw Zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(oe,fe)),me=this.ctx.transform.applyToPoint(new o(M,K)),Ie=this.ctx.transform.applyToPoint(new o(X,ee));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ie.x,y2:Ie.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},d.prototype.arc=function(M,K,X,ee,oe,fe){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee)||isNaN(oe))throw Zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(M,K));M=ge.x,K=ge.y;var me=this.ctx.transform.applyToPoint(new o(0,X)),Ie=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(me.x-Ie.x,2)+Math.pow(me.y-Ie.y,2))}Math.abs(oe-ee)>=2*Math.PI&&(ee=0,oe=2*Math.PI),this.path.push({type:"arc",x:M,y:K,radius:X,startAngle:ee,endAngle:oe,counterclockwise:fe})},d.prototype.arcTo=function(M,K,X,ee,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,K,X,ee){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee))throw Zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,K),this.lineTo(M+X,K),this.lineTo(M+X,K+ee),this.lineTo(M,K+ee),this.lineTo(M,K),this.lineTo(M+X,K),this.lineTo(M,K)},d.prototype.fillRect=function(M,K,X,ee){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee))throw Zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,K,X,ee),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(M,K,X,ee){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee))throw Zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,K,X,ee),this.stroke())},d.prototype.clearRect=function(M,K,X,ee){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee))throw Zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,K,X,ee))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(M){var K,X,ee,oe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))K=0,X=0,ee=0,oe=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)K=parseInt(fe[1]),X=parseInt(fe[2]),ee=parseInt(fe[3]),oe=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)K=parseInt(fe[1]),X=parseInt(fe[2]),ee=parseInt(fe[3]),oe=parseFloat(fe[4]);else{if(oe=1,typeof M=="string"&&M.charAt(0)!=="#"){var ge=new lS(M);M=ge.ok?ge.toHex():"#000000"}M.length===4?(K=M.substring(1,2),K+=K,X=M.substring(2,3),X+=X,ee=M.substring(3,4),ee+=ee):(K=M.substring(1,3),X=M.substring(3,5),ee=M.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),ee=parseInt(ee,16)}}return{r:K,g:X,b:ee,a:oe,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,K,X,ee){if(isNaN(K)||isNaN(X)||typeof M!="string")throw Zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var oe=H(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:M,x:K,y:X,scale:fe,angle:oe,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(M,K,X,ee){if(isNaN(K)||isNaN(X)||typeof M!="string")throw Zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ee=isNaN(ee)?void 0:ee;var oe=H(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:M,x:K,y:X,scale:fe,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),oe=K.getStringUnitWidth(M)*ee/K.internal.scaleFactor,fe=function(ge){var me=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new fe({width:oe*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(M,K){if(isNaN(M)||isNaN(K))throw Zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(M,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(M){if(isNaN(M))throw Zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(M,K){if(isNaN(M)||isNaN(K))throw Zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,M,K);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(M,K,X,ee,oe,fe){if(isNaN(M)||isNaN(K)||isNaN(X)||isNaN(ee)||isNaN(oe)||isNaN(fe))throw Zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(M,K,X,ee,oe,fe);this.ctx.transform=this.ctx.transform.multiply(ge)},d.prototype.setTransform=function(M,K,X,ee,oe,fe){M=isNaN(M)?1:M,K=isNaN(K)?0:K,X=isNaN(X)?0:X,ee=isNaN(ee)?1:ee,oe=isNaN(oe)?0:oe,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(M,K,X,ee,oe,fe)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,K,X,ee,oe,fe,ge,me,Ie){var xe=this.pdf.getImageProperties(M),Fe=1,Be=1,et=1,Ae=1;ee!==void 0&&me!==void 0&&(et=me/ee,Ae=Ie/oe,Fe=xe.width/ee*me/ee,Be=xe.height/oe*Ie/oe),fe===void 0&&(fe=K,ge=X,K=0,X=0),ee!==void 0&&me===void 0&&(me=ee,Ie=oe),ee===void 0&&me===void 0&&(me=xe.width,Ie=xe.height);for(var se,Qe=this.ctx.transform.decompose(),ze=H(Qe.rotate.shx),Ne=new l,De=(Ne=(Ne=(Ne=Ne.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(fe-K*et,ge-X*Ae,ee*Fe,oe*Be)),Me=P.call(this,De),Ve=[],$e=0;$e<Me.length;$e+=1)Ve.indexOf(Me[$e])===-1&&Ve.push(Me[$e]);if(k(Ve),this.autoPaging)for(var Ke=Ve[0],st=Ve[Ve.length-1],tt=Ke;tt<st+1;tt++){this.pdf.setPage(tt);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=tt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=tt===1?0:ot+(tt-2)*at;if(this.ctx.clip_path.length!==0){var Ct=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(se,this.posX+this.margin[3],-qe+ht+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Ct}var vt=JSON.parse(JSON.stringify(De));vt=A([vt],this.posX+this.margin[3],-qe+ht+this.ctx.prevPageLastElemOffset)[0];var rn=(tt>Ke||tt<st)&&E.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,at,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,ze),rn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",De.x,De.y,De.w,De.h,null,null,ze)};var P=function(M,K,X){var ee=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ee.push(Math.floor((M.y+oe)/X)+1);break;case"arc":ee.push(Math.floor((M.y+oe-M.radius)/X)+1),ee.push(Math.floor((M.y+oe+M.radius)/X)+1);break;case"qct":var fe=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ee.push(Math.floor((fe.y+oe)/X)+1),ee.push(Math.floor((fe.y+fe.h+oe)/X)+1);break;case"bct":var ge=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ee.push(Math.floor((ge.y+oe)/X)+1),ee.push(Math.floor((ge.y+ge.h+oe)/X)+1);break;case"rect":ee.push(Math.floor((M.y+oe)/X)+1),ee.push(Math.floor((M.y+M.h+oe)/X)+1)}for(var me=0;me<ee.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ee[me];)_.call(this);return ee},_=function(){var M=this.fillStyle,K=this.strokeStyle,X=this.font,ee=this.lineCap,oe=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=K,this.font=X,this.lineCap=ee,this.lineWidth=oe,this.lineJoin=fe},A=function(M,K,X){for(var ee=0;ee<M.length;ee++)switch(M[ee].type){case"bct":M[ee].x2+=K,M[ee].y2+=X;case"qct":M[ee].x1+=K,M[ee].y1+=X;case"mt":case"lt":case"arc":default:M[ee].x+=K,M[ee].y+=X}return M},k=function(M){return M.sort(function(K,X){return K-X})},U=function(M,K){for(var X,ee,oe=this.fillStyle,fe=this.strokeStyle,ge=this.lineCap,me=this.lineWidth,Ie=Math.abs(me*this.ctx.transform.scaleX),xe=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),et=[],Ae=0;Ae<Be.length;Ae++)if(Be[Ae].x!==void 0)for(var se=P.call(this,Be[Ae]),Qe=0;Qe<se.length;Qe+=1)et.indexOf(se[Qe])===-1&&et.push(se[Qe]);for(var ze=0;ze<et.length;ze++)for(;this.pdf.internal.getNumberOfPages()<et[ze];)_.call(this);if(k(et),this.autoPaging)for(var Ne=et[0],De=et[et.length-1],Me=Ne;Me<De+1;Me++){this.pdf.setPage(Me),this.fillStyle=oe,this.strokeStyle=fe,this.lineCap=ge,this.lineWidth=Ie,this.lineJoin=xe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Me===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Me===1?0:Ke+(Me-2)*st;if(this.ctx.clip_path.length!==0){var lt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(X,this.posX+this.margin[3],-tt+$e+this.ctx.prevPageLastElemOffset),G.call(this,M,!0),this.path=lt}if(ee=JSON.parse(JSON.stringify(Fe)),this.path=A(ee,this.posX+this.margin[3],-tt+$e+this.ctx.prevPageLastElemOffset),K===!1||Me===0){var ht=(Me>Ne||Me<De)&&E.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,st,null).clip().discardPath()),G.call(this,M,K),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ie,G.call(this,M,K),this.lineWidth=me;this.path=Fe},G=function(M,K){if((M!=="stroke"||K||!w.call(this))&&(M==="stroke"||K||!p.call(this))){for(var X,ee,oe=[],fe=this.path,ge=0;ge<fe.length;ge++){var me=fe[ge];switch(me.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:me,deltas:[],abs:[]});break;case"lt":var Ie=oe.length;if(fe[ge-1]&&!isNaN(fe[ge-1].x)&&(X=[me.x-fe[ge-1].x,me.y-fe[ge-1].y],Ie>0)){for(;Ie>=0;Ie--)if(oe[Ie-1].close!==!0&&oe[Ie-1].begin!==!0){oe[Ie-1].deltas.push(X),oe[Ie-1].abs.push(me);break}}break;case"bct":X=[me.x1-fe[ge-1].x,me.y1-fe[ge-1].y,me.x2-fe[ge-1].x,me.y2-fe[ge-1].y,me.x-fe[ge-1].x,me.y-fe[ge-1].y],oe[oe.length-1].deltas.push(X);break;case"qct":var xe=fe[ge-1].x+2/3*(me.x1-fe[ge-1].x),Fe=fe[ge-1].y+2/3*(me.y1-fe[ge-1].y),Be=me.x+2/3*(me.x1-me.x),et=me.y+2/3*(me.y1-me.y),Ae=me.x,se=me.y;X=[xe-fe[ge-1].x,Fe-fe[ge-1].y,Be-fe[ge-1].x,et-fe[ge-1].y,Ae-fe[ge-1].x,se-fe[ge-1].y],oe[oe.length-1].deltas.push(X);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(me)}}ee=K?null:M==="stroke"?"stroke":"fill";for(var Qe=!1,ze=0;ze<oe.length;ze++)if(oe[ze].arc)for(var Ne=oe[ze].abs,De=0;De<Ne.length;De++){var Me=Ne[De];Me.type==="arc"?y.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,K,!Qe):N.call(this,Me.x,Me.y),Qe=!0}else if(oe[ze].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(oe[ze].begin!==!0){var Ve=oe[ze].start.x,$e=oe[ze].start.y;V.call(this,oe[ze].deltas,Ve,$e),Qe=!0}ee&&I.call(this,ee),K&&L.call(this)}},q=function(M){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+K-X;case"hanging":return M+K-2*X;case"middle":return M+K/2-X;case"ideographic":return M;case"alphabetic":default:return M}},R=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(K,X){this.colorStops.push([K,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(M,K,X,ee,oe,fe,ge,me,Ie){for(var xe=F.call(this,X,ee,oe,fe),Fe=0;Fe<xe.length;Fe++){var Be=xe[Fe];Fe===0&&(Ie?S.call(this,Be.x1+M,Be.y1+K):N.call(this,Be.x1+M,Be.y1+K)),J.call(this,M,K,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}me?L.call(this):I.call(this,ge)},I=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(M,K){this.pdf.internal.out(n(M)+" "+r(K)+" m")},T=function(M){var K;switch(M.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var X=this.pdf.getTextDimensions(M.text),ee=q.call(this,M.y),oe=R.call(this,ee)-X.h,fe=this.ctx.transform.applyToPoint(new o(M.x,ee)),ge=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Ie,xe,Fe,Be=this.ctx.transform.applyToRectangle(new a(M.x,ee,X.w,X.h)),et=me.applyToRectangle(new a(M.x,oe,X.w,X.h)),Ae=P.call(this,et),se=[],Qe=0;Qe<Ae.length;Qe+=1)se.indexOf(Ae[Qe])===-1&&se.push(Ae[Qe]);if(k(se),this.autoPaging)for(var ze=se[0],Ne=se[se.length-1],De=ze;De<Ne+1;De++){this.pdf.setPage(De);var Me=De===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],Ke=$e-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],tt=st-this.margin[3],lt=De===1?0:Ve+(De-2)*Ke;if(this.ctx.clip_path.length!==0){var ht=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ie,this.posX+this.margin[3],-1*lt+Me),G.call(this,"fill",!0),this.path=ht}var ot=A([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-lt+Me+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale);var at=this.autoPaging!=="text";if(at||ot.y+ot.h<=$e){if(at||ot.y>=Me&&ot.x<=st){var qe=at?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||st-ot.x)[0],Ct=A([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-lt+Me+this.ctx.prevPageLastElemOffset)[0],vt=at&&(De>ze||De<Ne)&&E.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ke,null).clip().discardPath()),this.pdf.text(qe,Ct.x,Ct.y,{angle:M.angle,align:K,renderingMode:M.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else ot.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-ot.y);M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Fe)}else M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale),this.pdf.text(M.text,fe.x+this.posX,fe.y+this.posY,{angle:M.angle,align:K,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Fe)},N=function(M,K,X,ee){X=X||0,ee=ee||0,this.pdf.internal.out(n(M+X)+" "+r(K+ee)+" l")},V=function(M,K,X){return this.pdf.lines(M,K,X,null,null)},J=function(M,K,X,ee,oe,fe,ge,me){this.pdf.internal.out([e(i(X+M)),e(s(ee+K)),e(i(oe+M)),e(s(fe+K)),e(i(ge+M)),e(s(me+K)),"c"].join(" "))},F=function(M,K,X,ee){for(var oe=2*Math.PI,fe=Math.PI/2;K>X;)K-=oe;var ge=Math.abs(X-K);ge<oe&&ee&&(ge=oe-ge);for(var me=[],Ie=ee?-1:1,xe=K;ge>1e-5;){var Fe=xe+Ie*Math.min(ge,fe);me.push(j.call(this,M,xe,Fe)),ge-=Math.abs(Fe-xe),xe=Fe}return me},j=function(M,K,X){var ee=(X-K)/2,oe=M*Math.cos(ee),fe=M*Math.sin(ee),ge=oe,me=-fe,Ie=ge*ge+me*me,xe=Ie+ge*oe+me*fe,Fe=4/3*(Math.sqrt(2*Ie*xe)-xe)/(ge*fe-me*oe),Be=ge-Fe*me,et=me+Fe*ge,Ae=Be,se=-et,Qe=ee+K,ze=Math.cos(Qe),Ne=Math.sin(Qe);return{x1:M*Math.cos(K),y1:M*Math.sin(K),x2:Be*ze-et*Ne,y2:Be*Ne+et*ze,x3:Ae*ze-se*Ne,y3:Ae*Ne+se*ze,x4:M*Math.cos(X),y4:M*Math.sin(X)}},H=function(M){return 180*M/Math.PI},Z=function(M,K,X,ee,oe,fe){var ge=M+.5*(X-M),me=K+.5*(ee-K),Ie=oe+.5*(X-oe),xe=fe+.5*(ee-fe),Fe=Math.min(M,oe,ge,Ie),Be=Math.max(M,oe,ge,Ie),et=Math.min(K,fe,me,xe),Ae=Math.max(K,fe,me,xe);return new a(Fe,et,Be-Fe,Ae-et)},re=function(M,K,X,ee,oe,fe,ge,me){var Ie,xe,Fe,Be,et,Ae,se,Qe,ze,Ne,De,Me,Ve,$e,Ke=X-M,st=ee-K,tt=oe-X,lt=fe-ee,ht=ge-oe,ot=me-fe;for(xe=0;xe<41;xe++)ze=(se=(Fe=M+(Ie=xe/40)*Ke)+Ie*((et=X+Ie*tt)-Fe))+Ie*(et+Ie*(oe+Ie*ht-et)-se),Ne=(Qe=(Be=K+Ie*st)+Ie*((Ae=ee+Ie*lt)-Be))+Ie*(Ae+Ie*(fe+Ie*ot-Ae)-Qe),xe==0?(De=ze,Me=Ne,Ve=ze,$e=Ne):(De=Math.min(De,ze),Me=Math.min(Me,Ne),Ve=Math.max(Ve,ze),$e=Math.max($e,Ne));return new a(Math.round(De),Math.round(Me),Math.round(Ve-De),Math.round($e-Me))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,K,X=(M=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(ft.API),function(t){var e=function(s){var o,a,l,c,h,d,m,p,w,E;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(E=h%85))/85)-(w=h%85))/85)-(p=h%85))/85)-(m=h%85))/85)%85,a.push(d+33,m+33,p+33,w+33,E+33)):a.push(122);return function(P,_){for(var A=_;A>0;A--)P.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,h,d=String,m="length",p=255,w="charCodeAt",E="slice",P="replace";for(s[E](-2),s=s[E](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),l=[],c=0,h=(s+=o="uuuuu"[E](s[m]%5||5))[m];h>c;c+=5)a=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(_,A){for(var k=A;k>0;k--)_.pop()}(l,o[m]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Q0(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var d=new XMLHttpRequest,m=0,p=function(w){var E=w.length,P=[],_=String.fromCharCode;for(m=0;m<E;m+=1)P.push(_(255&w.charCodeAt(m)));return P.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?h(p(this.responseText)):h(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):$0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):$0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Wt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(l(m,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],w=p.src.find(function(E){return E.format==="truetype"});w&&l.addFont(w.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,h).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(o,a,l){if(Wt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var p,w=0,E=0;if(m.hasOwnProperty(d))w=m[d][1]/h,E=m[d][0]/h;else try{w=l[1],E=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",E>w&&(p=E,E=w,w=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>E&&(p=E,E=w,w=p)}return{width:E,height:w,unit:a,k:h,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(t2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return Lw=t,this.internal.events.subscribe("postPutResources",function(){jd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jd!==void 0&&Cw!==void 0&&this.internal.out("/Names <</JavaScript "+jd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var d=n.internal.newObject();h.push(d);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,E={width:0,height:0,numcomponents:1},P=4;P<w;P+=2){if(P+=p,e.indexOf(d.charCodeAt(P+1))!==-1){m=256*d.charCodeAt(P+5)+d.charCodeAt(P+6),E={width:256*d.charCodeAt(P+7)+d.charCodeAt(P+8),height:m,numcomponents:d.charCodeAt(P+9)};break}p=256*d.charCodeAt(P+2)+d.charCodeAt(P+3)}return E}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(ft.API);var Nu,Fd,Rw,Ow,Dw,tD=function(){var t,e,n;function r(s){var o,a,l,c,h,d,m,p,w,E,P,_,A,k;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),w=(function(){var U,G;for(G=[],U=0;U<4;++U)G.push(String.fromCharCode(this.data[this.pos++]));return G}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*h/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((E=l-this.transparency.indexed.length)>0)for(A=0;0<=E?A<E:A>E;0<=E?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(P=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,P.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,P.slice(m+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(d,m,p,w){var E,P,_,A,k,U,G,q,R,y,I,L,S,T,N,V,J,F,j,H,Z,re=Math.ceil((c.width-d)/p),be=Math.ceil((c.height-m)/w),M=c.width==re&&c.height==be;for(T=o*re,L=M?a:new Uint8Array(T*be),U=s.length,S=0,P=0;S<be&&l<U;){switch(s[l++]){case 0:for(A=J=0;J<T;A=J+=1)L[P++]=s[l++];break;case 1:for(A=F=0;F<T;A=F+=1)E=s[l++],k=A<o?0:L[P-o],L[P++]=(E+k)%256;break;case 2:for(A=j=0;j<T;A=j+=1)E=s[l++],_=(A-A%o)/o,N=S&&L[(S-1)*T+_*o+A%o],L[P++]=(N+E)%256;break;case 3:for(A=H=0;H<T;A=H+=1)E=s[l++],_=(A-A%o)/o,k=A<o?0:L[P-o],N=S&&L[(S-1)*T+_*o+A%o],L[P++]=(E+Math.floor((k+N)/2))%256;break;case 4:for(A=Z=0;Z<T;A=Z+=1)E=s[l++],_=(A-A%o)/o,k=A<o?0:L[P-o],S===0?N=V=0:(N=L[(S-1)*T+_*o+A%o],V=_&&L[(S-1)*T+(_-1)*o+A%o]),G=k+N-V,q=Math.abs(G-k),y=Math.abs(G-N),I=Math.abs(G-V),R=q<=y&&q<=I?k:y<=I?N:V,L[P++]=(E+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var K=((m+S*w)*c.width+d)*o,X=S*T;for(A=0;A<re;A+=1){for(var ee=0;ee<o;ee+=1)a[K++]=L[X++];K+=(p-1)*o}}S++}}return s=RO(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,h,d,m,p;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=d=0,m=a.length;d<m;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=h[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,h,d,m,p,w,E,P,_;if(l=this.colors,E=null,a=this.hasAlphaChannel,this.palette.length&&(E=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),w=(c=s.data||s).length,d=E||o,h=m=0,l===1)for(;h<w;)p=E?4*o[h/4]:m,P=d[p++],c[h++]=P,c[h++]=P,c[h++]=P,c[h++]=a?d[p++]:255,m=p;else for(;h<w;)p=E?4*o[h/4]:m,c[h++]=d[p++],c[h++]=d[p++],c[h++]=d[p++],c[h++]=a?d[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(dt)==="[object Window]"){try{e=dt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,h,d,m,p;if(this.animation){for(p=[],a=h=0,d=(m=this.animation.frames).length;h<d;a=++h)o=m[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,h,d,m=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,h=d.numPlays,(o=function(){var p,w;if(p=a++%c,w=l[p],m.renderFrame(s,p),c>1&&a/c<h)return m.animation._timeout=setTimeout(o,w.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nD(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,h=[],d=0,m=null,p=0,w=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];d=t[e++]|t[e++]<<8,m=t[e++],!(1&E)&&(m=null),p=E>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,U=t[e++],G=U>>6&1,q=1<<(7&U)+1,R=a,y=l,I=!1;U>>7&&(I=!0,R=e,y=q,e+=3*q);var L=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}h.push({x:P,y:_,width:A,height:k,has_local_palette:I,palette_offset:R,palette_size:y,data_offset:L,data_length:e-L,transparent_index:m,interlaced:!!G,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(T){if(T<0||T>=h.length)throw new Error("Frame index out of range.");return h[T]},this.decodeAndBlitFrameBGRA=function(T,N){var V=this.frameInfo(T),J=V.width*V.height,F=new Uint8Array(J);jw(t,V.data_offset,F,J);var j=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var Z=V.width,re=n-Z,be=Z,M=4*(V.y*n+V.x),K=4*((V.y+V.height)*n+V.x),X=M,ee=4*re;V.interlaced===!0&&(ee+=4*n*7);for(var oe=8,fe=0,ge=F.length;fe<ge;++fe){var me=F[fe];if(be===0&&(be=Z,(X+=ee)>=K&&(ee=4*re+4*n*(oe-1),X=M+(Z+re)*(oe<<1),oe>>=1)),me===H)X+=4;else{var Ie=t[j+3*me],xe=t[j+3*me+1],Fe=t[j+3*me+2];N[X++]=Fe,N[X++]=xe,N[X++]=Ie,N[X++]=255}--be}},this.decodeAndBlitFrameRGBA=function(T,N){var V=this.frameInfo(T),J=V.width*V.height,F=new Uint8Array(J);jw(t,V.data_offset,F,J);var j=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var Z=V.width,re=n-Z,be=Z,M=4*(V.y*n+V.x),K=4*((V.y+V.height)*n+V.x),X=M,ee=4*re;V.interlaced===!0&&(ee+=4*n*7);for(var oe=8,fe=0,ge=F.length;fe<ge;++fe){var me=F[fe];if(be===0&&(be=Z,(X+=ee)>=K&&(ee=4*re+4*n*(oe-1),X=M+(Z+re)*(oe<<1),oe>>=1)),me===H)X+=4;else{var Ie=t[j+3*me],xe=t[j+3*me+1],Fe=t[j+3*me+2];N[X++]=Ie,N[X++]=xe,N[X++]=Fe,N[X++]=255}--be}}}function jw(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,h=0,d=0,m=0,p=t[e++],w=new Int32Array(4096),E=null;;){for(;h<16&&p!==0;)d|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<l)break;var P=d&c;if(d>>=l,h-=l,P!==s){if(P===o)break;for(var _=P<a?P:E,A=0,k=_;k>s;)k=w[k]>>8,++A;var U=k;if(m+A+(_!==P?1:0)>r)return void Zt.log("Warning, gif stream longer than expected.");n[m++]=U;var G=m+=A;for(_!==P&&(n[m++]=U),k=_;A--;)k=w[k],n[--G]=255&k,k>>=8;E!==null&&a<4096&&(w[a++]=E<<8|U,a>=c+1&&l<12&&(++l,c=c<<1|1)),E=P}else a=o+1,c=(1<<(l=i+1))-1,E=null}return m!==r&&Zt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),w=new Array(64),E=[],P=0,_=7,A=new Array(64),k=new Array(64),U=new Array(64),G=new Array(256),q=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(M,K){for(var X=0,ee=0,oe=new Array,fe=1;fe<=16;fe++){for(var ge=1;ge<=M[fe];ge++)oe[K[ee]]=[],oe[K[ee]][0]=X,oe[K[ee]][1]=fe,ee++,X++;X*=2}return oe}function j(M){for(var K=M[0],X=M[1]-1;X>=0;)K&1<<X&&(P|=1<<_),X--,--_<0&&(P==255?(H(255),H(0)):H(P),_=7,P=0)}function H(M){E.push(M)}function Z(M){H(M>>8&255),H(255&M)}function re(M,K,X,ee,oe){for(var fe,ge=oe[0],me=oe[240],Ie=function(Ne,De){var Me,Ve,$e,Ke,st,tt,lt,ht,ot,at,qe=0;for(ot=0;ot<8;++ot){Me=Ne[qe],Ve=Ne[qe+1],$e=Ne[qe+2],Ke=Ne[qe+3],st=Ne[qe+4],tt=Ne[qe+5],lt=Ne[qe+6];var Ct=Me+(ht=Ne[qe+7]),vt=Me-ht,rn=Ve+lt,St=Ve-lt,Vt=$e+tt,qr=$e-tt,It=Ke+st,oi=Ke-st,Mt=Ct+It,$n=Ct-It,bn=rn+Vt,Lt=rn-Vt;Ne[qe]=Mt+bn,Ne[qe+4]=Mt-bn;var it=.707106781*(Lt+$n);Ne[qe+2]=$n+it,Ne[qe+6]=$n-it;var xt=.382683433*((Mt=oi+qr)-(Lt=St+vt)),kr=.5411961*Mt+xt,Qt=1.306562965*Lt+xt,fn=.707106781*(bn=qr+St),ai=vt+fn,Xe=vt-fn;Ne[qe+5]=Xe+kr,Ne[qe+3]=Xe-kr,Ne[qe+1]=ai+Qt,Ne[qe+7]=ai-Qt,qe+=8}for(qe=0,ot=0;ot<8;++ot){Me=Ne[qe],Ve=Ne[qe+8],$e=Ne[qe+16],Ke=Ne[qe+24],st=Ne[qe+32],tt=Ne[qe+40],lt=Ne[qe+48];var $r=Me+(ht=Ne[qe+56]),pr=Me-ht,Fn=Ve+lt,Nn=Ve-lt,An=$e+tt,Mn=$e-tt,Oo=Ke+st,Vi=Ke-st,mr=$r+Oo,Hr=$r-Oo,Cr=Fn+An,Lr=Fn-An;Ne[qe]=mr+Cr,Ne[qe+32]=mr-Cr;var Pn=.707106781*(Lr+Hr);Ne[qe+16]=Hr+Pn,Ne[qe+48]=Hr-Pn;var li=.382683433*((mr=Vi+Mn)-(Lr=Nn+pr)),ds=.5411961*mr+li,ps=1.306562965*Lr+li,ms=.707106781*(Cr=Mn+Nn),Ws=pr+ms,Gs=pr-ms;Ne[qe+40]=Gs+ds,Ne[qe+24]=Gs-ds,Ne[qe+8]=Ws+ps,Ne[qe+56]=Ws-ps,qe++}for(ot=0;ot<64;++ot)at=Ne[ot]*De[ot],p[ot]=at>0?at+.5|0:at-.5|0;return p}(M,K),xe=0;xe<64;++xe)w[R[xe]]=Ie[xe];var Fe=w[0]-X;X=w[0],Fe==0?j(ee[0]):(j(ee[m[fe=32767+Fe]]),j(d[fe]));for(var Be=63;Be>0&&w[Be]==0;)Be--;if(Be==0)return j(ge),X;for(var et,Ae=1;Ae<=Be;){for(var se=Ae;w[Ae]==0&&Ae<=Be;)++Ae;var Qe=Ae-se;if(Qe>=16){et=Qe>>4;for(var ze=1;ze<=et;++ze)j(me);Qe&=15}fe=32767+w[Ae],j(oe[(Qe<<4)+m[fe]]),j(d[fe]),Ae++}return Be!=63&&j(ge),X}function be(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var oe=o((X[ee]*K+50)/100);oe=Math.min(Math.max(oe,1),255),a[R[ee]]=oe}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=o((fe[ge]*K+50)/100);me=Math.min(Math.max(me,1),255),l[R[ge]]=me}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,Fe=0;Fe<8;Fe++)for(var Be=0;Be<8;Be++)c[xe]=1/(a[R[xe]]*Ie[Fe]*Ie[Be]*8),h[xe]=1/(l[R[xe]]*Ie[Fe]*Ie[Be]*8),xe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,K){K&&be(K),E=new Array,P=0,_=7,Z(65496),Z(65504),Z(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),Z(1),Z(1),H(0),H(0),function(){Z(65499),Z(132),H(0);for(var Ve=0;Ve<64;Ve++)H(a[Ve]);H(1);for(var $e=0;$e<64;$e++)H(l[$e])}(),function(Ve,$e){Z(65472),Z(17),H(8),Z($e),Z(Ve),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(M.width,M.height),function(){Z(65476),Z(418),H(0);for(var Ve=0;Ve<16;Ve++)H(y[Ve+1]);for(var $e=0;$e<=11;$e++)H(I[$e]);H(16);for(var Ke=0;Ke<16;Ke++)H(L[Ke+1]);for(var st=0;st<=161;st++)H(S[st]);H(1);for(var tt=0;tt<16;tt++)H(T[tt+1]);for(var lt=0;lt<=11;lt++)H(N[lt]);H(17);for(var ht=0;ht<16;ht++)H(V[ht+1]);for(var ot=0;ot<=161;ot++)H(J[ot])}(),Z(65498),Z(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var X=0,ee=0,oe=0;P=0,_=7,this.encode.displayName="_encode_";for(var fe,ge,me,Ie,xe,Fe,Be,et,Ae,se=M.data,Qe=M.width,ze=M.height,Ne=4*Qe,De=0;De<ze;){for(fe=0;fe<Ne;){for(xe=Ne*De+fe,Be=-1,et=0,Ae=0;Ae<64;Ae++)Fe=xe+(et=Ae>>3)*Ne+(Be=4*(7&Ae)),De+et>=ze&&(Fe-=Ne*(De+1+et-ze)),fe+Be>=Ne&&(Fe-=fe+Be-Ne+4),ge=se[Fe++],me=se[Fe++],Ie=se[Fe++],A[Ae]=(q[ge]+q[me+256>>0]+q[Ie+512>>0]>>16)-128,k[Ae]=(q[ge+768>>0]+q[me+1024>>0]+q[Ie+1280>>0]>>16)-128,U[Ae]=(q[ge+1280>>0]+q[me+1536>>0]+q[Ie+1792>>0]>>16)-128;X=re(A,c,X,e,r),ee=re(k,h,ee,n,i),oe=re(U,h,oe,n,i),fe+=32}De+=8}if(_>=0){var Me=[];Me[1]=_+1,Me[0]=(1<<_+1)-1,j(Me)}return Z(65497),new Uint8Array(E)},t=t||50,function(){for(var M=String.fromCharCode,K=0;K<256;K++)G[K]=M(K)}(),e=F(y,I),n=F(T,N),r=F(L,S),i=F(V,J),function(){for(var M=1,K=2,X=1;X<=15;X++){for(var ee=M;ee<K;ee++)m[32767+ee]=X,d[32767+ee]=[],d[32767+ee][1]=X,d[32767+ee][0]=ee;for(var oe=-(K-1);oe<=-M;oe++)m[32767+oe]=X,d[32767+oe]=[],d[32767+oe][1]=X,d[32767+oe][0]=K-1+oe;M<<=1,K<<=1}}(),function(){for(var M=0;M<256;M++)q[M]=19595*M,q[M+256>>0]=38470*M,q[M+512>>0]=7471*M+32768,q[M+768>>0]=-11059*M,q[M+1024>>0]=-21709*M,q[M+1280>>0]=32768*M+8421375,q[M+1536>>0]=-27439*M,q[M+1792>>0]=-5329*M}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Fw(t){function e(y){if(!y)throw Error("assert :P")}function n(y,I,L){for(var S=0;4>S;S++)if(y[I+S]!=L.charCodeAt(S))return!0;return!1}function r(y,I,L,S,T){for(var N=0;N<T;N++)y[I+N]=L[S+N]}function i(y,I,L,S){for(var T=0;T<S;T++)y[I+T]=L}function s(y){return new Int32Array(y)}function o(y,I){for(var L=[],S=0;S<y;S++)L.push(new I);return L}function a(y,I){var L=[];return function S(T,N,V){for(var J=V[N],F=0;F<J&&(T.push(V.length>N+1?[]:new I),!(V.length<N+1));F++)S(T[F],N+1,V)}(L,0,y),L}var l=function(){var y=this;function I(u,g){for(var b=1<<g-1>>>0;u&b;)b>>>=1;return b?(u&b-1)+b:u}function L(u,g,b,C,z){e(!(C%b));do u[g+(C-=b)]=z;while(0<C)}function S(u,g,b,C,z){if(e(2328>=z),512>=z)var $=s(512);else if(($=s(z))==null)return 0;return function(W,Y,te,ne,le,ve){var ye,pe,ke=Y,Ee=1<<te,ue=s(16),ce=s(16);for(e(le!=0),e(ne!=null),e(W!=null),e(0<te),pe=0;pe<le;++pe){if(15<ne[pe])return 0;++ue[ne[pe]]}if(ue[0]==le)return 0;for(ce[1]=0,ye=1;15>ye;++ye){if(ue[ye]>1<<ye)return 0;ce[ye+1]=ce[ye]+ue[ye]}for(pe=0;pe<le;++pe)ye=ne[pe],0<ne[pe]&&(ve[ce[ye]++]=pe);if(ce[15]==1)return(ne=new T).g=0,ne.value=ve[0],L(W,ke,1,Ee,ne),Ee;var Te,Le=-1,Pe=Ee-1,Ye=0,He=1,ct=1,Ge=1<<te;for(pe=0,ye=1,le=2;ye<=te;++ye,le<<=1){if(He+=ct<<=1,0>(ct-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye])(ne=new T).g=ye,ne.value=ve[pe++],L(W,ke+Ye,le,Ge,ne),Ye=I(Ye,ye)}for(ye=te+1,le=2;15>=ye;++ye,le<<=1){if(He+=ct<<=1,0>(ct-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye]){if(ne=new T,(Ye&Pe)!=Le){for(ke+=Ge,Te=1<<(Le=ye)-te;15>Le&&!(0>=(Te-=ue[Le]));)++Le,Te<<=1;Ee+=Ge=1<<(Te=Le-te),W[Y+(Le=Ye&Pe)].g=Te+te,W[Y+Le].value=ke-Y-Le}ne.g=ye-te,ne.value=ve[pe++],L(W,ke+(Ye>>te),le,Ge,ne),Ye=I(Ye,ye)}}return He!=2*ce[15]-1?0:Ee}(u,g,b,C,z,$)}function T(){this.value=this.g=0}function N(){this.value=this.g=0}function V(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ir,N)}function J(u,g,b,C){e(u!=null),e(g!=null),e(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=g,u.pa=b,u.Jd=g,u.Yc=b+C,u.Zc=4<=C?b+C-4+1:b,fe(u)}function F(u,g){for(var b=0;0<g--;)b|=me(u,128)<<g;return b}function j(u,g){var b=F(u,g);return ge(u)?-b:b}function H(u,g,b,C){var z,$=0;for(e(u!=null),e(g!=null),e(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),z=0;z<C;++z)$+=g[b+z]<<8*z;u.Ra=$,u.bb=C,u.oa=g,u.pa=b}function Z(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<mu-8>>>0,++u.bb,u.u-=8;X(u)&&(u.h=1,u.u=0)}function re(u,g){if(e(0<=g),!u.h&&g<=pu){var b=K(u)&du[g];return u.u+=g,Z(u),b}return u.h=1,u.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(u){return u.Ra>>>(u.u&mu-1)>>>0}function X(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>mu}function ee(u,g){u.u=g,u.h=X(u)}function oe(u){u.u>=Gc&&(e(u.u>=Gc),Z(u))}function fe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ge(u){return F(u,1)}function me(u,g){var b=u.Ca;0>u.b&&fe(u);var C=u.b,z=b*g>>>8,$=(u.I>>>C>z)+0;for($?(b-=z,u.I-=z+1<<C>>>0):b=z+1,C=b,z=0;256<=C;)z+=8,C>>=8;return C=7^z+Gr[C],u.b-=C,u.Ca=(b<<C)-1,$}function Ie(u,g,b){u[g+0]=b>>24&255,u[g+1]=b>>16&255,u[g+2]=b>>8&255,u[g+3]=b>>0&255}function xe(u,g){return u[g+0]<<0|u[g+1]<<8}function Fe(u,g){return xe(u,g)|u[g+2]<<16}function Be(u,g){return xe(u,g)|xe(u,g+2)<<16}function et(u,g){var b=1<<g;return e(u!=null),e(0<g),u.X=s(b),u.X==null?0:(u.Mb=32-g,u.Xa=g,1)}function Ae(u,g){e(u!=null),e(g!=null),e(u.Xa==g.Xa),r(g.X,0,u.X,0,1<<g.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Qe(u,g,b,C){e(b!=null),e(C!=null);var z=b[0],$=C[0];return z==0&&(z=(u*$+g/2)/g),$==0&&($=(g*z+u/2)/u),0>=z||0>=$?0:(b[0]=z,C[0]=$,1)}function ze(u,g){return u+(1<<g)-1>>>g}function Ne(u,g){return((4278255360&u)+(4278255360&g)>>>0&4278255360)+((16711935&u)+(16711935&g)>>>0&16711935)>>>0}function De(u,g){y[g]=function(b,C,z,$,W,Y,te){var ne;for(ne=0;ne<W;++ne){var le=y[u](Y[te+ne-1],z,$+ne);Y[te+ne]=Ne(b[C+ne],le)}}}function Me(){this.ud=this.hd=this.jd=0}function Ve(u,g){return((4278124286&(u^g))>>>1)+(u&g)>>>0}function $e(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Ke(u,g){return $e(u+(u-g+.5>>1))}function st(u,g,b){return Math.abs(g-b)-Math.abs(u-b)}function tt(u,g,b,C,z,$,W){for(C=$[W-1],b=0;b<z;++b)$[W+b]=C=Ne(u[g+b],C)}function lt(u,g,b,C,z){var $;for($=0;$<b;++$){var W=u[g+$],Y=W>>8&255,te=16711935&(te=(te=16711935&W)+((Y<<16)+Y));C[z+$]=(4278255360&W)+te>>>0}}function ht(u,g){g.jd=u>>0&255,g.hd=u>>8&255,g.ud=u>>16&255}function ot(u,g,b,C,z,$){var W;for(W=0;W<C;++W){var Y=g[b+W],te=Y>>>8,ne=Y,le=255&(le=(le=Y>>>16)+((u.jd<<24>>24)*(te<<24>>24)>>>5));ne=255&(ne=(ne=ne+((u.hd<<24>>24)*(te<<24>>24)>>>5))+((u.ud<<24>>24)*(le<<24>>24)>>>5)),z[$+W]=(4278255360&Y)+(le<<16)+ne}}function at(u,g,b,C,z){y[g]=function($,W,Y,te,ne,le,ve,ye,pe){for(te=ve;te<ye;++te)for(ve=0;ve<pe;++ve)ne[le++]=z(Y[C($[W++])])},y[u]=function($,W,Y,te,ne,le,ve){var ye=8>>$.b,pe=$.Ea,ke=$.K[0],Ee=$.w;if(8>ye)for($=(1<<$.b)-1,Ee=(1<<ye)-1;W<Y;++W){var ue,ce=0;for(ue=0;ue<pe;++ue)ue&$||(ce=C(te[ne++])),le[ve++]=z(ke[ce&Ee]),ce>>=ye}else y["VP8LMapColor"+b](te,ne,ke,Ee,le,ve,W,Y,pe)}}function qe(u,g,b,C,z){for(b=g+b;g<b;){var $=u[g++];C[z++]=$>>16&255,C[z++]=$>>8&255,C[z++]=$>>0&255}}function Ct(u,g,b,C,z){for(b=g+b;g<b;){var $=u[g++];C[z++]=$>>16&255,C[z++]=$>>8&255,C[z++]=$>>0&255,C[z++]=$>>24&255}}function vt(u,g,b,C,z){for(b=g+b;g<b;){var $=(W=u[g++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;C[z++]=$,C[z++]=W}}function rn(u,g,b,C,z){for(b=g+b;g<b;){var $=(W=u[g++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;C[z++]=$,C[z++]=W}}function St(u,g,b,C,z){for(b=g+b;g<b;){var $=u[g++];C[z++]=$>>0&255,C[z++]=$>>8&255,C[z++]=$>>16&255}}function Vt(u,g,b,C,z,$){if($==0)for(b=g+b;g<b;)Ie(C,(($=u[g++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),z+=32;else r(C,z,u,g,b)}function qr(u,g){y[g][0]=y[u+"0"],y[g][1]=y[u+"1"],y[g][2]=y[u+"2"],y[g][3]=y[u+"3"],y[g][4]=y[u+"4"],y[g][5]=y[u+"5"],y[g][6]=y[u+"6"],y[g][7]=y[u+"7"],y[g][8]=y[u+"8"],y[g][9]=y[u+"9"],y[g][10]=y[u+"10"],y[g][11]=y[u+"11"],y[g][12]=y[u+"12"],y[g][13]=y[u+"13"],y[g][14]=y[u+"0"],y[g][15]=y[u+"0"]}function It(u){return u==og||u==ag||u==Yf||u==lg}function oi(){this.eb=[],this.size=this.A=this.fb=0}function Mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $n(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new Mt,this.sd=null}function bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function xt(u,g){var b=u.T,C=g.ba.f.RGBA,z=C.eb,$=C.fb+u.ka*C.A,W=Ci[g.ba.S],Y=u.y,te=u.O,ne=u.f,le=u.N,ve=u.ea,ye=u.W,pe=g.cc,ke=g.dc,Ee=g.Mc,ue=g.Nc,ce=u.ka,Te=u.ka+u.T,Le=u.U,Pe=Le+1>>1;for(ce==0?W(Y,te,null,null,ne,le,ve,ye,ne,le,ve,ye,z,$,null,null,Le):(W(g.ec,g.fc,Y,te,pe,ke,Ee,ue,ne,le,ve,ye,z,$-C.A,z,$,Le),++b);ce+2<Te;ce+=2)pe=ne,ke=le,Ee=ve,ue=ye,le+=u.Rc,ye+=u.Rc,$+=2*C.A,W(Y,(te+=2*u.fa)-u.fa,Y,te,pe,ke,Ee,ue,ne,le,ve,ye,z,$-C.A,z,$,Le);return te+=u.fa,u.j+Te<u.o?(r(g.ec,g.fc,Y,te,Le),r(g.cc,g.dc,ne,le,Pe),r(g.Mc,g.Nc,ve,ye,Pe),b--):1&Te||W(Y,te,null,null,ne,le,ve,ye,ne,le,ve,ye,z,$+C.A,null,null,Le),b}function kr(u,g,b){var C=u.F,z=[u.J];if(C!=null){var $=u.U,W=g.ba.S,Y=W==Qf||W==Yf;g=g.ba.f.RGBA;var te=[0],ne=u.ka;te[0]=u.T,u.Kb&&(ne==0?--te[0]:(--ne,z[0]-=u.width),u.j+u.ka+u.T==u.o&&(te[0]=u.o-u.j-ne));var le=g.eb;ne=g.fb+ne*g.A,u=tn(C,z[0],u.width,$,te,le,ne+(Y?0:3),g.A),e(b==te),u&&It(W)&&Pi(le,ne,Y,$,te,g.A)}return 0}function Qt(u){var g=u.ma,b=g.ba.S,C=11>b,z=b==Gf||b==Kf||b==Qf||b==sg||b==12||It(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Hc(g.Oa,u,z?11:12))return 0;if(z&&It(b)&&Re(),u.da)alert("todo:use_scaling");else{if(C){if(g.Ib=it,u.Kb){if(b=u.U+1>>1,g.memory=s(u.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+u.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=xt,Re()}}else alert("todo:EmitYUV");z&&(g.Jb=kr,C&&de())}if(C&&!gy){for(u=0;256>u;++u)ZS[u]=89858*(u-128)+Jf>>Xf,nx[u]=-22014*(u-128)+Jf,tx[u]=-45773*(u-128),ex[u]=113618*(u-128)+Jf>>Xf;for(u=eh;u<hg;++u)g=76283*(u-16)+Jf>>Xf,rx[u-eh]=zt(g,255),ix[u-eh]=zt(g+8>>4,15);gy=1}return 1}function fn(u){var g=u.ma,b=u.U,C=u.T;return e(!(1&u.ka)),0>=b||0>=C?0:(b=g.Ib(u,g),g.Jb!=null&&g.Jb(u,g,b),g.Dc+=b,1)}function ai(u){u.ma.memory=null}function Xe(u,g,b,C){return re(u,8)!=47?0:(g[0]=re(u,14)+1,b[0]=re(u,14)+1,C[0]=re(u,1),re(u,3)!=0?0:!u.h)}function $r(u,g){if(4>u)return u+1;var b=u-2>>1;return(2+(1&u)<<b)+re(g,b)+1}function pr(u,g){return 120<g?g-120:1<=(b=((b=US[g-1])>>4)*u+(8-(15&b)))?b:1;var b}function Fn(u,g,b){var C=K(b),z=u[g+=255&C].g-8;return 0<z&&(ee(b,b.u+8),C=K(b),g+=u[g].value,g+=C&(1<<z)-1),ee(b,b.u+u[g].g),u[g].value}function Nn(u,g,b){return b.g+=u.g,b.value+=u.value<<g>>>0,e(8>=b.g),u.g}function An(u,g,b){var C=u.xc;return e((g=C==0?0:u.vc[u.md*(b>>C)+(g>>C)])<u.Wb),u.Ya[g]}function Mn(u,g,b,C){var z=u.ab,$=u.c*g,W=u.C;g=W+g;var Y=b,te=C;for(C=u.Ta,b=u.Ua;0<z--;){var ne=u.gc[z],le=W,ve=g,ye=Y,pe=te,ke=(te=C,Y=b,ne.Ea);switch(e(le<ve),e(ve<=ne.nc),ne.hc){case 2:Vf(ye,pe,(ve-le)*ke,te,Y);break;case 0:var Ee=le,ue=ve,ce=te,Te=Y,Le=(Ge=ne).Ea;Ee==0&&(rg(ye,pe,null,null,1,ce,Te),tt(ye,pe+1,0,0,Le-1,ce,Te+1),pe+=Le,Te+=Le,++Ee);for(var Pe=1<<Ge.b,Ye=Pe-1,He=ze(Le,Ge.b),ct=Ge.K,Ge=Ge.w+(Ee>>Ge.b)*He;Ee<ue;){var Ut=ct,$t=Ge,Dt=1;for(Kc(ye,pe,ce,Te-Le,1,ce,Te);Dt<Le;){var Pt=(Dt&~Ye)+Pe;Pt>Le&&(Pt=Le),(0,Jo[Ut[$t++]>>8&15])(ye,pe+ +Dt,ce,Te+Dt-Le,Pt-Dt,ce,Te+Dt),Dt=Pt}pe+=Le,Te+=Le,++Ee&Ye||(Ge+=He)}ve!=ne.nc&&r(te,Y-ke,te,Y+(ve-le-1)*ke,ke);break;case 1:for(ke=ye,ue=pe,Le=(ye=ne.Ea)-(Te=ye&~(ce=(pe=1<<ne.b)-1)),Ee=ze(ye,ne.b),Pe=ne.K,ne=ne.w+(le>>ne.b)*Ee;le<ve;){for(Ye=Pe,He=ne,ct=new Me,Ge=ue+Te,Ut=ue+ye;ue<Ge;)ht(Ye[He++],ct),dl(ct,ke,ue,pe,te,Y),ue+=pe,Y+=pe;ue<Ut&&(ht(Ye[He++],ct),dl(ct,ke,ue,Le,te,Y),ue+=Le,Y+=Le),++le&ce||(ne+=Ee)}break;case 3:if(ye==te&&pe==Y&&0<ne.b){for(ue=te,ye=ke=Y+(ve-le)*ke-(Te=(ve-le)*ze(ne.Ea,ne.b)),pe=te,ce=Y,Ee=[],Te=(Le=Te)-1;0<=Te;--Te)Ee[Te]=pe[ce+Te];for(Te=Le-1;0<=Te;--Te)ue[ye+Te]=Ee[Te];Ii(ne,le,ve,te,ke,te,Y)}else Ii(ne,le,ve,ye,pe,te,Y)}Y=C,te=b}te!=b&&r(C,b,Y,te,$)}function Oo(u,g){var b=u.V,C=u.Ba+u.c*u.C,z=g-u.C;if(e(g<=u.l.o),e(16>=z),0<z){var $=u.l,W=u.Ta,Y=u.Ua,te=$.width;if(Mn(u,z,b,C),z=Y=[Y],e((b=u.C)<(C=g)),e($.v<$.va),C>$.o&&(C=$.o),b<$.j){var ne=$.j-b;b=$.j,z[0]+=ne*te}if(b>=C?b=0:(z[0]+=4*$.v,$.ka=b-$.j,$.U=$.va-$.v,$.T=C-b,b=1),b){if(Y=Y[0],11>(b=u.ca).S){var le=b.f.RGBA,ve=(C=b.S,z=$.U,$=$.T,ne=le.eb,le.A),ye=$;for(le=le.fb+u.Ma*le.A;0<ye--;){var pe=W,ke=Y,Ee=z,ue=ne,ce=le;switch(C){case Wf:Kr(pe,ke,Ee,ue,ce);break;case Gf:Or(pe,ke,Ee,ue,ce);break;case og:Or(pe,ke,Ee,ue,ce),Pi(ue,ce,0,Ee,1,0);break;case ay:io(pe,ke,Ee,ue,ce);break;case Kf:Vt(pe,ke,Ee,ue,ce,1);break;case ag:Vt(pe,ke,Ee,ue,ce,1),Pi(ue,ce,0,Ee,1,0);break;case Qf:Vt(pe,ke,Ee,ue,ce,0);break;case Yf:Vt(pe,ke,Ee,ue,ce,0),Pi(ue,ce,1,Ee,1,0);break;case sg:Zo(pe,ke,Ee,ue,ce);break;case lg:Zo(pe,ke,Ee,ue,ce),en(ue,ce,Ee,1,0);break;case ly:ro(pe,ke,Ee,ue,ce);break;default:e(0)}Y+=te,le+=ve}u.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=b.height)}}u.C=g,e(u.C<=u.i)}function Vi(u){var g;if(0<u.ua)return 0;for(g=0;g<u.Wb;++g){var b=u.Ya[g].G,C=u.Ya[g].H;if(0<b[1][C[1]+0].g||0<b[2][C[2]+0].g||0<b[3][C[3]+0].g)return 0}return 1}function mr(u,g,b,C,z,$){if(u.Z!=0){var W=u.qd,Y=u.rd;for(e(ra[u.Z]!=null);g<b;++g)ra[u.Z](W,Y,C,z,C,z,$),W=C,Y=z,z+=$;u.qd=W,u.rd=Y}}function Hr(u,g){var b=u.l.ma,C=b.Z==0||b.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,e(g<=u.l.o),g>C){var z=u.l.width,$=b.ca,W=b.tb+z*C,Y=u.V,te=u.Ba+u.c*C,ne=u.gc;e(u.ab==1),e(ne[0].hc==3),Bf(ne[0],C,g,Y,te,$,W),mr(b,C,g,$,W,z)}u.C=u.Ma=g}function Cr(u,g,b,C,z,$,W){var Y=u.$/C,te=u.$%C,ne=u.m,le=u.s,ve=b+u.$,ye=ve;z=b+C*z;var pe=b+C*$,ke=280+le.ua,Ee=u.Pb?Y:16777216,ue=0<le.ua?le.Wa:null,ce=le.wc,Te=ve<pe?An(le,te,Y):null;e(u.C<$),e(pe<=z);var Le=!1;e:for(;;){for(;Le||ve<pe;){var Pe=0;if(Y>=Ee){var Ye=ve-b;e((Ee=u).Pb),Ee.wd=Ee.m,Ee.xd=Ye,0<Ee.s.ua&&Ae(Ee.s.Wa,Ee.s.vb),Ee=Y+BS}if(te&ce||(Te=An(le,te,Y)),e(Te!=null),Te.Qb&&(g[ve]=Te.qb,Le=!0),!Le)if(oe(ne),Te.jc){Pe=ne,Ye=g;var He=ve,ct=Te.pd[K(Pe)&ir-1];e(Te.jc),256>ct.g?(ee(Pe,Pe.u+ct.g),Ye[He]=ct.value,Pe=0):(ee(Pe,Pe.u+ct.g-256),e(256<=ct.value),Pe=ct.value),Pe==0&&(Le=!0)}else Pe=Fn(Te.G[0],Te.H[0],ne);if(ne.h)break;if(Le||256>Pe){if(!Le)if(Te.nd)g[ve]=(Te.qb|Pe<<8)>>>0;else{if(oe(ne),Le=Fn(Te.G[1],Te.H[1],ne),oe(ne),Ye=Fn(Te.G[2],Te.H[2],ne),He=Fn(Te.G[3],Te.H[3],ne),ne.h)break;g[ve]=(He<<24|Le<<16|Pe<<8|Ye)>>>0}if(Le=!1,++ve,++te>=C&&(te=0,++Y,W!=null&&Y<=$&&!(Y%16)&&W(u,Y),ue!=null))for(;ye<ve;)Pe=g[ye++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else if(280>Pe){if(Pe=$r(Pe-256,ne),Ye=Fn(Te.G[4],Te.H[4],ne),oe(ne),Ye=pr(C,Ye=$r(Ye,ne)),ne.h)break;if(ve-b<Ye||z-ve<Pe)break e;for(He=0;He<Pe;++He)g[ve+He]=g[ve+He-Ye];for(ve+=Pe,te+=Pe;te>=C;)te-=C,++Y,W!=null&&Y<=$&&!(Y%16)&&W(u,Y);if(e(ve<=z),te&ce&&(Te=An(le,te,Y)),ue!=null)for(;ye<ve;)Pe=g[ye++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else{if(!(Pe<ke))break e;for(Le=Pe-280,e(ue!=null);ye<ve;)Pe=g[ye++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe;Pe=ve,e(!(Le>>>(Ye=ue).Xa)),g[Pe]=Ye.X[Le],Le=!0}Le||e(ne.h==X(ne))}if(u.Pb&&ne.h&&ve<z)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ae(u.s.vb,u.s.Wa);else{if(ne.h)break e;W!=null&&W(u,Y>$?$:Y),u.a=0,u.$=ve-b}return 1}return u.a=3,0}function Lr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var g=u.Wa;g!=null&&(g.X=null),u.vb=null,e(u!=null)}function Pn(){var u=new hu;return u==null?null:(u.a=0,u.xb=hy,qr("Predictor","VP8LPredictors"),qr("Predictor","VP8LPredictors_C"),qr("PredictorAdd","VP8LPredictorsAdd"),qr("PredictorAdd","VP8LPredictorsAdd_C"),Vf=lt,dl=ot,Kr=qe,Or=Ct,Zo=vt,ro=rn,io=St,y.VP8LMapColor32b=gu,y.VP8LMapColor8b=zf,u)}function li(u,g,b,C,z){var $=1,W=[u],Y=[g],te=C.m,ne=C.s,le=null,ve=0;e:for(;;){if(b)for(;$&&re(te,1);){var ye=W,pe=Y,ke=C,Ee=1,ue=ke.m,ce=ke.gc[ke.ab],Te=re(ue,2);if(ke.Oc&1<<Te)$=0;else{switch(ke.Oc|=1<<Te,ce.hc=Te,ce.Ea=ye[0],ce.nc=pe[0],ce.K=[null],++ke.ab,e(4>=ke.ab),Te){case 0:case 1:ce.b=re(ue,3)+2,Ee=li(ze(ce.Ea,ce.b),ze(ce.nc,ce.b),0,ke,ce.K),ce.K=ce.K[0];break;case 3:var Le,Pe=re(ue,8)+1,Ye=16<Pe?0:4<Pe?1:2<Pe?2:3;if(ye[0]=ze(ce.Ea,Ye),ce.b=Ye,Le=Ee=li(Pe,1,0,ke,ce.K)){var He,ct=Pe,Ge=ce,Ut=1<<(8>>Ge.b),$t=s(Ut);if($t==null)Le=0;else{var Dt=Ge.K[0],Pt=Ge.w;for($t[0]=Ge.K[0][0],He=1;He<1*ct;++He)$t[He]=Ne(Dt[Pt+He],$t[He-1]);for(;He<4*Ut;++He)$t[He]=0;Ge.K[0]=null,Ge.K[0]=$t,Le=1}}Ee=Le;break;case 2:break;default:e(0)}$=Ee}}if(W=W[0],Y=Y[0],$&&re(te,1)&&!($=1<=(ve=re(te,4))&&11>=ve)){C.a=3;break e}var Jt;if(Jt=$)t:{var Yt,Et,Un,Qr=C,Vn=W,Yr=Y,Ht=ve,di=b,pi=Qr.m,Yn=Qr.s,sr=[null],jr=1,Li=0,xs=VS[Ht];n:for(;;){if(di&&re(pi,1)){var Xn=re(pi,3)+2,lo=ze(Vn,Xn),yl=ze(Yr,Xn),bu=lo*yl;if(!li(lo,yl,0,Qr,sr))break n;for(sr=sr[0],Yn.xc=Xn,Yt=0;Yt<bu;++Yt){var ia=sr[Yt]>>8&65535;sr[Yt]=ia,ia>=jr&&(jr=ia+1)}}if(pi.h)break n;for(Et=0;5>Et;++Et){var Sn=uy[Et];!Et&&0<Ht&&(Sn+=1<<Ht),Li<Sn&&(Li=Sn)}var fg=o(jr*xs,T),_y=jr,wy=o(_y,V);if(wy==null)var ed=null;else e(65536>=_y),ed=wy;var th=s(Li);if(ed==null||th==null||fg==null){Qr.a=1;break n}var td=fg;for(Yt=Un=0;Yt<jr;++Yt){var Yi=ed[Yt],Au=Yi.G,Eu=Yi.H,by=0,nd=1,Ay=0;for(Et=0;5>Et;++Et){Sn=uy[Et],Au[Et]=td,Eu[Et]=Un,!Et&&0<Ht&&(Sn+=1<<Ht);i:{var rd,dg=Sn,id=Qr,nh=th,ax=td,lx=Un,pg=0,sa=id.m,ux=re(sa,1);if(i(nh,0,0,dg),ux){var cx=re(sa,1)+1,hx=re(sa,1),Ey=re(sa,hx==0?1:8);nh[Ey]=1,cx==2&&(nh[Ey=re(sa,8)]=1);var sd=1}else{var Sy=s(19),xy=re(sa,4)+4;if(19<xy){id.a=3;var od=0;break i}for(rd=0;rd<xy;++rd)Sy[MS[rd]]=re(sa,3);var mg=void 0,rh=void 0,Iy=id,fx=Sy,ad=dg,Ty=nh,gg=0,oa=Iy.m,Ny=8,Py=o(128,T);r:for(;S(Py,0,7,fx,19);){if(re(oa,1)){var dx=2+2*re(oa,3);if((mg=2+re(oa,dx))>ad)break r}else mg=ad;for(rh=0;rh<ad&&mg--;){oe(oa);var ky=Py[0+(127&K(oa))];ee(oa,oa.u+ky.g);var Su=ky.value;if(16>Su)Ty[rh++]=Su,Su!=0&&(Ny=Su);else{var px=Su==16,Cy=Su-16,mx=jS[Cy],Ly=re(oa,DS[Cy])+mx;if(rh+Ly>ad)break r;for(var gx=px?Ny:0;0<Ly--;)Ty[rh++]=gx}}gg=1;break r}gg||(Iy.a=3),sd=gg}(sd=sd&&!sa.h)&&(pg=S(ax,lx,8,nh,dg)),sd&&pg!=0?od=pg:(id.a=3,od=0)}if(od==0)break n;if(nd&&FS[Et]==1&&(nd=td[Un].g==0),by+=td[Un].g,Un+=od,3>=Et){var ih,vg=th[0];for(ih=1;ih<Sn;++ih)th[ih]>vg&&(vg=th[ih]);Ay+=vg}}if(Yi.nd=nd,Yi.Qb=0,nd&&(Yi.qb=(Au[3][Eu[3]+0].value<<24|Au[1][Eu[1]+0].value<<16|Au[2][Eu[2]+0].value)>>>0,by==0&&256>Au[0][Eu[0]+0].value&&(Yi.Qb=1,Yi.qb+=Au[0][Eu[0]+0].value<<8)),Yi.jc=!Yi.Qb&&6>Ay,Yi.jc){var ld,uo=Yi;for(ld=0;ld<ir;++ld){var aa=ld,la=uo.pd[aa],ud=uo.G[0][uo.H[0]+aa];256<=ud.value?(la.g=ud.g+256,la.value=ud.value):(la.g=0,la.value=0,aa>>=Nn(ud,8,la),aa>>=Nn(uo.G[1][uo.H[1]+aa],16,la),aa>>=Nn(uo.G[2][uo.H[2]+aa],0,la),Nn(uo.G[3][uo.H[3]+aa],24,la))}}}Yn.vc=sr,Yn.Wb=jr,Yn.Ya=ed,Yn.yc=fg,Jt=1;break t}Jt=0}if(!($=Jt)){C.a=3;break e}if(0<ve){if(ne.ua=1<<ve,!et(ne.Wa,ve)){C.a=1,$=0;break e}}else ne.ua=0;var yg=C,Ry=W,vx=Y,_g=yg.s,wg=_g.xc;if(yg.c=Ry,yg.i=vx,_g.md=ze(Ry,wg),_g.wc=wg==0?-1:(1<<wg)-1,b){C.xb=KS;break e}if((le=s(W*Y))==null){C.a=1,$=0;break e}$=($=Cr(C,le,0,W,Y,Y,null))&&!te.h;break e}return $?(z!=null?z[0]=le:(e(le==null),e(b)),C.$=0,b||Lr(ne)):Lr(ne),$}function ds(u,g){var b=u.c*u.i,C=b+g+16*g;return e(u.c<=g),u.V=s(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+b+g,1)}function ps(u,g){var b=u.C,C=g-b,z=u.V,$=u.Ba+u.c*b;for(e(g<=u.l.o);0<C;){var W=16<C?16:C,Y=u.l.ma,te=u.l.width,ne=te*W,le=Y.ca,ve=Y.tb+te*b,ye=u.Ta,pe=u.Ua;Mn(u,W,z,$),Cn(ye,pe,le,ve,ne),mr(Y,b,b+W,le,ve,te),C-=W,z+=W*u.c,b+=W}e(b==g),u.C=u.Ma=g}function ms(){this.ub=this.yd=this.td=this.Rb=0}function Ws(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function tu(){this.Yb=function(){var u=[];return function g(b,C,z){for(var $=z[C],W=0;W<$&&(b.push(z.length>C+1?[]:0),!(z.length<C+1));W++)g(b[W],C+1,z)}(u,0,[3,11]),u}()}function Do(){this.jb=s(3),this.Wc=a([4,8],tu),this.Xc=a([4,17],tu)}function nu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function vs(){this.Na=this.la=0}function Bi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ks(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bc(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new Ks),this.aa=0,this.l=new Qs}function Za(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new ms,this.Kc=new Ws,this.ed=new nu,this.Qa=new Gs,this.Ic=this.$c=this.Aa=0,this.D=new Bc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,be),this.ia=0,this.pb=o(4,Bi),this.Pa=new Do,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new vs),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ks),this.L=this.aa=0,this.gd=a([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function el(){var u=new ru;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Zc||(Zc=iu)),u}function sn(u,g,b){return u.a==0&&(u.a=g,u.sc=b,u.cb=0),0}function tl(u,g,b){return 3<=b&&u[g+0]==157&&u[g+1]==1&&u[g+2]==42}function nl(u,g){if(u==null)return 0;if(u.a=0,u.sc="OK",g==null)return sn(u,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,C=g.w,z=g.ha;if(4>z)return sn(u,7,"Truncated header.");var $=b[C+0]|b[C+1]<<8|b[C+2]<<16,W=u.Od;if(W.Rb=!(1&$),W.td=$>>1&7,W.yd=$>>4&1,W.ub=$>>5,3<W.td)return sn(u,3,"Incorrect keyframe parameters.");if(!W.yd)return sn(u,4,"Frame not displayable.");C+=3,z-=3;var Y=u.Kc;if(W.Rb){if(7>z)return sn(u,7,"cannot parse picture header");if(!tl(b,C,z))return sn(u,3,"Bad code word");Y.c=16383&(b[C+4]<<8|b[C+3]),Y.Td=b[C+4]>>6,Y.i=16383&(b[C+6]<<8|b[C+5]),Y.Ud=b[C+6]>>6,C+=7,z-=7,u.za=Y.c+15>>4,u.Ub=Y.i+15>>4,g.width=Y.c,g.height=Y.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i(($=u.Pa).jb,0,255,$.jb.length),e(($=u.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(W.ub>z)return sn(u,7,"bad partition length");J($=u.m,b,C,W.ub),C+=W.ub,z-=W.ub,W.Rb&&(Y.Ld=ge($),Y.Kd=ge($)),Y=u.Qa;var te,ne=u.Pa;if(e($!=null),e(Y!=null),Y.Cb=ge($),Y.Cb){if(Y.Bb=ge($),ge($)){for(Y.Fb=ge($),te=0;4>te;++te)Y.Zb[te]=ge($)?j($,7):0;for(te=0;4>te;++te)Y.Lb[te]=ge($)?j($,6):0}if(Y.Bb)for(te=0;3>te;++te)ne.jb[te]=ge($)?F($,8):255}else Y.Bb=0;if($.Ka)return sn(u,3,"cannot parse segment header");if((Y=u.ed).zd=ge($),Y.Tb=F($,6),Y.wb=F($,3),Y.Pc=ge($),Y.Pc&&ge($)){for(ne=0;4>ne;++ne)ge($)&&(Y.vd[ne]=j($,6));for(ne=0;4>ne;++ne)ge($)&&(Y.od[ne]=j($,6))}if(u.L=Y.Tb==0?0:Y.zd?1:2,$.Ka)return sn(u,3,"cannot parse filter header");var le=z;if(z=te=C,C=te+le,Y=le,u.Xb=(1<<F(u.m,2))-1,le<3*(ne=u.Xb))b=7;else{for(te+=3*ne,Y-=3*ne,le=0;le<ne;++le){var ve=b[z+0]|b[z+1]<<8|b[z+2]<<16;ve>Y&&(ve=Y),J(u.Jc[+le],b,te,ve),te+=ve,Y-=ve,z+=3}J(u.Jc[+ne],b,te,Y),b=te<C?0:5}if(b!=0)return sn(u,b,"cannot parse partitions");for(b=F(te=u.m,7),z=ge(te)?j(te,4):0,C=ge(te)?j(te,4):0,Y=ge(te)?j(te,4):0,ne=ge(te)?j(te,4):0,te=ge(te)?j(te,4):0,le=u.Qa,ve=0;4>ve;++ve){if(le.Cb){var ye=le.Zb[ve];le.Fb||(ye+=b)}else{if(0<ve){u.pb[ve]=u.pb[0];continue}ye=b}var pe=u.pb[ve];pe.Sc[0]=ug[zt(ye+z,127)],pe.Sc[1]=cg[zt(ye+0,127)],pe.Eb[0]=2*ug[zt(ye+C,127)],pe.Eb[1]=101581*cg[zt(ye+Y,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=ug[zt(ye+ne,117)],pe.Qc[1]=cg[zt(ye+te,127)],pe.lc=ye+te}if(!W.Rb)return sn(u,4,"Not a key frame.");for(ge($),W=u.Pa,b=0;4>b;++b){for(z=0;8>z;++z)for(C=0;3>C;++C)for(Y=0;11>Y;++Y)ne=me($,WS[b][z][C][Y])?F($,8):$S[b][z][C][Y],W.Wc[b][z].Yb[C][Y]=ne;for(z=0;17>z;++z)W.Xc[b][z]=W.Wc[b][GS[z]]}return u.kc=ge($),u.kc&&(u.Bd=F($,8)),u.cb=1}function iu(u,g,b,C,z,$,W){var Y=g[z].Yb[b];for(b=0;16>z;++z){if(!me(u,Y[b+0]))return z;for(;!me(u,Y[b+1]);)if(Y=g[++z].Yb[0],b=0,z==16)return 16;var te=g[z+1].Yb;if(me(u,Y[b+2])){var ne=u,le=0;if(me(ne,(ye=Y)[(ve=b)+3]))if(me(ne,ye[ve+6])){for(Y=0,ve=2*(le=me(ne,ye[ve+8]))+(ye=me(ne,ye[ve+9+le])),le=0,ye=zS[ve];ye[Y];++Y)le+=le+me(ne,ye[Y]);le+=3+(8<<ve)}else me(ne,ye[ve+7])?(le=7+2*me(ne,165),le+=me(ne,145)):le=5+me(ne,159);else le=me(ne,ye[ve+4])?3+me(ne,ye[ve+5]):2;Y=te[2]}else le=1,Y=te[1];te=W+qS[z],0>(ne=u).b&&fe(ne);var ve,ye=ne.b,pe=(ve=ne.Ca>>1)-(ne.I>>ye)>>31;--ne.b,ne.Ca+=pe,ne.Ca|=1,ne.I-=(ve+1&pe)<<ye,$[te]=((le^pe)-pe)*C[(0<z)+0]}return 16}function rl(u){var g=u.rb[u.sb-1];g.la=0,g.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function su(u,g){if(u==null)return 0;if(g==null)return sn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!nl(u,g))return 0;if(e(u.cb),g.ac==null||g.ac(g)){g.ob&&(u.L=0);var b=Zf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=g.v-b>>4,u.zb=g.j-b>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=g.o+15+b>>4,u.Hb=g.va+15+b>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var C=u.ed;for(b=0;4>b;++b){var z;if(u.Qa.Cb){var $=u.Qa.Lb[b];u.Qa.Fb||($+=C.Tb)}else $=C.Tb;for(z=0;1>=z;++z){var W=u.gd[b][z],Y=$;if(C.Pc&&(Y+=C.vd[0],z&&(Y+=C.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var te=Y;0<C.wb&&(te=4<C.wb?te>>2:te>>1)>9-C.wb&&(te=9-C.wb),1>te&&(te=1),W.dd=te,W.tc=2*Y+te,W.ld=40<=Y?2:15<=Y?1:0}else W.tc=0;W.La=z}}}b=0}else sn(u,6,"Frame setup failed"),b=u.a;if(b=b==0){if(b){u.$c=0,0<u.Aa||(u.Ic=ox);e:{b=u.Ic,C=4*(te=u.za);var ne=32*te,le=te+1,ve=0<u.L?te*(0<u.Aa?2:1):0,ye=(u.Aa==2?2:1)*te;if((W=C+832+(z=3*(16*b+Zf[u.L])/2*ne)+($=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=W)b=0;else{if(W>u.Vb){if(u.Vb=0,u.Ec=s(W),u.Fc=0,u.Ec==null){b=sn(u,1,"no memory during frame initialization.");break e}u.Vb=W}W=u.Ec,Y=u.Fc,u.Ac=W,u.Bc=Y,Y+=C,u.Gd=o(ne,Za),u.Hd=0,u.rb=o(le+1,vs),u.sb=1,u.wa=ve?o(ve,gs):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=te),e(!0),u.oc=W,u.pc=Y,Y+=832,u.ya=o(ye,Ks),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=te),u.R=16*te,u.B=8*te,te=(ne=Zf[u.L])*u.R,ne=ne/2*u.B,u.sa=W,u.ta=Y+te,u.qa=u.sa,u.ra=u.ta+16*b*u.R+ne,u.Ha=u.qa,u.Ia=u.ra+8*b*u.B+ne,u.$c=0,Y+=z,u.mb=$?W:null,u.nb=$?Y:null,e(Y+$<=u.Fc+u.Vb),rl(u),i(u.Ac,u.Bc,0,C),b=1}}if(b){if(g.ka=0,g.y=u.sa,g.O=u.ta,g.f=u.qa,g.N=u.ra,g.ea=u.Ha,g.Vd=u.Ia,g.fa=u.R,g.Rc=u.B,g.F=null,g.J=0,!$f){for(b=-255;255>=b;++b)Wn[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)oo[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Jc[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)wu[255+b]=0>b?0:255<b?255:b;$f=1}vu=Js,so=Fo,Qc=il,Dr=qt,Ti=Xs,kn=Ys,yu=$o,qf=Wi,Yc=Wo,pl=fl,ml=Ho,ea=eo,gl=Go,_u=bs,vl=Zs,ta=hi,Xc=Hn,Ni=cu,Qi[0]=xi,Qi[1]=zc,Qi[2]=_s,Qi[3]=$c,Qi[4]=lu,Qi[5]=Vo,Qi[6]=ui,Qi[7]=ol,Qi[8]=zo,Qi[9]=Bo,na[0]=ys,na[1]=qc,na[2]=qi,na[3]=Mo,na[4]=on,na[5]=au,na[6]=sl,ao[0]=Hi,ao[1]=ou,ao[2]=uu,ao[3]=$i,ao[4]=Bt,ao[5]=al,ao[6]=ll,b=1}else b=0}b&&(b=function(pe,ke){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ee,ue=pe.Jc[pe.M&pe.Xb],ce=pe.m,Te=pe;for(Ee=0;Ee<Te.za;++Ee){var Le=ce,Pe=Te,Ye=Pe.Ac,He=Pe.Bc+4*Ee,ct=Pe.zc,Ge=Pe.ya[Pe.aa+Ee];if(Pe.Qa.Bb?Ge.$b=me(Le,Pe.Pa.jb[0])?2+me(Le,Pe.Pa.jb[2]):me(Le,Pe.Pa.jb[1]):Ge.$b=0,Pe.kc&&(Ge.Ad=me(Le,Pe.Bd)),Ge.Za=!me(Le,145)+0,Ge.Za){var Ut=Ge.Ob,$t=0;for(Pe=0;4>Pe;++Pe){var Dt,Pt=ct[0+Pe];for(Dt=0;4>Dt;++Dt){Pt=HS[Ye[He+Dt]][Pt];for(var Jt=cy[me(Le,Pt[0])];0<Jt;)Jt=cy[2*Jt+me(Le,Pt[Jt])];Pt=-Jt,Ye[He+Dt]=Pt}r(Ut,$t,Ye,He,4),$t+=4,ct[0+Pe]=Pt}}else Pt=me(Le,156)?me(Le,128)?1:3:me(Le,163)?2:0,Ge.Ob[0]=Pt,i(Ye,He,Pt,4),i(ct,0,Pt,4);Ge.Dd=me(Le,142)?me(Le,114)?me(Le,183)?1:3:2:0}if(Te.m.Ka)return sn(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Te=ue,Le=(ce=pe).rb[ce.sb-1],Ye=ce.rb[ce.sb+ce.ja],Ee=ce.ya[ce.aa+ce.ja],He=ce.kc?Ee.Ad:0)Le.la=Ye.la=0,Ee.Za||(Le.Na=Ye.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var Yt,Et;if(Le=Ye,Ye=Te,He=ce.Pa.Xc,ct=ce.ya[ce.aa+ce.ja],Ge=ce.pb[ct.$b],Pe=ct.ad,Ut=0,$t=ce.rb[ce.sb-1],Pt=Dt=0,i(Pe,Ut,0,384),ct.Za)var Un=0,Qr=He[3];else{Jt=s(16);var Vn=Le.Na+$t.Na;if(Vn=Zc(Ye,He[1],Vn,Ge.Eb,0,Jt,0),Le.Na=$t.Na=(0<Vn)+0,1<Vn)vu(Jt,0,Pe,Ut);else{var Yr=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)Pe[Ut+Jt]=Yr}Un=1,Qr=He[0]}var Ht=15&Le.la,di=15&$t.la;for(Jt=0;4>Jt;++Jt){var pi=1&di;for(Yr=Et=0;4>Yr;++Yr)Ht=Ht>>1|(pi=(Vn=Zc(Ye,Qr,Vn=pi+(1&Ht),Ge.Sc,Un,Pe,Ut))>Un)<<7,Et=Et<<2|(3<Vn?3:1<Vn?2:Pe[Ut+0]!=0),Ut+=16;Ht>>=4,di=di>>1|pi<<7,Dt=(Dt<<8|Et)>>>0}for(Qr=Ht,Un=di>>4,Yt=0;4>Yt;Yt+=2){for(Et=0,Ht=Le.la>>4+Yt,di=$t.la>>4+Yt,Jt=0;2>Jt;++Jt){for(pi=1&di,Yr=0;2>Yr;++Yr)Vn=pi+(1&Ht),Ht=Ht>>1|(pi=0<(Vn=Zc(Ye,He[2],Vn,Ge.Qc,0,Pe,Ut)))<<3,Et=Et<<2|(3<Vn?3:1<Vn?2:Pe[Ut+0]!=0),Ut+=16;Ht>>=2,di=di>>1|pi<<5}Pt|=Et<<4*Yt,Qr|=Ht<<4<<Yt,Un|=(240&di)<<Yt}Le.la=Qr,$t.la=Un,ct.Hc=Dt,ct.Gc=Pt,ct.ia=43690&Pt?0:Ge.ia,He=!(Dt|Pt)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[Ee.$b][Ee.Za],ce.wa[ce.Y+ce.ja].La|=!He),Te.Ka)return sn(pe,7,"Premature end-of-file encountered.")}if(rl(pe),ce=ke,Te=1,Ee=(ue=pe).D,Le=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Ee.M=ue.M,Ee.uc=Le,Es(ue,Ee),Te=1,Ee=(Et=ue.D).Nb,Le=(Pt=Zf[ue.L])*ue.R,Ye=Pt/2*ue.B,Jt=16*Ee*ue.R,Yr=8*Ee*ue.B,He=ue.sa,ct=ue.ta-Le+Jt,Ge=ue.qa,Pe=ue.ra-Ye+Yr,Ut=ue.Ha,$t=ue.Ia-Ye+Yr,di=(Ht=Et.M)==0,Dt=Ht>=ue.Va-1,ue.Aa==2&&Es(ue,Et),Et.uc)for(pi=(Vn=ue).D.M,e(Vn.D.uc),Et=Vn.yb;Et<Vn.Hb;++Et){Un=Et,Qr=pi;var Yn=(sr=(Sn=Vn).D).Nb;Yt=Sn.R;var sr=sr.wa[sr.Y+Un],jr=Sn.sa,Li=Sn.ta+16*Yn*Yt+16*Un,xs=sr.dd,Xn=sr.tc;if(Xn!=0)if(e(3<=Xn),Sn.L==1)0<Un&&ta(jr,Li,Yt,Xn+4),sr.La&&Ni(jr,Li,Yt,Xn),0<Qr&&vl(jr,Li,Yt,Xn+4),sr.La&&Xc(jr,Li,Yt,Xn);else{var lo=Sn.B,yl=Sn.qa,bu=Sn.ra+8*Yn*lo+8*Un,ia=Sn.Ha,Sn=Sn.Ia+8*Yn*lo+8*Un;Yn=sr.ld,0<Un&&(qf(jr,Li,Yt,Xn+4,xs,Yn),pl(yl,bu,ia,Sn,lo,Xn+4,xs,Yn)),sr.La&&(ea(jr,Li,Yt,Xn,xs,Yn),_u(yl,bu,ia,Sn,lo,Xn,xs,Yn)),0<Qr&&(yu(jr,Li,Yt,Xn+4,xs,Yn),Yc(yl,bu,ia,Sn,lo,Xn+4,xs,Yn)),sr.La&&(ml(jr,Li,Yt,Xn,xs,Yn),gl(yl,bu,ia,Sn,lo,Xn,xs,Yn))}}if(ue.ia&&alert("todo:DitherRow"),ce.put!=null){if(Et=16*Ht,Ht=16*(Ht+1),di?(ce.y=ue.sa,ce.O=ue.ta+Jt,ce.f=ue.qa,ce.N=ue.ra+Yr,ce.ea=ue.Ha,ce.W=ue.Ia+Yr):(Et-=Pt,ce.y=He,ce.O=ct,ce.f=Ge,ce.N=Pe,ce.ea=Ut,ce.W=$t),Dt||(Ht-=Pt),Ht>ce.o&&(Ht=ce.o),ce.F=null,ce.J=null,ue.Fa!=null&&0<ue.Fa.length&&Et<Ht&&(ce.J=Xo(ue,ce,Et,Ht-Et),ce.F=ue.mb,ce.F==null&&ce.F.length==0)){Te=sn(ue,3,"Could not decode alpha data.");break e}Et<ce.j&&(Pt=ce.j-Et,Et=ce.j,e(!(1&Pt)),ce.O+=ue.R*Pt,ce.N+=ue.B*(Pt>>1),ce.W+=ue.B*(Pt>>1),ce.F!=null&&(ce.J+=ce.width*Pt)),Et<Ht&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=Et-ce.j,ce.U=ce.va-ce.v,ce.T=Ht-Et,Te=ce.put(ce))}Ee+1!=ue.Ic||Dt||(r(ue.sa,ue.ta-Le,He,ct+16*ue.R,Le),r(ue.qa,ue.ra-Ye,Ge,Pe+8*ue.B,Ye),r(ue.Ha,ue.Ia-Ye,Ut,$t+8*ue.B,Ye))}if(!Te)return sn(pe,6,"Output aborted.")}return 1}(u,g)),g.bc!=null&&g.bc(g),b&=1}return b?(u.cb=0,b):0}function Wr(u,g,b,C,z){z=u[g+b+32*C]+(z>>3),u[g+b+32*C]=-256&z?0>z?0:255:z}function jo(u,g,b,C,z,$){Wr(u,g,0,b,C+z),Wr(u,g,1,b,C+$),Wr(u,g,2,b,C-$),Wr(u,g,3,b,C-z)}function En(u){return(20091*u>>16)+u}function Rr(u,g,b,C){var z,$=0,W=s(16);for(z=0;4>z;++z){var Y=u[g+0]+u[g+8],te=u[g+0]-u[g+8],ne=(35468*u[g+4]>>16)-En(u[g+12]),le=En(u[g+4])+(35468*u[g+12]>>16);W[$+0]=Y+le,W[$+1]=te+ne,W[$+2]=te-ne,W[$+3]=Y-le,$+=4,g++}for(z=$=0;4>z;++z)Y=(u=W[$+0]+4)+W[$+8],te=u-W[$+8],ne=(35468*W[$+4]>>16)-En(W[$+12]),Wr(b,C,0,0,Y+(le=En(W[$+4])+(35468*W[$+12]>>16))),Wr(b,C,1,0,te+ne),Wr(b,C,2,0,te-ne),Wr(b,C,3,0,Y-le),$++,C+=32}function Ys(u,g,b,C){var z=u[g+0]+4,$=35468*u[g+4]>>16,W=En(u[g+4]),Y=35468*u[g+1]>>16;jo(b,C,0,z+W,u=En(u[g+1]),Y),jo(b,C,1,z+$,u,Y),jo(b,C,2,z-$,u,Y),jo(b,C,3,z-W,u,Y)}function Fo(u,g,b,C,z){Rr(u,g,b,C),z&&Rr(u,g+16,b,C+4)}function il(u,g,b,C){so(u,g+0,b,C,1),so(u,g+32,b,C+128,1)}function qt(u,g,b,C){var z;for(u=u[g+0]+4,z=0;4>z;++z)for(g=0;4>g;++g)Wr(b,C,g,z,u)}function Xs(u,g,b,C){u[g+0]&&Dr(u,g+0,b,C),u[g+16]&&Dr(u,g+16,b,C+4),u[g+32]&&Dr(u,g+32,b,C+128),u[g+48]&&Dr(u,g+48,b,C+128+4)}function Js(u,g,b,C){var z,$=s(16);for(z=0;4>z;++z){var W=u[g+0+z]+u[g+12+z],Y=u[g+4+z]+u[g+8+z],te=u[g+4+z]-u[g+8+z],ne=u[g+0+z]-u[g+12+z];$[0+z]=W+Y,$[8+z]=W-Y,$[4+z]=ne+te,$[12+z]=ne-te}for(z=0;4>z;++z)W=(u=$[0+4*z]+3)+$[3+4*z],Y=$[1+4*z]+$[2+4*z],te=$[1+4*z]-$[2+4*z],ne=u-$[3+4*z],b[C+0]=W+Y>>3,b[C+16]=ne+te>>3,b[C+32]=W-Y>>3,b[C+48]=ne-te>>3,C+=64}function zi(u,g,b){var C,z=g-32,$=fi,W=255-u[z-1];for(C=0;C<b;++C){var Y,te=$,ne=W+u[g-1];for(Y=0;Y<b;++Y)u[g+Y]=te[ne+u[z+Y]];g+=32}}function zc(u,g){zi(u,g,4)}function ou(u,g){zi(u,g,8)}function qc(u,g){zi(u,g,16)}function qi(u,g){var b;for(b=0;16>b;++b)r(u,g+32*b,u,g-32,16)}function Mo(u,g){var b;for(b=16;0<b;--b)i(u,g,u[g-1],16),g+=32}function Uo(u,g,b){var C;for(C=0;16>C;++C)i(g,b+32*C,u,16)}function ys(u,g){var b,C=16;for(b=0;16>b;++b)C+=u[g-1+32*b]+u[g+b-32];Uo(C>>5,u,g)}function on(u,g){var b,C=8;for(b=0;16>b;++b)C+=u[g-1+32*b];Uo(C>>4,u,g)}function au(u,g){var b,C=8;for(b=0;16>b;++b)C+=u[g+b-32];Uo(C>>4,u,g)}function sl(u,g){Uo(128,u,g)}function pt(u,g,b){return u+2*g+b+2>>2}function _s(u,g){var b,C=g-32;for(C=new Uint8Array([pt(u[C-1],u[C+0],u[C+1]),pt(u[C+0],u[C+1],u[C+2]),pt(u[C+1],u[C+2],u[C+3]),pt(u[C+2],u[C+3],u[C+4])]),b=0;4>b;++b)r(u,g+32*b,C,0,C.length)}function $c(u,g){var b=u[g-1],C=u[g-1+32],z=u[g-1+64],$=u[g-1+96];Ie(u,g+0,16843009*pt(u[g-1-32],b,C)),Ie(u,g+32,16843009*pt(b,C,z)),Ie(u,g+64,16843009*pt(C,z,$)),Ie(u,g+96,16843009*pt(z,$,$))}function xi(u,g){var b,C=4;for(b=0;4>b;++b)C+=u[g+b-32]+u[g-1+32*b];for(C>>=3,b=0;4>b;++b)i(u,g+32*b,C,4)}function lu(u,g){var b=u[g-1+0],C=u[g-1+32],z=u[g-1+64],$=u[g-1-32],W=u[g+0-32],Y=u[g+1-32],te=u[g+2-32],ne=u[g+3-32];u[g+0+96]=pt(C,z,u[g-1+96]),u[g+1+96]=u[g+0+64]=pt(b,C,z),u[g+2+96]=u[g+1+64]=u[g+0+32]=pt($,b,C),u[g+3+96]=u[g+2+64]=u[g+1+32]=u[g+0+0]=pt(W,$,b),u[g+3+64]=u[g+2+32]=u[g+1+0]=pt(Y,W,$),u[g+3+32]=u[g+2+0]=pt(te,Y,W),u[g+3+0]=pt(ne,te,Y)}function ui(u,g){var b=u[g+1-32],C=u[g+2-32],z=u[g+3-32],$=u[g+4-32],W=u[g+5-32],Y=u[g+6-32],te=u[g+7-32];u[g+0+0]=pt(u[g+0-32],b,C),u[g+1+0]=u[g+0+32]=pt(b,C,z),u[g+2+0]=u[g+1+32]=u[g+0+64]=pt(C,z,$),u[g+3+0]=u[g+2+32]=u[g+1+64]=u[g+0+96]=pt(z,$,W),u[g+3+32]=u[g+2+64]=u[g+1+96]=pt($,W,Y),u[g+3+64]=u[g+2+96]=pt(W,Y,te),u[g+3+96]=pt(Y,te,te)}function Vo(u,g){var b=u[g-1+0],C=u[g-1+32],z=u[g-1+64],$=u[g-1-32],W=u[g+0-32],Y=u[g+1-32],te=u[g+2-32],ne=u[g+3-32];u[g+0+0]=u[g+1+64]=$+W+1>>1,u[g+1+0]=u[g+2+64]=W+Y+1>>1,u[g+2+0]=u[g+3+64]=Y+te+1>>1,u[g+3+0]=te+ne+1>>1,u[g+0+96]=pt(z,C,b),u[g+0+64]=pt(C,b,$),u[g+0+32]=u[g+1+96]=pt(b,$,W),u[g+1+32]=u[g+2+96]=pt($,W,Y),u[g+2+32]=u[g+3+96]=pt(W,Y,te),u[g+3+32]=pt(Y,te,ne)}function ol(u,g){var b=u[g+0-32],C=u[g+1-32],z=u[g+2-32],$=u[g+3-32],W=u[g+4-32],Y=u[g+5-32],te=u[g+6-32],ne=u[g+7-32];u[g+0+0]=b+C+1>>1,u[g+1+0]=u[g+0+64]=C+z+1>>1,u[g+2+0]=u[g+1+64]=z+$+1>>1,u[g+3+0]=u[g+2+64]=$+W+1>>1,u[g+0+32]=pt(b,C,z),u[g+1+32]=u[g+0+96]=pt(C,z,$),u[g+2+32]=u[g+1+96]=pt(z,$,W),u[g+3+32]=u[g+2+96]=pt($,W,Y),u[g+3+64]=pt(W,Y,te),u[g+3+96]=pt(Y,te,ne)}function Bo(u,g){var b=u[g-1+0],C=u[g-1+32],z=u[g-1+64],$=u[g-1+96];u[g+0+0]=b+C+1>>1,u[g+2+0]=u[g+0+32]=C+z+1>>1,u[g+2+32]=u[g+0+64]=z+$+1>>1,u[g+1+0]=pt(b,C,z),u[g+3+0]=u[g+1+32]=pt(C,z,$),u[g+3+32]=u[g+1+64]=pt(z,$,$),u[g+3+64]=u[g+2+64]=u[g+0+96]=u[g+1+96]=u[g+2+96]=u[g+3+96]=$}function zo(u,g){var b=u[g-1+0],C=u[g-1+32],z=u[g-1+64],$=u[g-1+96],W=u[g-1-32],Y=u[g+0-32],te=u[g+1-32],ne=u[g+2-32];u[g+0+0]=u[g+2+32]=b+W+1>>1,u[g+0+32]=u[g+2+64]=C+b+1>>1,u[g+0+64]=u[g+2+96]=z+C+1>>1,u[g+0+96]=$+z+1>>1,u[g+3+0]=pt(Y,te,ne),u[g+2+0]=pt(W,Y,te),u[g+1+0]=u[g+3+32]=pt(b,W,Y),u[g+1+32]=u[g+3+64]=pt(C,b,W),u[g+1+64]=u[g+3+96]=pt(z,C,b),u[g+1+96]=pt($,z,C)}function uu(u,g){var b;for(b=0;8>b;++b)r(u,g+32*b,u,g-32,8)}function $i(u,g){var b;for(b=0;8>b;++b)i(u,g,u[g-1],8),g+=32}function ci(u,g,b){var C;for(C=0;8>C;++C)i(g,b+32*C,u,8)}function Hi(u,g){var b,C=8;for(b=0;8>b;++b)C+=u[g+b-32]+u[g-1+32*b];ci(C>>4,u,g)}function al(u,g){var b,C=4;for(b=0;8>b;++b)C+=u[g+b-32];ci(C>>3,u,g)}function Bt(u,g){var b,C=4;for(b=0;8>b;++b)C+=u[g-1+32*b];ci(C>>3,u,g)}function ll(u,g){ci(128,u,g)}function qo(u,g,b){var C=u[g-b],z=u[g+0],$=3*(z-C)+ig[1020+u[g-2*b]-u[g+b]],W=Hf[112+($+4>>3)];u[g-b]=fi[255+C+Hf[112+($+3>>3)]],u[g+0]=fi[255+z-W]}function ul(u,g,b,C){var z=u[g+0],$=u[g+b];return ki[255+u[g-2*b]-u[g-b]]>C||ki[255+$-z]>C}function cl(u,g,b,C){return 4*ki[255+u[g-b]-u[g+0]]+ki[255+u[g-2*b]-u[g+b]]<=C}function hl(u,g,b,C,z){var $=u[g-3*b],W=u[g-2*b],Y=u[g-b],te=u[g+0],ne=u[g+b],le=u[g+2*b],ve=u[g+3*b];return 4*ki[255+Y-te]+ki[255+W-ne]>C?0:ki[255+u[g-4*b]-$]<=z&&ki[255+$-W]<=z&&ki[255+W-Y]<=z&&ki[255+ve-le]<=z&&ki[255+le-ne]<=z&&ki[255+ne-te]<=z}function Zs(u,g,b,C){var z=2*C+1;for(C=0;16>C;++C)cl(u,g+C,b,z)&&qo(u,g+C,b)}function hi(u,g,b,C){var z=2*C+1;for(C=0;16>C;++C)cl(u,g+C*b,1,z)&&qo(u,g+C*b,1)}function Hn(u,g,b,C){var z;for(z=3;0<z;--z)Zs(u,g+=4*b,b,C)}function cu(u,g,b,C){var z;for(z=3;0<z;--z)hi(u,g+=4,b,C)}function ws(u,g,b,C,z,$,W,Y){for($=2*$+1;0<z--;){if(hl(u,g,b,$,W))if(ul(u,g,b,Y))qo(u,g,b);else{var te=u,ne=g,le=b,ve=te[ne-2*le],ye=te[ne-le],pe=te[ne+0],ke=te[ne+le],Ee=te[ne+2*le],ue=27*(Te=ig[1020+3*(pe-ye)+ig[1020+ve-ke]])+63>>7,ce=18*Te+63>>7,Te=9*Te+63>>7;te[ne-3*le]=fi[255+te[ne-3*le]+Te],te[ne-2*le]=fi[255+ve+ce],te[ne-le]=fi[255+ye+ue],te[ne+0]=fi[255+pe-ue],te[ne+le]=fi[255+ke-ce],te[ne+2*le]=fi[255+Ee-Te]}g+=C}}function nr(u,g,b,C,z,$,W,Y){for($=2*$+1;0<z--;){if(hl(u,g,b,$,W))if(ul(u,g,b,Y))qo(u,g,b);else{var te=u,ne=g,le=b,ve=te[ne-le],ye=te[ne+0],pe=te[ne+le],ke=Hf[112+((Ee=3*(ye-ve))+4>>3)],Ee=Hf[112+(Ee+3>>3)],ue=ke+1>>1;te[ne-2*le]=fi[255+te[ne-2*le]+ue],te[ne-le]=fi[255+ve+Ee],te[ne+0]=fi[255+ye-ke],te[ne+le]=fi[255+pe-ue]}g+=C}}function $o(u,g,b,C,z,$){ws(u,g,b,1,16,C,z,$)}function Wi(u,g,b,C,z,$){ws(u,g,1,b,16,C,z,$)}function Ho(u,g,b,C,z,$){var W;for(W=3;0<W;--W)nr(u,g+=4*b,b,1,16,C,z,$)}function eo(u,g,b,C,z,$){var W;for(W=3;0<W;--W)nr(u,g+=4,1,b,16,C,z,$)}function Wo(u,g,b,C,z,$,W,Y){ws(u,g,z,1,8,$,W,Y),ws(b,C,z,1,8,$,W,Y)}function fl(u,g,b,C,z,$,W,Y){ws(u,g,1,z,8,$,W,Y),ws(b,C,1,z,8,$,W,Y)}function Go(u,g,b,C,z,$,W,Y){nr(u,g+4*z,z,1,8,$,W,Y),nr(b,C+4*z,z,1,8,$,W,Y)}function bs(u,g,b,C,z,$,W,Y){nr(u,g+4,1,z,8,$,W,Y),nr(b,C+4,1,z,8,$,W,Y)}function to(){this.ba=new $n,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ko(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function no(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qo(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new T}function hu(){this.xb=this.a=0,this.l=new Qs,this.ca=new $n,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qo,this.ab=0,this.gc=o(4,no),this.Oc=0}function Gi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function As(u,g,b,C,z,$,W){for(u=u==null?0:u[g+0],g=0;g<W;++g)z[$+g]=u+b[C+g]&255,u=z[$+g]}function Yo(u,g,b,C,z,$,W){var Y;if(u==null)As(null,null,b,C,z,$,W);else for(Y=0;Y<W;++Y)z[$+Y]=u[g+Y]+b[C+Y]&255}function gr(u,g,b,C,z,$,W){if(u==null)As(null,null,b,C,z,$,W);else{var Y,te=u[g+0],ne=te,le=te;for(Y=0;Y<W;++Y)ne=le+(te=u[g+Y])-ne,le=b[C+Y]+(-256&ne?0>ne?0:255:ne)&255,ne=te,z[$+Y]=le}}function Xo(u,g,b,C){var z=g.width,$=g.o;if(e(u!=null&&g!=null),0>b||0>=C||b+C>$)return null;if(!u.Cc){if(u.ga==null){var W;if(u.ga=new Gi,(W=u.ga==null)||(W=g.width*g.o,e(u.Gb.length==0),u.Gb=s(W),u.Uc=0,u.Gb==null?W=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,W=1),W=!W),!W){W=u.ga;var Y=u.Fa,te=u.P,ne=u.qc,le=u.mb,ve=u.nb,ye=te+1,pe=ne-1,ke=W.l;if(e(Y!=null&&le!=null&&g!=null),ra[0]=null,ra[1]=As,ra[2]=Yo,ra[3]=gr,W.ca=le,W.tb=ve,W.c=g.width,W.i=g.height,e(0<W.c&&0<W.i),1>=ne)g=0;else if(W.$a=Y[te+0]>>0&3,W.Z=Y[te+0]>>2&3,W.Lc=Y[te+0]>>4&3,te=Y[te+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||te)g=0;else if(ke.put=fn,ke.ac=Qt,ke.bc=ai,ke.ma=W,ke.width=g.width,ke.height=g.height,ke.Da=g.Da,ke.v=g.v,ke.va=g.va,ke.j=g.j,ke.o=g.o,W.$a)e:{e(W.$a==1),g=Pn();t:for(;;){if(g==null){g=0;break e}if(e(W!=null),W.mc=g,g.c=W.c,g.i=W.i,g.l=W.l,g.l.ma=W,g.l.width=W.c,g.l.height=W.i,g.a=0,H(g.m,Y,ye,pe),!li(W.c,W.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Vi(g.s)?(W.ic=1,Y=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(Y),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(W.ic=0,g=ds(g,W.c)),!g))break t;g=1;break e}W.mc=null,g=0}else g=pe>=W.c*W.i;W=!g}if(W)return null;u.ga.Lc!=1?u.Ga=0:C=$-b}e(u.ga!=null),e(b+C<=$);e:{if(g=(Y=u.ga).c,$=Y.l.o,Y.$a==0){if(ye=u.rc,pe=u.Vc,ke=u.Fa,te=u.P+1+b*g,ne=u.mb,le=u.nb+b*g,e(te<=u.P+u.qc),Y.Z!=0)for(e(ra[Y.Z]!=null),W=0;W<C;++W)ra[Y.Z](ye,pe,ke,te,ne,le,g),ye=ne,pe=le,le+=g,te+=g;else for(W=0;W<C;++W)r(ne,le,ke,te,g),ye=ne,pe=le,le+=g,te+=g;u.rc=ye,u.Vc=pe}else{if(e(Y.mc!=null),g=b+C,e((W=Y.mc)!=null),e(g<=W.i),W.C>=g)g=1;else if(Y.ic||de(),Y.ic){Y=W.V,ye=W.Ba,pe=W.c;var Ee=W.i,ue=(ke=1,te=W.$/pe,ne=W.$%pe,le=W.m,ve=W.s,W.$),ce=pe*Ee,Te=pe*g,Le=ve.wc,Pe=ue<Te?An(ve,ne,te):null;e(ue<=ce),e(g<=Ee),e(Vi(ve));t:for(;;){for(;!le.h&&ue<Te;){if(ne&Le||(Pe=An(ve,ne,te)),e(Pe!=null),oe(le),256>(Ee=Fn(Pe.G[0],Pe.H[0],le)))Y[ye+ue]=Ee,++ue,++ne>=pe&&(ne=0,++te<=g&&!(te%16)&&Hr(W,te));else{if(!(280>Ee)){ke=0;break t}Ee=$r(Ee-256,le);var Ye,He=Fn(Pe.G[4],Pe.H[4],le);if(oe(le),!(ue>=(He=pr(pe,He=$r(He,le)))&&ce-ue>=Ee)){ke=0;break t}for(Ye=0;Ye<Ee;++Ye)Y[ye+ue+Ye]=Y[ye+ue+Ye-He];for(ue+=Ee,ne+=Ee;ne>=pe;)ne-=pe,++te<=g&&!(te%16)&&Hr(W,te);ue<Te&&ne&Le&&(Pe=An(ve,ne,te))}e(le.h==X(le))}Hr(W,te>g?g:te);break t}!ke||le.h&&ue<ce?(ke=0,W.a=le.h?5:3):W.$=ue,g=ke}else g=Cr(W,W.V,W.Ba,W.c,W.i,g,ps);if(!g){C=0;break e}}b+C>=$&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+b*z}function v(u,g,b,C,z,$){for(;0<z--;){var W,Y=u,te=g+(b?1:0),ne=u,le=g+(b?0:3);for(W=0;W<C;++W){var ve=ne[le+4*W];ve!=255&&(ve*=32897,Y[te+4*W+0]=Y[te+4*W+0]*ve>>23,Y[te+4*W+1]=Y[te+4*W+1]*ve>>23,Y[te+4*W+2]=Y[te+4*W+2]*ve>>23)}g+=$}}function B(u,g,b,C,z){for(;0<C--;){var $;for($=0;$<b;++$){var W=u[g+2*$+0],Y=15&(ne=u[g+2*$+1]),te=4369*Y,ne=(240&ne|ne>>4)*te>>16;u[g+2*$+0]=(240&W|W>>4)*te>>16&240|(15&W|W<<4)*te>>16>>4&15,u[g+2*$+1]=240&ne|Y}g+=z}}function ie(u,g,b,C,z,$,W,Y){var te,ne,le=255;for(ne=0;ne<z;++ne){for(te=0;te<C;++te){var ve=u[g+te];$[W+4*te]=ve,le&=ve}g+=b,W+=Y}return le!=255}function ae(u,g,b,C,z){var $;for($=0;$<z;++$)b[C+$]=u[g+$]>>8}function de(){Pi=v,en=B,tn=ie,Cn=ae}function Se(u,g,b){y[u]=function(C,z,$,W,Y,te,ne,le,ve,ye,pe,ke,Ee,ue,ce,Te,Le){var Pe,Ye=Le-1>>1,He=Y[te+0]|ne[le+0]<<16,ct=ve[ye+0]|pe[ke+0]<<16;e(C!=null);var Ge=3*He+ct+131074>>2;for(g(C[z+0],255&Ge,Ge>>16,Ee,ue),$!=null&&(Ge=3*ct+He+131074>>2,g($[W+0],255&Ge,Ge>>16,ce,Te)),Pe=1;Pe<=Ye;++Pe){var Ut=Y[te+Pe]|ne[le+Pe]<<16,$t=ve[ye+Pe]|pe[ke+Pe]<<16,Dt=He+Ut+ct+$t+524296,Pt=Dt+2*(Ut+ct)>>3;Ge=Pt+He>>1,He=(Dt=Dt+2*(He+$t)>>3)+Ut>>1,g(C[z+2*Pe-1],255&Ge,Ge>>16,Ee,ue+(2*Pe-1)*b),g(C[z+2*Pe-0],255&He,He>>16,Ee,ue+(2*Pe-0)*b),$!=null&&(Ge=Dt+ct>>1,He=Pt+$t>>1,g($[W+2*Pe-1],255&Ge,Ge>>16,ce,Te+(2*Pe-1)*b),g($[W+2*Pe+0],255&He,He>>16,ce,Te+(2*Pe+0)*b)),He=Ut,ct=$t}1&Le||(Ge=3*He+ct+131074>>2,g(C[z+Le-1],255&Ge,Ge>>16,Ee,ue+(Le-1)*b),$!=null&&(Ge=3*ct+He+131074>>2,g($[W+Le-1],255&Ge,Ge>>16,ce,Te+(Le-1)*b)))}}function Re(){Ci[Wf]=QS,Ci[Gf]=fy,Ci[ay]=YS,Ci[Kf]=dy,Ci[Qf]=py,Ci[sg]=my,Ci[ly]=XS,Ci[og]=fy,Ci[ag]=dy,Ci[Yf]=py,Ci[lg]=my}function We(u){return u&-16384?0>u?0:255:u>>JS}function f(u,g){return We((19077*u>>8)+(26149*g>>8)-14234)}function x(u,g,b){return We((19077*u>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function D(u,g){return We((19077*u>>8)+(33050*g>>8)-17685)}function Q(u,g,b,C,z){C[z+0]=f(u,b),C[z+1]=x(u,g,b),C[z+2]=D(u,g)}function he(u,g,b,C,z){C[z+0]=D(u,g),C[z+1]=x(u,g,b),C[z+2]=f(u,b)}function we(u,g,b,C,z){var $=x(u,g,b);g=$<<3&224|D(u,g)>>3,C[z+0]=248&f(u,b)|$>>5,C[z+1]=g}function Oe(u,g,b,C,z){var $=240&D(u,g)|15;C[z+0]=240&f(u,b)|x(u,g,b)>>4,C[z+1]=$}function yt(u,g,b,C,z){C[z+0]=255,Q(u,g,b,C,z+1)}function Nt(u,g,b,C,z){he(u,g,b,C,z),C[z+3]=255}function _t(u,g,b,C,z){Q(u,g,b,C,z),C[z+3]=255}function zt(u,g){return 0>u?0:u>g?g:u}function Xt(u,g,b){y[u]=function(C,z,$,W,Y,te,ne,le,ve){for(var ye=le+(-2&ve)*b;le!=ye;)g(C[z+0],$[W+0],Y[te+0],ne,le),g(C[z+1],$[W+0],Y[te+0],ne,le+b),z+=2,++W,++te,le+=2*b;1&ve&&g(C[z+0],$[W+0],Y[te+0],ne,le)}}function Ki(u,g,b){return b==0?u==0?g==0?6:5:g==0?4:0:b}function rr(u,g,b,C,z){switch(u>>>30){case 3:so(g,b,C,z,0);break;case 2:kn(g,b,C,z);break;case 1:Dr(g,b,C,z)}}function Es(u,g){var b,C,z=g.M,$=g.Nb,W=u.oc,Y=u.pc+40,te=u.oc,ne=u.pc+584,le=u.oc,ve=u.pc+600;for(b=0;16>b;++b)W[Y+32*b-1]=129;for(b=0;8>b;++b)te[ne+32*b-1]=129,le[ve+32*b-1]=129;for(0<z?W[Y-1-32]=te[ne-1-32]=le[ve-1-32]=129:(i(W,Y-32-1,127,21),i(te,ne-32-1,127,9),i(le,ve-32-1,127,9)),C=0;C<u.za;++C){var ye=g.ya[g.aa+C];if(0<C){for(b=-1;16>b;++b)r(W,Y+32*b-4,W,Y+32*b+12,4);for(b=-1;8>b;++b)r(te,ne+32*b-4,te,ne+32*b+4,4),r(le,ve+32*b-4,le,ve+32*b+4,4)}var pe=u.Gd,ke=u.Hd+C,Ee=ye.ad,ue=ye.Hc;if(0<z&&(r(W,Y-32,pe[ke].y,0,16),r(te,ne-32,pe[ke].f,0,8),r(le,ve-32,pe[ke].ea,0,8)),ye.Za){var ce=W,Te=Y-32+16;for(0<z&&(C>=u.za-1?i(ce,Te,pe[ke].y[15],4):r(ce,Te,pe[ke+1].y,0,4)),b=0;4>b;b++)ce[Te+128+b]=ce[Te+256+b]=ce[Te+384+b]=ce[Te+0+b];for(b=0;16>b;++b,ue<<=2)ce=W,Te=Y+vy[b],Qi[ye.Ob[b]](ce,Te),rr(ue,Ee,16*+b,ce,Te)}else if(ce=Ki(C,z,ye.Ob[0]),na[ce](W,Y),ue!=0)for(b=0;16>b;++b,ue<<=2)rr(ue,Ee,16*+b,W,Y+vy[b]);for(b=ye.Gc,ce=Ki(C,z,ye.Dd),ao[ce](te,ne),ao[ce](le,ve),ue=Ee,ce=te,Te=ne,255&(ye=b>>0)&&(170&ye?Qc(ue,256,ce,Te):Ti(ue,256,ce,Te)),ye=le,ue=ve,255&(b>>=8)&&(170&b?Qc(Ee,320,ye,ue):Ti(Ee,320,ye,ue)),z<u.Ub-1&&(r(pe[ke].y,0,W,Y+480,16),r(pe[ke].f,0,te,ne+224,8),r(pe[ke].ea,0,le,ve+224,8)),b=8*$*u.B,pe=u.sa,ke=u.ta+16*C+16*$*u.R,Ee=u.qa,ye=u.ra+8*C+b,ue=u.Ha,ce=u.Ia+8*C+b,b=0;16>b;++b)r(pe,ke+b*u.R,W,Y+32*b,16);for(b=0;8>b;++b)r(Ee,ye+b*u.B,te,ne+32*b,8),r(ue,ce+b*u.B,le,ve+32*b,8)}}function Ss(u,g,b,C,z,$,W,Y,te){var ne=[0],le=[0],ve=0,ye=te!=null?te.kd:0,pe=te??new Ko;if(u==null||12>b)return 7;pe.data=u,pe.w=g,pe.ha=b,g=[g],b=[b],pe.gb=[pe.gb];e:{var ke=g,Ee=b,ue=pe.gb;if(e(u!=null),e(Ee!=null),e(ue!=null),ue[0]=0,12<=Ee[0]&&!n(u,ke[0],"RIFF")){if(n(u,ke[0]+8,"WEBP")){ue=3;break e}var ce=Be(u,ke[0]+4);if(12>ce||4294967286<ce){ue=3;break e}if(ye&&ce>Ee[0]-8){ue=7;break e}ue[0]=ce,ke[0]+=12,Ee[0]-=12}ue=0}if(ue!=0)return ue;for(ce=0<pe.gb[0],b=b[0];;){e:{var Te=u;Ee=g,ue=b;var Le=ne,Pe=le,Ye=ke=[0];if((Ge=ve=[ve])[0]=0,8>ue[0])ue=7;else{if(!n(Te,Ee[0],"VP8X")){if(Be(Te,Ee[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var He=Be(Te,Ee[0]+8),ct=1+Fe(Te,Ee[0]+12);if(2147483648<=ct*(Te=1+Fe(Te,Ee[0]+15))){ue=3;break e}Ye!=null&&(Ye[0]=He),Le!=null&&(Le[0]=ct),Pe!=null&&(Pe[0]=Te),Ee[0]+=18,ue[0]-=18,Ge[0]=1}ue=0}}if(ve=ve[0],ke=ke[0],ue!=0)return ue;if(Ee=!!(2&ke),!ce&&ve)return 3;if($!=null&&($[0]=!!(16&ke)),W!=null&&(W[0]=Ee),Y!=null&&(Y[0]=0),W=ne[0],ke=le[0],ve&&Ee&&te==null){ue=0;break}if(4>b){ue=7;break}if(ce&&ve||!ce&&!ve&&!n(u,g[0],"ALPH")){b=[b],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{He=u,ue=g,ce=b;var Ge=pe.gb;Le=pe.na,Pe=pe.P,Ye=pe.Sa,ct=22,e(He!=null),e(ce!=null),Te=ue[0];var Ut=ce[0];for(e(Le!=null),e(Ye!=null),Le[0]=null,Pe[0]=null,Ye[0]=0;;){if(ue[0]=Te,ce[0]=Ut,8>Ut){ue=7;break e}var $t=Be(He,Te+4);if(4294967286<$t){ue=3;break e}var Dt=8+$t+1&-2;if(ct+=Dt,0<Ge&&ct>Ge){ue=3;break e}if(!n(He,Te,"VP8 ")||!n(He,Te,"VP8L")){ue=0;break e}if(Ut[0]<Dt){ue=7;break e}n(He,Te,"ALPH")||(Le[0]=He,Pe[0]=Te+8,Ye[0]=$t),Te+=Dt,Ut-=Dt}}if(b=b[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ue!=0)break}b=[b],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Ge=u,ue=g,ce=b,Le=pe.gb[0],Pe=pe.Ja,Ye=pe.xa,He=ue[0],Te=!n(Ge,He,"VP8 "),ct=!n(Ge,He,"VP8L"),e(Ge!=null),e(ce!=null),e(Pe!=null),e(Ye!=null),8>ce[0])ue=7;else{if(Te||ct){if(Ge=Be(Ge,He+4),12<=Le&&Ge>Le-12){ue=3;break e}if(ye&&Ge>ce[0]-8){ue=7;break e}Pe[0]=Ge,ue[0]+=8,ce[0]-=8,Ye[0]=ct}else Ye[0]=5<=ce[0]&&Ge[He+0]==47&&!(Ge[He+4]>>5),Pe[0]=ce[0];ue=0}if(b=b[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],g=g[0],ue!=0)break;if(4294967286<pe.Ja)return 3;if(Y==null||Ee||(Y[0]=pe.xa?2:1),W=[W],ke=[ke],pe.xa){if(5>b){ue=7;break}Y=W,ye=ke,Ee=$,u==null||5>b?u=0:5<=b&&u[g+0]==47&&!(u[g+4]>>5)?(ce=[0],Ge=[0],Le=[0],H(Pe=new M,u,g,b),Xe(Pe,ce,Ge,Le)?(Y!=null&&(Y[0]=ce[0]),ye!=null&&(ye[0]=Ge[0]),Ee!=null&&(Ee[0]=Le[0]),u=1):u=0):u=0}else{if(10>b){ue=7;break}Y=ke,u==null||10>b||!tl(u,g+3,b-3)?u=0:(ye=u[g+0]|u[g+1]<<8|u[g+2]<<16,Ee=16383&(u[g+7]<<8|u[g+6]),u=16383&(u[g+9]<<8|u[g+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=pe.Ja||!Ee||!u?u=0:(W&&(W[0]=Ee),Y&&(Y[0]=u),u=1))}if(!u||(W=W[0],ke=ke[0],ve&&(ne[0]!=W||le[0]!=ke)))return 3;te!=null&&(te[0]=pe,te.offset=g-te.w,e(4294967286>g-te.w),e(te.offset==te.ha-b));break}return ue==0||ue==7&&ve&&te==null?($!=null&&($[0]|=pe.na!=null&&0<pe.na.length),C!=null&&(C[0]=W),z!=null&&(z[0]=ke),0):ue}function Hc(u,g,b){var C=g.width,z=g.height,$=0,W=0,Y=C,te=z;if(g.Da=u!=null&&0<u.Da,g.Da&&(Y=u.cd,te=u.bd,$=u.v,W=u.j,11>b||($&=-2,W&=-2),0>$||0>W||0>=Y||0>=te||$+Y>C||W+te>z))return 0;if(g.v=$,g.j=W,g.va=$+Y,g.o=W+te,g.U=Y,g.T=te,g.da=u!=null&&0<u.da,g.da){if(!Qe(Y,te,b=[u.ib],$=[u.hb]))return 0;g.ib=b[0],g.hb=$[0]}return g.ob=u!=null&&u.ob,g.Kb=u==null||!u.Sd,g.da&&(g.ob=g.ib<3*C/4&&g.hb<3*z/4,g.Kb=0),1}function Wc(u){if(u==null)return 2;if(11>u.S){var g=u.f.RGBA;g.fb+=(u.height-1)*g.A,g.A=-g.A}else g=u.f.kb,u=u.height,g.O+=(u-1)*g.fa,g.fa=-g.fa,g.N+=(u-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(u-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(u-1)*g.lb,g.lb=-g.lb);return 0}function fu(u,g,b,C){if(C==null||0>=u||0>=g)return 2;if(b!=null){if(b.Da){var z=b.cd,$=b.bd,W=-2&b.v,Y=-2&b.j;if(0>W||0>Y||0>=z||0>=$||W+z>u||Y+$>g)return 2;u=z,g=$}if(b.da){if(!Qe(u,g,z=[b.ib],$=[b.hb]))return 2;u=z[0],g=$[0]}}C.width=u,C.height=g;e:{var te=C.width,ne=C.height;if(u=C.S,0>=te||0>=ne||!(u>=Wf&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){W=$=z=g=0;var le=(Y=te*yy[u])*ne;if(11>u||($=(ne+1)/2*(g=(te+1)/2),u==12&&(W=(z=te)*ne)),(ne=s(le+2*$+W))==null){u=1;break e}C.sd=ne,11>u?((te=C.f.RGBA).eb=ne,te.fb=0,te.A=Y,te.size=le):((te=C.f.kb).y=ne,te.O=0,te.fa=Y,te.Fd=le,te.f=ne,te.N=0+le,te.Ab=g,te.Cd=$,te.ea=ne,te.W=0+le+$,te.Db=g,te.Ed=$,u==12&&(te.F=ne,te.J=0+le+2*$),te.Tc=W,te.lb=z)}if(g=1,z=C.S,$=C.width,W=C.height,z>=Wf&&13>z)if(11>z)u=C.f.RGBA,g&=(Y=Math.abs(u.A))*(W-1)+$<=u.size,g&=Y>=$*yy[z],g&=u.eb!=null;else{u=C.f.kb,Y=($+1)/2,le=(W+1)/2,te=Math.abs(u.fa),ne=Math.abs(u.Ab);var ve=Math.abs(u.Db),ye=Math.abs(u.lb),pe=ye*(W-1)+$;g&=te*(W-1)+$<=u.Fd,g&=ne*(le-1)+Y<=u.Cd,g=(g&=ve*(le-1)+Y<=u.Ed)&te>=$&ne>=Y&ve>=Y,g&=u.y!=null,g&=u.f!=null,g&=u.ea!=null,z==12&&(g&=ye>=$,g&=pe<=u.Tc,g&=u.F!=null)}else g=0;u=g?0:2}}return u!=0||b!=null&&b.fd&&(u=Wc(C)),u}var ir=64,du=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pu=24,mu=32,Gc=8,Gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),y.Predictor0=function(){return 4278190080},y.Predictor1=function(u){return u},y.Predictor2=function(u,g,b){return g[b+0]},y.Predictor3=function(u,g,b){return g[b+1]},y.Predictor4=function(u,g,b){return g[b-1]},y.Predictor5=function(u,g,b){return Ve(Ve(u,g[b+1]),g[b+0])},y.Predictor6=function(u,g,b){return Ve(u,g[b-1])},y.Predictor7=function(u,g,b){return Ve(u,g[b+0])},y.Predictor8=function(u,g,b){return Ve(g[b-1],g[b+0])},y.Predictor9=function(u,g,b){return Ve(g[b+0],g[b+1])},y.Predictor10=function(u,g,b){return Ve(Ve(u,g[b-1]),Ve(g[b+0],g[b+1]))},y.Predictor11=function(u,g,b){var C=g[b+0];return 0>=st(C>>24&255,u>>24&255,(g=g[b-1])>>24&255)+st(C>>16&255,u>>16&255,g>>16&255)+st(C>>8&255,u>>8&255,g>>8&255)+st(255&C,255&u,255&g)?C:u},y.Predictor12=function(u,g,b){var C=g[b+0];return($e((u>>24&255)+(C>>24&255)-((g=g[b-1])>>24&255))<<24|$e((u>>16&255)+(C>>16&255)-(g>>16&255))<<16|$e((u>>8&255)+(C>>8&255)-(g>>8&255))<<8|$e((255&u)+(255&C)-(255&g)))>>>0},y.Predictor13=function(u,g,b){var C=g[b-1];return(Ke((u=Ve(u,g[b+0]))>>24&255,C>>24&255)<<24|Ke(u>>16&255,C>>16&255)<<16|Ke(u>>8&255,C>>8&255)<<8|Ke(u>>0&255,C>>0&255))>>>0};var rg=y.PredictorAdd0;y.PredictorAdd1=tt,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Kc=y.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Vf,Ii=y.ColorIndexInverseTransform,gu=y.MapARGB,Bf=y.VP8LColorIndexInverseTransformAlpha,zf=y.MapAlpha,Jo=y.VP8LPredictorsAdd=[];Jo.length=16,(y.VP8LPredictors=[]).length=16,(y.VP8LPredictorsAdd_C=[]).length=16,(y.VP8LPredictors_C=[]).length=16;var dl,Kr,Or,Zo,ro,io,vu,so,kn,Qc,Dr,Ti,yu,qf,Yc,pl,ml,ea,gl,_u,vl,ta,Xc,Ni,Pi,en,tn,Cn,Wn=s(511),oo=s(2041),Jc=s(225),wu=s(767),$f=0,ig=oo,Hf=Jc,fi=wu,ki=Wn,Wf=0,Gf=1,ay=2,Kf=3,Qf=4,sg=5,ly=6,og=7,ag=8,Yf=9,lg=10,DS=[2,3,7],jS=[3,3,11],uy=[280,256,256,256,40],FS=[0,1,1,1,0],MS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],US=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],VS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BS=8,ug=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zc=null,zS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$S=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],HS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],WS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],GS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],na=[],Qi=[],ao=[],KS=1,hy=2,ra=[],Ci=[];Se("UpsampleRgbLinePair",Q,3),Se("UpsampleBgrLinePair",he,3),Se("UpsampleRgbaLinePair",_t,4),Se("UpsampleBgraLinePair",Nt,4),Se("UpsampleArgbLinePair",yt,4),Se("UpsampleRgba4444LinePair",Oe,2),Se("UpsampleRgb565LinePair",we,2);var QS=y.UpsampleRgbLinePair,YS=y.UpsampleBgrLinePair,fy=y.UpsampleRgbaLinePair,dy=y.UpsampleBgraLinePair,py=y.UpsampleArgbLinePair,my=y.UpsampleRgba4444LinePair,XS=y.UpsampleRgb565LinePair,Xf=16,Jf=1<<Xf-1,eh=-227,hg=482,JS=6,gy=0,ZS=s(256),ex=s(256),tx=s(256),nx=s(256),rx=s(hg-eh),ix=s(hg-eh);Xt("YuvToRgbRow",Q,3),Xt("YuvToBgrRow",he,3),Xt("YuvToRgbaRow",_t,4),Xt("YuvToBgraRow",Nt,4),Xt("YuvToArgbRow",yt,4),Xt("YuvToRgba4444Row",Oe,2),Xt("YuvToRgb565Row",we,2);var vy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],sx=[8,7,6,4,4,2,2,2,1,1,1,1],ox=1;this.WebPDecodeRGBA=function(u,g,b,C,z){var $=Gf,W=new to,Y=new $n;W.ba=Y,Y.S=$,Y.width=[Y.width],Y.height=[Y.height];var te=Y.width,ne=Y.height,le=new bn;if(le==null||u==null)var ve=2;else e(le!=null),ve=Ss(u,g,b,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ve!=0?te=0:(te!=null&&(te[0]=le.width[0]),ne!=null&&(ne[0]=le.height[0]),te=1),te){Y.width=Y.width[0],Y.height=Y.height[0],C!=null&&(C[0]=Y.width),z!=null&&(z[0]=Y.height);e:{if(C=new Qs,(z=new Ko).data=u,z.w=g,z.ha=b,z.kd=1,g=[0],e(z!=null),((u=Ss(z.data,z.w,z.ha,null,null,null,g,null,z))==0||u==7)&&g[0]&&(u=4),(g=u)==0){if(e(W!=null),C.data=z.data,C.w=z.w+z.offset,C.ha=z.ha-z.offset,C.put=fn,C.ac=Qt,C.bc=ai,C.ma=W,z.xa){if((u=Pn())==null){W=1;break e}if(function(ye,pe){var ke=[0],Ee=[0],ue=[0];t:for(;;){if(ye==null)return 0;if(pe==null)return ye.a=2,0;if(ye.l=pe,ye.a=0,H(ye.m,pe.data,pe.w,pe.ha),!Xe(ye.m,ke,Ee,ue)){ye.a=3;break t}if(ye.xb=hy,pe.width=ke[0],pe.height=Ee[0],!li(ke[0],Ee[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(u,C)){if(C=(g=fu(C.width,C.height,W.Oa,W.ba))==0){t:{C=u;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((b=C.l)!=null),e((z=b.ma)!=null),C.xb!=0){if(C.ca=z.ba,C.tb=z.tb,e(C.ca!=null),!Hc(z.Oa,b,Kf)){C.a=2;break n}if(!ds(C,b.width)||b.da)break n;if((b.da||It(C.ca.S))&&de(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&de()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!et(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Cr(C,C.V,C.Ba,C.c,C.i,b.o,Oo))break n;z.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(g=u.a)}else g=u.a}else{if((u=new el)==null){W=1;break e}if(u.Fa=z.na,u.P=z.P,u.qc=z.Sa,nl(u,C)){if((g=fu(C.width,C.height,W.Oa,W.ba))==0){if(u.Aa=0,b=W.Oa,e((z=u)!=null),b!=null){if(0<(te=0>(te=b.Md)?0:100<te?255:255*te/100)){for(ne=le=0;4>ne;++ne)12>(ve=z.pb[ne]).lc&&(ve.ia=te*sx[0>ve.lc?0:ve.lc]>>3),le|=ve.ia;le&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=b.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}su(u,C)||(g=u.a)}}else g=u.a}g==0&&W.Oa!=null&&W.Oa.fd&&(g=Wc(W.ba))}W=g}$=W!=0?null:11>$?Y.f.RGBA.eb:Y.f.kb.y}else $=null;return $};var yy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(y,I){for(var L="",S=0;S<4;S++)L+=String.fromCharCode(y[I++]);return L}function h(y,I){return(y[I+0]<<0|y[I+1]<<8|y[I+2]<<16)>>>0}function d(y,I){return(y[I+0]<<0|y[I+1]<<8|y[I+2]<<16|y[I+3]<<24)>>>0}new l;var m=[0],p=[0],w=[],E=new l,P=t,_=function(y,I){var L={},S=0,T=!1,N=0,V=0;if(L.frames=[],!function(K,X,ee,oe){for(var fe=0;fe<oe;fe++)if(K[X+fe]!=ee.charCodeAt(fe))return!0;return!1}(y,I,"RIFF",4)){var J,F;for(d(y,I+=4),I+=8;I<y.length;){var j=c(y,I),H=d(y,I+=4);I+=4;var Z=H+(1&H);switch(j){case"VP8 ":case"VP8L":L.frames[S]===void 0&&(L.frames[S]={}),(M=L.frames[S]).src_off=T?V:I-8,M.src_size=N+H+8,S++,T&&(T=!1,N=0,V=0);break;case"VP8X":(M=L.header={}).feature_flags=y[I];var re=I+4;M.canvas_width=1+h(y,re),re+=3,M.canvas_height=1+h(y,re),re+=3;break;case"ALPH":T=!0,N=Z+8,V=I-8;break;case"ANIM":(M=L.header).bgcolor=d(y,I),re=I+4,M.loop_count=(J=y)[(F=re)+0]<<0|J[F+1]<<8,re+=2;break;case"ANMF":var be,M;(M=L.frames[S]={}).offset_x=2*h(y,I),I+=3,M.offset_y=2*h(y,I),I+=3,M.width=1+h(y,I),I+=3,M.height=1+h(y,I),I+=3,M.duration=h(y,I),I+=3,be=y[I++],M.dispose=1&be,M.blend=be>>1&1}j!="ANMF"&&(I+=Z)}return L}}(P,0);_.response=P,_.rgbaoutput=!0,_.dataurl=!1;var A=_.header?_.header:null,k=_.frames?_.frames:null;if(A){A.loop_counter=A.loop_count,m=[A.canvas_height],p=[A.canvas_width];for(var U=0;U<k.length&&k[U].blend!=0;U++);}var G=k[0],q=E.WebPDecodeRGBA(P,G.src_off,G.src_size,p,m);G.rgba=q,G.imgwidth=p[0],G.imgheight=m[0];for(var R=0;R<p[0]*m[0]*4;R++)w[R]=q[R];return this.width=p,this.height=m,this.data=w,this}(function(t){var e=function(){return typeof Q0=="function"},n=function(m,p,w,E){var P=4,_=o;switch(E){case t.image_compression.FAST:P=1,_=s;break;case t.image_compression.MEDIUM:P=6,_=a;break;case t.image_compression.SLOW:P=9,_=l}m=r(m,p,w,_);var A=Q0(m,{level:P});return t.__addimage__.arrayBufferToBinaryString(A)},r=function(m,p,w,E){for(var P,_,A,k=m.length/p,U=new Uint8Array(m.length+k),G=h(),q=0;q<k;q+=1){if(A=q*p,P=m.subarray(A,A+p),E)U.set(E(P,w,_),A+q);else{for(var R,y=G.length,I=[];R<y;R+=1)I[R]=G[R](P,w,_);var L=d(I.concat());U.set(I[L],A+q)}_=P}return U},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var w,E=[],P=m.length;E[0]=1;for(var _=0;_<P;_+=1)w=m[_-p]||0,E[_+1]=m[_]-w+256&255;return E},o=function(m,p,w){var E,P=[],_=m.length;P[0]=2;for(var A=0;A<_;A+=1)E=w&&w[A]||0,P[A+1]=m[A]-E+256&255;return P},a=function(m,p,w){var E,P,_=[],A=m.length;_[0]=3;for(var k=0;k<A;k+=1)E=m[k-p]||0,P=w&&w[k]||0,_[k+1]=m[k]+256-(E+P>>>1)&255;return _},l=function(m,p,w){var E,P,_,A,k=[],U=m.length;k[0]=4;for(var G=0;G<U;G+=1)E=m[G-p]||0,P=w&&w[G]||0,_=w&&w[G-p]||0,A=c(E,P,_),k[G+1]=m[G]-A+256&255;return k},c=function(m,p,w){if(m===p&&p===w)return m;var E=Math.abs(p-w),P=Math.abs(m-w),_=Math.abs(m+p-w-w);return E<=P&&E<=_?m:P<=_?p:w},h=function(){return[i,s,o,a,l]},d=function(m){var p=m.map(function(w){return w.reduce(function(E,P){return E+Math.abs(P)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(m,p,w,E){var P,_,A,k,U,G,q,R,y,I,L,S,T,N,V,J=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(A=new tD(m)).imgData,_=A.bits,P=A.colorSpace,U=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){y=(R=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,L=new Uint8Array(y*A.colors),I=new Uint8Array(y);var j,H=A.pixelBitlength-A.bits;for(N=0,V=0;N<y;N++){for(T=R[N],j=0;j<H;)L[V++]=T>>>j&255,j+=A.bits;I[N]=T>>>j&255}}if(A.bits===16){y=(R=new Uint32Array(A.decodePixels().buffer)).length,L=new Uint8Array(y*(32/A.pixelBitlength)*A.colors),I=new Uint8Array(y*(32/A.pixelBitlength)),S=A.colors>1,N=0,V=0;for(var Z=0;N<y;)T=R[N++],L[V++]=T>>>0&255,S&&(L[V++]=T>>>16&255,T=R[N++],L[V++]=T>>>0&255),I[Z++]=T>>>16&255;_=8}E!==t.image_compression.NONE&&e()?(m=n(L,A.width*A.colors,A.colors,E),q=n(I,A.width,1,E)):(m=L,q=I,J=void 0)}if(A.colorType===3&&(P=this.color_spaces.INDEXED,G=A.palette,A.transparency.indexed)){var re=A.transparency.indexed,be=0;for(N=0,y=re.length;N<y;++N)be+=re[N];if((be/=255)===y-1&&re.indexOf(0)!==-1)k=[re.indexOf(0)];else if(be!==y){for(R=A.decodePixels(),I=new Uint8Array(R.length),N=0,y=R.length;N<y;N++)I[N]=re[R[N]];q=n(I,A.width,1)}}var M=function(K){var X;switch(K){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(E);return J===this.decode.FLATE_DECODE&&(F="/Predictor "+M+" "),F+="/Colors "+U+" /BitsPerComponent "+_+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:w,data:m,index:p,filter:J,decodeParameters:F,transparency:k,palette:G,sMask:q,predictor:M,width:A.width,height:A.height,bitsPerComponent:_,colorSpace:P}}}})(ft.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new nD(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new v1(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),Zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Zt.log("bit decode error:"+n)}},Zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=t}},Zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},Zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Zi(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new v1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ft.API),Fw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Fw(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new v1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c],d=r[c+1],m=r[c+2],p=r[c+3];s[a++]=h,s[a++]=d,s[a++]=m,o[l++]=p}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Nu=ft.API,Fd=Nu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=e.doKerning!==!1,m=0,p=t.length,w=0,E=a[0]||l,P=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=d&&Wt(c[r])==="object"&&!isNaN(parseInt(c[r][w],10))?c[r][w]/h:0,P.push((a[r]||E)/l+m)),w=r;return P},Rw=Nu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Nu.processArabic&&(t=Nu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Fd.apply(this,arguments).reduce(function(s,o){return s+o},0)},Ow=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Dw=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,h=[],d=[h],m=n.textIndent||0,p=0,w=0,E=t.split(" "),P=Fd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),A=[];E.map(function(U){(U=U.split(/\s*\n/)).length>1?A=A.concat(U.map(function(G,q){return(q&&G.length?`
`:"")+G})):A.push(U[0])}),E=A,l=Rw.apply(this,[_,n])}for(s=0,o=E.length;s<o;s++){var k=0;if(r=E[s],l&&r[0]==`
`&&(r=r.substr(1),k=1),m+p+(w=(i=Fd.apply(this,[r,n])).reduce(function(U,G){return U+G},0))>e||k){if(w>e){for(a=Ow.apply(this,[r,i,e-(m+p),e]),h.push(a.shift()),h=[a.pop()];a.length;)d.push([a.shift()]);w=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(U,G){return U+G},0)}else h=[r];d.push(h),m=w+l,p=P}else h.push(r),m+=p+w,p=P}return c=l?function(U,G){return(G?_:"")+U.join(" ")}:function(U){return U.join(" ")},d.map(c)},Nu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Dw.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var m,p,w,E,P=["{"];for(var _ in d){if(m=d[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=s(_).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(w=s(m).slice(3),E="-"):(w=s(m).slice(2),E=""),w=E+w.slice(0,-1)+r[w.slice(-1)];else{if(Wt(m)!=="object")throw new Error("Don't know what to do with value type "+Wt(m)+".");w=o(m)}P.push(p+w)}return P.push("}"),P.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,w,E,P={},_=1,A=P,k=[],U="",G="",q=d.length-1,R=1;R<q;R+=1)(E=d[R])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(E):E=="{"?(k.push([A,w]),A={},w=void 0):E=="}"?((p=k.pop())[0][p[1]]=A,w=void 0,A=p[0]):E=="-"?_=-1:w===void 0?n.hasOwnProperty(E)?(U+=n[E],w=parseInt(U,16)*_,_=1,U=""):U+=E:n.hasOwnProperty(E)?(G+=n[E],A[w]=parseInt(G,16)*_,_=1,w=void 0,G=""):G+=E;return P},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var m=d.font,p=h.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var w=c.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(qh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(t){function e(){return(dt.canvg?Promise.resolve(dt.canvg):$0(()=>import("./index.es-C3mpd0ZH.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(w){return w.fromString(d,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,d=0;function m(w,E){var P,_=!1;for(P=0;P<w.length;P+=1)w[P]===E&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(Wt(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,E=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?E.push("/"+w+" /"+n[w].value):E.push("/"+w+" "+n[w].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],d=0,m=s.length;d<m;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,c,h,d,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,m=(a=Object.keys(s).sort(function(p,w){return p-w})).length;d<m;d++)o=a[d],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",w=0;w<m.length;w++)p+=String.fromCharCode(m[w]);var E=c();h({data:p,addLength1:!0,objectId:E}),l("endobj");var P=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ou(a.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ou(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+P+" 0 R"),l("/BaseFont /"+Ou(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var w=c();h({data:m,addLength1:!0,objectId:w}),l("endobj");var E=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var P=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ou(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Ou(a.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,h=s.options||{},d=s.mutex||{},m=d.pdfEscape,p=d.activeFontKey,w=d.fonts,E=p,P="",_=0,A="",k=w[E].encoding;if(w[E].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:d};for(A=a,E=p,Array.isArray(a)&&(A=a[0]),_=0;_<A.length;_+=1)w[E].metadata.hasOwnProperty("cmap")&&(o=w[E].metadata.cmap.unicode.codeMap[A[_].charCodeAt(0)]),o||A[_].charCodeAt(0)<256&&w[E].metadata.hasOwnProperty("Unicode")?P+=A[_]:P+="";var U="";return parseInt(E.slice(1))<14||k==="WinAnsiEncoding"?U=m(P,E).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(U=n(P,w[E])),d.isHex=!0,{text:U,x:l,y:c,options:h,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,h,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,k=0;this.__bidiEngine__={};var U=function(S){var T=S.charCodeAt(),N=T>>8,V=E[N];return V!==void 0?d[256*V+(255&T)]:N===252||N===253?"AL":_.test(N)?"L":N===8?"R":"N"},G=function(S){for(var T,N=0;N<S.length;N++){if((T=U(S.charAt(N)))==="L")return!1;if(T==="R")return!0}return!1},q=function(S,T,N,V){var J,F,j,H,Z=T[V];switch(Z){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(Z="AN");break;case"AL":A=!0,Z="R";break;case"WS":Z="N";break;case"CS":V<1||V+1>=T.length||(J=N[V-1])!=="EN"&&J!=="AN"||(F=T[V+1])!=="EN"&&F!=="AN"?Z="N":A&&(F="AN"),Z=F===J?F:"N";break;case"ES":Z=(J=V>0?N[V-1]:"B")==="EN"&&V+1<T.length&&T[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&N[V-1]==="EN"){Z="EN";break}if(A){Z="N";break}for(j=V+1,H=T.length;j<H&&T[j]==="ET";)j++;Z=j<H&&T[j]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=T.length,j=V+1;j<H&&T[j]==="NSM";)j++;if(j<H){var re=S[V],be=re>=1425&&re<=2303||re===64286;if(J=T[j],be&&(J==="R"||J==="AL")){Z="R";break}}}Z=V<1||(J=T[V-1])==="B"?"N":N[V-1];break;case"B":A=!1,i=!0,Z=k;break;case"S":s=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":Z="N"}return Z},R=function(S,T,N){var V=S.split("");return N&&y(V,N,{hiLevel:k}),V.reverse(),T&&T.reverse(),V.join("")},y=function(S,T,N){var V,J,F,j,H,Z=-1,re=S.length,be=0,M=[],K=k?p:m,X=[];for(A=!1,i=!1,s=!1,J=0;J<re;J++)X[J]=U(S[J]);for(F=0;F<re;F++){if(H=be,M[F]=q(S,X,M,F),V=240&(be=K[H][w[M[F]]]),be&=15,T[F]=j=K[be][5],V>0)if(V===16){for(J=Z;J<F;J++)T[J]=1;Z=-1}else Z=-1;if(K[be][6])Z===-1&&(Z=F);else if(Z>-1){for(J=Z;J<F;J++)T[J]=j;Z=-1}X[F]==="B"&&(T[F]=0),N.hiLevel|=j}s&&function(ee,oe,fe){for(var ge=0;ge<fe;ge++)if(ee[ge]==="S"){oe[ge]=k;for(var me=ge-1;me>=0&&ee[me]==="WS";me--)oe[me]=k}}(X,T,re)},I=function(S,T,N,V,J){if(!(J.hiLevel<S)){if(S===1&&k===1&&!i)return T.reverse(),void(N&&N.reverse());for(var F,j,H,Z,re=T.length,be=0;be<re;){if(V[be]>=S){for(H=be+1;H<re&&V[H]>=S;)H++;for(Z=be,j=H-1;Z<j;Z++,j--)F=T[Z],T[Z]=T[j],T[j]=F,N&&(F=N[Z],N[Z]=N[j],N[j]=F);be=H}be++}}},L=function(S,T,N){var V=S.split(""),J={hiLevel:k};return N||(N=[]),y(V,N,J),function(F,j,H){if(H.hiLevel!==0&&h)for(var Z,re=0;re<F.length;re++)j[re]===1&&(Z=P.indexOf(F[re]))>=0&&(F[re]=P[Z+1])}(V,N,J),I(2,V,T,N,J),I(1,V,T,N,J),V.join("")};return this.__bidiEngine__.doBidiReorder=function(S,T,N){if(function(J,F){if(F)for(var j=0;j<J.length;j++)F[j]=j;a===void 0&&(a=G(J)),c===void 0&&(c=G(J))}(S,T),o||!l||c)if(o&&l&&a^c)k=a?1:0,S=R(S,T,N);else if(!o&&l&&c)k=a?1:0,S=L(S,T,N),S=R(S,T);else if(!o||a||l||c){if(o&&!l&&a^c)S=R(S,T),a?(k=0,S=L(S,T,N)):(k=1,S=L(S,T,N),S=R(S,T));else if(o&&a&&!l&&c)k=1,S=L(S,T,N),S=R(S,T);else if(!o&&!l&&a^c){var V=h;a?(k=1,S=L(S,T,N),k=0,h=!1,S=L(S,T,N),h=V):(k=0,S=L(S,T,N),S=R(S,T),k=1,h=!1,S=L(S,T,N),h=V,S=R(S,T))}}else k=0,S=L(S,T,N);else k=a?1:0,S=L(S,T,N);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,c=S.isOutputRtl,h=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ga(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new vD(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new rD(this.contents),this.head=new sD(this),this.name=new cD(this),this.cmap=new yS(this),this.toUnicode={},this.hhea=new oD(this),this.maxp=new hD(this),this.hmtx=new fD(this),this.post=new lD(this),this.os2=new aD(this),this.loca=new gD(this),this.glyf=new dD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fs,Ga=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),rD=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,h,d,m,p,w,E;for(E in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),h=16*p-d,(i=new Ga).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(h),s=16*p,c=i.pos+s,a=null,w=[],n)for(m=n[E],i.writeString(E),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),w=w.concat(m),E==="head"&&(a=c),c+=m.length;c%4;)w.push(0),c++;return i.write(w),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=_S.call(n);n.length%4;)n.push(0);for(s=new Ga(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),iD={}.hasOwnProperty,Hs=function(t,e){for(var n in e)iD.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var sD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ga).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Mw=function(){function t(e,n){var r,i,s,o,a,l,c,h,d,m,p,w,E,P,_,A,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var U,G;for(G=[],l=U=0;0<=m?U<m:U>m;l=0<=m?++U:--U)G.push(e.readUInt16());return G}(),e.pos+=2,E=function(){var U,G;for(G=[],l=U=0;0<=m?U<m:U>m;l=0<=m?++U:--U)G.push(e.readUInt16());return G}(),c=function(){var U,G;for(G=[],l=U=0;0<=m?U<m:U>m;l=0<=m?++U:--U)G.push(e.readUInt16());return G}(),h=function(){var U,G;for(G=[],l=U=0;0<=m?U<m:U>m;l=0<=m?++U:--U)G.push(e.readUInt16());return G}(),i=(this.length-e.pos+this.offset)/2,a=function(){var U,G;for(G=[],l=U=0;0<=i?U<i:U>i;l=0<=i?++U:--U)G.push(e.readUInt16());return G}(),l=_=0,k=s.length;_<k;l=++_)for(P=s[l],r=A=w=E[l];w<=P?A<=P:A>=P;r=w<=P?++A:--A)h[l]===0?o=r+c[l]:(o=a[h[l]/2+(r-w)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,c,h,d,m,p,w,E,P,_,A,k,U,G,q,R,y,I,L,S,T,N,V,J,F,j,H,Z,re,be,M,K,X,ee,oe,fe,ge,me,Ie,xe,Fe;switch(V=new Ga,o=Object.keys(e).sort(function(Be,et){return Be-et}),n){case"macroman":for(E=0,P=function(){var Be=[];for(w=0;w<256;++w)Be.push(0);return Be}(),A={0:0},s={},J=0,Z=o.length;J<Z;J++)A[me=e[i=o[J]]]==null&&(A[me]=++E),s[i]={old:e[i],new:A[e[i]]},P[i]=A[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(P),{charMap:s,subtable:V.data,maxGlyphID:E+1};case"unicode":for(T=[],d=[],k=0,A={},r={},_=c=null,F=0,re=o.length;F<re;F++)A[G=e[i=o[F]]]==null&&(A[G]=++k),r[i]={old:G,new:A[G]},a=A[G]-i,_!=null&&a===c||(_&&d.push(_),T.push(i),c=a),_=i;for(_&&d.push(_),d.push(65535),T.push(65535),L=2*(I=T.length),y=2*Math.pow(Math.log(I)/Math.LN2,2),m=Math.log(y/2)/Math.LN2,R=2*I-y,l=[],q=[],p=[],w=j=0,be=T.length;j<be;w=++j){if(S=T[w],h=d[w],S===65535){l.push(0),q.push(0);break}if(S-(N=r[S].new)>=32768)for(l.push(0),q.push(2*(p.length+I-w)),i=H=S;S<=h?H<=h:H>=h;i=S<=h?++H:--H)p.push(r[i].new);else l.push(N-S),q.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*I+2*p.length),V.writeUInt16(0),V.writeUInt16(L),V.writeUInt16(y),V.writeUInt16(m),V.writeUInt16(R),fe=0,M=d.length;fe<M;fe++)i=d[fe],V.writeUInt16(i);for(V.writeUInt16(0),ge=0,K=T.length;ge<K;ge++)i=T[ge],V.writeUInt16(i);for(Ie=0,X=l.length;Ie<X;Ie++)a=l[Ie],V.writeUInt16(a);for(xe=0,ee=q.length;xe<ee;xe++)U=q[xe],V.writeUInt16(U);for(Fe=0,oe=p.length;Fe<oe;Fe++)E=p[Fe],V.writeUInt16(E);return{charMap:r,subtable:V.data,maxGlyphID:k+1}}},t}(),yS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Mw(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Mw.encode(n,r),(s=new Ga).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),oD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),aD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),lD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),uD=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,h,d,m,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,m=i.length;d<m;o=++d)s=i[o],n.pos=s.offset,h=n.readString(s.length),a=new uD(h,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),hD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),fD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(n.readInt16());return d}(),this.widths=(function(){var h,d,m,p;for(p=[],h=0,d=(m=this.metrics).length;h<d;h++)o=m[h],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),_S=[].slice,dD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,h,d,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Ga(r.read(s))).readShort(),h=l.readShort(),m=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new mD(l,h,m,c,d):new pD(l,a,h,m,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),pD=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),mD=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ga(_S.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),gD=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,fs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var h=new Array(4*i.length),d=0;d<i.length;++d)h[4*d+3]=255&i[d],h[4*d+2]=(65280&i[d])>>8,h[4*d+1]=(16711680&i[d])>>16,h[4*d]=(4278190080&i[d])>>24;return h},e}(),vD=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,h,d,m,p,w,E,P,_;for(i in r=yS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},_=r.charMap)p[(l=_[i]).old]=l.new;for(w in m=r.maxGlyphID,o)w in p||(p[w]=m++);return h=function(A){var k,U;for(k in U={},A)U[A[k]]=k;return U}(p),d=Object.keys(h).sort(function(A,k){return A-k}),E=function(){var A,k,U;for(U=[],A=0,k=d.length;A<k;A++)a=d[A],U.push(h[a]);return U}(),s=this.font.glyf.encode(o,E,p),c=this.font.loca.encode(s.offsets,E),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();async function yD(t,e,n,r){const i=new ft("portrait","mm","a4"),s=r?n:[n[0]],o=vO(t,e);let a=null;try{const d=await fetch("/logo_black.png");if(d.ok){const m=await d.blob();a=await new Promise(p=>{const w=new FileReader;w.onloadend=()=>p(w.result),w.readAsDataURL(m)})}}catch(d){console.log("Could not load logo:",d)}s.forEach((d,m)=>{m>0&&i.addPage(),_D(i,t,e,o,d,a)});const l=XE(e),h=`Timeregistrering_${JE(t,e).replace(" / ","_")}_${l.replace(" / ","_")}.pdf`;i.save(h)}function _D(t,e,n,r,i,s){const o=t.internal.pageSize.getWidth(),a=t.internal.pageSize.getHeight(),l=15;let c=l;t.setFontSize(18),t.setFont("helvetica","bold");const h=JE(e,n);if(t.text(`${h} Timeregistrering`,l,c),s)try{t.addImage(s,"PNG",o-l-40,c-5,40,20)}catch(_){console.log("Error adding logo to PDF:",_)}c+=8,t.setFontSize(12),t.setFont("helvetica","normal");const d=XE(n);t.text(d,l,c),c+=8,t.setFontSize(9),t.setFont("helvetica","normal"),t.text("AC Handymand.dk ApS",l,c),c+=4,t.text("Axel Juels All 72",l,c),c+=4,t.text("2750 Ballerup",l,c),c+=4,t.text("CVR 42397792",l,c),c+=6,t.setFont("helvetica","normal"),t.setFontSize(9),t.text("Oversigt over arbejdstimer, SH og overarbejde (OA).",l,c),c+=4,t.setFont("helvetica","bold"),t.setTextColor(255,0,0),t.text("Afleveres d. 19 i hver mned.",l,c),t.setTextColor(0,0,0),c+=8,wD(t,l,c,o-2*l,r);const m=a-25,p=o/3,w=(o-p)/2;t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Underskrift:",w-25,m),t.line(w,m,w+p,m);const E=t.getTextWidth(i),P=w+(p-E)/2;t.text(i,P,m+6)}function wD(t,e,n,r,i){const s=[{header:"Dato",width:12},{header:"Ugedag",width:14},{header:"Fra kl. / Til kl.",width:32},{header:"Total timer",width:22},{header:`Total timer
minus frokost`,width:28},{header:`Kundens navn / Nume client
By / Oras`,width:50},{header:"Arb. timer",width:22},{header:"OA",width:8}],o=s.reduce((d,m)=>d+m.width,0),a=r/o;s.forEach(d=>d.width*=a);const l=6,c=8;let h=e;t.setFontSize(8),t.setFont("helvetica","bold"),s.forEach(d=>{t.rect(h,n,d.width,c);const m=d.header.split(`
`),p=3,w=n+3;m.forEach((E,P)=>{t.text(E,h+1,w+P*p)}),h+=d.width}),n+=c,t.setFont("helvetica","normal"),t.setFontSize(8),i.forEach(d=>{h=e,s.forEach((m,p)=>{t.rect(h,n,m.width,l);let w="",E=[0,0,0];p===0?w=d.formattedDate:p===1&&(w=d.weekday,d.isWeekend&&(E=[255,0,0])),w&&(t.setTextColor(...E),t.text(w,h+1,n+l/2+1.5),t.setTextColor(0,0,0)),h+=m.width}),n+=l})}function bD(){const[t,e]=_e.useState(new Date().getFullYear()),[n,r]=_e.useState(new Date().getMonth()),[i,s]=_e.useState(!1),[o,a]=_e.useState(""),[l,c]=_e.useState([]),[h,d]=_e.useState(!1),[m,p]=_e.useState(!1),w=yO(),E=Array.from({length:10},(A,k)=>new Date().getFullYear()-2+k);_e.useEffect(()=>{P()},[]);const P=async()=>{d(!0);try{const A=await Uc(zs(Tn,"employees")),k=[];A.forEach(U=>{k.push({id:U.id,...U.data()})}),k.sort((U,G)=>U.name.localeCompare(G.name)),c(k),k.length>0&&!o&&a(k[0].name)}catch(A){console.error("Error loading employees:",A)}finally{d(!1)}},_=async()=>{if(!i&&!o){alert("Vlg venligst en medarbejder.");return}p(!0);try{const A=i?l.map(k=>k.name):[o];await yD(t,n,A,i)}catch(A){console.error("Error generating PDF:",A),alert("Der opstod en fejl ved generering af PDF. Prv igen.")}finally{p(!1)}};return O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:"Timeregistrering"}),O.jsx("p",{children:"Generr timeregistreringsformularer til medarbejdere"})]}),O.jsx("div",{className:"content-card",children:O.jsxs("div",{className:"timesheet-form",children:[O.jsxs("div",{className:"form-section",children:[O.jsx("label",{htmlFor:"year",children:"Vlg r"}),O.jsx("select",{id:"year",value:t,onChange:A=>e(Number(A.target.value)),children:E.map(A=>O.jsx("option",{value:A,children:A},A))})]}),O.jsxs("div",{className:"form-section",children:[O.jsx("label",{htmlFor:"monthPair",children:"Vlg mneder"}),O.jsx("select",{id:"monthPair",value:n,onChange:A=>r(Number(A.target.value)),children:w.map(A=>O.jsx("option",{value:A.value,children:A.label},A.value))})]}),O.jsxs("div",{className:"form-section",children:[O.jsx("label",{children:"Ansatte"}),O.jsxs("div",{className:"checkbox-group",children:[O.jsx("input",{type:"checkbox",id:"allEmployees",checked:i,onChange:A=>s(A.target.checked)}),O.jsx("label",{htmlFor:"allEmployees",children:"Alle ansatte"})]}),h?O.jsx("p",{children:"Indlser medarbejdere..."}):O.jsx("select",{value:o,onChange:A=>a(A.target.value),disabled:i||l.length===0,children:l.length===0?O.jsx("option",{value:"",children:"Ingen medarbejdere tilgngelige"}):l.map(A=>O.jsx("option",{value:A.name,children:A.name},A.id))})]}),m&&O.jsxs("div",{className:"loading-indicator",children:[O.jsx("div",{className:"spinner"}),O.jsx("span",{children:"Genererer dokument..."})]}),O.jsx("button",{className:"btn-generate",onClick:_,disabled:m||l.length===0,children:"Generr og download dokument"}),l.length===0&&!h&&O.jsx("p",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"10px"},children:"Ingen medarbejdere fundet. Tilfj medarbejdere i Indstillinger frst."})]})})]})}function AD({employee:t,onSave:e,onClose:n,isOpen:r}){const[i,s]=_e.useState("");_e.useEffect(()=>{s(t&&t.name||"")},[t,r]);const o=a=>{if(a.preventDefault(),!i.trim()){alert("Indtast venligst et navn.");return}e({name:i.trim()})};return r?O.jsx("div",{className:"modal-overlay",onClick:n,children:O.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:t?"Redigr medarbejder":"Tilfj medarbejder"}),O.jsx("button",{className:"modal-close",onClick:n,children:""})]}),O.jsxs("form",{onSubmit:o,children:[O.jsx("div",{className:"modal-body",children:O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"employeeName",children:"Navn *"}),O.jsx("input",{type:"text",id:"employeeName",value:i,onChange:a=>s(a.target.value),placeholder:"Indtast medarbejdernavn",autoFocus:!0,required:!0})]})}),O.jsxs("div",{className:"modal-footer",children:[O.jsx("button",{type:"button",className:"btn-secondary",onClick:n,children:"Annuller"}),O.jsx("button",{type:"submit",className:"btn-primary",children:t?"Gem":"Tilfj"})]})]})]})}):null}function ED(){const[t,e]=_e.useState([]),[n,r]=_e.useState(!1),[i,s]=_e.useState(!1),[o,a]=_e.useState(null),[l,c]=_e.useState(450),[h,d]=_e.useState(!1),[m,p]=_e.useState(450);_e.useEffect(()=>{w(),E()},[]);const w=async()=>{try{const G=await $v(yi(Tn,"settings","hourlyRates"));if(G.exists()){const q=G.data().defaultRate||450;c(q),p(q)}}catch(G){console.error("Error loading settings:",G)}},E=async()=>{r(!0);try{const G=await Uc(zs(Tn,"employees")),q=[];G.forEach(R=>{q.push({id:R.id,...R.data()})}),q.sort((R,y)=>R.name.localeCompare(y.name)),e(q)}catch(G){console.error("Error loading employees:",G),alert("Der opstod en fejl ved indlsning af medarbejdere.")}finally{r(!1)}},P=async()=>{try{const G=parseFloat(m);if(isNaN(G)||G<=0){alert("Indtast venligst en gyldig timepris.");return}await z0(yi(Tn,"settings","hourlyRates"),{defaultRate:G,updatedAt:new Date().toISOString()}),c(G),d(!1),alert("Timepris gemt!")}catch(G){console.error("Error saving default rate:",G),alert("Der opstod en fejl ved gemning af timepris.")}},_=()=>{a(null),s(!0)},A=G=>{a(G),s(!0)},k=async G=>{if(window.confirm(`Er du sikker p, at du vil slette ${G.name}?`))try{await Qm(yi(Tn,"employees",G.id)),await E()}catch(q){console.error("Error deleting employee:",q),alert("Der opstod en fejl ved sletning af medarbejder.")}},U=async G=>{try{o?await em(yi(Tn,"employees",o.id),{name:G.name,updatedAt:new Date().toISOString()}):await Ym(zs(Tn,"employees"),{name:G.name,createdAt:new Date().toISOString()}),s(!1),await E()}catch(q){console.error("Error saving employee:",q),alert("Der opstod en fejl ved gemning af medarbejder.")}};return O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:"Indstillinger"}),O.jsx("p",{children:"Administrr medarbejdere og priser"})]}),O.jsxs("div",{className:"content-card",style:{marginBottom:"20px"},children:[O.jsx("h2",{style:{marginBottom:"20px",fontSize:"20px",color:"#2c3e50"},children:"Standard Timepris"}),h?O.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[O.jsx("input",{type:"number",value:m,onChange:G=>p(G.target.value),min:"0",step:"50",style:{padding:"10px",fontSize:"18px",width:"150px",border:"1px solid #ddd",borderRadius:"5px"},autoFocus:!0}),O.jsx("span",{style:{color:"#7f8c8d"},children:"kr/time"})]}),O.jsxs("div",{style:{display:"flex",gap:"10px"},children:[O.jsx("button",{className:"btn-secondary",onClick:()=>{p(l),d(!1)},children:"Annuller"}),O.jsx("button",{className:"btn-primary",onClick:P,children:"Gem"})]})]}):O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#27ae60",marginBottom:"5px"},children:[l," kr"]}),O.jsx("div",{style:{fontSize:"14px",color:"#7f8c8d"},children:"Standard timepris brugt for alle sager (kan tilpasses per sag)"})]}),O.jsx("button",{className:"btn-secondary",onClick:()=>d(!0),children:"Redigr"})]})]}),O.jsxs("div",{className:"content-card",children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[O.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#2c3e50"},children:"Medarbejdere"}),O.jsx("button",{className:"btn-primary",onClick:_,children:"+ Tilfj Medarbejder"})]}),n?O.jsx("p",{children:"Indlser medarbejdere..."}):t.length===0?O.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#7f8c8d"},children:O.jsx("p",{children:"Ingen medarbejdere tilfjet endnu."})}):O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{borderBottom:"2px solid #ecf0f1"},children:[O.jsx("th",{style:{textAlign:"left",padding:"12px",color:"#2c3e50",fontWeight:"600"},children:"Navn"}),O.jsx("th",{style:{textAlign:"right",padding:"12px",color:"#2c3e50",fontWeight:"600"},children:"Handlinger"})]})}),O.jsx("tbody",{children:t.map(G=>O.jsxs("tr",{style:{borderBottom:"1px solid #ecf0f1"},children:[O.jsx("td",{style:{padding:"15px"},children:O.jsx("strong",{style:{fontSize:"15px",color:"#2c3e50"},children:G.name})}),O.jsxs("td",{style:{padding:"15px",textAlign:"right"},children:[O.jsx("button",{className:"btn-action btn-edit",onClick:()=>A(G),children:"Redigr"}),O.jsx("button",{className:"btn-action btn-delete",onClick:()=>k(G),children:"Slet"})]})]},G.id))})]})]}),O.jsx(AD,{isOpen:i,onClose:()=>s(!1),onSave:U,employee:o})]})}const SD=async t=>{const e=yi(Tn,"projectCounter",String(t));try{const n=await $v(e);if(n.exists()){const i=(n.data().currentNumber||0)+1;return await z0(e,{currentNumber:i}),Uw(t,i)}else return await z0(e,{currentNumber:1}),Uw(t,1)}catch(n){throw console.error("Error getting next project number:",n),n}},Uw=(t,e)=>{const n=String(e).padStart(4,"0");return`${t}-${n}`},wS=t=>!t||t.length===0?0:t.reduce((e,n)=>e+(n.duration||0),0),xD=t=>!t||t.length===0?0:t.filter(e=>e.billable).reduce((e,n)=>e+(n.duration||0),0),ID=t=>!t||t.length===0?0:t.filter(e=>e.billable).reduce((e,n)=>e+(n.duration||0)*(n.rate||0),0),bS=async t=>{try{const e=SE(zs(Tn,"timeEntries"),xE("projectId","==",t)),n=await Uc(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r.sort((i,s)=>new Date(s.date)-new Date(i.date)),r}catch(e){throw console.error("Error getting project time entries:",e),e}},TD=t=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!0,ND=t=>t?t.replace(/\D/g,"").length===8:!0;function AS({isOpen:t,onClose:e,onSave:n,project:r}){const[i,s]=_e.useState({name:"",customerName:"",customerPhone:"",customerEmail:"",address:"",type:"fixed-price",status:"planned"}),[o,a]=_e.useState({});_e.useEffect(()=>{s(r?{name:r.name||"",customerName:r.customerName||"",customerPhone:r.customerPhone||"",customerEmail:r.customerEmail||"",address:r.address||"",type:r.type||"fixed-price",status:r.status||"planned"}:{name:"",customerName:"",customerPhone:"",customerEmail:"",address:"",type:"fixed-price",status:"planned"}),a({})},[r,t]);const l=d=>{const{name:m,value:p}=d.target;s(w=>({...w,[m]:p})),o[m]&&a(w=>({...w,[m]:null}))},c=()=>{const d={};return(!i.name||i.name.trim().length<3)&&(d.name="Sagsnavn skal vre mindst 3 tegn"),i.customerEmail&&!TD(i.customerEmail)&&(d.customerEmail="Ugyldig email adresse"),i.customerPhone&&!ND(i.customerPhone)&&(d.customerPhone="Telefonnummer skal vre 8 cifre"),a(d),Object.keys(d).length===0},h=d=>{d.preventDefault(),c()&&n(i)};return t?O.jsx("div",{className:"modal-overlay",onClick:e,children:O.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:r?"Redigr Sag":"Ny Sag"}),O.jsx("button",{className:"modal-close",onClick:e,children:""})]}),O.jsxs("form",{onSubmit:h,children:[O.jsxs("div",{className:"modal-body",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"name",children:"Sagsnavn *"}),O.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:l,className:o.name?"error":"",placeholder:"F.eks. Kkkenrenovering"}),o.name&&O.jsx("span",{className:"error-message",children:o.name})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"customerName",children:"Kundenavn"}),O.jsx("input",{type:"text",id:"customerName",name:"customerName",value:i.customerName,onChange:l,placeholder:"F.eks. Peter Jensen"})]}),O.jsxs("div",{className:"form-row",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"customerPhone",children:"Telefon"}),O.jsx("input",{type:"text",id:"customerPhone",name:"customerPhone",value:i.customerPhone,onChange:l,className:o.customerPhone?"error":"",placeholder:"12345678"}),o.customerPhone&&O.jsx("span",{className:"error-message",children:o.customerPhone})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"customerEmail",children:"Email"}),O.jsx("input",{type:"email",id:"customerEmail",name:"customerEmail",value:i.customerEmail,onChange:l,className:o.customerEmail?"error":"",placeholder:"kunde@example.com"}),o.customerEmail&&O.jsx("span",{className:"error-message",children:o.customerEmail})]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"address",children:"Adresse"}),O.jsx("input",{type:"text",id:"address",name:"address",value:i.address,onChange:l,placeholder:"F.eks. Hovedgaden 123, 1234 Kbenhavn"})]}),O.jsxs("div",{className:"form-row",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"type",children:"Type *"}),O.jsxs("select",{id:"type",name:"type",value:i.type,onChange:l,children:[O.jsx("option",{value:"fixed-price",children:"Fast Pris"}),O.jsx("option",{value:"time-material",children:"Tid & Materiale"})]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"status",children:"Status *"}),O.jsxs("select",{id:"status",name:"status",value:i.status,onChange:l,children:[O.jsx("option",{value:"planned",children:"Planlagt"}),O.jsx("option",{value:"in-progress",children:"I Gang"}),O.jsx("option",{value:"ready-for-invoice",children:"Klar til Faktura"}),O.jsx("option",{value:"closed",children:"Lukket"})]})]})]})]}),O.jsxs("div",{className:"modal-footer",children:[O.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Annuller"}),O.jsx("button",{type:"submit",className:"btn-primary",children:r?"Gem ndringer":"Opret Sag"})]})]})]})}):null}function ES({status:t}){const e=r=>{switch(r){case"planned":return"#3498db";case"in-progress":return"#e67e22";case"ready-for-invoice":return"#27ae60";case"closed":return"#95a5a6";default:return"#95a5a6"}},n=r=>{switch(r){case"planned":return"Planlagt";case"in-progress":return"I Gang";case"ready-for-invoice":return"Klar til Faktura";case"closed":return"Lukket";default:return r}};return O.jsx("span",{className:"status-badge",style:{backgroundColor:e(t),color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"13px",fontWeight:"500",display:"inline-block"},children:n(t)})}const vh=t=>new Intl.NumberFormat("da-DK",{style:"currency",currency:"DKK",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),PD=t=>{if(!t)return"";const n=t.replace(/\D/g,"").match(/^(\d{2})(\d{2})(\d{2})(\d{2})$/);return n?`${n[1]} ${n[2]} ${n[3]} ${n[4]}`:t},kD=t=>t?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t)}`:"#",up=t=>{if(!t)return"";typeof t=="string"&&(t=new Date(t));const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${e}/${n}/${r}`},Pu=t=>!t&&t!==0?"0":Number(t).toFixed(1).replace(".",",");function CD(){const t=Lc(),{showSuccess:e,showError:n,showConfirm:r}=xf(),[i,s]=_e.useState([]),[o,a]=_e.useState([]),[l,c]=_e.useState(!1),[h,d]=_e.useState(!1),[m,p]=_e.useState(null),[w,E]=_e.useState(""),[P,_]=_e.useState("all"),[A,k]=_e.useState("all"),[U,G]=_e.useState({});_e.useEffect(()=>{q()},[]),_e.useEffect(()=>{y()},[i,w,P,A]);const q=async()=>{c(!0);try{const J=await Uc(zs(Tn,"projects")),F=[];J.forEach(j=>{F.push({id:j.id,...j.data()})}),F.sort((j,H)=>H.projectNumber&&j.projectNumber?H.projectNumber.localeCompare(j.projectNumber):0),s(F),R(F)}catch(J){console.error("Error loading projects:",J),n("Der opstod en fejl ved indlsning af sager.")}finally{c(!1)}},R=async J=>{const F={};for(const j of J){const H=await bS(j.id);F[j.id]=wS(H)}G(F)},y=()=>{let J=[...i];w.trim()&&(J=J.filter(F=>{var j,H,Z;return((j=F.name)==null?void 0:j.toLowerCase().includes(w.toLowerCase()))||((H=F.customerName)==null?void 0:H.toLowerCase().includes(w.toLowerCase()))||((Z=F.projectNumber)==null?void 0:Z.toLowerCase().includes(w.toLowerCase()))})),P!=="all"&&(J=J.filter(F=>F.status===P)),A!=="all"&&(J=J.filter(F=>F.type===A)),a(J)},I=()=>{p(null),d(!0)},L=(J,F)=>{J.stopPropagation(),p(F),d(!0)},S=async J=>{try{if(m)await em(yi(Tn,"projects",m.id),J),e("Sag opdateret!");else{const F=await SD();await Ym(zs(Tn,"projects"),{...J,projectNumber:F,createdAt:new Date().toISOString()}),e("Sag oprettet!")}d(!1),q()}catch(F){console.error("Error saving project:",F),n("Der opstod en fejl ved gemning af sag.")}},T=async(J,F)=>{if(J.stopPropagation(),!!await r({title:"Slet sag?",message:`Er du sikker p at du vil slette "${F.name}"?`,confirmText:"Ja, slet",cancelText:"Annuller"}))try{await Qm(yi(Tn,"projects",F.id)),e("Sag slettet!"),q()}catch(H){console.error("Error deleting project:",H),n("Der opstod en fejl ved sletning af sag.")}},N=J=>{t(`/sager/${J.id}`)},V=J=>J==="fixed-price"?"Fast Pris":"Tid & Materiale";return O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("h1",{children:"Sager"}),O.jsx("p",{children:"Administrr projekter og timeregistrering"})]}),O.jsxs("div",{className:"content-card",children:[O.jsxs("div",{className:"sager-controls",children:[O.jsx("div",{className:"search-box",children:O.jsx("input",{type:"text",placeholder:"Sg efter sagsnavn, kunde eller sagsnummer...",value:w,onChange:J=>E(J.target.value),className:"search-input"})}),O.jsxs("div",{className:"filter-row",children:[O.jsxs("select",{value:P,onChange:J=>_(J.target.value),className:"filter-select",children:[O.jsx("option",{value:"all",children:"Alle statusser"}),O.jsx("option",{value:"planned",children:"Planlagt"}),O.jsx("option",{value:"in-progress",children:"I Gang"}),O.jsx("option",{value:"ready-for-invoice",children:"Klar til Faktura"}),O.jsx("option",{value:"closed",children:"Lukket"})]}),O.jsxs("select",{value:A,onChange:J=>k(J.target.value),className:"filter-select",children:[O.jsx("option",{value:"all",children:"Alle typer"}),O.jsx("option",{value:"fixed-price",children:"Fast Pris"}),O.jsx("option",{value:"time-material",children:"Tid & Materiale"})]})]}),O.jsx("button",{className:"btn-create-new-compact",onClick:I,children:"+ Opret sag"})]}),l?O.jsx("p",{children:"Indlser sager..."}):o.length===0?O.jsx("div",{className:"empty-state",children:O.jsx("p",{children:i.length===0?"Ingen sager endnu. Opret din frste sag for at komme i gang.":"Ingen sager matcher din sgning eller filtre."})}):O.jsx("div",{className:"table-container",children:O.jsxs("table",{className:"sager-table",children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Sagsnr."}),O.jsx("th",{children:"Navn"}),O.jsx("th",{children:"Kunde"}),O.jsx("th",{children:"Type"}),O.jsx("th",{children:"Status"}),O.jsx("th",{children:"Timer"}),O.jsx("th",{children:"Handlinger"})]})}),O.jsx("tbody",{children:o.map(J=>O.jsxs("tr",{onClick:()=>N(J),className:"clickable-row",children:[O.jsx("td",{className:"project-number",children:J.projectNumber}),O.jsx("td",{className:"project-name",children:J.name}),O.jsx("td",{children:J.customerName||"-"}),O.jsx("td",{children:V(J.type)}),O.jsx("td",{children:O.jsx(ES,{status:J.status})}),O.jsxs("td",{children:[U[J.id]||0," timer"]}),O.jsxs("td",{className:"actions-cell",children:[O.jsx("button",{className:"btn-icon btn-edit",onClick:F=>L(F,J),title:"Redigr",children:""}),O.jsx("button",{className:"btn-icon btn-delete",onClick:F=>T(F,J),title:"Slet",children:""})]})]},J.id))})]})})]}),O.jsx(AS,{isOpen:h,onClose:()=>d(!1),onSave:S,project:m})]})}function LD({timeEntry:t,defaultRate:e,employees:n,onSave:r,onClose:i}){const[s,o]=_e.useState({date:"",duration:"",activity:"",billable:!0,rate:e,useCustomRate:!1,employeeName:"",selectedEmployees:[]}),[a,l]=_e.useState({});_e.useEffect(()=>{if(t)o({date:t.date||"",duration:String(t.duration||t.hours||""),activity:t.activity||t.description||"",billable:t.billable!==void 0?t.billable:!0,rate:t.rate||t.hourlyRate||e,useCustomRate:t.rate!==e,employeeName:t.employeeName||"",selectedEmployees:t.employeeName?[t.employeeName]:[]});else{const E=new Date().toISOString().split("T")[0];o(P=>({...P,date:E,duration:"",activity:"",billable:!0,rate:e,useCustomRate:!1,employeeName:n.length>0?n[0].name:"",selectedEmployees:[]}))}},[t,e,n,!0]);const h=E=>{if(!E)return 0;const P=String(E).replace(",",".");return parseFloat(P)||0},d=E=>{const{name:P,value:_,type:A,checked:k}=E.target;o(A==="checkbox"?P==="billable"?U=>({...U,billable:k,rate:k?U.useCustomRate?U.rate:e:0}):P==="useCustomRate"?U=>({...U,useCustomRate:k,rate:k&&U.rate||e}):U=>({...U,[P]:k}):U=>({...U,[P]:_})),a[P]&&l(U=>({...U,[P]:null}))},m=E=>{o(P=>{const A=P.selectedEmployees.includes(E)?P.selectedEmployees.filter(k=>k!==E):[...P.selectedEmployees,E];return{...P,selectedEmployees:A,employeeName:A.length>0?A.join(", "):""}})},p=()=>{const E={};if(!s.date)E.date="Dato er pkrvet";else{const _=new Date(s.date),A=new Date;A.setHours(0,0,0,0),_>A&&(E.date="Dato kan ikke vre i fremtiden")}const P=h(s.duration);if((!s.duration||P<=0)&&(E.duration="Varighed skal vre et positivt tal"),(!s.activity||s.activity.trim().length<3)&&(E.activity="Aktivitetsbeskrivelse skal vre mindst 3 tegn"),s.billable){const _=h(s.rate);(!s.rate||_<=0)&&(E.rate="Timepris skal vre et positivt tal")}return s.selectedEmployees.length===0&&(E.employeeName="Vlg mindst n medarbejder"),l(E),Object.keys(E).length===0},w=E=>{if(E.preventDefault(),p()){const P={date:s.date,duration:h(s.duration),activity:s.activity,billable:s.billable,rate:s.billable?h(s.rate):0,employeeName:s.employeeName};r(P)}};return O.jsx("div",{className:"modal-overlay",onClick:i,children:O.jsxs("div",{className:"modal-content time-entry-modal",onClick:E=>E.stopPropagation(),children:[O.jsxs("div",{className:"modal-header",children:[O.jsx("h2",{children:t?"Redigr Timer":"Tilfj Timer"}),O.jsx("button",{className:"modal-close",onClick:i,children:""})]}),O.jsxs("form",{onSubmit:w,className:"modal-form",children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"date",children:"Dato *"}),O.jsx("input",{type:"date",id:"date",name:"date",value:s.date,onChange:d,className:a.date?"input-error":"",max:new Date().toISOString().split("T")[0]}),a.date&&O.jsx("span",{className:"error-text",children:a.date})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"duration",children:"Varighed (timer) *"}),O.jsx("input",{type:"text",id:"duration",name:"duration",value:s.duration,onChange:d,className:a.duration?"input-error":"",placeholder:"F.eks. 4,5"}),a.duration&&O.jsx("span",{className:"error-text",children:a.duration}),O.jsx("small",{className:"form-hint",children:"Brug komma for decimaler (f.eks. 4,5 timer)"})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:"Medarbejder(e) *"}),O.jsx("div",{className:"employee-multi-select",children:n.length===0?O.jsx("p",{className:"no-employees-text",children:"Ingen medarbejdere tilgngelige. Tilfj medarbejdere i Indstillinger."}):n.map(E=>O.jsxs("label",{className:"checkbox-modern",children:[O.jsx("input",{type:"checkbox",checked:s.selectedEmployees.includes(E.name),onChange:()=>m(E.name)}),O.jsx("span",{className:"checkbox-label",children:E.name})]},E.id))}),a.employeeName&&O.jsx("span",{className:"error-text",children:a.employeeName})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"activity",children:"Aktivitetsbeskrivelse *"}),O.jsx("textarea",{id:"activity",name:"activity",value:s.activity,onChange:d,className:a.activity?"input-error":"",rows:"3",placeholder:"Beskriv det udfrte arbejde..."}),a.activity&&O.jsx("span",{className:"error-text",children:a.activity})]}),O.jsx("div",{className:"checkbox-group-modern",children:O.jsxs("label",{className:"checkbox-modern",children:[O.jsx("input",{type:"checkbox",name:"billable",checked:s.billable,onChange:d}),O.jsx("span",{className:"checkbox-label",children:"Fakturerbar"})]})}),O.jsxs("div",{className:"rate-section",children:[O.jsx("label",{children:"Timepris (DKK) *"}),s.billable?O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:`rate-display ${s.useCustomRate?"inactive":"active"}`,children:[O.jsxs("span",{className:"rate-value",children:[e," kr"]}),O.jsx("span",{className:"rate-note",children:"Standard timepris"})]}),O.jsx("div",{className:"checkbox-group-modern",children:O.jsxs("label",{className:"checkbox-modern",children:[O.jsx("input",{type:"checkbox",name:"useCustomRate",checked:s.useCustomRate,onChange:d}),O.jsx("span",{className:"checkbox-label",children:"Brug tilpasset timepris"})]})}),s.useCustomRate&&O.jsxs("div",{className:"form-group",children:[O.jsx("input",{type:"text",name:"rate",value:s.rate,onChange:d,className:a.rate?"input-error":"",placeholder:"F.eks. 550"}),a.rate&&O.jsx("span",{className:"error-text",children:a.rate}),O.jsx("small",{className:"form-hint",children:"Brug komma for decimaler (f.eks. 550,50)"})]})]}):O.jsxs("div",{className:"rate-display disabled",children:[O.jsx("span",{className:"rate-value",children:"0 kr"}),O.jsx("span",{className:"rate-note",children:"Ikke fakturerbar"})]})]}),O.jsxs("div",{className:"modal-footer",children:[O.jsx("button",{type:"button",className:"btn-secondary",onClick:i,children:"Annuller"}),O.jsx("button",{type:"submit",className:"btn-primary",children:t?"Gem ndringer":"Tilfj timer"})]})]})]})})}function RD(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function SS(t,e){return new Promise(function(n,r){let i;return OD(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const OD=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let h;switch(s.getUint16(c)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,h)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,h),m=c+d+2+12*s.getUint16(c+d,h);for(let p=c+d+2;p<m;p+=12)if(s.getUint16(p,h)==274){if(s.getUint16(p+2,h)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,h)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,h);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var sm={},DD={get exports(){return sm},set exports(t){sm=t}};(function(t){var e,n,r={};DD.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},h=new Uint8Array(i),d=h.length-4;a(h,d)!=101010256;)d--;l=d,l+=4;var m=o(h,l+=4);o(h,l+=2);var p=a(h,l+=2),w=a(h,l+=4);l+=4,l=w;for(var E=0;E<m;E++){a(h,l),l+=4,l+=4,l+=4,a(h,l+=4),p=a(h,l+=4);var P=a(h,l+=4),_=o(h,l+=4),A=o(h,l+2),k=o(h,l+4);l+=6;var U=a(h,l+=8);l+=4,l+=_+A+k,r._readLocal(h,U,c,p,P,s)}return c},r._readLocal=function(i,s,o,a,l,c){var h=r.bin.readUshort,d=r.bin.readUint;d(i,s),h(i,s+=4),h(i,s+=2);var m=h(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=h(i,s+=8),w=h(i,s+=2);s+=2;var E=r.bin.readUTF8(i,s,p);if(s+=p,s+=w,c)o[E]={size:l,csize:a};else{var P=new Uint8Array(i.buffer,s);if(m==0)o[E]=new Uint8Array(P.buffer.slice(s,s+a));else{if(m!=8)throw"unknown compression method: "+m;var _=new Uint8Array(l);r.inflateRaw(P,_),o[E]=_}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var h in i){var d=!r._noNeed(h)&&!s,m=i[h],p=r.crc.crc(m,0,m.length);c[h]={cpr:d,usize:m.length,crc:p,file:d?r.deflateRaw(m):m}}for(var h in c)o+=c[h].file.length+30+46+2*r.bin.sizeUTF8(h);o+=22;var w=new Uint8Array(o),E=0,P=[];for(var h in c){var _=c[h];P.push(E),E=r._writeHeader(w,E,h,_,0)}var A=0,k=E;for(var h in c)_=c[h],P.push(E),E=r._writeHeader(w,E,h,_,1,P[A++]);var U=E-k;return a(w,E,101010256),E+=4,l(w,E+=4,A),l(w,E+=2,A),a(w,E+=2,U),a(w,E+=4,k),E+=4,E+=2,w.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var h=r.bin.writeUint,d=r.bin.writeUshort,m=a.file;return h(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),h(i,s+=2,0),h(i,s+=4,a.crc),h(i,s+=4,m.length),h(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,h(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(m,s),s+=m.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,h=s+o;c<h;){for(var d=Math.min(c+5552,h);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var h=o.charCodeAt(c);if(!(4294967168&h))i[s+l]=h,l++;else if(!(4294965248&h))i[s+l]=192|h>>6,i[s+l+1]=128|h>>0&63,l+=2;else if(!(4294901760&h))i[s+l]=224|h>>12,i[s+l+1]=128|h>>6&63,i[s+l+2]=128|h>>0&63,l+=3;else{if(4292870144&h)throw"e";i[s+l]=240|h>>18,i[s+l+1]=128|h>>12&63,i[s+l+2]=128|h>>6&63,i[s+l+3]=128|h>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,h=r.F._goodIndex;r.F._hash;var d=r.F._putsE,m=0,p=o<<3,w=0,E=i.length;if(a==0){for(;m<E;)d(s,p,m+(S=Math.min(65535,E-m))==E?1:0),p=r.F._copyExact(i,m,S,s,p+8),m+=S;return p>>>3}var P=c.lits,_=c.strt,A=c.prev,k=0,U=0,G=0,q=0,R=0,y=0;for(E>2&&(_[y=r.F._hash(i,0)]=0),m=0;m<E;m++){if(R=y,m+1<E-2){y=r.F._hash(i,m+1);var I=m+1&32767;A[I]=_[y],_[y]=I}if(w<=m){(k>14e3||U>26697)&&E-m>100&&(w<m&&(P[k]=m-w,k+=2,w=m),p=r.F._writeBlock(m==E-1||w==E?1:0,P,k,q,i,G,m-G,s,p),k=U=q=0,G=m);var L=0;m<E-2&&(L=r.F._bestMatch(i,m,A,R,Math.min(l[2],E-m),l[3]));var S=L>>>16,T=65535&L;if(L!=0){T=65535&L;var N=h(S=L>>>16,c.of0);c.lhst[257+N]++;var V=h(T,c.df0);c.dhst[V]++,q+=c.exb[N]+c.dxb[V],P[k]=S<<23|m-w,P[k+1]=T<<16|N<<8|V,k+=2,w=m+S}else c.lhst[i[m]]++;U++}}for(G==m&&i.length!=0||(w<m&&(P[k]=m-w,k+=2,w=m),p=r.F._writeBlock(1,P,k,q,i,G,m-G,s,p),k=0,U=0,k=U=q=0,G=m);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var h=32767&s,d=o[h],m=h-d+32768&32767;if(d==h||a!=r.F._hash(i,s-m))return 0;for(var p=0,w=0,E=Math.min(32767,s);m<=E&&--c!=0&&d!=h;){if(p==0||i[s+p]==i[s+p-m]){var P=r.F._howLong(i,s,m);if(P>p){if(w=m,(p=P)>=l)break;m+2<P&&(P=m+2);for(var _=0,A=0;A<P-2;A++){var k=s-m+A+32768&32767,U=k-o[k]+32768&32767;U>_&&(_=U,d=k)}}}m+=(h=d)-(d=o[h])+32768&32767}return p<<16|w},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,h,d,m){var p,w,E,P,_,A,k,U,G,q=r.F.U,R=r.F._putsF,y=r.F._putsE;q.lhst[256]++,w=(p=r.F.getTrees())[0],E=p[1],P=p[2],_=p[3],A=p[4],k=p[5],U=p[6],G=p[7];var I=32+(m+3&7?8-(m+3&7):0)+(h<<3),L=a+r.F.contSize(q.fltree,q.lhst)+r.F.contSize(q.fdtree,q.dhst),S=a+r.F.contSize(q.ltree,q.lhst)+r.F.contSize(q.dtree,q.dhst);S+=14+3*k+r.F.contSize(q.itree,q.ihst)+(2*q.ihst[16]+3*q.ihst[17]+7*q.ihst[18]);for(var T=0;T<286;T++)q.lhst[T]=0;for(T=0;T<30;T++)q.dhst[T]=0;for(T=0;T<19;T++)q.ihst[T]=0;var N=I<L&&I<S?0:L<S?1:2;if(R(d,m,i),R(d,m+1,N),m+=3,N==0){for(;7&m;)m++;m=r.F._copyExact(l,c,h,d,m)}else{var V,J;if(N==1&&(V=q.fltree,J=q.fdtree),N==2){r.F.makeCodes(q.ltree,w),r.F.revCodes(q.ltree,w),r.F.makeCodes(q.dtree,E),r.F.revCodes(q.dtree,E),r.F.makeCodes(q.itree,P),r.F.revCodes(q.itree,P),V=q.ltree,J=q.dtree,y(d,m,_-257),y(d,m+=5,A-1),y(d,m+=5,k-4),m+=4;for(var F=0;F<k;F++)y(d,m+3*F,q.itree[1+(q.ordr[F]<<1)]);m+=3*k,m=r.F._codeTiny(U,q.itree,d,m),m=r.F._codeTiny(G,q.itree,d,m)}for(var j=c,H=0;H<o;H+=2){for(var Z=s[H],re=Z>>>23,be=j+(8388607&Z);j<be;)m=r.F._writeLit(l[j++],V,d,m);if(re!=0){var M=s[H+1],K=M>>16,X=M>>8&255,ee=255&M;y(d,m=r.F._writeLit(257+X,V,d,m),re-q.of0[X]),m+=q.exb[X],R(d,m=r.F._writeLit(ee,J,d,m),K-q.df0[ee]),m+=q.dxb[ee],j+=re}}m=r.F._writeLit(256,V,d,m)}return m},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],h=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var m=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,m,l,h,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],h=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,h,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,h=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&h==l){for(var m=a+5;m+2<o&&i[m+2]==l;)m+=2;(p=Math.min(m+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&h==l){for(m=a+5;m+2<o&&i[m+2]==l;)m+=2;var p=Math.min(m+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,h=0;for(h=0;h<c;h+=2)s[h]=0,s[h+1]=0;for(h=0;h<l;h++)i[h]!=0&&a.push({lit:h,f:i[h]});var d=a.length,m=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return m=p==0?1:0,s[1+(p<<1)]=1,s[1+(m<<1)]=1,1}a.sort(function(U,G){return U.f-G.f});var w=a[0],E=a[1],P=0,_=1,A=2;for(a[0]={lit:-1,f:w.f+E.f,l:w,r:E,d:0};_!=d-1;)w=P!=_&&(A==d||a[P].f<a[A].f)?a[P++]:a[A++],E=P!=_&&(A==d||a[P].f<a[A].f)?a[P++]:a[A++],a[_++]={lit:-1,f:w.f+E.f,l:w,r:E};var k=r.F.setDepth(a[_-1],0);for(k>o&&(r.F.restrictDepth(m,o,k),k=o),h=0;h<d;h++)s[1+(m[h].lit<<1)]=m[h].d;return k},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,m){return m.d==d.d?d.f-m.f:m.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var h=i[a].d;i[a].d=s,c+=l-(1<<o-h)}for(c>>>=o-s;c>0;)(h=i[a].d)<s?(i[a].d++,c-=1<<s-h-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,h=a._decodeTiny,d=a.makeCodes,m=a.codes2map,p=a._get17,w=a.U,E=s==null;E&&(s=new o(i.length>>>2<<3));for(var P,_,A=0,k=0,U=0,G=0,q=0,R=0,y=0,I=0,L=0;A==0;)if(A=l(i,L,1),k=l(i,L+1,2),L+=3,k!=0){if(E&&(s=r.F._check(s,I+(1<<17))),k==1&&(P=w.flmap,_=w.fdmap,R=511,y=31),k==2){U=c(i,L,5)+257,G=c(i,L+5,5)+1,q=c(i,L+10,4)+4,L+=14;for(var S=0;S<38;S+=2)w.itree[S]=0,w.itree[S+1]=0;var T=1;for(S=0;S<q;S++){var N=c(i,L+3*S,3);w.itree[1+(w.ordr[S]<<1)]=N,N>T&&(T=N)}L+=3*q,d(w.itree,T),m(w.itree,T,w.imap),P=w.lmap,_=w.dmap,L=h(w.imap,(1<<T)-1,U+G,i,L,w.ttree);var V=a._copyOut(w.ttree,0,U,w.ltree);R=(1<<V)-1;var J=a._copyOut(w.ttree,U,G,w.dtree);y=(1<<J)-1,d(w.ltree,V),m(w.ltree,V,P),d(w.dtree,J),m(w.dtree,J,_)}for(;;){var F=P[p(i,L)&R];L+=15&F;var j=F>>>4;if(!(j>>>8))s[I++]=j;else{if(j==256)break;var H=I+j-254;if(j>264){var Z=w.ldef[j-257];H=I+(Z>>>3)+c(i,L,7&Z),L+=7&Z}var re=_[p(i,L)&y];L+=15&re;var be=re>>>4,M=w.ddef[be],K=(M>>>4)+l(i,L,15&M);for(L+=15&M,E&&(s=r.F._check(s,I+(1<<17)));I<H;)s[I]=s[I++-K],s[I]=s[I++-K],s[I]=s[I++-K],s[I]=s[I++-K];I=H}}}else{7&L&&(L+=8-(7&L));var X=4+(L>>>3),ee=i[X-4]|i[X-3]<<8;E&&(s=r.F._check(s,I+ee)),s.set(new o(i.buffer,i.byteOffset+X,ee),I),L=X+ee<<3,I+=ee}return s.length==I?s:s.slice(0,I)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var h=r.F._bitsE,d=r.F._get17,m=0;m<o;){var p=i[d(a,l)&s];l+=15&p;var w=p>>>4;if(w<=15)c[m]=w,m++;else{var E=0,P=0;w==16?(P=3+h(a,l,2),l+=2,E=c[m-1]):w==17?(P=3+h(a,l,3),l+=3):w==18&&(P=11+h(a,l,7),l+=7);for(var _=m+P;m<_;)c[m]=E,m++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,h=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<h;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,h=r.F.U,d=i.length,m=h.bl_count,p=0;p<=s;p++)m[p]=0;for(p=1;p<d;p+=2)m[i[p]]++;var w=h.next_code;for(o=0,m[0]=0,a=1;a<=s;a++)o=o+m[a-1]<<1,w[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=w[c],w[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var h=c>>1,d=i[c+1],m=h<<4|d,p=s-d,w=i[c]<<p,E=w+(1<<p);w!=E;)o[l[w]>>>15-s]=m,w++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,h){for(;c--!=0;)l.push(0,h)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var jD=RD({__proto__:null,default:sm},[sm]);const es=function(){var t={nextZero(h,d){for(;h[d]!=0;)d++;return d},readUshort:(h,d)=>h[d]<<8|h[d+1],writeUshort(h,d,m){h[d]=m>>8&255,h[d+1]=255&m},readUint:(h,d)=>16777216*h[d]+(h[d+1]<<16|h[d+2]<<8|h[d+3]),writeUint(h,d,m){h[d]=m>>24&255,h[d+1]=m>>16&255,h[d+2]=m>>8&255,h[d+3]=255&m},readASCII(h,d,m){let p="";for(let w=0;w<m;w++)p+=String.fromCharCode(h[d+w]);return p},writeASCII(h,d,m){for(let p=0;p<m.length;p++)h[d+p]=m.charCodeAt(p)},readBytes(h,d,m){const p=[];for(let w=0;w<m;w++)p.push(h[d+w]);return p},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,d,m){let p,w="";for(let E=0;E<m;E++)w+=`%${t.pad(h[d+E].toString(16))}`;try{p=decodeURIComponent(w)}catch{return t.readASCII(h,d,m)}return p}};function e(h,d,m,p){const w=d*m,E=s(p),P=Math.ceil(d*E/8),_=new Uint8Array(4*w),A=new Uint32Array(_.buffer),{ctype:k}=p,{depth:U}=p,G=t.readUshort;if(k==6){const Z=w<<2;if(U==8)for(var q=0;q<Z;q+=4)_[q]=h[q],_[q+1]=h[q+1],_[q+2]=h[q+2],_[q+3]=h[q+3];if(U==16)for(q=0;q<Z;q++)_[q]=h[q<<1]}else if(k==2){const Z=p.tabs.tRNS;if(Z==null){if(U==8)for(q=0;q<w;q++){var R=3*q;A[q]=255<<24|h[R+2]<<16|h[R+1]<<8|h[R]}if(U==16)for(q=0;q<w;q++)R=6*q,A[q]=255<<24|h[R+4]<<16|h[R+2]<<8|h[R]}else{var y=Z[0];const re=Z[1],be=Z[2];if(U==8)for(q=0;q<w;q++){var I=q<<2;R=3*q,A[q]=255<<24|h[R+2]<<16|h[R+1]<<8|h[R],h[R]==y&&h[R+1]==re&&h[R+2]==be&&(_[I+3]=0)}if(U==16)for(q=0;q<w;q++)I=q<<2,R=6*q,A[q]=255<<24|h[R+4]<<16|h[R+2]<<8|h[R],G(h,R)==y&&G(h,R+2)==re&&G(h,R+4)==be&&(_[I+3]=0)}}else if(k==3){const Z=p.tabs.PLTE,re=p.tabs.tRNS,be=re?re.length:0;if(U==1)for(var L=0;L<m;L++){var S=L*P,T=L*d;for(q=0;q<d;q++){I=T+q<<2;var N=3*(V=h[S+(q>>3)]>>7-((7&q)<<0)&1);_[I]=Z[N],_[I+1]=Z[N+1],_[I+2]=Z[N+2],_[I+3]=V<be?re[V]:255}}if(U==2)for(L=0;L<m;L++)for(S=L*P,T=L*d,q=0;q<d;q++)I=T+q<<2,N=3*(V=h[S+(q>>2)]>>6-((3&q)<<1)&3),_[I]=Z[N],_[I+1]=Z[N+1],_[I+2]=Z[N+2],_[I+3]=V<be?re[V]:255;if(U==4)for(L=0;L<m;L++)for(S=L*P,T=L*d,q=0;q<d;q++)I=T+q<<2,N=3*(V=h[S+(q>>1)]>>4-((1&q)<<2)&15),_[I]=Z[N],_[I+1]=Z[N+1],_[I+2]=Z[N+2],_[I+3]=V<be?re[V]:255;if(U==8)for(q=0;q<w;q++){var V;I=q<<2,N=3*(V=h[q]),_[I]=Z[N],_[I+1]=Z[N+1],_[I+2]=Z[N+2],_[I+3]=V<be?re[V]:255}}else if(k==4){if(U==8)for(q=0;q<w;q++){I=q<<2;var J=h[F=q<<1];_[I]=J,_[I+1]=J,_[I+2]=J,_[I+3]=h[F+1]}if(U==16)for(q=0;q<w;q++){var F;I=q<<2,J=h[F=q<<2],_[I]=J,_[I+1]=J,_[I+2]=J,_[I+3]=h[F+2]}}else if(k==0)for(y=p.tabs.tRNS?p.tabs.tRNS:-1,L=0;L<m;L++){const Z=L*P,re=L*d;if(U==1)for(var j=0;j<d;j++){var H=(J=255*(h[Z+(j>>>3)]>>>7-(7&j)&1))==255*y?0:255;A[re+j]=H<<24|J<<16|J<<8|J}else if(U==2)for(j=0;j<d;j++)H=(J=85*(h[Z+(j>>>2)]>>>6-((3&j)<<1)&3))==85*y?0:255,A[re+j]=H<<24|J<<16|J<<8|J;else if(U==4)for(j=0;j<d;j++)H=(J=17*(h[Z+(j>>>1)]>>>4-((1&j)<<2)&15))==17*y?0:255,A[re+j]=H<<24|J<<16|J<<8|J;else if(U==8)for(j=0;j<d;j++)H=(J=h[Z+j])==y?0:255,A[re+j]=H<<24|J<<16|J<<8|J;else if(U==16)for(j=0;j<d;j++)J=h[Z+(j<<1)],H=G(h,Z+(j<<1))==y?0:255,A[re+j]=H<<24|J<<16|J<<8|J}return _}function n(h,d,m,p){const w=s(h),E=Math.ceil(m*w/8),P=new Uint8Array((E+1+h.interlace)*p);return d=h.tabs.CgBI?i(d,P):r(d,P),h.interlace==0?d=o(d,h,0,m,p):h.interlace==1&&(d=function(A,k){const U=k.width,G=k.height,q=s(k),R=q>>3,y=Math.ceil(U*q/8),I=new Uint8Array(G*y);let L=0;const S=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],V=[8,8,4,4,2,2,1];let J=0;for(;J<7;){const j=N[J],H=V[J];let Z=0,re=0,be=S[J];for(;be<G;)be+=j,re++;let M=T[J];for(;M<U;)M+=H,Z++;const K=Math.ceil(Z*q/8);o(A,k,L,Z,re);let X=0,ee=S[J];for(;ee<G;){let oe=T[J],fe=L+X*K<<3;for(;oe<U;){var F;if(q==1&&(F=(F=A[fe>>3])>>7-(7&fe)&1,I[ee*y+(oe>>3)]|=F<<7-((7&oe)<<0)),q==2&&(F=(F=A[fe>>3])>>6-(7&fe)&3,I[ee*y+(oe>>2)]|=F<<6-((3&oe)<<1)),q==4&&(F=(F=A[fe>>3])>>4-(7&fe)&15,I[ee*y+(oe>>1)]|=F<<4-((1&oe)<<2)),q>=8){const ge=ee*y+oe*R;for(let me=0;me<R;me++)I[ge+me]=A[(fe>>3)+me]}fe+=q,oe+=H}X++,ee+=j}Z*re!=0&&(L+=re*(1+K)),J+=1}return I}(d,h)),d}function r(h,d){return i(new Uint8Array(h.buffer,2,h.length-6),d)}var i=function(){const h={H:{}};return h.H.N=function(d,m){const p=Uint8Array;let w,E,P=0,_=0,A=0,k=0,U=0,G=0,q=0,R=0,y=0;if(d[0]==3&&d[1]==0)return m||new p(0);const I=h.H,L=I.b,S=I.e,T=I.R,N=I.n,V=I.A,J=I.Z,F=I.m,j=m==null;for(j&&(m=new p(d.length>>>2<<5));P==0;)if(P=L(d,y,1),_=L(d,y+1,2),y+=3,_!=0){if(j&&(m=h.H.W(m,R+(1<<17))),_==1&&(w=F.J,E=F.h,G=511,q=31),_==2){A=S(d,y,5)+257,k=S(d,y+5,5)+1,U=S(d,y+10,4)+4,y+=14;let Z=1;for(var H=0;H<38;H+=2)F.Q[H]=0,F.Q[H+1]=0;for(H=0;H<U;H++){const M=S(d,y+3*H,3);F.Q[1+(F.X[H]<<1)]=M,M>Z&&(Z=M)}y+=3*U,N(F.Q,Z),V(F.Q,Z,F.u),w=F.w,E=F.d,y=T(F.u,(1<<Z)-1,A+k,d,y,F.v);const re=I.V(F.v,0,A,F.C);G=(1<<re)-1;const be=I.V(F.v,A,k,F.D);q=(1<<be)-1,N(F.C,re),V(F.C,re,w),N(F.D,be),V(F.D,be,E)}for(;;){const Z=w[J(d,y)&G];y+=15&Z;const re=Z>>>4;if(!(re>>>8))m[R++]=re;else{if(re==256)break;{let be=R+re-254;if(re>264){const oe=F.q[re-257];be=R+(oe>>>3)+S(d,y,7&oe),y+=7&oe}const M=E[J(d,y)&q];y+=15&M;const K=M>>>4,X=F.c[K],ee=(X>>>4)+L(d,y,15&X);for(y+=15&X;R<be;)m[R]=m[R++-ee],m[R]=m[R++-ee],m[R]=m[R++-ee],m[R]=m[R++-ee];R=be}}}}else{7&y&&(y+=8-(7&y));const Z=4+(y>>>3),re=d[Z-4]|d[Z-3]<<8;j&&(m=h.H.W(m,R+re)),m.set(new p(d.buffer,d.byteOffset+Z,re),R),y=Z+re<<3,R+=re}return m.length==R?m:m.slice(0,R)},h.H.W=function(d,m){const p=d.length;if(m<=p)return d;const w=new Uint8Array(p<<1);return w.set(d,0),w},h.H.R=function(d,m,p,w,E,P){const _=h.H.e,A=h.H.Z;let k=0;for(;k<p;){const U=d[A(w,E)&m];E+=15&U;const G=U>>>4;if(G<=15)P[k]=G,k++;else{let q=0,R=0;G==16?(R=3+_(w,E,2),E+=2,q=P[k-1]):G==17?(R=3+_(w,E,3),E+=3):G==18&&(R=11+_(w,E,7),E+=7);const y=k+R;for(;k<y;)P[k]=q,k++}}return E},h.H.V=function(d,m,p,w){let E=0,P=0;const _=w.length>>>1;for(;P<p;){const A=d[P+m];w[P<<1]=0,w[1+(P<<1)]=A,A>E&&(E=A),P++}for(;P<_;)w[P<<1]=0,w[1+(P<<1)]=0,P++;return E},h.H.n=function(d,m){const p=h.H.m,w=d.length;let E,P,_,A;const k=p.j;for(var U=0;U<=m;U++)k[U]=0;for(U=1;U<w;U+=2)k[d[U]]++;const G=p.K;for(E=0,k[0]=0,P=1;P<=m;P++)E=E+k[P-1]<<1,G[P]=E;for(_=0;_<w;_+=2)A=d[_+1],A!=0&&(d[_]=G[A],G[A]++)},h.H.A=function(d,m,p){const w=d.length,E=h.H.m.r;for(let P=0;P<w;P+=2)if(d[P+1]!=0){const _=P>>1,A=d[P+1],k=_<<4|A,U=m-A;let G=d[P]<<U;const q=G+(1<<U);for(;G!=q;)p[E[G]>>>15-m]=k,G++}},h.H.l=function(d,m){const p=h.H.m.r,w=15-m;for(let E=0;E<d.length;E+=2){const P=d[E]<<m-d[E+1];d[E]=p[P]>>>w}},h.H.M=function(d,m,p){p<<=7&m;const w=m>>>3;d[w]|=p,d[w+1]|=p>>>8},h.H.I=function(d,m,p){p<<=7&m;const w=m>>>3;d[w]|=p,d[w+1]|=p>>>8,d[w+2]|=p>>>16},h.H.e=function(d,m,p){return(d[m>>>3]|d[1+(m>>>3)]<<8)>>>(7&m)&(1<<p)-1},h.H.b=function(d,m,p){return(d[m>>>3]|d[1+(m>>>3)]<<8|d[2+(m>>>3)]<<16)>>>(7&m)&(1<<p)-1},h.H.Z=function(d,m){return(d[m>>>3]|d[1+(m>>>3)]<<8|d[2+(m>>>3)]<<16)>>>(7&m)},h.H.i=function(d,m){return(d[m>>>3]|d[1+(m>>>3)]<<8|d[2+(m>>>3)]<<16|d[3+(m>>>3)]<<24)>>>(7&m)},h.H.m=function(){const d=Uint16Array,m=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=h.H.m;for(var m=0;m<32768;m++){let w=m;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,d.r[m]=(w>>>16|w<<16)>>>17}function p(w,E,P){for(;E--!=0;)w.push(0,P)}for(m=0;m<32;m++)d.q[m]=d.S[m]<<3|d.T[m],d.c[m]=d.p[m]<<4|d.z[m];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),h.H.n(d._,9),h.H.A(d._,9,d.J),h.H.l(d._,9),p(d.$,32,5),h.H.n(d.$,5),h.H.A(d.$,5,d.h),h.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),h.H.N}();function s(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function o(h,d,m,p,w){let E=s(d);const P=Math.ceil(p*E/8);let _,A;E=Math.ceil(E/8);let k=h[m],U=0;if(k>1&&(h[m]=[0,0,1][k-2]),k==3)for(U=E;U<P;U++)h[U+1]=h[U+1]+(h[U+1-E]>>>1)&255;for(let G=0;G<w;G++)if(_=m+G*P,A=_+G+1,k=h[A-1],U=0,k==0)for(;U<P;U++)h[_+U]=h[A+U];else if(k==1){for(;U<E;U++)h[_+U]=h[A+U];for(;U<P;U++)h[_+U]=h[A+U]+h[_+U-E]}else if(k==2)for(;U<P;U++)h[_+U]=h[A+U]+h[_+U-P];else if(k==3){for(;U<E;U++)h[_+U]=h[A+U]+(h[_+U-P]>>>1);for(;U<P;U++)h[_+U]=h[A+U]+(h[_+U-P]+h[_+U-E]>>>1)}else{for(;U<E;U++)h[_+U]=h[A+U]+a(0,h[_+U-P],0);for(;U<P;U++)h[_+U]=h[A+U]+a(h[_+U-E],h[_+U-P],h[_+U-E-P])}return h}function a(h,d,m){const p=h+d-m,w=p-h,E=p-d,P=p-m;return w*w<=E*E&&w*w<=P*P?h:E*E<=P*P?d:m}function l(h,d,m){m.width=t.readUint(h,d),d+=4,m.height=t.readUint(h,d),d+=4,m.depth=h[d],d++,m.ctype=h[d],d++,m.compress=h[d],d++,m.filter=h[d],d++,m.interlace=h[d],d++}function c(h,d,m,p,w,E,P,_,A){const k=Math.min(d,w),U=Math.min(m,E);let G=0,q=0;for(let J=0;J<U;J++)for(let F=0;F<k;F++)if(P>=0&&_>=0?(G=J*d+F<<2,q=(_+J)*w+P+F<<2):(G=(-_+J)*d-P+F<<2,q=J*w+F<<2),A==0)p[q]=h[G],p[q+1]=h[G+1],p[q+2]=h[G+2],p[q+3]=h[G+3];else if(A==1){var R=h[G+3]*.00392156862745098,y=h[G]*R,I=h[G+1]*R,L=h[G+2]*R,S=p[q+3]*(1/255),T=p[q]*S,N=p[q+1]*S,V=p[q+2]*S;const j=1-R,H=R+S*j,Z=H==0?0:1/H;p[q+3]=255*H,p[q+0]=(y+T*j)*Z,p[q+1]=(I+N*j)*Z,p[q+2]=(L+V*j)*Z}else if(A==2)R=h[G+3],y=h[G],I=h[G+1],L=h[G+2],S=p[q+3],T=p[q],N=p[q+1],V=p[q+2],R==S&&y==T&&I==N&&L==V?(p[q]=0,p[q+1]=0,p[q+2]=0,p[q+3]=0):(p[q]=y,p[q+1]=I,p[q+2]=L,p[q+3]=R);else if(A==3){if(R=h[G+3],y=h[G],I=h[G+1],L=h[G+2],S=p[q+3],T=p[q],N=p[q+1],V=p[q+2],R==S&&y==T&&I==N&&L==V)continue;if(R<220&&S>20)return!1}return!0}return{decode:function(d){const m=new Uint8Array(d);let p=8;const w=t,E=w.readUshort,P=w.readUint,_={tabs:{},frames:[]},A=new Uint8Array(m.length);let k,U=0,G=0;const q=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(m[R]!=q[R])throw"The input is not a PNG file!";for(;p<m.length;){const J=w.readUint(m,p);p+=4;const F=w.readASCII(m,p,4);if(p+=4,F=="IHDR")l(m,p,_);else if(F=="iCCP"){for(var y=p;m[y]!=0;)y++;w.readASCII(m,p,y-p),m[y+1];const j=m.slice(y+2,p+J);let H=null;try{H=r(j)}catch{H=i(j)}_.tabs[F]=H}else if(F=="CgBI")_.tabs[F]=m.slice(p,p+4);else if(F=="IDAT"){for(R=0;R<J;R++)A[U+R]=m[p+R];U+=J}else if(F=="acTL")_.tabs[F]={num_frames:P(m,p),num_plays:P(m,p+4)},k=new Uint8Array(m.length);else if(F=="fcTL"){G!=0&&((V=_.frames[_.frames.length-1]).data=n(_,k.slice(0,G),V.rect.width,V.rect.height),G=0);const j={x:P(m,p+12),y:P(m,p+16),width:P(m,p+4),height:P(m,p+8)};let H=E(m,p+22);H=E(m,p+20)/(H==0?100:H);const Z={rect:j,delay:Math.round(1e3*H),dispose:m[p+24],blend:m[p+25]};_.frames.push(Z)}else if(F=="fdAT"){for(R=0;R<J-4;R++)k[G+R]=m[p+R+4];G+=J-4}else if(F=="pHYs")_.tabs[F]=[w.readUint(m,p),w.readUint(m,p+4),m[p+8]];else if(F=="cHRM")for(_.tabs[F]=[],R=0;R<8;R++)_.tabs[F].push(w.readUint(m,p+4*R));else if(F=="tEXt"||F=="zTXt"){_.tabs[F]==null&&(_.tabs[F]={});var I=w.nextZero(m,p),L=w.readASCII(m,p,I-p),S=p+J-I-1;if(F=="tEXt")N=w.readASCII(m,I+1,S);else{var T=r(m.slice(I+2,I+2+S));N=w.readUTF8(T,0,T.length)}_.tabs[F][L]=N}else if(F=="iTXt"){_.tabs[F]==null&&(_.tabs[F]={}),I=0,y=p,I=w.nextZero(m,y),L=w.readASCII(m,y,I-y);const j=m[y=I+1];var N;m[y+1],y+=2,I=w.nextZero(m,y),w.readASCII(m,y,I-y),y=I+1,I=w.nextZero(m,y),w.readUTF8(m,y,I-y),S=J-((y=I+1)-p),j==0?N=w.readUTF8(m,y,S):(T=r(m.slice(y,y+S)),N=w.readUTF8(T,0,T.length)),_.tabs[F][L]=N}else if(F=="PLTE")_.tabs[F]=w.readBytes(m,p,J);else if(F=="hIST"){const j=_.tabs.PLTE.length/3;for(_.tabs[F]=[],R=0;R<j;R++)_.tabs[F].push(E(m,p+2*R))}else if(F=="tRNS")_.ctype==3?_.tabs[F]=w.readBytes(m,p,J):_.ctype==0?_.tabs[F]=E(m,p):_.ctype==2&&(_.tabs[F]=[E(m,p),E(m,p+2),E(m,p+4)]);else if(F=="gAMA")_.tabs[F]=w.readUint(m,p)/1e5;else if(F=="sRGB")_.tabs[F]=m[p];else if(F=="bKGD")_.ctype==0||_.ctype==4?_.tabs[F]=[E(m,p)]:_.ctype==2||_.ctype==6?_.tabs[F]=[E(m,p),E(m,p+2),E(m,p+4)]:_.ctype==3&&(_.tabs[F]=m[p]);else if(F=="IEND")break;p+=J,w.readUint(m,p),p+=4}var V;return G!=0&&((V=_.frames[_.frames.length-1]).data=n(_,k.slice(0,G),V.rect.width,V.rect.height)),_.data=n(_,A,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(d){const m=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,m,p,d).buffer];const w=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const E=m*p*4,P=new Uint8Array(E),_=new Uint8Array(E),A=new Uint8Array(E);for(let U=0;U<d.frames.length;U++){const G=d.frames[U],q=G.rect.x,R=G.rect.y,y=G.rect.width,I=G.rect.height,L=e(G.data,y,I,d);if(U!=0)for(var k=0;k<E;k++)A[k]=P[k];if(G.blend==0?c(L,y,I,P,m,p,q,R,0):G.blend==1&&c(L,y,I,P,m,p,q,R,1),w.push(P.buffer.slice(0)),G.dispose!=0){if(G.dispose==1)c(_,y,I,P,m,p,q,R,0);else if(G.dispose==2)for(k=0;k<E;k++)P[k]=A[k]}}return w},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=es,{_bin:e}=es,n=es._paeth;var r={table:function(){const y=new Uint32Array(256);for(let I=0;I<256;I++){let L=I;for(let S=0;S<8;S++)1&L?L=3988292384^L>>>1:L>>>=1;y[I]=L}return y}(),update(y,I,L,S){for(let T=0;T<S;T++)y=r.table[255&(y^I[L+T])]^y>>>8;return y},crc:(y,I,L)=>4294967295^r.update(4294967295,y,I,L)};function i(y,I,L,S){I[L]+=y[0]*S>>4,I[L+1]+=y[1]*S>>4,I[L+2]+=y[2]*S>>4,I[L+3]+=y[3]*S>>4}function s(y){return Math.max(0,Math.min(255,y))}function o(y,I){const L=y[0]-I[0],S=y[1]-I[1],T=y[2]-I[2],N=y[3]-I[3];return L*L+S*S+T*T+N*N}function a(y,I,L,S,T,N,V){V==null&&(V=1);const J=S.length,F=[];for(var j=0;j<J;j++){const ee=S[j];F.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(j=0;j<J;j++){let ee=4294967295;for(var H=0,Z=0;Z<J;Z++){var re=o(F[j],F[Z]);Z!=j&&re<ee&&(ee=re,H=Z)}}const be=new Uint32Array(T.buffer),M=new Int16Array(I*L*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<K.length;j++)K[j]=255*((K[j]+.5)/16-.5);for(let ee=0;ee<L;ee++)for(let oe=0;oe<I;oe++){var X;j=4*(ee*I+oe),V!=2?X=[s(y[j]+M[j]),s(y[j+1]+M[j+1]),s(y[j+2]+M[j+2]),s(y[j+3]+M[j+3])]:(re=K[4*(3&ee)+(3&oe)],X=[s(y[j]+re),s(y[j+1]+re),s(y[j+2]+re),s(y[j+3]+re)]),H=0;let fe=16777215;for(Z=0;Z<J;Z++){const Ie=o(X,F[Z]);Ie<fe&&(fe=Ie,H=Z)}const ge=F[H],me=[X[0]-ge[0],X[1]-ge[1],X[2]-ge[2],X[3]-ge[3]];V==1&&(oe!=I-1&&i(me,M,j+4,7),ee!=L-1&&(oe!=0&&i(me,M,j+4*I-4,3),i(me,M,j+4*I,5),oe!=I-1&&i(me,M,j+4*I+4,1))),N[j>>2]=H,be[j>>2]=S[H]}}function l(y,I,L,S,T){T==null&&(T={});const{crc:N}=r,V=e.writeUint,J=e.writeUshort,F=e.writeASCII;let j=8;const H=y.frames.length>1;let Z,re=!1,be=33+(H?20:0);if(T.sRGB!=null&&(be+=13),T.pHYs!=null&&(be+=21),T.iCCP!=null&&(Z=pako.deflate(T.iCCP),be+=21+Z.length+4),y.ctype==3){for(var M=y.plte.length,K=0;K<M;K++)y.plte[K]>>>24!=255&&(re=!0);be+=8+3*M+4+(re?8+1*M+4:0)}for(var X=0;X<y.frames.length;X++)H&&(be+=38),be+=(ge=y.frames[X]).cimg.length+12,X!=0&&(be+=4);be+=12;const ee=new Uint8Array(be),oe=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)ee[K]=oe[K];if(V(ee,j,13),j+=4,F(ee,j,"IHDR"),j+=4,V(ee,j,I),j+=4,V(ee,j,L),j+=4,ee[j]=y.depth,j++,ee[j]=y.ctype,j++,ee[j]=0,j++,ee[j]=0,j++,ee[j]=0,j++,V(ee,j,N(ee,j-17,17)),j+=4,T.sRGB!=null&&(V(ee,j,1),j+=4,F(ee,j,"sRGB"),j+=4,ee[j]=T.sRGB,j++,V(ee,j,N(ee,j-5,5)),j+=4),T.iCCP!=null){const me=13+Z.length;V(ee,j,me),j+=4,F(ee,j,"iCCP"),j+=4,F(ee,j,"ICC profile"),j+=11,j+=2,ee.set(Z,j),j+=Z.length,V(ee,j,N(ee,j-(me+4),me+4)),j+=4}if(T.pHYs!=null&&(V(ee,j,9),j+=4,F(ee,j,"pHYs"),j+=4,V(ee,j,T.pHYs[0]),j+=4,V(ee,j,T.pHYs[1]),j+=4,ee[j]=T.pHYs[2],j++,V(ee,j,N(ee,j-13,13)),j+=4),H&&(V(ee,j,8),j+=4,F(ee,j,"acTL"),j+=4,V(ee,j,y.frames.length),j+=4,V(ee,j,T.loop!=null?T.loop:0),j+=4,V(ee,j,N(ee,j-12,12)),j+=4),y.ctype==3){for(V(ee,j,3*(M=y.plte.length)),j+=4,F(ee,j,"PLTE"),j+=4,K=0;K<M;K++){const me=3*K,Ie=y.plte[K],xe=255&Ie,Fe=Ie>>>8&255,Be=Ie>>>16&255;ee[j+me+0]=xe,ee[j+me+1]=Fe,ee[j+me+2]=Be}if(j+=3*M,V(ee,j,N(ee,j-3*M-4,3*M+4)),j+=4,re){for(V(ee,j,M),j+=4,F(ee,j,"tRNS"),j+=4,K=0;K<M;K++)ee[j+K]=y.plte[K]>>>24&255;j+=M,V(ee,j,N(ee,j-M-4,M+4)),j+=4}}let fe=0;for(X=0;X<y.frames.length;X++){var ge=y.frames[X];H&&(V(ee,j,26),j+=4,F(ee,j,"fcTL"),j+=4,V(ee,j,fe++),j+=4,V(ee,j,ge.rect.width),j+=4,V(ee,j,ge.rect.height),j+=4,V(ee,j,ge.rect.x),j+=4,V(ee,j,ge.rect.y),j+=4,J(ee,j,S[X]),j+=2,J(ee,j,1e3),j+=2,ee[j]=ge.dispose,j++,ee[j]=ge.blend,j++,V(ee,j,N(ee,j-30,30)),j+=4);const me=ge.cimg;V(ee,j,(M=me.length)+(X==0?0:4)),j+=4;const Ie=j;F(ee,j,X==0?"IDAT":"fdAT"),j+=4,X!=0&&(V(ee,j,fe++),j+=4),ee.set(me,j),j+=M,V(ee,j,N(ee,Ie,j-Ie)),j+=4}return V(ee,j,0),j+=4,F(ee,j,"IEND"),j+=4,V(ee,j,N(ee,j-4,4)),j+=4,ee.buffer}function c(y,I,L){for(let S=0;S<y.frames.length;S++){const T=y.frames[S];T.rect.width;const N=T.rect.height,V=new Uint8Array(N*T.bpl+N);T.cimg=p(T.img,N,T.bpp,T.bpl,V,I,L)}}function h(y,I,L,S,T){const N=T[0],V=T[1],J=T[2],F=T[3],j=T[4],H=T[5];let Z=6,re=8,be=255;for(var M=0;M<y.length;M++){const se=new Uint8Array(y[M]);for(var K=se.length,X=0;X<K;X+=4)be&=se[X+3]}const ee=be!=255,oe=function(Qe,ze,Ne,De,Me,Ve){const $e=[];for(var Ke=0;Ke<Qe.length;Ke++){const at=new Uint8Array(Qe[Ke]),qe=new Uint32Array(at.buffer);var st;let Ct=0,vt=0,rn=ze,St=Ne,Vt=De?1:0;if(Ke!=0){const qr=Ve||De||Ke==1||$e[Ke-2].dispose!=0?1:2;let It=0,oi=1e9;for(let Mt=0;Mt<qr;Mt++){var tt=new Uint8Array(Qe[Ke-1-Mt]);const $n=new Uint32Array(Qe[Ke-1-Mt]);let bn=ze,Lt=Ne,it=-1,xt=-1;for(let Qt=0;Qt<Ne;Qt++)for(let fn=0;fn<ze;fn++)qe[ht=Qt*ze+fn]!=$n[ht]&&(fn<bn&&(bn=fn),fn>it&&(it=fn),Qt<Lt&&(Lt=Qt),Qt>xt&&(xt=Qt));it==-1&&(bn=Lt=it=xt=0),Me&&((1&bn)==1&&bn--,(1&Lt)==1&&Lt--);const kr=(it-bn+1)*(xt-Lt+1);kr<oi&&(oi=kr,It=Mt,Ct=bn,vt=Lt,rn=it-bn+1,St=xt-Lt+1)}tt=new Uint8Array(Qe[Ke-1-It]),It==1&&($e[Ke-1].dispose=2),st=new Uint8Array(rn*St*4),t(tt,ze,Ne,st,rn,St,-Ct,-vt,0),Vt=t(at,ze,Ne,st,rn,St,-Ct,-vt,3)?1:0,Vt==1?m(at,ze,Ne,st,{x:Ct,y:vt,width:rn,height:St}):t(at,ze,Ne,st,rn,St,-Ct,-vt,0)}else st=at.slice(0);$e.push({rect:{x:Ct,y:vt,width:rn,height:St},img:st,blend:Vt,dispose:0})}if(De)for(Ke=0;Ke<$e.length;Ke++){if((ot=$e[Ke]).blend==1)continue;const at=ot.rect,qe=$e[Ke-1].rect,Ct=Math.min(at.x,qe.x),vt=Math.min(at.y,qe.y),rn={x:Ct,y:vt,width:Math.max(at.x+at.width,qe.x+qe.width)-Ct,height:Math.max(at.y+at.height,qe.y+qe.height)-vt};$e[Ke-1].dispose=1,Ke-1!=0&&d(Qe,ze,Ne,$e,Ke-1,rn,Me),d(Qe,ze,Ne,$e,Ke,rn,Me)}let lt=0;if(Qe.length!=1)for(var ht=0;ht<$e.length;ht++){var ot;lt+=(ot=$e[ht]).rect.width*ot.rect.height}return $e}(y,I,L,N,V,J),fe={},ge=[],me=[];if(S!=0){const se=[];for(X=0;X<oe.length;X++)se.push(oe[X].img.buffer);const Qe=function(Me){let Ve=0;for(var $e=0;$e<Me.length;$e++)Ve+=Me[$e].byteLength;const Ke=new Uint8Array(Ve);let st=0;for($e=0;$e<Me.length;$e++){const tt=new Uint8Array(Me[$e]),lt=tt.length;for(let ht=0;ht<lt;ht+=4){let ot=tt[ht],at=tt[ht+1],qe=tt[ht+2];const Ct=tt[ht+3];Ct==0&&(ot=at=qe=0),Ke[st+ht]=ot,Ke[st+ht+1]=at,Ke[st+ht+2]=qe,Ke[st+ht+3]=Ct}st+=lt}return Ke.buffer}(se),ze=E(Qe,S);for(X=0;X<ze.plte.length;X++)ge.push(ze.plte[X].est.rgba);let Ne=0;for(X=0;X<oe.length;X++){const De=(xe=oe[X]).img.length;var Ie=new Uint8Array(ze.inds.buffer,Ne>>2,De>>2);me.push(Ie);const Me=new Uint8Array(ze.abuf,Ne,De);H&&a(xe.img,xe.rect.width,xe.rect.height,ge,Me,Ie),xe.img.set(Me),Ne+=De}}else for(M=0;M<oe.length;M++){var xe=oe[M];const se=new Uint32Array(xe.img.buffer);var Fe=xe.rect.width;for(K=se.length,Ie=new Uint8Array(K),me.push(Ie),X=0;X<K;X++){const Qe=se[X];if(X!=0&&Qe==se[X-1])Ie[X]=Ie[X-1];else if(X>Fe&&Qe==se[X-Fe])Ie[X]=Ie[X-Fe];else{let ze=fe[Qe];if(ze==null&&(fe[Qe]=ze=ge.length,ge.push(Qe),ge.length>=300))break;Ie[X]=ze}}}const Be=ge.length;for(Be<=256&&j==0&&(re=Be<=2?1:Be<=4?2:Be<=16?4:8,re=Math.max(re,F)),M=0;M<oe.length;M++){(xe=oe[M]).rect.x,xe.rect.y,Fe=xe.rect.width;const se=xe.rect.height;let Qe=xe.img;new Uint32Array(Qe.buffer);let ze=4*Fe,Ne=4;if(Be<=256&&j==0){ze=Math.ceil(re*Fe/8);var et=new Uint8Array(ze*se);const De=me[M];for(let Me=0;Me<se;Me++){X=Me*ze;const Ve=Me*Fe;if(re==8)for(var Ae=0;Ae<Fe;Ae++)et[X+Ae]=De[Ve+Ae];else if(re==4)for(Ae=0;Ae<Fe;Ae++)et[X+(Ae>>1)]|=De[Ve+Ae]<<4-4*(1&Ae);else if(re==2)for(Ae=0;Ae<Fe;Ae++)et[X+(Ae>>2)]|=De[Ve+Ae]<<6-2*(3&Ae);else if(re==1)for(Ae=0;Ae<Fe;Ae++)et[X+(Ae>>3)]|=De[Ve+Ae]<<7-1*(7&Ae)}Qe=et,Z=3,Ne=1}else if(ee==0&&oe.length==1){et=new Uint8Array(Fe*se*3);const De=Fe*se;for(X=0;X<De;X++){const Me=3*X,Ve=4*X;et[Me]=Qe[Ve],et[Me+1]=Qe[Ve+1],et[Me+2]=Qe[Ve+2]}Qe=et,Z=2,Ne=3,ze=3*Fe}xe.img=Qe,xe.bpl=ze,xe.bpp=Ne}return{ctype:Z,depth:re,plte:ge,frames:oe}}function d(y,I,L,S,T,N,V){const J=Uint8Array,F=Uint32Array,j=new J(y[T-1]),H=new F(y[T-1]),Z=T+1<y.length?new J(y[T+1]):null,re=new J(y[T]),be=new F(re.buffer);let M=I,K=L,X=-1,ee=-1;for(let fe=0;fe<N.height;fe++)for(let ge=0;ge<N.width;ge++){const me=N.x+ge,Ie=N.y+fe,xe=Ie*I+me,Fe=be[xe];Fe==0||S[T-1].dispose==0&&H[xe]==Fe&&(Z==null||Z[4*xe+3]!=0)||(me<M&&(M=me),me>X&&(X=me),Ie<K&&(K=Ie),Ie>ee&&(ee=Ie))}X==-1&&(M=K=X=ee=0),V&&((1&M)==1&&M--,(1&K)==1&&K--),N={x:M,y:K,width:X-M+1,height:ee-K+1};const oe=S[T];oe.rect=N,oe.blend=1,oe.img=new Uint8Array(N.width*N.height*4),S[T-1].dispose==0?(t(j,I,L,oe.img,N.width,N.height,-N.x,-N.y,0),m(re,I,L,oe.img,N)):t(re,I,L,oe.img,N.width,N.height,-N.x,-N.y,0)}function m(y,I,L,S,T){t(y,I,L,S,T.width,T.height,-T.x,-T.y,2)}function p(y,I,L,S,T,N,V){const J=[];let F,j=[0,1,2,3,4];N!=-1?j=[N]:(I*S>5e5||L==1)&&(j=[0]),V&&(F={level:0});const H=jD;for(var Z=0;Z<j.length;Z++){for(let M=0;M<I;M++)w(T,y,M,S,L,j[Z]);J.push(H.deflate(T,F))}let re,be=1e9;for(Z=0;Z<J.length;Z++)J[Z].length<be&&(re=Z,be=J[Z].length);return J[re]}function w(y,I,L,S,T,N){const V=L*S;let J=V+L;if(y[J]=N,J++,N==0)if(S<500)for(var F=0;F<S;F++)y[J+F]=I[V+F];else y.set(new Uint8Array(I.buffer,V,S),J);else if(N==1){for(F=0;F<T;F++)y[J+F]=I[V+F];for(F=T;F<S;F++)y[J+F]=I[V+F]-I[V+F-T]+256&255}else if(L==0){for(F=0;F<T;F++)y[J+F]=I[V+F];if(N==2)for(F=T;F<S;F++)y[J+F]=I[V+F];if(N==3)for(F=T;F<S;F++)y[J+F]=I[V+F]-(I[V+F-T]>>1)+256&255;if(N==4)for(F=T;F<S;F++)y[J+F]=I[V+F]-n(I[V+F-T],0,0)+256&255}else{if(N==2)for(F=0;F<S;F++)y[J+F]=I[V+F]+256-I[V+F-S]&255;if(N==3){for(F=0;F<T;F++)y[J+F]=I[V+F]+256-(I[V+F-S]>>1)&255;for(F=T;F<S;F++)y[J+F]=I[V+F]+256-(I[V+F-S]+I[V+F-T]>>1)&255}if(N==4){for(F=0;F<T;F++)y[J+F]=I[V+F]+256-n(0,I[V+F-S],0)&255;for(F=T;F<S;F++)y[J+F]=I[V+F]+256-n(I[V+F-T],I[V+F-S],I[V+F-T-S])&255}}}function E(y,I){const L=new Uint8Array(y),S=L.slice(0),T=new Uint32Array(S.buffer),N=P(S,I),V=N[0],J=N[1],F=L.length,j=new Uint8Array(F>>2);let H;if(L.length<2e7)for(var Z=0;Z<F;Z+=4)H=_(V,re=L[Z]*(1/255),be=L[Z+1]*(1/255),M=L[Z+2]*(1/255),K=L[Z+3]*(1/255)),j[Z>>2]=H.ind,T[Z>>2]=H.est.rgba;else for(Z=0;Z<F;Z+=4){var re=L[Z]*.00392156862745098,be=L[Z+1]*(1/255),M=L[Z+2]*(1/255),K=L[Z+3]*(1/255);for(H=V;H.left;)H=A(H.est,re,be,M,K)<=0?H.left:H.right;j[Z>>2]=H.ind,T[Z>>2]=H.est.rgba}return{abuf:S.buffer,inds:j,plte:J}}function P(y,I,L){L==null&&(L=1e-4);const S=new Uint32Array(y.buffer),T={i0:0,i1:y.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=G(y,T.i0,T.i1),T.est=q(T.bst);const N=[T];for(;N.length<I;){let J=0,F=0;for(var V=0;V<N.length;V++)N[V].est.L>J&&(J=N[V].est.L,F=V);if(J<L)break;const j=N[F],H=k(y,S,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=H||j.i1<=H){j.est.L=0;continue}const Z={i0:j.i0,i1:H,bst:null,est:null,tdst:0,left:null,right:null};Z.bst=G(y,Z.i0,Z.i1),Z.est=q(Z.bst);const re={i0:H,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(re.bst={R:[],m:[],N:j.bst.N-Z.bst.N},V=0;V<16;V++)re.bst.R[V]=j.bst.R[V]-Z.bst.R[V];for(V=0;V<4;V++)re.bst.m[V]=j.bst.m[V]-Z.bst.m[V];re.est=q(re.bst),j.left=Z,j.right=re,N[F]=Z,N.push(re)}for(N.sort((J,F)=>F.bst.N-J.bst.N),V=0;V<N.length;V++)N[V].ind=V;return[T,N]}function _(y,I,L,S,T){if(y.left==null)return y.tdst=function(Z,re,be,M,K){const X=re-Z[0],ee=be-Z[1],oe=M-Z[2],fe=K-Z[3];return X*X+ee*ee+oe*oe+fe*fe}(y.est.q,I,L,S,T),y;const N=A(y.est,I,L,S,T);let V=y.left,J=y.right;N>0&&(V=y.right,J=y.left);const F=_(V,I,L,S,T);if(F.tdst<=N*N)return F;const j=_(J,I,L,S,T);return j.tdst<F.tdst?j:F}function A(y,I,L,S,T){const{e:N}=y;return N[0]*I+N[1]*L+N[2]*S+N[3]*T-y.eMq}function k(y,I,L,S,T,N){for(S-=4;L<S;){for(;U(y,L,T)<=N;)L+=4;for(;U(y,S,T)>N;)S-=4;if(L>=S)break;const V=I[L>>2];I[L>>2]=I[S>>2],I[S>>2]=V,L+=4,S-=4}for(;U(y,L,T)>N;)L-=4;return L+4}function U(y,I,L){return y[I]*L[0]+y[I+1]*L[1]+y[I+2]*L[2]+y[I+3]*L[3]}function G(y,I,L){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],N=L-I>>2;for(let V=I;V<L;V+=4){const J=y[V]*.00392156862745098,F=y[V+1]*(1/255),j=y[V+2]*(1/255),H=y[V+3]*(1/255);T[0]+=J,T[1]+=F,T[2]+=j,T[3]+=H,S[0]+=J*J,S[1]+=J*F,S[2]+=J*j,S[3]+=J*H,S[5]+=F*F,S[6]+=F*j,S[7]+=F*H,S[10]+=j*j,S[11]+=j*H,S[15]+=H*H}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:T,N}}function q(y){const{R:I}=y,{m:L}=y,{N:S}=y,T=L[0],N=L[1],V=L[2],J=L[3],F=S==0?0:1/S,j=[I[0]-T*T*F,I[1]-T*N*F,I[2]-T*V*F,I[3]-T*J*F,I[4]-N*T*F,I[5]-N*N*F,I[6]-N*V*F,I[7]-N*J*F,I[8]-V*T*F,I[9]-V*N*F,I[10]-V*V*F,I[11]-V*J*F,I[12]-J*T*F,I[13]-J*N*F,I[14]-J*V*F,I[15]-J*J*F],H=j,Z=R;let re=[Math.random(),Math.random(),Math.random(),Math.random()],be=0,M=0;if(S!=0)for(let X=0;X<16&&(re=Z.multVec(H,re),M=Math.sqrt(Z.dot(re,re)),re=Z.sml(1/M,re),!(X!=0&&Math.abs(M-be)<1e-9));X++)be=M;const K=[T*F,N*F,V*F,J*F];return{Cov:j,q:K,e:re,L:be,eMq255:Z.dot(Z.sml(255,K),re),eMq:Z.dot(re,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var R={multVec:(y,I)=>[y[0]*I[0]+y[1]*I[1]+y[2]*I[2]+y[3]*I[3],y[4]*I[0]+y[5]*I[1]+y[6]*I[2]+y[7]*I[3],y[8]*I[0]+y[9]*I[1]+y[10]*I[2]+y[11]*I[3],y[12]*I[0]+y[13]*I[1]+y[14]*I[2]+y[15]*I[3]],dot:(y,I)=>y[0]*I[0]+y[1]*I[1]+y[2]*I[2]+y[3]*I[3],sml:(y,I)=>[y*I[0],y*I[1],y*I[2],y*I[3]]};es.encode=function(I,L,S,T,N,V,J){T==null&&(T=0),J==null&&(J=!1);const F=h(I,L,S,T,[!1,!1,!1,0,J,!1]);return c(F,-1),l(F,L,S,N,V)},es.encodeLL=function(I,L,S,T,N,V,J,F){const j={ctype:0+(T==1?0:2)+(N==0?0:4),depth:V,frames:[]},H=(T+N)*V,Z=H*L;for(let re=0;re<I.length;re++)j.frames.push({rect:{x:0,y:0,width:L,height:S},img:new Uint8Array(I[re]),blend:0,dispose:1,bpp:Math.ceil(H/8),bpl:Math.ceil(Z/8)});return c(j,0,!0),l(j,L,S,J,F)},es.encode.compress=h,es.encode.dither=a,es.quantize=E,es.quantize.getKDtree=P,es.quantize.getNearest=_})();const xS={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,h=new ArrayBuffer(c),d=new DataView(h),m=1<<20;let p,w,E,P,_=m,A=0,k=0,U=0;function G(y){d.setUint16(k,y,!0),k+=2}function q(y){d.setUint32(k,y,!0),k+=4}function R(y){k+=y}G(19778),q(c),R(4),q(122),q(108),q(n),q(-r>>>0),G(1),G(32),q(3),q(l),q(2835),q(2835),R(8),q(16711680),q(65280),q(255),q(4278190080),q(1466527264),function y(){for(;A<r&&_>0;){for(P=122+A*a,p=0;p<i;)_--,w=o[U++],E=w>>>24,d.setUint32(P+p,w<<8|E),p+=4;A++}U<o.length?(_=m,setTimeout(y,xS._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Zr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},FD={[Zr.CHROME]:16384,[Zr.FIREFOX]:11180,[Zr.DESKTOP_SAFARI]:16384,[Zr.IE]:8192,[Zr.IOS]:4096,[Zr.ETC]:8192};const iy=typeof window<"u",IS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,om=iy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),MD=(iy||IS)&&(om&&om.getOriginalSymbol(window,"File")||typeof File<"u"&&File),TS=(iy||IS)&&(om&&om.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function sy(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function NS(t){return new Promise((e,n)=>{const r=new TS;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function PS(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Pl(){if(Pl.cachedResult!==void 0)return Pl.cachedResult;let t=Zr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Zr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Zr.IOS:/Safari/i.test(e)?t=Zr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Zr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Zr.IE),Pl.cachedResult=t,Pl.cachedResult}function kS(t,e){const n=Pl(),r=FD[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function ng(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function CS(t,e){const{width:n,height:r}=kS(t.width,t.height),[i,s]=ng(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function cp(){return cp.cachedResult!==void 0||(cp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),cp.cachedResult}function am(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=CS(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(h){try{throw h}catch(d){return r(d)}};try{let h;return NS(t).then(function(d){try{return h=d,PS(h).then(function(m){try{return i=m,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(m){return c(m)}},c)}catch(h){c(h)}}catch(h){return r(h)}};try{if(cp()||[Zr.DESKTOP_SAFARI,Zr.MOBILE_SAFARI].includes(Pl()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function lm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let c,h,d;return c=t.getContext("2d"),{data:h}=c.getImageData(0,0,t.width,t.height),d=es.encode([h.buffer],t.width,t.height,4096*i),a=new Blob([d],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(h=>xS.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,c.call(this)}catch(d){return o(d)}}).bind(this),o);{let h=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(d){try{return a=d,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let d;return d=t.toDataURL(e,i),sy(d,n,r).then((function(m){try{return a=m,h.call(this)}catch(p){return o(p)}}).bind(this),o)}}}function l(){return s(a)}})}function Ps(t){t.width=0,t.height=0}function Qu(){return new Promise(function(t,e){let n,r,i,s;return Qu.cachedResult!==void 0?t(Qu.cachedResult):sy("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,am(n).then(function(a){try{return r=a[1],lm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Ps(r),am(i).then(function(c){try{return s=c[0],Qu.cachedResult=s.width===1&&s.height===2,t(Qu.cachedResult)}catch(h){return e(h)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function LS(t){return new Promise((e,n)=>{const r=new TS;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const h=s.getUint16(a,c);a+=2;for(let d=0;d<h;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function RS(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=ng(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Ps(t)),o}function OS(t,e){const{width:n}=t,{height:r}=t,[i,s]=ng(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Ps(t),i}function Vw(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,h,d,m,p,w,E,P,_,A,k,U,G,q,R,y;function I(S=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=S,e.onProgress(Math.min(s,100))}function L(S){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(S,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),am(t,e).then((function(S){try{return[,l]=S,I(),c=RS(l,e),I(),new Promise(function(T,N){var V;if(!(V=e.exifOrientation))return LS(t).then((function(F){try{return V=F,J.call(this)}catch(j){return N(j)}}).bind(this),N);function J(){return T(V)}return J.call(this)}).then((function(T){try{return h=T,I(),Qu().then((function(N){try{return d=N?c:OS(c,h),I(),m=e.initialQuality||1,p=e.fileType||t.type,lm(d,p,t.name,t.lastModified,m).then((function(V){try{{let F=function(){if(o--&&(k>a||k>_)){let H,Z;return H=y?.95*R.width:R.width,Z=y?.95*R.height:R.height,[G,q]=ng(H,Z),q.drawImage(R,0,0,H,Z),m*=p==="image/png"?.85:.95,lm(G,p,t.name,t.lastModified,m).then(function(re){try{return U=re,Ps(R),R=G,k=U.size,L(Math.min(99,Math.floor((A-k)/(A-a)*100))),F}catch(be){return i(be)}},i)}return[1]},j=function(){return Ps(R),Ps(G),Ps(c),Ps(d),Ps(l),L(100),r(U)};if(w=V,I(),E=w.size>a,P=w.size>t.size,!E&&!P)return L(100),r(w);var J;return _=t.size,A=w.size,k=A,R=d,y=!e.alwaysKeepResolution&&E,(J=(function(H){for(;H;){if(H.then)return void H.then(J,i);try{if(H.pop){if(H.length)return H.pop()?j.call(this):H;H=F}else H=H.call(this)}catch(Z){return i(Z)}}}).bind(this))(F)}}catch(F){return i(F)}}).bind(this),i)}catch(V){return i(V)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)})}const UD=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let y1;function VD(t,e){return new Promise((n,r)=>{y1||(y1=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(UD));const i=new Worker(y1);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function or(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof MD))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return Vw(t,i).then((function(p){try{return s=p,m.call(this)}catch(w){return r(w)}}).bind(this),r);var h=(function(){try{return m.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return Vw(t,i).then(function(w){try{return s=w,h()}catch(E){return r(E)}},r)}catch(w){return r(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",VD(t,i).then(function(p){try{return s=p,h()}catch{return d()}},d)}catch{d()}function m(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=SS(t,s))}catch{}return n(s)}})}or.getDataUrlFromFile=NS,or.getFilefromDataUrl=sy,or.loadImage=PS,or.drawImageInCanvas=CS,or.drawFileInCanvas=am,or.canvasToFile=lm,or.getExifOrientation=LS,or.handleMaxWidthOrHeight=RS,or.followExifOrientation=OS,or.cleanupCanvasMemory=Ps,or.isAutoOrientationInBrowser=Qu,or.approximateBelowMaximumCanvasSizeOfBrowser=kS,or.copyExifWithoutOrientation=SS,or.getBrowserName=Pl,or.version="2.0.2";const BD={"image/jpeg":".jpg","image/jpg":".jpg","image/png":".png","application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","text/plain":".txt","text/csv":".csv"},zD=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]},oy=t=>BD[t]||"",qD=()=>`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,$D=t=>t.replace(/[^a-zA-Z0-9._-]/g,"_").replace(/_{2,}/g,"_").toLowerCase(),HD=(t,e,n,r)=>{const i=$D(t.name);oy(t.type)||`${t.name.split(".").pop()}`;const s=`${r}_${i}`,o=`projects/${e}/${n}/${s}`,a=Xv(ey,o);return{uploadTask:QE(a,t,{contentType:t.type}),storagePath:o,filename:s}},WD=async(t,e,n,r)=>{if(!t)return null;const i="thumbnail",s=oy(t.type),o=`${r}_${i}${s}`,a=`projects/${e}/${n}/${o}`,l=Xv(ey,a);try{return await QE(l,t),{thumbnailURL:await YE(l),thumbnailPath:a}}catch(c){return console.error("Thumbnail upload error:",c),null}},Bw=async t=>{try{const e=Xv(ey,t);return await aO(e),{success:!0}}catch(e){return console.error("Storage delete error:",e),{success:!1,error:e.message}}},GD=async t=>{try{return{success:!0,fileId:(await Ym(zs(Tn,"files"),{...t,uploadedAt:new Date().toISOString(),createdAt:new Date().toISOString()})).id}}catch(e){return console.error("Firestore save error:",e),{success:!1,error:e.message}}},KD=async t=>{try{const e=SE(zs(Tn,"files"),xE("sagsnummer","==",t)),n=await Uc(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),{success:!0,files:r}}catch(e){return console.error("Firestore get files error:",e),{success:!1,error:e.message,files:[]}}},QD=(t,e)=>t.filter(n=>n.fileCategory===e),YD=async t=>{try{return await Qm(yi(Tn,"files",t)),{success:!0}}catch(e){return console.error("Firestore delete error:",e),{success:!1,error:e.message}}},XD=async({file:t,thumbnail:e,sagsnummer:n,projectId:r,projectName:i,category:s,uploadedBy:o,uploadedByUID:a,originalSize:l,compressedSize:c,isCompressed:h,description:d="",onProgress:m})=>{const p=qD();try{const{uploadTask:w,storagePath:E,filename:P}=HD(t,n,s,p);return new Promise((_,A)=>{w.on("state_changed",k=>{const U=k.bytesTransferred/k.totalBytes*100;m&&m(U)},k=>{console.error("Upload error:",k),A({success:!1,error:k.message})},async()=>{try{const k=await YE(w.snapshot.ref);let U=null;e&&(U=await WD(e,n,s,p));const G={fileId:p,fileName:t.name,originalFileName:t.name,fileType:t.type,fileExtension:oy(t.type),fileCategory:s,fileSizeOriginal:l,fileSizeCompressed:c,isCompressed:h,compressionRatio:h?Math.round((1-c/l)*100)+"%":null,sagsnummer:n,projectId:r,projectName:i,fileURL:k,storagePath:E,thumbnailURL:(U==null?void 0:U.thumbnailURL)||null,thumbnailPath:(U==null?void 0:U.thumbnailPath)||null,uploadedBy:o,uploadedByUID:a,description:d.trim(),tags:[]},q=await GD(G);q.success?_({success:!0,fileId:q.fileId,fileData:{...G,id:q.fileId}}):A(q)}catch(k){A({success:!1,error:k.message})}})})}catch(w){return console.error("Upload process error:",w),{success:!1,error:w.message}}},JD=async t=>{try{return await Bw(t.storagePath),t.thumbnailPath&&await Bw(t.thumbnailPath),await YD(t.id),{success:!0}}catch(e){return console.error("Delete file error:",e),{success:!1,error:e.message}}};function ZD({sagsnummer:t,projectId:e,projectName:n,uploadedBy:r,uploadedByUID:i,onUploadComplete:s}){const[o,a]=_e.useState(!1),[l,c]=_e.useState(0),[h,d]=_e.useState(0),[m,p]=_e.useState(!1),[w,E]=_e.useState(null),[P,_]=_e.useState(""),[A,k]=_e.useState(""),U=_e.useRef(null),{showSuccess:G,showError:q}=xf(),R=V=>{var F;const J=(F=V.target.files)==null?void 0:F[0];J&&(E(J),k(""),p(!0))},y=V=>{var F;V.preventDefault();const J=(F=V.dataTransfer.files)==null?void 0:F[0];J&&(E(J),k(""),p(!0))},I=V=>{V.preventDefault()},L=V=>{_(V)},S=async()=>{if(!P){q("Vlg venligst en kategori");return}p(!1),w&&(await N(w,P,A),E(null),_(""),k(""))},T=async(V,J)=>{try{const j=await or(V,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,onProgress:J}),Z=await or(V,{maxSizeMB:.1,maxWidthOrHeight:200,useWebWorker:!0});return{compressed:j,thumbnail:Z}}catch(F){return console.error("Image compression error:",F),{compressed:V,thumbnail:null}}},N=async(V,J,F)=>{if(V.size>10485760){q("Filen er for stor. Maksimum 10MB tilladt.");return}a(!0),c(0),d(0);try{let H=V,Z=V.size,re=V.size,be=!1,M=null;if(V.type.startsWith("image/")){const X=await T(V,ee=>{d(ee)});X.compressed&&(H=X.compressed,re=X.compressed.size,be=!0),X.thumbnail&&(M=X.thumbnail),d(100)}const K=await XD({file:H,thumbnail:M,sagsnummer:t,projectId:e,projectName:n,category:J,uploadedBy:r,uploadedByUID:i,originalSize:Z,compressedSize:re,isCompressed:be,description:F,onProgress:X=>{c(Math.round(X))}});K.success?(G("Fil uploaded!"),s(K.fileData),U.current&&(U.current.value="")):q("Upload fejlede")}catch(H){console.error("Upload error:",H),q("Upload fejlede - prv igen")}finally{a(!1),d(0),c(0)}};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"file-upload-area-compact",children:[O.jsxs("div",{className:"upload-dropzone-compact",onDrop:y,onDragOver:I,onClick:()=>{var V;return(V=U.current)==null?void 0:V.click()},children:[O.jsx("span",{className:"upload-icon-compact",children:""}),O.jsx("span",{className:"upload-text-compact",children:"Drag & drop eller klik for at uploade fil"})]}),O.jsx("input",{ref:U,type:"file",onChange:R,style:{display:"none"}}),o&&O.jsxs("div",{className:"upload-progress-compact",children:[h>0&&h<100&&O.jsxs(O.Fragment,{children:[O.jsxs("span",{className:"progress-text-compact",children:["Komprimerer... ",h,"%"]}),O.jsx("div",{className:"progress-bar-container",children:O.jsx("div",{className:"progress-bar",style:{width:`${h}%`}})})]}),l>0&&O.jsxs(O.Fragment,{children:[O.jsxs("span",{className:"progress-text-compact",children:["Uploader... ",l,"%"]}),O.jsx("div",{className:"progress-bar-container",children:O.jsx("div",{className:"progress-bar",style:{width:`${l}%`}})})]})]})]}),m&&O.jsx("div",{className:"confirm-overlay",children:O.jsxs("div",{className:"confirm-dialog file-upload-dialog",children:[O.jsxs("div",{className:"confirm-header",children:[O.jsx("h3",{children:"Upload fil"}),O.jsx("button",{className:"modal-close",onClick:()=>{p(!1),E(null),_(""),k("")},children:""})]}),O.jsxs("div",{className:"confirm-body",children:[O.jsx("div",{className:"file-info",children:O.jsxs("p",{className:"file-name",children:[" ",w==null?void 0:w.name]})}),O.jsxs("div",{className:"form-group",style:{marginTop:"16px"},children:[O.jsx("label",{children:"Vlg kategori *"}),O.jsxs("div",{className:"category-selection-compact",children:[O.jsxs("button",{type:"button",className:`category-btn-compact ${P==="bilag"?"selected":""}`,onClick:()=>L("bilag"),children:[O.jsx("span",{className:"category-icon",children:""}),O.jsx("span",{children:"Bilag"})]}),O.jsxs("button",{type:"button",className:`category-btn-compact ${P==="billeder"?"selected":""}`,onClick:()=>L("billeder"),children:[O.jsx("span",{className:"category-icon",children:""}),O.jsx("span",{children:"Billeder"})]}),O.jsxs("button",{type:"button",className:`category-btn-compact ${P==="dokumenter"?"selected":""}`,onClick:()=>L("dokumenter"),children:[O.jsx("span",{className:"category-icon",children:""}),O.jsx("span",{children:"Dokumenter"})]})]})]}),O.jsxs("div",{className:"form-group",style:{marginTop:"16px"},children:[O.jsx("label",{htmlFor:"fileNote",children:"Kommentar/Note (valgfri)"}),O.jsx("textarea",{id:"fileNote",value:A,onChange:V=>k(V.target.value),placeholder:"Tilfj en note eller kommentar til filen...",rows:"3",maxLength:"500",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}}),O.jsxs("small",{className:"form-hint",children:[A.length,"/500 tegn"]})]})]}),O.jsxs("div",{className:"confirm-footer",children:[O.jsx("button",{className:"btn-secondary",onClick:()=>{p(!1),E(null),_(""),k("")},children:"Annuller"}),O.jsx("button",{className:"btn-primary",onClick:S,disabled:!P,children:"Upload fil"})]})]})})]})}function _1({category:t,files:e,onPreview:n,onDelete:r,onDownload:i}){const o=(()=>{switch(t){case"bilag":return{icon:"",title:"Bilag",emptyText:"Ingen bilag endnu"};case"billeder":return{icon:"",title:"Billeder",emptyText:"Ingen billeder endnu"};case"dokumenter":return{icon:"",title:"Dokumenter",emptyText:"Ingen dokumenter endnu"};default:return{icon:"",title:"Filer",emptyText:"Ingen filer endnu"}}})();return O.jsxs("div",{className:"file-category-column",children:[O.jsxs("div",{className:"category-header",children:[O.jsx("span",{className:"category-icon",children:o.icon}),O.jsx("h3",{children:o.title}),O.jsx("span",{className:"category-count",children:e.length})]}),O.jsx("div",{className:"files-list",children:e.length===0?O.jsxs("div",{className:"empty-state-file",children:[O.jsx("div",{className:"empty-icon",children:o.icon}),O.jsx("p",{children:o.emptyText})]}):e.map(a=>{var l;return O.jsxs("div",{className:"file-item",children:[O.jsx("div",{className:"file-preview",onClick:()=>n(a),children:a.thumbnailURL?O.jsx("img",{src:a.thumbnailURL,alt:a.fileName}):O.jsx("div",{className:"file-icon",children:(l=a.fileType)!=null&&l.startsWith("image/")?"":""})}),O.jsxs("div",{className:"file-details",children:[O.jsx("div",{className:"file-name",title:a.fileName,children:a.fileName}),a.description&&O.jsxs("div",{className:"file-note",title:a.description,children:[" ",a.description]}),O.jsxs("div",{className:"file-meta",children:[O.jsx("span",{className:"file-date",children:up(a.uploadedAt)}),a.fileSizeCompressed&&O.jsx("span",{className:"file-size",children:zD(a.fileSizeCompressed)})]}),a.uploadedBy&&O.jsxs("div",{className:"file-uploader",children:[" ",a.uploadedBy]})]}),O.jsxs("div",{className:"file-actions",children:[O.jsx("button",{className:"action-btn",onClick:()=>n(a),title:"Vis",children:""}),O.jsx("button",{className:"action-btn",onClick:()=>i(a),title:"Download",children:""}),O.jsx("button",{className:"action-btn danger",onClick:()=>r(a),title:"Slet",children:""})]})]},a.id)})})]})}function ej({file:t,onClose:e,onNext:n,onPrev:r,hasNext:i,hasPrev:s}){return _e.useEffect(()=>{const a=l=>{l.key==="Escape"&&e(),l.key==="ArrowLeft"&&s&&r(),l.key==="ArrowRight"&&i&&n()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,n,r,i,s]),_e.useEffect(()=>{if(!t)return;const a=t.fileType==="application/pdf",l=t.fileType.startsWith("image/");if(a){window.open(t.fileURL,"_blank"),e();return}l||e()},[t,e]),!t||!t.fileType.startsWith("image/")?null:O.jsx("div",{className:"preview-overlay",onClick:e,children:O.jsxs("div",{className:"preview-modal",onClick:a=>a.stopPropagation(),children:[O.jsxs("div",{className:"preview-header",children:[O.jsx("span",{className:"preview-filename",children:t.fileName}),O.jsx("button",{className:"preview-close",onClick:e,"aria-label":"Luk",children:""})]}),O.jsx("div",{className:"preview-content",children:O.jsx("img",{src:t.fileURL,alt:t.fileName,className:"preview-image"})}),O.jsxs("div",{className:"preview-navigation",children:[s&&O.jsx("button",{className:"preview-nav-btn preview-prev",onClick:r,"aria-label":"Forrige",children:""}),i&&O.jsx("button",{className:"preview-nav-btn preview-next",onClick:n,"aria-label":"Nste",children:""})]})]})})}function tj({project:t,currentUser:e}){const[n,r]=_e.useState([]),[i,s]=_e.useState(!0),[o,a]=_e.useState(""),[l,c]=_e.useState("newest"),[h,d]=_e.useState(null),[m,p]=_e.useState(0),[w,E]=_e.useState(""),{showSuccess:P,showError:_,showConfirm:A}=xf();_e.useEffect(()=>{k()},[t.projectNumber]);const k=async()=>{s(!0);try{const F=await KD(t.projectNumber);F.success?r(F.files):_("Kunne ikke indlse filer")}catch(F){console.error("Error loading files:",F),_("Kunne ikke indlse filer")}finally{s(!1)}},U=F=>{r(j=>[...j,F])},G=async F=>{if(await A({title:"Slet fil?",message:`Er du sikker p at du vil slette "${F.fileName}"? Denne handling kan ikke fortrydes.`,confirmText:"Slet fil",cancelText:"Annuller",type:"danger"}))try{(await JD(F)).success?(r(Z=>Z.filter(re=>re.id!==F.id)),P("Fil slettet")):_("Kunne ikke slette fil")}catch(H){console.error("Delete error:",H),_("Kunne ikke slette fil")}},q=F=>{window.open(F.fileURL,"_blank")},R=F=>{const j=F.fileCategory,Z=S(j).findIndex(re=>re.id===F.id);d(F),p(Z),E(j)},y=()=>{const F=S(w);if(m<F.length-1){const j=m+1;d(F[j]),p(j)}},I=()=>{if(m>0){const F=S(w),j=m-1;d(F[j]),p(j)}},L=()=>{let F=[...n];if(o.trim()){const j=o.toLowerCase();F=F.filter(H=>{var Z;return H.fileName.toLowerCase().includes(j)||((Z=H.description)==null?void 0:Z.toLowerCase().includes(j))})}return F.sort((j,H)=>l==="newest"?new Date(H.uploadedAt)-new Date(j.uploadedAt):l==="oldest"?new Date(j.uploadedAt)-new Date(H.uploadedAt):l==="name"?j.fileName.localeCompare(H.fileName):0),F},S=F=>{const j=L();return QD(j,F)};if(i)return O.jsxs("div",{className:"loading-text",children:[O.jsx("span",{className:"loading-spinner-dark"}),"Indlser filer..."]});const T=S("bilag"),N=S("billeder"),V=S("dokumenter"),J=w?S(w):[];return O.jsxs("div",{className:"files-tab",children:[O.jsx(ZD,{sagsnummer:t.projectNumber,projectId:t.id,projectName:t.name,uploadedBy:e,uploadedByUID:"user123",onUploadComplete:U}),O.jsxs("div",{className:"files-controls",children:[O.jsx("input",{type:"text",placeholder:"Sg efter filnavn...",value:o,onChange:F=>a(F.target.value),className:"search-input"}),O.jsxs("select",{value:l,onChange:F=>c(F.target.value),className:"filter-select",children:[O.jsx("option",{value:"newest",children:"Nyeste frst"}),O.jsx("option",{value:"oldest",children:"ldste frst"}),O.jsx("option",{value:"name",children:"Navn (A-Z)"})]})]}),O.jsxs("div",{className:"files-columns",children:[O.jsx(_1,{category:"bilag",files:T,onPreview:R,onDelete:G,onDownload:q}),O.jsx(_1,{category:"billeder",files:N,onPreview:R,onDelete:G,onDownload:q}),O.jsx(_1,{category:"dokumenter",files:V,onPreview:R,onDelete:G,onDownload:q})]}),O.jsx(ej,{file:h,onClose:()=>d(null),onNext:y,onPrev:I,hasNext:m<J.length-1,hasPrev:m>0})]})}function nj(){const{id:t}=AN(),e=Lc(),[n,r]=_e.useState(null),[i,s]=_e.useState([]),[o,a]=_e.useState([]),[l,c]=_e.useState(!0),[h,d]=_e.useState(!1),[m,p]=_e.useState(!1),[w,E]=_e.useState(null),[P,_]=_e.useState(450),[A,k]=_e.useState("overblik");_e.useEffect(()=>{U(),G(),q()},[t]);const U=async()=>{try{const j=await $v(yi(Tn,"projects",t));j.exists()?r({id:j.id,...j.data()}):(alert("Sag ikke fundet"),e("/sager"))}catch(j){console.error("Error loading project:",j),alert("Der opstod en fejl ved indlsning af sag.")}finally{c(!1)}},G=async()=>{try{const j=await bS(t);s(j)}catch(j){console.error("Error loading time entries:",j)}},q=async()=>{try{const j=await Uc(zs(Tn,"employees")),H=[];j.forEach(Z=>{H.push({id:Z.id,...Z.data()})}),H.sort((Z,re)=>Z.name.localeCompare(re.name)),a(H)}catch(j){console.error("Error loading employees:",j)}},R=()=>{d(!0)},y=async j=>{try{await em(yi(Tn,"projects",t),{...j,updatedAt:new Date().toISOString(),updatedBy:"Admin"}),d(!1),await U()}catch(H){console.error("Error updating project:",H),alert("Der opstod en fejl ved opdatering af sag.")}},I=()=>{E(null),p(!0)},L=j=>{E(j),p(!0)},S=async j=>{if(window.confirm("Er du sikker p, at du vil slette denne timeregistrering?"))try{await Qm(yi(Tn,"timeEntries",j.id)),await G()}catch(H){console.error("Error deleting time entry:",H),alert("Der opstod en fejl ved sletning af timeregistrering.")}},T=async j=>{try{const H={...j,projectId:t,duration:j.duration,hours:j.duration,hourlyRate:j.rate||0,employeeName:j.employeeName||"Ikke angivet",activity:j.activity,billable:j.billable,rate:j.rate||0};w?await em(yi(Tn,"timeEntries",w.id),{...H,updatedAt:new Date().toISOString()}):await Ym(zs(Tn,"timeEntries"),{...H,createdAt:new Date().toISOString(),createdBy:"Admin"}),p(!1),await G()}catch(H){console.error("Error saving time entry:",H),alert("Der opstod en fejl ved gemning af timeregistrering.")}},N=j=>j==="fixed-price"?"Fast Pris":"Tid & Materiale";if(l)return O.jsx("div",{children:O.jsx("div",{className:"page-header",children:O.jsx("h1",{children:"Indlser..."})})});if(!n)return null;const V=wS(i),J=xD(i),F=ID(i);return O.jsxs("div",{children:[O.jsxs("div",{className:"page-header",children:[O.jsx("button",{className:"btn-back",onClick:()=>e("/sager"),children:" Tilbage til oversigt"}),O.jsx("h1",{children:n.name}),O.jsxs("p",{children:["Sagsnr. ",n.projectNumber]})]}),O.jsxs("div",{className:"sag-tabs",children:[O.jsx("button",{className:`sag-tab ${A==="overblik"?"active":""}`,onClick:()=>k("overblik"),children:"Overblik"}),O.jsx("button",{className:`sag-tab ${A==="timeregistrering"?"active":""}`,onClick:()=>k("timeregistrering"),children:"Timeregistrering"}),O.jsx("button",{className:`sag-tab ${A==="filer"?"active":""}`,onClick:()=>k("filer"),children:"Filer"})]}),O.jsxs("div",{className:"sag-tab-content",children:[A==="overblik"&&O.jsx("div",{className:"overblik-tab",children:O.jsxs("div",{className:"sag-grid-4col",children:[O.jsxs("div",{className:"sag-card",children:[O.jsxs("div",{className:"card-header",children:[O.jsx("h2",{children:"Sagsoplysninger"}),O.jsx("button",{className:"btn-secondary btn-small",onClick:R,children:"Redigr sag"})]}),O.jsx("div",{className:"card-body",children:O.jsxs("div",{className:"info-grid",children:[O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Status:"}),O.jsx(ES,{status:n.status})]}),O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Type:"}),O.jsx("span",{className:"info-value",children:N(n.type)})]}),n.type==="fixed-price"&&O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Fast pris:"}),O.jsx("span",{className:"info-value",children:vh(n.fixedPrice)})]}),O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Oprettet:"}),O.jsx("span",{className:"info-value",children:up(n.createdAt)})]}),O.jsxs("div",{className:"info-item full-width",children:[O.jsx("span",{className:"info-label",children:"Beskrivelse:"}),O.jsx("p",{className:"info-value",children:n.description||"Ingen beskrivelse"})]})]})})]}),O.jsxs("div",{className:"sag-card",children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:"Kundeoplysninger"})}),O.jsx("div",{className:"card-body",children:O.jsxs("div",{className:"info-grid",children:[O.jsxs("div",{className:"info-item full-width",children:[O.jsx("span",{className:"info-label",children:"Navn:"}),O.jsx("span",{className:"info-value",children:n.customerName})]}),n.customerPhone&&O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Telefon:"}),O.jsx("a",{href:`tel:${n.customerPhone}`,className:"info-link",children:PD(n.customerPhone)})]}),n.customerEmail&&O.jsxs("div",{className:"info-item",children:[O.jsx("span",{className:"info-label",children:"Email:"}),O.jsx("a",{href:`mailto:${n.customerEmail}`,className:"info-link",children:n.customerEmail})]}),n.customerAddress&&O.jsxs("div",{className:"info-item full-width",children:[O.jsx("span",{className:"info-label",children:"Adresse:"}),O.jsx("a",{href:kD(n.customerAddress),target:"_blank",rel:"noopener noreferrer",className:"info-link",children:n.customerAddress})]})]})})]}),O.jsxs("div",{className:"sag-card",children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:"Timestatistik"})}),O.jsxs("div",{className:"card-body",children:[O.jsxs("div",{className:"stats-grid-vertical",children:[O.jsxs("div",{className:"stat-item",children:[O.jsx("div",{className:"stat-value",children:Pu(V)}),O.jsx("div",{className:"stat-label",children:"Totale timer"})]}),O.jsxs("div",{className:"stat-item",children:[O.jsx("div",{className:"stat-value",children:Pu(J)}),O.jsx("div",{className:"stat-label",children:"Fakturerbare timer"})]}),O.jsxs("div",{className:"stat-item",children:[O.jsx("div",{className:"stat-value",children:vh(F)}),O.jsx("div",{className:"stat-label",children:"Total vrdi"})]})]}),n.type==="fixed-price"&&n.fixedPrice>0&&O.jsxs("div",{className:"progress-section",children:[O.jsxs("div",{className:"progress-label",children:[O.jsx("span",{children:"Forbrug"}),O.jsxs("span",{children:[Math.round(F/n.fixedPrice*100),"%"]})]}),O.jsx("div",{className:"progress-bar-container",children:O.jsx("div",{className:"progress-bar",style:{width:`${Math.min(F/n.fixedPrice*100,100)}%`,background:F>n.fixedPrice?"#e74c3c":"#27ae60"}})})]})]})]}),O.jsxs("div",{className:"sag-card",children:[O.jsx("div",{className:"card-header",children:O.jsx("h2",{children:"Seneste timer"})}),O.jsx("div",{className:"card-body",children:i.length===0?O.jsx("div",{className:"empty-state-small",children:O.jsx("p",{children:"Ingen timeregistreringer"})}):O.jsx("div",{className:"recent-entries-list",children:i.slice(0,5).map(j=>O.jsxs("div",{className:"recent-entry-item",children:[O.jsx("div",{className:"recent-entry-date",children:up(j.date)}),O.jsx("div",{className:"recent-entry-name",children:j.employeeName||"Ikke angivet"}),O.jsx("div",{className:"recent-entry-hours",children:Pu(j.duration||j.hours||0)})]},j.id))})})]})]})}),A==="timeregistrering"&&O.jsx("div",{className:"timeregistrering-tab",children:O.jsxs("div",{className:"sag-card",children:[O.jsxs("div",{className:"card-header",children:[O.jsx("h2",{children:"Timeregistreringer"}),O.jsx("button",{className:"btn-primary",onClick:I,children:"+ Tilfj timer"})]}),O.jsx("div",{className:"card-body",children:i.length===0?O.jsxs("div",{className:"empty-state",children:[O.jsx("p",{children:"Ingen timeregistreringer endnu"}),O.jsx("button",{className:"btn-primary",onClick:I,children:"Tilfj frste timeregistrering"})]}):O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"time-summary",children:[O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{className:"summary-label",children:"Totale timer:"}),O.jsx("span",{className:"summary-value",children:Pu(V)})]}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{className:"summary-label",children:"Fakturerbare timer:"}),O.jsx("span",{className:"summary-value",children:Pu(J)})]}),O.jsxs("div",{className:"summary-item",children:[O.jsx("span",{className:"summary-label",children:"Total vrdi:"}),O.jsx("span",{className:"summary-value",children:vh(F)})]})]}),O.jsxs("table",{className:"time-entries-table",children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Dato"}),O.jsx("th",{children:"Medarbejder"}),O.jsx("th",{children:"Timer"}),O.jsx("th",{children:"Timepris"}),O.jsx("th",{children:"Fakturerbar"}),O.jsx("th",{children:"Vrdi"}),O.jsx("th",{children:"Beskrivelse"}),O.jsx("th",{children:"Handlinger"})]})}),O.jsx("tbody",{children:i.map(j=>O.jsxs("tr",{children:[O.jsx("td",{children:up(j.date)}),O.jsx("td",{children:j.employeeName||"Ikke angivet"}),O.jsx("td",{children:Pu(j.duration||j.hours||0)}),O.jsx("td",{children:vh(j.rate||j.hourlyRate||0)}),O.jsx("td",{children:j.billable?"":""}),O.jsx("td",{children:j.billable?vh((j.duration||j.hours||0)*(j.rate||j.hourlyRate||0)):"-"}),O.jsx("td",{children:j.activity||j.description||"-"}),O.jsxs("td",{children:[O.jsx("button",{className:"btn-icon",onClick:()=>L(j),title:"Redigr",children:""}),O.jsx("button",{className:"btn-icon",onClick:()=>S(j),title:"Slet",children:""})]})]},j.id))})]})]})})]})}),A==="filer"&&O.jsx(tj,{project:n,currentUser:"Admin"})]}),h&&O.jsx(AS,{isOpen:h,project:n,onClose:()=>d(!1),onSave:y}),m&&O.jsx(LD,{timeEntry:w,defaultRate:P,employees:o,onClose:()=>p(!1),onSave:T})]})}function rj(){const t=Lc(),e=async()=>{try{await jk(Zv),t("/login")}catch(n){console.error("Error logging out:",n),alert("Der opstod en fejl ved logud.")}};return O.jsxs("div",{className:"app-layout",children:[O.jsxs("aside",{className:"sidebar",children:[O.jsxs("div",{className:"sidebar-header",children:[O.jsx("img",{src:"/logo_white.png",alt:"Piblo Logo",className:"sidebar-logo",onError:n=>{n.target.style.display="none",n.target.nextElementSibling.style.display="block"}}),O.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 15px",display:"none",alignItems:"center",justifyContent:"center",fontSize:"40px"},children:""}),O.jsx("div",{className:"sidebar-title",children:"Piblo"})]}),O.jsxs("nav",{className:"sidebar-nav",children:[O.jsx(Kg,{to:"/sager",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Sager"}),O.jsx(Kg,{to:"/timeregistrering",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Timeregistrering"}),O.jsx(Kg,{to:"/indstillinger",className:({isActive:n})=>`nav-item ${n?"active":""}`,children:"Indstillinger"})]}),O.jsx("div",{className:"sidebar-footer",children:O.jsx("button",{className:"btn-logout",onClick:e,children:"Log ud"})})]}),O.jsx("main",{className:"main-content",children:O.jsx(FN,{})})]})}function ij(){const[t,e]=_e.useState(null),[n,r]=_e.useState(!0);return _e.useEffect(()=>{const i=Dk(Zv,s=>{e(s),r(!1)});return()=>i()},[]),{user:t,loading:n}}function sj({children:t}){const{user:e,loading:n}=ij();return n?O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"18px",color:"#7f8c8d"},children:"Indlser..."}):e?t:O.jsx(m0,{to:"/login",replace:!0})}function oj(){return O.jsxs(e6,{children:[O.jsx(GN,{children:O.jsxs(UN,{children:[O.jsx(ho,{path:"/login",element:O.jsx(dO,{})}),O.jsxs(ho,{path:"/",element:O.jsx(sj,{children:O.jsx(rj,{})}),children:[O.jsx(ho,{index:!0,element:O.jsx(m0,{to:"/timeregistrering",replace:!0})}),O.jsx(ho,{path:"timeregistrering",element:O.jsx(bD,{})}),O.jsx(ho,{path:"sager",element:O.jsx(CD,{})}),O.jsx(ho,{path:"sager/:id",element:O.jsx(nj,{})}),O.jsx(ho,{path:"indstillinger",element:O.jsx(ED,{})})]}),O.jsx(ho,{path:"*",element:O.jsx(m0,{to:"/",replace:!0})})]})}),O.jsx(i6,{}),O.jsx(s6,{})]})}w1.createRoot(document.getElementById("root")).render(O.jsx(Jw.StrictMode,{children:O.jsx(oj,{})}));export{Wt as _,aj as c,_x as g};
